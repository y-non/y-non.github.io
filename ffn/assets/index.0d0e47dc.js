const Gp=function(){const t=document.createElement("link").relList;return t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}(),gh={},Yp="/ffn/",zi=function(t,n){return!n||n.length===0?t():Promise.all(n.map(s=>{if(s=`${Yp}${s}`,s in gh)return;gh[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${l}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":Gp,a||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),a)return new Promise((h,g)=>{d.addEventListener("load",h),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function pf(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Tn={},oa=[],Ai=()=>{},Xp=()=>!1,Qu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),wf=e=>e.startsWith("onUpdate:"),er=Object.assign,yf=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Kp=Object.prototype.hasOwnProperty,mn=(e,t)=>Kp.call(e,t),It=Array.isArray,aa=e=>Ml(e)==="[object Map]",W1=e=>Ml(e)==="[object Set]",Zp=e=>Ml(e)==="[object RegExp]",Ut=e=>typeof e=="function",jn=e=>typeof e=="string",fs=e=>typeof e=="symbol",Ln=e=>e!==null&&typeof e=="object",G1=e=>(Ln(e)||Ut(e))&&Ut(e.then)&&Ut(e.catch),Y1=Object.prototype.toString,Ml=e=>Y1.call(e),Qp=e=>Ml(e).slice(8,-1),X1=e=>Ml(e)==="[object Object]",xf=e=>jn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ll=pf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ju=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Jp=/-(\w)/g,pi=Ju(e=>e.replace(Jp,(t,n)=>n?n.toUpperCase():"")),ew=/\B([A-Z])/g,To=Ju(e=>e.replace(ew,"-$1").toLowerCase()),ec=Ju(e=>e.charAt(0).toUpperCase()+e.slice(1)),Hc=Ju(e=>e?`on${ec(e)}`:""),Fs=(e,t)=>!Object.is(e,t),ul=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},K1=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},tw=e=>{const t=parseFloat(e);return isNaN(t)?e:t},nw=e=>{const t=jn(e)?Number(e):NaN;return isNaN(t)?e:t};let mh;const tc=()=>mh||(mh=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function qs(e){if(It(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],a=jn(s)?ow(s):qs(s);if(a)for(const l in a)t[l]=a[l]}return t}else if(jn(e)||Ln(e))return e}const rw=/;(?![^(]*\))/g,iw=/:([^]+)/,sw=/\/\*[^]*?\*\//g;function ow(e){const t={};return e.replace(sw,"").split(rw).forEach(n=>{if(n){const s=n.split(iw);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Wi(e){let t="";if(jn(e))t=e;else if(It(e))for(let n=0;n<e.length;n++){const s=Wi(e[n]);s&&(t+=s+" ")}else if(Ln(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const aw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lw=pf(aw);function Z1(e){return!!e||e===""}const Q1=e=>!!(e&&e.__v_isRef===!0),Ze=e=>jn(e)?e:e==null?"":It(e)||Ln(e)&&(e.toString===Y1||!Ut(e.toString))?Q1(e)?Ze(e.value):JSON.stringify(e,J1,2):String(e),J1=(e,t)=>Q1(t)?J1(e,t.value):aa(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,a],l)=>(n[zc(s,l)+" =>"]=a,n),{})}:W1(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>zc(n))}:fs(t)?zc(t):Ln(t)&&!It(t)&&!X1(t)?String(t):t,zc=(e,t="")=>{var n;return fs(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ur;class eg{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ur,!t&&Ur&&(this.index=(Ur.scopes||(Ur.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ur;try{return Ur=this,t()}finally{Ur=n}}}on(){Ur=this}off(){Ur=this.parent}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function tg(e){return new eg(e)}function ng(){return Ur}function uw(e,t=!1){Ur&&Ur.cleanups.push(e)}let Dn;const Wc=new WeakSet;class rg{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ur&&Ur.active&&Ur.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Wc.has(this)&&(Wc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||sg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,vh(this),og(this);const t=Dn,n=Ti;Dn=this,Ti=!0;try{return this.fn()}finally{ag(this),Dn=t,Ti=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Cf(t);this.deps=this.depsTail=void 0,vh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Wc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Md(this)&&this.run()}get dirty(){return Md(this)}}let ig=0,cl,dl;function sg(e,t=!1){if(e.flags|=8,t){e.next=dl,dl=e;return}e.next=cl,cl=e}function bf(){ig++}function _f(){if(--ig>0)return;if(dl){let t=dl;for(dl=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;cl;){let t=cl;for(cl=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function og(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ag(e){let t,n=e.depsTail,s=n;for(;s;){const a=s.prevDep;s.version===-1?(s===n&&(n=a),Cf(s),cw(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=a}e.deps=t,e.depsTail=n}function Md(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(lg(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function lg(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===bl))return;e.globalVersion=bl;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Md(e)){e.flags&=-3;return}const n=Dn,s=Ti;Dn=e,Ti=!0;try{og(e);const a=e.fn(e._value);(t.version===0||Fs(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Dn=n,Ti=s,ag(e),e.flags&=-3}}function Cf(e,t=!1){const{dep:n,prevSub:s,nextSub:a}=e;if(s&&(s.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let l=n.computed.deps;l;l=l.nextDep)Cf(l,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function cw(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ti=!0;const ug=[];function zs(){ug.push(Ti),Ti=!1}function Ws(){const e=ug.pop();Ti=e===void 0?!0:e}function vh(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Dn;Dn=void 0;try{t()}finally{Dn=n}}}let bl=0;class dw{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Sf{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Dn||!Ti||Dn===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Dn)n=this.activeLink=new dw(Dn,this),Dn.deps?(n.prevDep=Dn.depsTail,Dn.depsTail.nextDep=n,Dn.depsTail=n):Dn.deps=Dn.depsTail=n,cg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Dn.depsTail,n.nextDep=void 0,Dn.depsTail.nextDep=n,Dn.depsTail=n,Dn.deps===n&&(Dn.deps=s)}return n}trigger(t){this.version++,bl++,this.notify(t)}notify(t){bf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{_f()}}}function cg(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)cg(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Eu=new WeakMap,mo=Symbol(""),Nd=Symbol(""),_l=Symbol("");function Pr(e,t,n){if(Ti&&Dn){let s=Eu.get(e);s||Eu.set(e,s=new Map);let a=s.get(n);a||(s.set(n,a=new Sf),a.map=s,a.key=n),a.track()}}function as(e,t,n,s,a,l){const d=Eu.get(e);if(!d){bl++;return}const h=g=>{g&&g.trigger()};if(bf(),t==="clear")d.forEach(h);else{const g=It(e),m=g&&xf(n);if(g&&n==="length"){const v=Number(s);d.forEach((y,_)=>{(_==="length"||_===_l||!fs(_)&&_>=v)&&h(y)})}else switch((n!==void 0||d.has(void 0))&&h(d.get(n)),m&&h(d.get(_l)),t){case"add":g?m&&h(d.get("length")):(h(d.get(mo)),aa(e)&&h(d.get(Nd)));break;case"delete":g||(h(d.get(mo)),aa(e)&&h(d.get(Nd)));break;case"set":aa(e)&&h(d.get(mo));break}}_f()}function fw(e,t){const n=Eu.get(e);return n&&n.get(t)}function zo(e){const t=zt(e);return t===e?t:(Pr(t,"iterate",_l),vi(e)?t:t.map(Lr))}function nc(e){return Pr(e=zt(e),"iterate",_l),e}const hw={__proto__:null,[Symbol.iterator](){return Gc(this,Symbol.iterator,Lr)},concat(...e){return zo(this).concat(...e.map(t=>It(t)?zo(t):t))},entries(){return Gc(this,"entries",e=>(e[1]=Lr(e[1]),e))},every(e,t){return ns(this,"every",e,t,void 0,arguments)},filter(e,t){return ns(this,"filter",e,t,n=>n.map(Lr),arguments)},find(e,t){return ns(this,"find",e,t,Lr,arguments)},findIndex(e,t){return ns(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ns(this,"findLast",e,t,Lr,arguments)},findLastIndex(e,t){return ns(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ns(this,"forEach",e,t,void 0,arguments)},includes(...e){return Yc(this,"includes",e)},indexOf(...e){return Yc(this,"indexOf",e)},join(e){return zo(this).join(e)},lastIndexOf(...e){return Yc(this,"lastIndexOf",e)},map(e,t){return ns(this,"map",e,t,void 0,arguments)},pop(){return Ya(this,"pop")},push(...e){return Ya(this,"push",e)},reduce(e,...t){return ph(this,"reduce",e,t)},reduceRight(e,...t){return ph(this,"reduceRight",e,t)},shift(){return Ya(this,"shift")},some(e,t){return ns(this,"some",e,t,void 0,arguments)},splice(...e){return Ya(this,"splice",e)},toReversed(){return zo(this).toReversed()},toSorted(e){return zo(this).toSorted(e)},toSpliced(...e){return zo(this).toSpliced(...e)},unshift(...e){return Ya(this,"unshift",e)},values(){return Gc(this,"values",Lr)}};function Gc(e,t,n){const s=nc(e),a=s[t]();return s!==e&&!vi(e)&&(a._next=a.next,a.next=()=>{const l=a._next();return l.value&&(l.value=n(l.value)),l}),a}const gw=Array.prototype;function ns(e,t,n,s,a,l){const d=nc(e),h=d!==e&&!vi(e),g=d[t];if(g!==gw[t]){const y=g.apply(e,l);return h?Lr(y):y}let m=n;d!==e&&(h?m=function(y,_){return n.call(this,Lr(y),_,e)}:n.length>2&&(m=function(y,_){return n.call(this,y,_,e)}));const v=g.call(d,m,s);return h&&a?a(v):v}function ph(e,t,n,s){const a=nc(e);let l=n;return a!==e&&(vi(e)?n.length>3&&(l=function(d,h,g){return n.call(this,d,h,g,e)}):l=function(d,h,g){return n.call(this,d,Lr(h),g,e)}),a[t](l,...s)}function Yc(e,t,n){const s=zt(e);Pr(s,"iterate",_l);const a=s[t](...n);return(a===-1||a===!1)&&Tf(n[0])?(n[0]=zt(n[0]),s[t](...n)):a}function Ya(e,t,n=[]){zs(),bf();const s=zt(e)[t].apply(e,n);return _f(),Ws(),s}const mw=pf("__proto__,__v_isRef,__isVue"),dg=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(fs));function vw(e){fs(e)||(e=String(e));const t=zt(this);return Pr(t,"has",e),t.hasOwnProperty(e)}class fg{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,l=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return l;if(n==="__v_raw")return s===(a?l?Aw:vg:l?mg:gg).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const d=It(t);if(!a){let g;if(d&&(g=hw[n]))return g;if(n==="hasOwnProperty")return vw}const h=Reflect.get(t,n,Jn(t)?t:s);return(fs(n)?dg.has(n):mw(n))||(a||Pr(t,"get",n),l)?h:Jn(h)?d&&xf(n)?h:h.value:Ln(h)?a?wg(h):Io(h):h}}class hg extends fg{constructor(t=!1){super(!1,t)}set(t,n,s,a){let l=t[n];if(!this._isShallow){const g=bo(l);if(!vi(s)&&!bo(s)&&(l=zt(l),s=zt(s)),!It(t)&&Jn(l)&&!Jn(s))return g?!1:(l.value=s,!0)}const d=It(t)&&xf(n)?Number(n)<t.length:mn(t,n),h=Reflect.set(t,n,s,Jn(t)?t:a);return t===zt(a)&&(d?Fs(s,l)&&as(t,"set",n,s):as(t,"add",n,s)),h}deleteProperty(t,n){const s=mn(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&s&&as(t,"delete",n,void 0),a}has(t,n){const s=Reflect.has(t,n);return(!fs(n)||!dg.has(n))&&Pr(t,"has",n),s}ownKeys(t){return Pr(t,"iterate",It(t)?"length":mo),Reflect.ownKeys(t)}}class pw extends fg{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const ww=new hg,yw=new pw,xw=new hg(!0);const Pd=e=>e,Ql=e=>Reflect.getPrototypeOf(e);function bw(e,t,n){return function(...s){const a=this.__v_raw,l=zt(a),d=aa(l),h=e==="entries"||e===Symbol.iterator&&d,g=e==="keys"&&d,m=a[e](...s),v=n?Pd:t?Ld:Lr;return!t&&Pr(l,"iterate",g?Nd:mo),{next(){const{value:y,done:_}=m.next();return _?{value:y,done:_}:{value:h?[v(y[0]),v(y[1])]:v(y),done:_}},[Symbol.iterator](){return this}}}}function Jl(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function _w(e,t){const n={get(a){const l=this.__v_raw,d=zt(l),h=zt(a);e||(Fs(a,h)&&Pr(d,"get",a),Pr(d,"get",h));const{has:g}=Ql(d),m=t?Pd:e?Ld:Lr;if(g.call(d,a))return m(l.get(a));if(g.call(d,h))return m(l.get(h));l!==d&&l.get(a)},get size(){const a=this.__v_raw;return!e&&Pr(zt(a),"iterate",mo),Reflect.get(a,"size",a)},has(a){const l=this.__v_raw,d=zt(l),h=zt(a);return e||(Fs(a,h)&&Pr(d,"has",a),Pr(d,"has",h)),a===h?l.has(a):l.has(a)||l.has(h)},forEach(a,l){const d=this,h=d.__v_raw,g=zt(h),m=t?Pd:e?Ld:Lr;return!e&&Pr(g,"iterate",mo),h.forEach((v,y)=>a.call(l,m(v),m(y),d))}};return er(n,e?{add:Jl("add"),set:Jl("set"),delete:Jl("delete"),clear:Jl("clear")}:{add(a){!t&&!vi(a)&&!bo(a)&&(a=zt(a));const l=zt(this);return Ql(l).has.call(l,a)||(l.add(a),as(l,"add",a,a)),this},set(a,l){!t&&!vi(l)&&!bo(l)&&(l=zt(l));const d=zt(this),{has:h,get:g}=Ql(d);let m=h.call(d,a);m||(a=zt(a),m=h.call(d,a));const v=g.call(d,a);return d.set(a,l),m?Fs(l,v)&&as(d,"set",a,l):as(d,"add",a,l),this},delete(a){const l=zt(this),{has:d,get:h}=Ql(l);let g=d.call(l,a);g||(a=zt(a),g=d.call(l,a)),h&&h.call(l,a);const m=l.delete(a);return g&&as(l,"delete",a,void 0),m},clear(){const a=zt(this),l=a.size!==0,d=a.clear();return l&&as(a,"clear",void 0,void 0),d}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=bw(a,e,t)}),n}function Ef(e,t){const n=_w(e,t);return(s,a,l)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?s:Reflect.get(mn(n,a)&&a in s?n:s,a,l)}const Cw={get:Ef(!1,!1)},Sw={get:Ef(!1,!0)},Ew={get:Ef(!0,!1)};const gg=new WeakMap,mg=new WeakMap,vg=new WeakMap,Aw=new WeakMap;function Tw(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Iw(e){return e.__v_skip||!Object.isExtensible(e)?0:Tw(Qp(e))}function Io(e){return bo(e)?e:Af(e,!1,ww,Cw,gg)}function pg(e){return Af(e,!1,xw,Sw,mg)}function wg(e){return Af(e,!0,yw,Ew,vg)}function Af(e,t,n,s,a){if(!Ln(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=a.get(e);if(l)return l;const d=Iw(e);if(d===0)return e;const h=new Proxy(e,d===2?s:n);return a.set(e,h),h}function Vs(e){return bo(e)?Vs(e.__v_raw):!!(e&&e.__v_isReactive)}function bo(e){return!!(e&&e.__v_isReadonly)}function vi(e){return!!(e&&e.__v_isShallow)}function Tf(e){return e?!!e.__v_raw:!1}function zt(e){const t=e&&e.__v_raw;return t?zt(t):e}function Oo(e){return!mn(e,"__v_skip")&&Object.isExtensible(e)&&K1(e,"__v_skip",!0),e}const Lr=e=>Ln(e)?Io(e):e,Ld=e=>Ln(e)?wg(e):e;function Jn(e){return e?e.__v_isRef===!0:!1}function Pe(e){return yg(e,!1)}function Ow(e){return yg(e,!0)}function yg(e,t){return Jn(e)?e:new Dw(e,t)}class Dw{constructor(t,n){this.dep=new Sf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:zt(t),this._value=n?t:Lr(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||vi(t)||bo(t);t=s?t:zt(t),Fs(t,n)&&(this._rawValue=t,this._value=s?t:Lr(t),this.dep.trigger())}}function k(e){return Jn(e)?e.value:e}const kw={get:(e,t,n)=>t==="__v_raw"?e:k(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const a=e[t];return Jn(a)&&!Jn(n)?(a.value=n,!0):Reflect.set(e,t,n,s)}};function xg(e){return Vs(e)?e:new Proxy(e,kw)}function Rw(e){const t=It(e)?new Array(e.length):{};for(const n in e)t[n]=Nw(e,n);return t}class Mw{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return fw(zt(this._object),this._key)}}function Nw(e,t,n){const s=e[t];return Jn(s)?s:new Mw(e,t,n)}class Pw{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Sf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=bl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Dn!==this)return sg(this,!0),!0}get value(){const t=this.dep.track();return lg(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Lw(e,t,n=!1){let s,a;return Ut(e)?s=e:(s=e.get,a=e.set),new Pw(s,a,n)}const eu={},Au=new WeakMap;let lo;function Bw(e,t=!1,n=lo){if(n){let s=Au.get(n);s||Au.set(n,s=[]),s.push(e)}}function Fw(e,t,n=Tn){const{immediate:s,deep:a,once:l,scheduler:d,augmentJob:h,call:g}=n,m=C=>a?C:vi(C)||a===!1||a===0?ls(C,1):ls(C);let v,y,_,b,T=!1,M=!1;if(Jn(e)?(y=()=>e.value,T=vi(e)):Vs(e)?(y=()=>m(e),T=!0):It(e)?(M=!0,T=e.some(C=>Vs(C)||vi(C)),y=()=>e.map(C=>{if(Jn(C))return C.value;if(Vs(C))return m(C);if(Ut(C))return g?g(C,2):C()})):Ut(e)?t?y=g?()=>g(e,2):e:y=()=>{if(_){zs();try{_()}finally{Ws()}}const C=lo;lo=v;try{return g?g(e,3,[b]):e(b)}finally{lo=C}}:y=Ai,t&&a){const C=y,L=a===!0?1/0:a;y=()=>ls(C(),L)}const $=ng(),Z=()=>{v.stop(),$&&$.active&&yf($.effects,v)};if(l&&t){const C=t;t=(...L)=>{C(...L),Z()}}let j=M?new Array(e.length).fill(eu):eu;const D=C=>{if(!(!(v.flags&1)||!v.dirty&&!C))if(t){const L=v.run();if(a||T||(M?L.some((K,N)=>Fs(K,j[N])):Fs(L,j))){_&&_();const K=lo;lo=v;try{const N=[L,j===eu?void 0:M&&j[0]===eu?[]:j,b];g?g(t,3,N):t(...N),j=L}finally{lo=K}}}else v.run()};return h&&h(D),v=new rg(y),v.scheduler=d?()=>d(D,!1):D,b=C=>Bw(C,!1,v),_=v.onStop=()=>{const C=Au.get(v);if(C){if(g)g(C,4);else for(const L of C)L();Au.delete(v)}},t?s?D(!0):j=v.run():d?d(D.bind(null,!0),!0):v.run(),Z.pause=v.pause.bind(v),Z.resume=v.resume.bind(v),Z.stop=Z,Z}function ls(e,t=1/0,n){if(t<=0||!Ln(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Jn(e))ls(e.value,t,n);else if(It(e))for(let s=0;s<e.length;s++)ls(e[s],t,n);else if(W1(e)||aa(e))e.forEach(s=>{ls(s,t,n)});else if(X1(e)){for(const s in e)ls(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&ls(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Nl(e,t,n,s){try{return s?e(...s):e()}catch(a){rc(a,t,n)}}function Ii(e,t,n,s){if(Ut(e)){const a=Nl(e,t,n,s);return a&&G1(a)&&a.catch(l=>{rc(l,t,n)}),a}if(It(e)){const a=[];for(let l=0;l<e.length;l++)a.push(Ii(e[l],t,n,s));return a}}function rc(e,t,n,s=!0){const a=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:d}=t&&t.appContext.config||Tn;if(t){let h=t.parent;const g=t.proxy,m=`https://vuejs.org/error-reference/#runtime-${n}`;for(;h;){const v=h.ec;if(v){for(let y=0;y<v.length;y++)if(v[y](e,g,m)===!1)return}h=h.parent}if(l){zs(),Nl(l,null,10,[e,g,m]),Ws();return}}Vw(e,n,a,s,d)}function Vw(e,t,n,s=!0,a=!1){if(a)throw e;console.error(e)}const jr=[];let Vi=-1;const la=[];let Os=null,na=0;const bg=Promise.resolve();let Tu=null;function Cn(e){const t=Tu||bg;return e?t.then(this?e.bind(this):e):t}function $w(e){let t=Vi+1,n=jr.length;for(;t<n;){const s=t+n>>>1,a=jr[s],l=Cl(a);l<e||l===e&&a.flags&2?t=s+1:n=s}return t}function If(e){if(!(e.flags&1)){const t=Cl(e),n=jr[jr.length-1];!n||!(e.flags&2)&&t>=Cl(n)?jr.push(e):jr.splice($w(t),0,e),e.flags|=1,_g()}}function _g(){Tu||(Tu=bg.then(Sg))}function qw(e){It(e)?la.push(...e):Os&&e.id===-1?Os.splice(na+1,0,e):e.flags&1||(la.push(e),e.flags|=1),_g()}function wh(e,t,n=Vi+1){for(;n<jr.length;n++){const s=jr[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;jr.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Cg(e){if(la.length){const t=[...new Set(la)].sort((n,s)=>Cl(n)-Cl(s));if(la.length=0,Os){Os.push(...t);return}for(Os=t,na=0;na<Os.length;na++){const n=Os[na];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Os=null,na=0}}const Cl=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Sg(e){const t=Ai;try{for(Vi=0;Vi<jr.length;Vi++){const n=jr[Vi];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),Nl(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;Vi<jr.length;Vi++){const n=jr[Vi];n&&(n.flags&=-2)}Vi=-1,jr.length=0,Cg(),Tu=null,(jr.length||la.length)&&Sg()}}let wr=null,Eg=null;function Iu(e){const t=wr;return wr=e,Eg=e&&e.type.__scopeId||null,t}function ie(e,t=wr,n){if(!t||e._n)return e;const s=(...a)=>{s._d&&Dh(-1);const l=Iu(t);let d;try{d=e(...a)}finally{Iu(l),s._d&&Dh(1)}return d};return s._n=!0,s._c=!0,s._d=!0,s}function li(e,t){if(wr===null)return e;const n=uc(wr),s=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[l,d,h,g=Tn]=t[a];l&&(Ut(l)&&(l={mounted:l,updated:l}),l.deep&&ls(d),s.push({dir:l,instance:n,value:d,oldValue:void 0,arg:h,modifiers:g}))}return e}function to(e,t,n,s){const a=e.dirs,l=t&&t.dirs;for(let d=0;d<a.length;d++){const h=a[d];l&&(h.oldValue=l[d].value);let g=h.dir[s];g&&(zs(),Ii(g,n,8,[e.el,h,e,t]),Ws())}}const Ag=Symbol("_vte"),Tg=e=>e.__isTeleport,fl=e=>e&&(e.disabled||e.disabled===""),yh=e=>e&&(e.defer||e.defer===""),xh=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,bh=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Bd=(e,t)=>{const n=e&&e.to;return jn(n)?t?t(n):null:n},Ig={name:"Teleport",__isTeleport:!0,process(e,t,n,s,a,l,d,h,g,m){const{mc:v,pc:y,pbc:_,o:{insert:b,querySelector:T,createText:M,createComment:$}}=m,Z=fl(t.props);let{shapeFlag:j,children:D,dynamicChildren:C}=t;if(e==null){const L=t.el=M(""),K=t.anchor=M("");b(L,n,s),b(K,n,s);const N=(B,de)=>{j&16&&(a&&a.isCE&&(a.ce._teleportTarget=B),v(D,B,de,a,l,d,h,g))},J=()=>{const B=t.target=Bd(t.props,T),de=Og(B,t,M,b);B&&(d!=="svg"&&xh(B)?d="svg":d!=="mathml"&&bh(B)&&(d="mathml"),Z||(N(B,de),vu(t,!1)))};Z&&(N(n,K),vu(t,!0)),yh(t.props)?mr(()=>{J(),t.el.__isMounted=!0},l):J()}else{if(yh(t.props)&&!e.el.__isMounted){mr(()=>{Ig.process(e,t,n,s,a,l,d,h,g,m),delete e.el.__isMounted},l);return}t.el=e.el,t.targetStart=e.targetStart;const L=t.anchor=e.anchor,K=t.target=e.target,N=t.targetAnchor=e.targetAnchor,J=fl(e.props),B=J?n:K,de=J?L:N;if(d==="svg"||xh(K)?d="svg":(d==="mathml"||bh(K))&&(d="mathml"),C?(_(e.dynamicChildren,C,B,a,l,d,h),Rf(e,t,!0)):g||y(e,t,B,de,a,l,d,h,!1),Z)J?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):tu(t,n,L,m,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const me=t.target=Bd(t.props,T);me&&tu(t,me,null,m,0)}else J&&tu(t,K,N,m,1);vu(t,Z)}},remove(e,t,n,{um:s,o:{remove:a}},l){const{shapeFlag:d,children:h,anchor:g,targetStart:m,targetAnchor:v,target:y,props:_}=e;if(y&&(a(m),a(v)),l&&a(g),d&16){const b=l||!fl(_);for(let T=0;T<h.length;T++){const M=h[T];s(M,t,n,b,!!M.dynamicChildren)}}},move:tu,hydrate:Uw};function tu(e,t,n,{o:{insert:s},m:a},l=2){l===0&&s(e.targetAnchor,t,n);const{el:d,anchor:h,shapeFlag:g,children:m,props:v}=e,y=l===2;if(y&&s(d,t,n),(!y||fl(v))&&g&16)for(let _=0;_<m.length;_++)a(m[_],t,n,2);y&&s(h,t,n)}function Uw(e,t,n,s,a,l,{o:{nextSibling:d,parentNode:h,querySelector:g,insert:m,createText:v}},y){const _=t.target=Bd(t.props,g);if(_){const b=fl(t.props),T=_._lpa||_.firstChild;if(t.shapeFlag&16)if(b)t.anchor=y(d(e),t,h(e),n,s,a,l),t.targetStart=T,t.targetAnchor=T&&d(T);else{t.anchor=d(e);let M=T;for(;M;){if(M&&M.nodeType===8){if(M.data==="teleport start anchor")t.targetStart=M;else if(M.data==="teleport anchor"){t.targetAnchor=M,_._lpa=t.targetAnchor&&d(t.targetAnchor);break}}M=d(M)}t.targetAnchor||Og(_,t,v,m),y(T&&d(T),t,_,n,s,a,l)}vu(t,b)}return t.anchor&&d(t.anchor)}const jw=Ig;function vu(e,t){const n=e.ctx;if(n&&n.ut){let s,a;for(t?(s=e.el,a=e.anchor):(s=e.targetStart,a=e.targetAnchor);s&&s!==a;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function Og(e,t,n,s){const a=t.targetStart=n(""),l=t.targetAnchor=n("");return a[Ag]=l,e&&(s(a,e),s(l,e)),l}const Ds=Symbol("_leaveCb"),nu=Symbol("_enterCb");function Dg(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return $n(()=>{e.isMounted=!0}),Yn(()=>{e.isUnmounting=!0}),e}const fi=[Function,Array],kg={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:fi,onEnter:fi,onAfterEnter:fi,onEnterCancelled:fi,onBeforeLeave:fi,onLeave:fi,onAfterLeave:fi,onLeaveCancelled:fi,onBeforeAppear:fi,onAppear:fi,onAfterAppear:fi,onAppearCancelled:fi},Rg=e=>{const t=e.subTree;return t.component?Rg(t.component):t},Hw={name:"BaseTransition",props:kg,setup(e,{slots:t}){const n=Gt(),s=Dg();return()=>{const a=t.default&&Of(t.default(),!0);if(!a||!a.length)return;const l=Mg(a),d=zt(e),{mode:h}=d;if(s.isLeaving)return Xc(l);const g=_h(l);if(!g)return Xc(l);let m=Sl(g,d,s,n,y=>m=y);g.type!==Br&&Us(g,m);let v=n.subTree&&_h(n.subTree);if(v&&v.type!==Br&&!Ns(g,v)&&Rg(n).type!==Br){let y=Sl(v,d,s,n);if(Us(v,y),h==="out-in"&&g.type!==Br)return s.isLeaving=!0,y.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete y.afterLeave,v=void 0},Xc(l);h==="in-out"&&g.type!==Br?y.delayLeave=(_,b,T)=>{const M=Ng(s,v);M[String(v.key)]=v,_[Ds]=()=>{b(),_[Ds]=void 0,delete m.delayedLeave,v=void 0},m.delayedLeave=()=>{T(),delete m.delayedLeave,v=void 0}}:v=void 0}else v&&(v=void 0);return l}}};function Mg(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Br){t=n;break}}return t}const zw=Hw;function Ng(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function Sl(e,t,n,s,a){const{appear:l,mode:d,persisted:h=!1,onBeforeEnter:g,onEnter:m,onAfterEnter:v,onEnterCancelled:y,onBeforeLeave:_,onLeave:b,onAfterLeave:T,onLeaveCancelled:M,onBeforeAppear:$,onAppear:Z,onAfterAppear:j,onAppearCancelled:D}=t,C=String(e.key),L=Ng(n,e),K=(B,de)=>{B&&Ii(B,s,9,de)},N=(B,de)=>{const me=de[1];K(B,de),It(B)?B.every(q=>q.length<=1)&&me():B.length<=1&&me()},J={mode:d,persisted:h,beforeEnter(B){let de=g;if(!n.isMounted)if(l)de=$||g;else return;B[Ds]&&B[Ds](!0);const me=L[C];me&&Ns(e,me)&&me.el[Ds]&&me.el[Ds](),K(de,[B])},enter(B){let de=m,me=v,q=y;if(!n.isMounted)if(l)de=Z||m,me=j||v,q=D||y;else return;let be=!1;const ne=B[nu]=Q=>{be||(be=!0,Q?K(q,[B]):K(me,[B]),J.delayedLeave&&J.delayedLeave(),B[nu]=void 0)};de?N(de,[B,ne]):ne()},leave(B,de){const me=String(e.key);if(B[nu]&&B[nu](!0),n.isUnmounting)return de();K(_,[B]);let q=!1;const be=B[Ds]=ne=>{q||(q=!0,de(),ne?K(M,[B]):K(T,[B]),B[Ds]=void 0,L[me]===e&&delete L[me])};L[me]=e,b?N(b,[B,be]):be()},clone(B){const de=Sl(B,t,n,s,a);return a&&a(de),de}};return J}function Xc(e){if(ic(e))return e=cs(e),e.children=null,e}function _h(e){if(!ic(e))return Tg(e.type)&&e.children?Mg(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Ut(n.default))return n.default()}}function Us(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Us(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Of(e,t=!1,n){let s=[],a=0;for(let l=0;l<e.length;l++){let d=e[l];const h=n==null?d.key:String(n)+String(d.key!=null?d.key:l);d.type===Qt?(d.patchFlag&128&&a++,s=s.concat(Of(d.children,t,h))):(t||d.type!==Br)&&s.push(h!=null?cs(d,{key:h}):d)}if(a>1)for(let l=0;l<s.length;l++)s[l].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Gs(e,t){return Ut(e)?(()=>er({name:e.name},t,{setup:e}))():e}function Pg(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Ou(e,t,n,s,a=!1){if(It(e)){e.forEach((T,M)=>Ou(T,t&&(It(t)?t[M]:t),n,s,a));return}if(vo(s)&&!a){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Ou(e,t,n,s.component.subTree);return}const l=s.shapeFlag&4?uc(s.component):s.el,d=a?null:l,{i:h,r:g}=e,m=t&&t.r,v=h.refs===Tn?h.refs={}:h.refs,y=h.setupState,_=zt(y),b=y===Tn?()=>!1:T=>mn(_,T);if(m!=null&&m!==g&&(jn(m)?(v[m]=null,b(m)&&(y[m]=null)):Jn(m)&&(m.value=null)),Ut(g))Nl(g,h,12,[d,v]);else{const T=jn(g),M=Jn(g);if(T||M){const $=()=>{if(e.f){const Z=T?b(g)?y[g]:v[g]:g.value;a?It(Z)&&yf(Z,l):It(Z)?Z.includes(l)||Z.push(l):T?(v[g]=[l],b(g)&&(y[g]=v[g])):(g.value=[l],e.k&&(v[e.k]=g.value))}else T?(v[g]=d,b(g)&&(y[g]=d)):M&&(g.value=d,e.k&&(v[e.k]=d))};d?($.id=-1,mr($,n)):$()}}}tc().requestIdleCallback;tc().cancelIdleCallback;const vo=e=>!!e.type.__asyncLoader,ic=e=>e.type.__isKeepAlive,Ww={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Gt(),s=n.ctx;if(!s.renderer)return()=>{const j=t.default&&t.default();return j&&j.length===1?j[0]:j};const a=new Map,l=new Set;let d=null;const h=n.suspense,{renderer:{p:g,m,um:v,o:{createElement:y}}}=s,_=y("div");s.activate=(j,D,C,L,K)=>{const N=j.component;m(j,D,C,0,h),g(N.vnode,j,D,C,N,h,L,j.slotScopeIds,K),mr(()=>{N.isDeactivated=!1,N.a&&ul(N.a);const J=j.props&&j.props.onVnodeMounted;J&&gi(J,N.parent,j)},h)},s.deactivate=j=>{const D=j.component;ku(D.m),ku(D.a),m(j,_,null,1,h),mr(()=>{D.da&&ul(D.da);const C=j.props&&j.props.onVnodeUnmounted;C&&gi(C,D.parent,j),D.isDeactivated=!0},h)};function b(j){Kc(j),v(j,n,h,!0)}function T(j){a.forEach((D,C)=>{const L=jd(D.type);L&&!j(L)&&M(C)})}function M(j){const D=a.get(j);D&&(!d||!Ns(D,d))?b(D):d&&Kc(d),a.delete(j),l.delete(j)}bt(()=>[e.include,e.exclude],([j,D])=>{j&&T(C=>rl(j,C)),D&&T(C=>!rl(D,C))},{flush:"post",deep:!0});let $=null;const Z=()=>{$!=null&&(Ru(n.subTree.type)?mr(()=>{a.set($,ru(n.subTree))},n.subTree.suspense):a.set($,ru(n.subTree)))};return $n(Z),Ta(Z),Yn(()=>{a.forEach(j=>{const{subTree:D,suspense:C}=n,L=ru(D);if(j.type===L.type&&j.key===L.key){Kc(L);const K=L.component.da;K&&mr(K,C);return}b(j)})}),()=>{if($=null,!t.default)return d=null;const j=t.default(),D=j[0];if(j.length>1)return d=null,j;if(!ya(D)||!(D.shapeFlag&4)&&!(D.shapeFlag&128))return d=null,D;let C=ru(D);if(C.type===Br)return d=null,C;const L=C.type,K=jd(vo(C)?C.type.__asyncResolved||{}:L),{include:N,exclude:J,max:B}=e;if(N&&(!K||!rl(N,K))||J&&K&&rl(J,K))return C.shapeFlag&=-257,d=C,D;const de=C.key==null?L:C.key,me=a.get(de);return C.el&&(C=cs(C),D.shapeFlag&128&&(D.ssContent=C)),$=de,me?(C.el=me.el,C.component=me.component,C.transition&&Us(C,C.transition),C.shapeFlag|=512,l.delete(de),l.add(de)):(l.add(de),B&&l.size>parseInt(B,10)&&M(l.values().next().value)),C.shapeFlag|=256,d=C,Ru(D.type)?D:C}}},Gw=Ww;function rl(e,t){return It(e)?e.some(n=>rl(n,t)):jn(e)?e.split(",").includes(t):Zp(e)?(e.lastIndex=0,e.test(t)):!1}function Pl(e,t){Lg(e,"a",t)}function Do(e,t){Lg(e,"da",t)}function Lg(e,t,n=Er){const s=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(sc(t,s,n),n){let a=n.parent;for(;a&&a.parent;)ic(a.parent.vnode)&&Yw(s,t,n,a),a=a.parent}}function Yw(e,t,n,s){const a=sc(t,e,s,!0);Ia(()=>{yf(s[t],a)},n)}function Kc(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function ru(e){return e.shapeFlag&128?e.ssContent:e}function sc(e,t,n=Er,s=!1){if(n){const a=n[e]||(n[e]=[]),l=t.__weh||(t.__weh=(...d)=>{zs();const h=Ll(n),g=Ii(t,n,e,d);return h(),Ws(),g});return s?a.unshift(l):a.push(l),l}}const hs=e=>(t,n=Er)=>{(!Al||e==="sp")&&sc(e,(...s)=>t(...s),n)},Bg=hs("bm"),$n=hs("m"),oc=hs("bu"),Ta=hs("u"),Yn=hs("bum"),Ia=hs("um"),Xw=hs("sp"),Kw=hs("rtg"),Zw=hs("rtc");function Qw(e,t=Er){sc("ec",e,t)}const Fg="components";function Jw(e,t){return ty(Fg,e,!0,t)||e}const ey=Symbol.for("v-ndc");function ty(e,t,n=!0,s=!1){const a=wr||Er;if(a){const l=a.type;if(e===Fg){const h=jd(l,!1);if(h&&(h===t||h===pi(t)||h===ec(pi(t))))return l}const d=Ch(a[e]||l[e],t)||Ch(a.appContext[e],t);return!d&&s?l:d}}function Ch(e,t){return e&&(e[t]||e[pi(t)]||e[ec(pi(t))])}function Gn(e,t,n,s){let a;const l=n&&n[s],d=It(e);if(d||jn(e)){const h=d&&Vs(e);let g=!1;h&&(g=!vi(e),e=nc(e)),a=new Array(e.length);for(let m=0,v=e.length;m<v;m++)a[m]=t(g?Lr(e[m]):e[m],m,void 0,l&&l[m])}else if(typeof e=="number"){a=new Array(e);for(let h=0;h<e;h++)a[h]=t(h+1,h,void 0,l&&l[h])}else if(Ln(e))if(e[Symbol.iterator])a=Array.from(e,(h,g)=>t(h,g,void 0,l&&l[g]));else{const h=Object.keys(e);a=new Array(h.length);for(let g=0,m=h.length;g<m;g++){const v=h[g];a[g]=t(e[v],v,g,l&&l[g])}}else a=[];return n&&(n[s]=a),a}function ny(e,t,n={},s,a){if(wr.ce||wr.parent&&vo(wr.parent)&&wr.parent.ce)return t!=="default"&&(n.name=t),Ae(),pt(Qt,null,[U("slot",n,s&&s())],64);let l=e[t];l&&l._c&&(l._d=!1),Ae();const d=l&&Vg(l(n)),h=n.key||d&&d.key,g=pt(Qt,{key:(h&&!fs(h)?h:`_${t}`)+(!d&&s?"_fb":"")},d||(s?s():[]),d&&e._===1?64:-2);return!a&&g.scopeId&&(g.slotScopeIds=[g.scopeId+"-s"]),l&&l._c&&(l._d=!0),g}function Vg(e){return e.some(t=>ya(t)?!(t.type===Br||t.type===Qt&&!Vg(t.children)):!0)?e:null}const Fd=e=>e?rm(e)?uc(e):Fd(e.parent):null,hl=er(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Fd(e.parent),$root:e=>Fd(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Df(e),$forceUpdate:e=>e.f||(e.f=()=>{If(e.update)}),$nextTick:e=>e.n||(e.n=Cn.bind(e.proxy)),$watch:e=>Sy.bind(e)}),Zc=(e,t)=>e!==Tn&&!e.__isScriptSetup&&mn(e,t),ry={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:a,props:l,accessCache:d,type:h,appContext:g}=e;let m;if(t[0]!=="$"){const b=d[t];if(b!==void 0)switch(b){case 1:return s[t];case 2:return a[t];case 4:return n[t];case 3:return l[t]}else{if(Zc(s,t))return d[t]=1,s[t];if(a!==Tn&&mn(a,t))return d[t]=2,a[t];if((m=e.propsOptions[0])&&mn(m,t))return d[t]=3,l[t];if(n!==Tn&&mn(n,t))return d[t]=4,n[t];Vd&&(d[t]=0)}}const v=hl[t];let y,_;if(v)return t==="$attrs"&&Pr(e.attrs,"get",""),v(e);if((y=h.__cssModules)&&(y=y[t]))return y;if(n!==Tn&&mn(n,t))return d[t]=4,n[t];if(_=g.config.globalProperties,mn(_,t))return _[t]},set({_:e},t,n){const{data:s,setupState:a,ctx:l}=e;return Zc(a,t)?(a[t]=n,!0):s!==Tn&&mn(s,t)?(s[t]=n,!0):mn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:a,propsOptions:l}},d){let h;return!!n[d]||e!==Tn&&mn(e,d)||Zc(t,d)||(h=l[0])&&mn(h,d)||mn(s,d)||mn(hl,d)||mn(a.config.globalProperties,d)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:mn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Sh(e){return It(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Vd=!0;function iy(e){const t=Df(e),n=e.proxy,s=e.ctx;Vd=!1,t.beforeCreate&&Eh(t.beforeCreate,e,"bc");const{data:a,computed:l,methods:d,watch:h,provide:g,inject:m,created:v,beforeMount:y,mounted:_,beforeUpdate:b,updated:T,activated:M,deactivated:$,beforeDestroy:Z,beforeUnmount:j,destroyed:D,unmounted:C,render:L,renderTracked:K,renderTriggered:N,errorCaptured:J,serverPrefetch:B,expose:de,inheritAttrs:me,components:q,directives:be,filters:ne}=t;if(m&&sy(m,s,null),d)for(const Ce in d){const De=d[Ce];Ut(De)&&(s[Ce]=De.bind(n))}if(a){const Ce=a.call(n,n);Ln(Ce)&&(e.data=Io(Ce))}if(Vd=!0,l)for(const Ce in l){const De=l[Ce],tt=Ut(De)?De.bind(n,n):Ut(De.get)?De.get.bind(n,n):Ai,ht=!Ut(De)&&Ut(De.set)?De.set.bind(n):Ai,he=G({get:tt,set:ht});Object.defineProperty(s,Ce,{enumerable:!0,configurable:!0,get:()=>he.value,set:se=>he.value=se})}if(h)for(const Ce in h)$g(h[Ce],s,n,Ce);if(g){const Ce=Ut(g)?g.call(n):g;Reflect.ownKeys(Ce).forEach(De=>{ua(De,Ce[De])})}v&&Eh(v,e,"c");function Ne(Ce,De){It(De)?De.forEach(tt=>Ce(tt.bind(n))):De&&Ce(De.bind(n))}if(Ne(Bg,y),Ne($n,_),Ne(oc,b),Ne(Ta,T),Ne(Pl,M),Ne(Do,$),Ne(Qw,J),Ne(Zw,K),Ne(Kw,N),Ne(Yn,j),Ne(Ia,C),Ne(Xw,B),It(de))if(de.length){const Ce=e.exposed||(e.exposed={});de.forEach(De=>{Object.defineProperty(Ce,De,{get:()=>n[De],set:tt=>n[De]=tt})})}else e.exposed||(e.exposed={});L&&e.render===Ai&&(e.render=L),me!=null&&(e.inheritAttrs=me),q&&(e.components=q),be&&(e.directives=be),B&&Pg(e)}function sy(e,t,n=Ai){It(e)&&(e=$d(e));for(const s in e){const a=e[s];let l;Ln(a)?"default"in a?l=Dr(a.from||s,a.default,!0):l=Dr(a.from||s):l=Dr(a),Jn(l)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>l.value,set:d=>l.value=d}):t[s]=l}}function Eh(e,t,n){Ii(It(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function $g(e,t,n,s){let a=s.includes(".")?Jg(n,s):()=>n[s];if(jn(e)){const l=t[e];Ut(l)&&bt(a,l)}else if(Ut(e))bt(a,e.bind(n));else if(Ln(e))if(It(e))e.forEach(l=>$g(l,t,n,s));else{const l=Ut(e.handler)?e.handler.bind(n):t[e.handler];Ut(l)&&bt(a,l,e)}}function Df(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:a,optionsCache:l,config:{optionMergeStrategies:d}}=e.appContext,h=l.get(t);let g;return h?g=h:!a.length&&!n&&!s?g=t:(g={},a.length&&a.forEach(m=>Du(g,m,d,!0)),Du(g,t,d)),Ln(t)&&l.set(t,g),g}function Du(e,t,n,s=!1){const{mixins:a,extends:l}=t;l&&Du(e,l,n,!0),a&&a.forEach(d=>Du(e,d,n,!0));for(const d in t)if(!(s&&d==="expose")){const h=oy[d]||n&&n[d];e[d]=h?h(e[d],t[d]):t[d]}return e}const oy={data:Ah,props:Th,emits:Th,methods:il,computed:il,beforeCreate:qr,created:qr,beforeMount:qr,mounted:qr,beforeUpdate:qr,updated:qr,beforeDestroy:qr,beforeUnmount:qr,destroyed:qr,unmounted:qr,activated:qr,deactivated:qr,errorCaptured:qr,serverPrefetch:qr,components:il,directives:il,watch:ly,provide:Ah,inject:ay};function Ah(e,t){return t?e?function(){return er(Ut(e)?e.call(this,this):e,Ut(t)?t.call(this,this):t)}:t:e}function ay(e,t){return il($d(e),$d(t))}function $d(e){if(It(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function qr(e,t){return e?[...new Set([].concat(e,t))]:t}function il(e,t){return e?er(Object.create(null),e,t):t}function Th(e,t){return e?It(e)&&It(t)?[...new Set([...e,...t])]:er(Object.create(null),Sh(e),Sh(t!=null?t:{})):t}function ly(e,t){if(!e)return t;if(!t)return e;const n=er(Object.create(null),e);for(const s in t)n[s]=qr(e[s],t[s]);return n}function qg(){return{app:null,config:{isNativeTag:Xp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uy=0;function cy(e,t){return function(s,a=null){Ut(s)||(s=er({},s)),a!=null&&!Ln(a)&&(a=null);const l=qg(),d=new WeakSet,h=[];let g=!1;const m=l.app={_uid:uy++,_component:s,_props:a,_container:null,_context:l,_instance:null,version:jy,get config(){return l.config},set config(v){},use(v,...y){return d.has(v)||(v&&Ut(v.install)?(d.add(v),v.install(m,...y)):Ut(v)&&(d.add(v),v(m,...y))),m},mixin(v){return l.mixins.includes(v)||l.mixins.push(v),m},component(v,y){return y?(l.components[v]=y,m):l.components[v]},directive(v,y){return y?(l.directives[v]=y,m):l.directives[v]},mount(v,y,_){if(!g){const b=m._ceVNode||U(s,a);return b.appContext=l,_===!0?_="svg":_===!1&&(_=void 0),y&&t?t(b,v):e(b,v,_),g=!0,m._container=v,v.__vue_app__=m,uc(b.component)}},onUnmount(v){h.push(v)},unmount(){g&&(Ii(h,m._instance,16),e(null,m._container),delete m._container.__vue_app__)},provide(v,y){return l.provides[v]=y,m},runWithContext(v){const y=po;po=m;try{return v()}finally{po=y}}};return m}}let po=null;function ua(e,t){if(Er){let n=Er.provides;const s=Er.parent&&Er.parent.provides;s===n&&(n=Er.provides=Object.create(s)),n[e]=t}}function Dr(e,t,n=!1){const s=Er||wr;if(s||po){const a=po?po._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Ut(t)?t.call(s&&s.proxy):t}}function dy(){return!!(Er||wr||po)}const Ug={},jg=()=>Object.create(Ug),Hg=e=>Object.getPrototypeOf(e)===Ug;function fy(e,t,n,s=!1){const a={},l=jg();e.propsDefaults=Object.create(null),zg(e,t,a,l);for(const d in e.propsOptions[0])d in a||(a[d]=void 0);n?e.props=s?a:pg(a):e.type.props?e.props=a:e.props=l,e.attrs=l}function hy(e,t,n,s){const{props:a,attrs:l,vnode:{patchFlag:d}}=e,h=zt(a),[g]=e.propsOptions;let m=!1;if((s||d>0)&&!(d&16)){if(d&8){const v=e.vnode.dynamicProps;for(let y=0;y<v.length;y++){let _=v[y];if(ac(e.emitsOptions,_))continue;const b=t[_];if(g)if(mn(l,_))b!==l[_]&&(l[_]=b,m=!0);else{const T=pi(_);a[T]=qd(g,h,T,b,e,!1)}else b!==l[_]&&(l[_]=b,m=!0)}}}else{zg(e,t,a,l)&&(m=!0);let v;for(const y in h)(!t||!mn(t,y)&&((v=To(y))===y||!mn(t,v)))&&(g?n&&(n[y]!==void 0||n[v]!==void 0)&&(a[y]=qd(g,h,y,void 0,e,!0)):delete a[y]);if(l!==h)for(const y in l)(!t||!mn(t,y)&&!0)&&(delete l[y],m=!0)}m&&as(e.attrs,"set","")}function zg(e,t,n,s){const[a,l]=e.propsOptions;let d=!1,h;if(t)for(let g in t){if(ll(g))continue;const m=t[g];let v;a&&mn(a,v=pi(g))?!l||!l.includes(v)?n[v]=m:(h||(h={}))[v]=m:ac(e.emitsOptions,g)||(!(g in s)||m!==s[g])&&(s[g]=m,d=!0)}if(l){const g=zt(n),m=h||Tn;for(let v=0;v<l.length;v++){const y=l[v];n[y]=qd(a,g,y,m[y],e,!mn(m,y))}}return d}function qd(e,t,n,s,a,l){const d=e[n];if(d!=null){const h=mn(d,"default");if(h&&s===void 0){const g=d.default;if(d.type!==Function&&!d.skipFactory&&Ut(g)){const{propsDefaults:m}=a;if(n in m)s=m[n];else{const v=Ll(a);s=m[n]=g.call(null,t),v()}}else s=g;a.ce&&a.ce._setProp(n,s)}d[0]&&(l&&!h?s=!1:d[1]&&(s===""||s===To(n))&&(s=!0))}return s}const gy=new WeakMap;function Wg(e,t,n=!1){const s=n?gy:t.propsCache,a=s.get(e);if(a)return a;const l=e.props,d={},h=[];let g=!1;if(!Ut(e)){const v=y=>{g=!0;const[_,b]=Wg(y,t,!0);er(d,_),b&&h.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}if(!l&&!g)return Ln(e)&&s.set(e,oa),oa;if(It(l))for(let v=0;v<l.length;v++){const y=pi(l[v]);Ih(y)&&(d[y]=Tn)}else if(l)for(const v in l){const y=pi(v);if(Ih(y)){const _=l[v],b=d[y]=It(_)||Ut(_)?{type:_}:er({},_),T=b.type;let M=!1,$=!0;if(It(T))for(let Z=0;Z<T.length;++Z){const j=T[Z],D=Ut(j)&&j.name;if(D==="Boolean"){M=!0;break}else D==="String"&&($=!1)}else M=Ut(T)&&T.name==="Boolean";b[0]=M,b[1]=$,(M||mn(b,"default"))&&h.push(y)}}const m=[d,h];return Ln(e)&&s.set(e,m),m}function Ih(e){return e[0]!=="$"&&!ll(e)}const Gg=e=>e[0]==="_"||e==="$stable",kf=e=>It(e)?e.map($i):[$i(e)],my=(e,t,n)=>{if(t._n)return t;const s=ie((...a)=>kf(t(...a)),n);return s._c=!1,s},Yg=(e,t,n)=>{const s=e._ctx;for(const a in e){if(Gg(a))continue;const l=e[a];if(Ut(l))t[a]=my(a,l,s);else if(l!=null){const d=kf(l);t[a]=()=>d}}},Xg=(e,t)=>{const n=kf(t);e.slots.default=()=>n},Kg=(e,t,n)=>{for(const s in t)(n||s!=="_")&&(e[s]=t[s])},vy=(e,t,n)=>{const s=e.slots=jg();if(e.vnode.shapeFlag&32){const a=t._;a?(Kg(s,t,n),n&&K1(s,"_",a,!0)):Yg(t,s)}else t&&Xg(e,t)},py=(e,t,n)=>{const{vnode:s,slots:a}=e;let l=!0,d=Tn;if(s.shapeFlag&32){const h=t._;h?n&&h===1?l=!1:Kg(a,t,n):(l=!t.$stable,Yg(t,a)),d=t}else t&&(Xg(e,t),d={default:1});if(l)for(const h in a)!Gg(h)&&d[h]==null&&delete a[h]},mr=ky;function wy(e){return yy(e)}function yy(e,t){const n=tc();n.__VUE__=!0;const{insert:s,remove:a,patchProp:l,createElement:d,createText:h,createComment:g,setText:m,setElementText:v,parentNode:y,nextSibling:_,setScopeId:b=Ai,insertStaticContent:T}=e,M=(F,Y,fe,Fe=null,_e=null,ke=null,Ve=void 0,ze=null,ye=!!Y.dynamicChildren)=>{if(F===Y)return;F&&!Ns(F,Y)&&(Fe=ue(F),se(F,_e,ke,!0),F=null),Y.patchFlag===-2&&(ye=!1,Y.dynamicChildren=null);const{type:ce,ref:$e,shapeFlag:Le}=Y;switch(ce){case lc:$(F,Y,fe,Fe);break;case Br:Z(F,Y,fe,Fe);break;case ed:F==null&&j(Y,fe,Fe,Ve);break;case Qt:q(F,Y,fe,Fe,_e,ke,Ve,ze,ye);break;default:Le&1?L(F,Y,fe,Fe,_e,ke,Ve,ze,ye):Le&6?be(F,Y,fe,Fe,_e,ke,Ve,ze,ye):(Le&64||Le&128)&&ce.process(F,Y,fe,Fe,_e,ke,Ve,ze,ye,Ge)}$e!=null&&_e&&Ou($e,F&&F.ref,ke,Y||F,!Y)},$=(F,Y,fe,Fe)=>{if(F==null)s(Y.el=h(Y.children),fe,Fe);else{const _e=Y.el=F.el;Y.children!==F.children&&m(_e,Y.children)}},Z=(F,Y,fe,Fe)=>{F==null?s(Y.el=g(Y.children||""),fe,Fe):Y.el=F.el},j=(F,Y,fe,Fe)=>{[F.el,F.anchor]=T(F.children,Y,fe,Fe,F.el,F.anchor)},D=({el:F,anchor:Y},fe,Fe)=>{let _e;for(;F&&F!==Y;)_e=_(F),s(F,fe,Fe),F=_e;s(Y,fe,Fe)},C=({el:F,anchor:Y})=>{let fe;for(;F&&F!==Y;)fe=_(F),a(F),F=fe;a(Y)},L=(F,Y,fe,Fe,_e,ke,Ve,ze,ye)=>{Y.type==="svg"?Ve="svg":Y.type==="math"&&(Ve="mathml"),F==null?K(Y,fe,Fe,_e,ke,Ve,ze,ye):B(F,Y,_e,ke,Ve,ze,ye)},K=(F,Y,fe,Fe,_e,ke,Ve,ze)=>{let ye,ce;const{props:$e,shapeFlag:Le,transition:et,dirs:Qe}=F;if(ye=F.el=d(F.type,ke,$e&&$e.is,$e),Le&8?v(ye,F.children):Le&16&&J(F.children,ye,null,Fe,_e,Qc(F,ke),Ve,ze),Qe&&to(F,null,Fe,"created"),N(ye,F,F.scopeId,Ve,Fe),$e){for(const ot in $e)ot!=="value"&&!ll(ot)&&l(ye,ot,null,$e[ot],ke,Fe);"value"in $e&&l(ye,"value",null,$e.value,ke),(ce=$e.onVnodeBeforeMount)&&gi(ce,Fe,F)}Qe&&to(F,null,Fe,"beforeMount");const at=xy(_e,et);at&&et.beforeEnter(ye),s(ye,Y,fe),((ce=$e&&$e.onVnodeMounted)||at||Qe)&&mr(()=>{ce&&gi(ce,Fe,F),at&&et.enter(ye),Qe&&to(F,null,Fe,"mounted")},_e)},N=(F,Y,fe,Fe,_e)=>{if(fe&&b(F,fe),Fe)for(let ke=0;ke<Fe.length;ke++)b(F,Fe[ke]);if(_e){let ke=_e.subTree;if(Y===ke||Ru(ke.type)&&(ke.ssContent===Y||ke.ssFallback===Y)){const Ve=_e.vnode;N(F,Ve,Ve.scopeId,Ve.slotScopeIds,_e.parent)}}},J=(F,Y,fe,Fe,_e,ke,Ve,ze,ye=0)=>{for(let ce=ye;ce<F.length;ce++){const $e=F[ce]=ze?ks(F[ce]):$i(F[ce]);M(null,$e,Y,fe,Fe,_e,ke,Ve,ze)}},B=(F,Y,fe,Fe,_e,ke,Ve)=>{const ze=Y.el=F.el;let{patchFlag:ye,dynamicChildren:ce,dirs:$e}=Y;ye|=F.patchFlag&16;const Le=F.props||Tn,et=Y.props||Tn;let Qe;if(fe&&no(fe,!1),(Qe=et.onVnodeBeforeUpdate)&&gi(Qe,fe,Y,F),$e&&to(Y,F,fe,"beforeUpdate"),fe&&no(fe,!0),(Le.innerHTML&&et.innerHTML==null||Le.textContent&&et.textContent==null)&&v(ze,""),ce?de(F.dynamicChildren,ce,ze,fe,Fe,Qc(Y,_e),ke):Ve||De(F,Y,ze,null,fe,Fe,Qc(Y,_e),ke,!1),ye>0){if(ye&16)me(ze,Le,et,fe,_e);else if(ye&2&&Le.class!==et.class&&l(ze,"class",null,et.class,_e),ye&4&&l(ze,"style",Le.style,et.style,_e),ye&8){const at=Y.dynamicProps;for(let ot=0;ot<at.length;ot++){const lt=at[ot],Vt=Le[lt],Xt=et[lt];(Xt!==Vt||lt==="value")&&l(ze,lt,Vt,Xt,_e,fe)}}ye&1&&F.children!==Y.children&&v(ze,Y.children)}else!Ve&&ce==null&&me(ze,Le,et,fe,_e);((Qe=et.onVnodeUpdated)||$e)&&mr(()=>{Qe&&gi(Qe,fe,Y,F),$e&&to(Y,F,fe,"updated")},Fe)},de=(F,Y,fe,Fe,_e,ke,Ve)=>{for(let ze=0;ze<Y.length;ze++){const ye=F[ze],ce=Y[ze],$e=ye.el&&(ye.type===Qt||!Ns(ye,ce)||ye.shapeFlag&70)?y(ye.el):fe;M(ye,ce,$e,null,Fe,_e,ke,Ve,!0)}},me=(F,Y,fe,Fe,_e)=>{if(Y!==fe){if(Y!==Tn)for(const ke in Y)!ll(ke)&&!(ke in fe)&&l(F,ke,Y[ke],null,_e,Fe);for(const ke in fe){if(ll(ke))continue;const Ve=fe[ke],ze=Y[ke];Ve!==ze&&ke!=="value"&&l(F,ke,ze,Ve,_e,Fe)}"value"in fe&&l(F,"value",Y.value,fe.value,_e)}},q=(F,Y,fe,Fe,_e,ke,Ve,ze,ye)=>{const ce=Y.el=F?F.el:h(""),$e=Y.anchor=F?F.anchor:h("");let{patchFlag:Le,dynamicChildren:et,slotScopeIds:Qe}=Y;Qe&&(ze=ze?ze.concat(Qe):Qe),F==null?(s(ce,fe,Fe),s($e,fe,Fe),J(Y.children||[],fe,$e,_e,ke,Ve,ze,ye)):Le>0&&Le&64&&et&&F.dynamicChildren?(de(F.dynamicChildren,et,fe,_e,ke,Ve,ze),(Y.key!=null||_e&&Y===_e.subTree)&&Rf(F,Y,!0)):De(F,Y,fe,$e,_e,ke,Ve,ze,ye)},be=(F,Y,fe,Fe,_e,ke,Ve,ze,ye)=>{Y.slotScopeIds=ze,F==null?Y.shapeFlag&512?_e.ctx.activate(Y,fe,Fe,Ve,ye):ne(Y,fe,Fe,_e,ke,Ve,ye):Q(F,Y,ye)},ne=(F,Y,fe,Fe,_e,ke,Ve)=>{const ze=F.component=By(F,Fe,_e);if(ic(F)&&(ze.ctx.renderer=Ge),Fy(ze,!1,Ve),ze.asyncDep){if(_e&&_e.registerDep(ze,Ne,Ve),!F.el){const ye=ze.subTree=U(Br);Z(null,ye,Y,fe)}}else Ne(ze,F,Y,fe,_e,ke,Ve)},Q=(F,Y,fe)=>{const Fe=Y.component=F.component;if(Oy(F,Y,fe))if(Fe.asyncDep&&!Fe.asyncResolved){Ce(Fe,Y,fe);return}else Fe.next=Y,Fe.update();else Y.el=F.el,Fe.vnode=Y},Ne=(F,Y,fe,Fe,_e,ke,Ve)=>{const ze=()=>{if(F.isMounted){let{next:Le,bu:et,u:Qe,parent:at,vnode:ot}=F;{const Dt=Zg(F);if(Dt){Le&&(Le.el=ot.el,Ce(F,Le,Ve)),Dt.asyncDep.then(()=>{F.isUnmounted||ze()});return}}let lt=Le,Vt;no(F,!1),Le?(Le.el=ot.el,Ce(F,Le,Ve)):Le=ot,et&&ul(et),(Vt=Le.props&&Le.props.onVnodeBeforeUpdate)&&gi(Vt,at,Le,ot),no(F,!0);const Xt=Jc(F),In=F.subTree;F.subTree=Xt,M(In,Xt,y(In.el),ue(In),F,_e,ke),Le.el=Xt.el,lt===null&&Dy(F,Xt.el),Qe&&mr(Qe,_e),(Vt=Le.props&&Le.props.onVnodeUpdated)&&mr(()=>gi(Vt,at,Le,ot),_e)}else{let Le;const{el:et,props:Qe}=Y,{bm:at,m:ot,parent:lt,root:Vt,type:Xt}=F,In=vo(Y);if(no(F,!1),at&&ul(at),!In&&(Le=Qe&&Qe.onVnodeBeforeMount)&&gi(Le,lt,Y),no(F,!0),et&&wt){const Dt=()=>{F.subTree=Jc(F),wt(et,F.subTree,F,_e,null)};In&&Xt.__asyncHydrate?Xt.__asyncHydrate(et,F,Dt):Dt()}else{Vt.ce&&Vt.ce._injectChildStyle(Xt);const Dt=F.subTree=Jc(F);M(null,Dt,fe,Fe,F,_e,ke),Y.el=Dt.el}if(ot&&mr(ot,_e),!In&&(Le=Qe&&Qe.onVnodeMounted)){const Dt=Y;mr(()=>gi(Le,lt,Dt),_e)}(Y.shapeFlag&256||lt&&vo(lt.vnode)&&lt.vnode.shapeFlag&256)&&F.a&&mr(F.a,_e),F.isMounted=!0,Y=fe=Fe=null}};F.scope.on();const ye=F.effect=new rg(ze);F.scope.off();const ce=F.update=ye.run.bind(ye),$e=F.job=ye.runIfDirty.bind(ye);$e.i=F,$e.id=F.uid,ye.scheduler=()=>If($e),no(F,!0),ce()},Ce=(F,Y,fe)=>{Y.component=F;const Fe=F.vnode.props;F.vnode=Y,F.next=null,hy(F,Y.props,Fe,fe),py(F,Y.children,fe),zs(),wh(F),Ws()},De=(F,Y,fe,Fe,_e,ke,Ve,ze,ye=!1)=>{const ce=F&&F.children,$e=F?F.shapeFlag:0,Le=Y.children,{patchFlag:et,shapeFlag:Qe}=Y;if(et>0){if(et&128){ht(ce,Le,fe,Fe,_e,ke,Ve,ze,ye);return}else if(et&256){tt(ce,Le,fe,Fe,_e,ke,Ve,ze,ye);return}}Qe&8?($e&16&&ge(ce,_e,ke),Le!==ce&&v(fe,Le)):$e&16?Qe&16?ht(ce,Le,fe,Fe,_e,ke,Ve,ze,ye):ge(ce,_e,ke,!0):($e&8&&v(fe,""),Qe&16&&J(Le,fe,Fe,_e,ke,Ve,ze,ye))},tt=(F,Y,fe,Fe,_e,ke,Ve,ze,ye)=>{F=F||oa,Y=Y||oa;const ce=F.length,$e=Y.length,Le=Math.min(ce,$e);let et;for(et=0;et<Le;et++){const Qe=Y[et]=ye?ks(Y[et]):$i(Y[et]);M(F[et],Qe,fe,null,_e,ke,Ve,ze,ye)}ce>$e?ge(F,_e,ke,!0,!1,Le):J(Y,fe,Fe,_e,ke,Ve,ze,ye,Le)},ht=(F,Y,fe,Fe,_e,ke,Ve,ze,ye)=>{let ce=0;const $e=Y.length;let Le=F.length-1,et=$e-1;for(;ce<=Le&&ce<=et;){const Qe=F[ce],at=Y[ce]=ye?ks(Y[ce]):$i(Y[ce]);if(Ns(Qe,at))M(Qe,at,fe,null,_e,ke,Ve,ze,ye);else break;ce++}for(;ce<=Le&&ce<=et;){const Qe=F[Le],at=Y[et]=ye?ks(Y[et]):$i(Y[et]);if(Ns(Qe,at))M(Qe,at,fe,null,_e,ke,Ve,ze,ye);else break;Le--,et--}if(ce>Le){if(ce<=et){const Qe=et+1,at=Qe<$e?Y[Qe].el:Fe;for(;ce<=et;)M(null,Y[ce]=ye?ks(Y[ce]):$i(Y[ce]),fe,at,_e,ke,Ve,ze,ye),ce++}}else if(ce>et)for(;ce<=Le;)se(F[ce],_e,ke,!0),ce++;else{const Qe=ce,at=ce,ot=new Map;for(ce=at;ce<=et;ce++){const Ot=Y[ce]=ye?ks(Y[ce]):$i(Y[ce]);Ot.key!=null&&ot.set(Ot.key,ce)}let lt,Vt=0;const Xt=et-at+1;let In=!1,Dt=0;const Ue=new Array(Xt);for(ce=0;ce<Xt;ce++)Ue[ce]=0;for(ce=Qe;ce<=Le;ce++){const Ot=F[ce];if(Vt>=Xt){se(Ot,_e,ke,!0);continue}let Mt;if(Ot.key!=null)Mt=ot.get(Ot.key);else for(lt=at;lt<=et;lt++)if(Ue[lt-at]===0&&Ns(Ot,Y[lt])){Mt=lt;break}Mt===void 0?se(Ot,_e,ke,!0):(Ue[Mt-at]=ce+1,Mt>=Dt?Dt=Mt:In=!0,M(Ot,Y[Mt],fe,null,_e,ke,Ve,ze,ye),Vt++)}const Jt=In?by(Ue):oa;for(lt=Jt.length-1,ce=Xt-1;ce>=0;ce--){const Ot=at+ce,Mt=Y[Ot],Xn=Ot+1<$e?Y[Ot+1].el:Fe;Ue[ce]===0?M(null,Mt,fe,Xn,_e,ke,Ve,ze,ye):In&&(lt<0||ce!==Jt[lt]?he(Mt,fe,Xn,2):lt--)}}},he=(F,Y,fe,Fe,_e=null)=>{const{el:ke,type:Ve,transition:ze,children:ye,shapeFlag:ce}=F;if(ce&6){he(F.component.subTree,Y,fe,Fe);return}if(ce&128){F.suspense.move(Y,fe,Fe);return}if(ce&64){Ve.move(F,Y,fe,Ge);return}if(Ve===Qt){s(ke,Y,fe);for(let Le=0;Le<ye.length;Le++)he(ye[Le],Y,fe,Fe);s(F.anchor,Y,fe);return}if(Ve===ed){D(F,Y,fe);return}if(Fe!==2&&ce&1&&ze)if(Fe===0)ze.beforeEnter(ke),s(ke,Y,fe),mr(()=>ze.enter(ke),_e);else{const{leave:Le,delayLeave:et,afterLeave:Qe}=ze,at=()=>s(ke,Y,fe),ot=()=>{Le(ke,()=>{at(),Qe&&Qe()})};et?et(ke,at,ot):ot()}else s(ke,Y,fe)},se=(F,Y,fe,Fe=!1,_e=!1)=>{const{type:ke,props:Ve,ref:ze,children:ye,dynamicChildren:ce,shapeFlag:$e,patchFlag:Le,dirs:et,cacheIndex:Qe}=F;if(Le===-2&&(_e=!1),ze!=null&&Ou(ze,null,fe,F,!0),Qe!=null&&(Y.renderCache[Qe]=void 0),$e&256){Y.ctx.deactivate(F);return}const at=$e&1&&et,ot=!vo(F);let lt;if(ot&&(lt=Ve&&Ve.onVnodeBeforeUnmount)&&gi(lt,Y,F),$e&6)mt(F.component,fe,Fe);else{if($e&128){F.suspense.unmount(fe,Fe);return}at&&to(F,null,Y,"beforeUnmount"),$e&64?F.type.remove(F,Y,fe,Ge,Fe):ce&&!ce.hasOnce&&(ke!==Qt||Le>0&&Le&64)?ge(ce,Y,fe,!1,!0):(ke===Qt&&Le&384||!_e&&$e&16)&&ge(ye,Y,fe),Fe&&Je(F)}(ot&&(lt=Ve&&Ve.onVnodeUnmounted)||at)&&mr(()=>{lt&&gi(lt,Y,F),at&&to(F,null,Y,"unmounted")},fe)},Je=F=>{const{type:Y,el:fe,anchor:Fe,transition:_e}=F;if(Y===Qt){ct(fe,Fe);return}if(Y===ed){C(F);return}const ke=()=>{a(fe),_e&&!_e.persisted&&_e.afterLeave&&_e.afterLeave()};if(F.shapeFlag&1&&_e&&!_e.persisted){const{leave:Ve,delayLeave:ze}=_e,ye=()=>Ve(fe,ke);ze?ze(F.el,ke,ye):ye()}else ke()},ct=(F,Y)=>{let fe;for(;F!==Y;)fe=_(F),a(F),F=fe;a(Y)},mt=(F,Y,fe)=>{const{bum:Fe,scope:_e,job:ke,subTree:Ve,um:ze,m:ye,a:ce}=F;ku(ye),ku(ce),Fe&&ul(Fe),_e.stop(),ke&&(ke.flags|=8,se(Ve,F,Y,fe)),ze&&mr(ze,Y),mr(()=>{F.isUnmounted=!0},Y),Y&&Y.pendingBranch&&!Y.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===Y.pendingId&&(Y.deps--,Y.deps===0&&Y.resolve())},ge=(F,Y,fe,Fe=!1,_e=!1,ke=0)=>{for(let Ve=ke;Ve<F.length;Ve++)se(F[Ve],Y,fe,Fe,_e)},ue=F=>{if(F.shapeFlag&6)return ue(F.component.subTree);if(F.shapeFlag&128)return F.suspense.next();const Y=_(F.anchor||F.el),fe=Y&&Y[Ag];return fe?_(fe):Y};let Be=!1;const ve=(F,Y,fe)=>{F==null?Y._vnode&&se(Y._vnode,null,null,!0):M(Y._vnode||null,F,Y,null,null,null,fe),Y._vnode=F,Be||(Be=!0,wh(),Cg(),Be=!1)},Ge={p:M,um:se,m:he,r:Je,mt:ne,mc:J,pc:De,pbc:de,n:ue,o:e};let st,wt;return t&&([st,wt]=t(Ge)),{render:ve,hydrate:st,createApp:cy(ve,st)}}function Qc({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function no({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function xy(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Rf(e,t,n=!1){const s=e.children,a=t.children;if(It(s)&&It(a))for(let l=0;l<s.length;l++){const d=s[l];let h=a[l];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=a[l]=ks(a[l]),h.el=d.el),!n&&h.patchFlag!==-2&&Rf(d,h)),h.type===lc&&(h.el=d.el)}}function by(e){const t=e.slice(),n=[0];let s,a,l,d,h;const g=e.length;for(s=0;s<g;s++){const m=e[s];if(m!==0){if(a=n[n.length-1],e[a]<m){t[s]=a,n.push(s);continue}for(l=0,d=n.length-1;l<d;)h=l+d>>1,e[n[h]]<m?l=h+1:d=h;m<e[n[l]]&&(l>0&&(t[s]=n[l-1]),n[l]=s)}}for(l=n.length,d=n[l-1];l-- >0;)n[l]=d,d=t[d];return n}function Zg(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Zg(t)}function ku(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const _y=Symbol.for("v-scx"),Cy=()=>Dr(_y);function bt(e,t,n){return Qg(e,t,n)}function Qg(e,t,n=Tn){const{immediate:s,deep:a,flush:l,once:d}=n,h=er({},n),g=t&&s||!t&&l!=="post";let m;if(Al){if(l==="sync"){const b=Cy();m=b.__watcherHandles||(b.__watcherHandles=[])}else if(!g){const b=()=>{};return b.stop=Ai,b.resume=Ai,b.pause=Ai,b}}const v=Er;h.call=(b,T,M)=>Ii(b,v,T,M);let y=!1;l==="post"?h.scheduler=b=>{mr(b,v&&v.suspense)}:l!=="sync"&&(y=!0,h.scheduler=(b,T)=>{T?b():If(b)}),h.augmentJob=b=>{t&&(b.flags|=4),y&&(b.flags|=2,v&&(b.id=v.uid,b.i=v))};const _=Fw(e,t,h);return Al&&(m?m.push(_):g&&_()),_}function Sy(e,t,n){const s=this.proxy,a=jn(e)?e.includes(".")?Jg(s,e):()=>s[e]:e.bind(s,s);let l;Ut(t)?l=t:(l=t.handler,n=t);const d=Ll(this),h=Qg(a,l.bind(s),n);return d(),h}function Jg(e,t){const n=t.split(".");return()=>{let s=e;for(let a=0;a<n.length&&s;a++)s=s[n[a]];return s}}const Ey=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${pi(t)}Modifiers`]||e[`${To(t)}Modifiers`];function Ay(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Tn;let a=n;const l=t.startsWith("update:"),d=l&&Ey(s,t.slice(7));d&&(d.trim&&(a=n.map(v=>jn(v)?v.trim():v)),d.number&&(a=n.map(tw)));let h,g=s[h=Hc(t)]||s[h=Hc(pi(t))];!g&&l&&(g=s[h=Hc(To(t))]),g&&Ii(g,e,6,a);const m=s[h+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,Ii(m,e,6,a)}}function em(e,t,n=!1){const s=t.emitsCache,a=s.get(e);if(a!==void 0)return a;const l=e.emits;let d={},h=!1;if(!Ut(e)){const g=m=>{const v=em(m,t,!0);v&&(h=!0,er(d,v))};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}return!l&&!h?(Ln(e)&&s.set(e,null),null):(It(l)?l.forEach(g=>d[g]=null):er(d,l),Ln(e)&&s.set(e,d),d)}function ac(e,t){return!e||!Qu(t)?!1:(t=t.slice(2).replace(/Once$/,""),mn(e,t[0].toLowerCase()+t.slice(1))||mn(e,To(t))||mn(e,t))}function Jc(e){const{type:t,vnode:n,proxy:s,withProxy:a,propsOptions:[l],slots:d,attrs:h,emit:g,render:m,renderCache:v,props:y,data:_,setupState:b,ctx:T,inheritAttrs:M}=e,$=Iu(e);let Z,j;try{if(n.shapeFlag&4){const C=a||s,L=C;Z=$i(m.call(L,C,v,y,b,_,T)),j=h}else{const C=t;Z=$i(C.length>1?C(y,{attrs:h,slots:d,emit:g}):C(y,null)),j=t.props?h:Ty(h)}}catch(C){gl.length=0,rc(C,e,1),Z=U(Br)}let D=Z;if(j&&M!==!1){const C=Object.keys(j),{shapeFlag:L}=D;C.length&&L&7&&(l&&C.some(wf)&&(j=Iy(j,l)),D=cs(D,j,!1,!0))}return n.dirs&&(D=cs(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&Us(D,n.transition),Z=D,Iu($),Z}const Ty=e=>{let t;for(const n in e)(n==="class"||n==="style"||Qu(n))&&((t||(t={}))[n]=e[n]);return t},Iy=(e,t)=>{const n={};for(const s in e)(!wf(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Oy(e,t,n){const{props:s,children:a,component:l}=e,{props:d,children:h,patchFlag:g}=t,m=l.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&g>=0){if(g&1024)return!0;if(g&16)return s?Oh(s,d,m):!!d;if(g&8){const v=t.dynamicProps;for(let y=0;y<v.length;y++){const _=v[y];if(d[_]!==s[_]&&!ac(m,_))return!0}}}else return(a||h)&&(!h||!h.$stable)?!0:s===d?!1:s?d?Oh(s,d,m):!0:!!d;return!1}function Oh(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let a=0;a<s.length;a++){const l=s[a];if(t[l]!==e[l]&&!ac(n,l))return!0}return!1}function Dy({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Ru=e=>e.__isSuspense;function ky(e,t){t&&t.pendingBranch?It(e)?t.effects.push(...e):t.effects.push(e):qw(e)}const Qt=Symbol.for("v-fgt"),lc=Symbol.for("v-txt"),Br=Symbol.for("v-cmt"),ed=Symbol.for("v-stc"),gl=[];let ui=null;function Ae(e=!1){gl.push(ui=e?null:[])}function Ry(){gl.pop(),ui=gl[gl.length-1]||null}let El=1;function Dh(e,t=!1){El+=e,e<0&&ui&&t&&(ui.hasOnce=!0)}function tm(e){return e.dynamicChildren=El>0?ui||oa:null,Ry(),El>0&&ui&&ui.push(e),e}function it(e,t,n,s,a,l){return tm(te(e,t,n,s,a,l,!0))}function pt(e,t,n,s,a){return tm(U(e,t,n,s,a,!0))}function ya(e){return e?e.__v_isVNode===!0:!1}function Ns(e,t){return e.type===t.type&&e.key===t.key}const nm=({key:e})=>e!=null?e:null,pu=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?jn(e)||Jn(e)||Ut(e)?{i:wr,r:e,k:t,f:!!n}:e:null);function te(e,t=null,n=null,s=0,a=null,l=e===Qt?0:1,d=!1,h=!1){const g={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&nm(t),ref:t&&pu(t),scopeId:Eg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:s,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:wr};return h?(Mf(g,n),l&128&&e.normalize(g)):n&&(g.shapeFlag|=jn(n)?8:16),El>0&&!d&&ui&&(g.patchFlag>0||l&6)&&g.patchFlag!==32&&ui.push(g),g}const U=My;function My(e,t=null,n=null,s=0,a=null,l=!1){if((!e||e===ey)&&(e=Br),ya(e)){const h=cs(e,t,!0);return n&&Mf(h,n),El>0&&!l&&ui&&(h.shapeFlag&6?ui[ui.indexOf(e)]=h:ui.push(h)),h.patchFlag=-2,h}if(Uy(e)&&(e=e.__vccOpts),t){t=Ny(t);let{class:h,style:g}=t;h&&!jn(h)&&(t.class=Wi(h)),Ln(g)&&(Tf(g)&&!It(g)&&(g=er({},g)),t.style=qs(g))}const d=jn(e)?1:Ru(e)?128:Tg(e)?64:Ln(e)?4:Ut(e)?2:0;return te(e,t,n,s,a,d,l,!0)}function Ny(e){return e?Tf(e)||Hg(e)?er({},e):e:null}function cs(e,t,n=!1,s=!1){const{props:a,ref:l,patchFlag:d,children:h,transition:g}=e,m=t?Mu(a||{},t):a,v={__v_isVNode:!0,__v_skip:!0,type:e.type,props:m,key:m&&nm(m),ref:t&&t.ref?n&&l?It(l)?l.concat(pu(t)):[l,pu(t)]:pu(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:h,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Qt?d===-1?16:d|16:d,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:g,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cs(e.ssContent),ssFallback:e.ssFallback&&cs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return g&&s&&Us(v,g.clone(v)),v}function Ht(e=" ",t=0){return U(lc,null,e,t)}function jt(e="",t=!1){return t?(Ae(),pt(Br,null,e)):U(Br,null,e)}function $i(e){return e==null||typeof e=="boolean"?U(Br):It(e)?U(Qt,null,e.slice()):ya(e)?ks(e):U(lc,null,String(e))}function ks(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cs(e)}function Mf(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(It(t))n=16;else if(typeof t=="object")if(s&65){const a=t.default;a&&(a._c&&(a._d=!1),Mf(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!Hg(t)?t._ctx=wr:a===3&&wr&&(wr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ut(t)?(t={default:t,_ctx:wr},n=32):(t=String(t),s&64?(n=16,t=[Ht(t)]):n=8);e.children=t,e.shapeFlag|=n}function Mu(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const a in s)if(a==="class")t.class!==s.class&&(t.class=Wi([t.class,s.class]));else if(a==="style")t.style=qs([t.style,s.style]);else if(Qu(a)){const l=t[a],d=s[a];d&&l!==d&&!(It(l)&&l.includes(d))&&(t[a]=l?[].concat(l,d):d)}else a!==""&&(t[a]=s[a])}return t}function gi(e,t,n,s=null){Ii(e,t,7,[n,s])}const Py=qg();let Ly=0;function By(e,t,n){const s=e.type,a=(t?t.appContext:e.appContext)||Py,l={uid:Ly++,vnode:e,type:s,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new eg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wg(s,a),emitsOptions:em(s,a),emit:null,emitted:null,propsDefaults:Tn,inheritAttrs:s.inheritAttrs,ctx:Tn,data:Tn,props:Tn,attrs:Tn,slots:Tn,refs:Tn,setupState:Tn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=Ay.bind(null,l),e.ce&&e.ce(l),l}let Er=null;const Gt=()=>Er||wr;let Nu,Ud;{const e=tc(),t=(n,s)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(s),l=>{a.length>1?a.forEach(d=>d(l)):a[0](l)}};Nu=t("__VUE_INSTANCE_SETTERS__",n=>Er=n),Ud=t("__VUE_SSR_SETTERS__",n=>Al=n)}const Ll=e=>{const t=Er;return Nu(e),e.scope.on(),()=>{e.scope.off(),Nu(t)}},kh=()=>{Er&&Er.scope.off(),Nu(null)};function rm(e){return e.vnode.shapeFlag&4}let Al=!1;function Fy(e,t=!1,n=!1){t&&Ud(t);const{props:s,children:a}=e.vnode,l=rm(e);fy(e,s,l,t),vy(e,a,n);const d=l?Vy(e,t):void 0;return t&&Ud(!1),d}function Vy(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ry);const{setup:s}=n;if(s){zs();const a=e.setupContext=s.length>1?qy(e):null,l=Ll(e),d=Nl(s,e,0,[e.props,a]),h=G1(d);if(Ws(),l(),(h||e.sp)&&!vo(e)&&Pg(e),h){if(d.then(kh,kh),t)return d.then(g=>{Rh(e,g,t)}).catch(g=>{rc(g,e,0)});e.asyncDep=d}else Rh(e,d,t)}else im(e,t)}function Rh(e,t,n){Ut(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ln(t)&&(e.setupState=xg(t)),im(e,n)}let Mh;function im(e,t,n){const s=e.type;if(!e.render){if(!t&&Mh&&!s.render){const a=s.template||Df(e).template;if(a){const{isCustomElement:l,compilerOptions:d}=e.appContext.config,{delimiters:h,compilerOptions:g}=s,m=er(er({isCustomElement:l,delimiters:h},d),g);s.render=Mh(a,m)}}e.render=s.render||Ai}{const a=Ll(e);zs();try{iy(e)}finally{Ws(),a()}}}const $y={get(e,t){return Pr(e,"get",""),e[t]}};function qy(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,$y),slots:e.slots,emit:e.emit,expose:t}}function uc(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(xg(Oo(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in hl)return hl[n](e)},has(t,n){return n in t||n in hl}})):e.proxy}function jd(e,t=!0){return Ut(e)?e.displayName||e.name:e.name||t&&e.__name}function Uy(e){return Ut(e)&&"__vccOpts"in e}const G=(e,t)=>Lw(e,t,Al);function z(e,t,n){const s=arguments.length;return s===2?Ln(t)&&!It(t)?ya(t)?U(e,null,[t]):U(e,t):U(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ya(n)&&(n=[n]),U(e,t,n))}const jy="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Hd;const Nh=typeof window!="undefined"&&window.trustedTypes;if(Nh)try{Hd=Nh.createPolicy("vue",{createHTML:e=>e})}catch{}const sm=Hd?e=>Hd.createHTML(e):e=>e,Hy="http://www.w3.org/2000/svg",zy="http://www.w3.org/1998/Math/MathML",ss=typeof document!="undefined"?document:null,Ph=ss&&ss.createElement("template"),Wy={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const a=t==="svg"?ss.createElementNS(Hy,e):t==="mathml"?ss.createElementNS(zy,e):n?ss.createElement(e,{is:n}):ss.createElement(e);return e==="select"&&s&&s.multiple!=null&&a.setAttribute("multiple",s.multiple),a},createText:e=>ss.createTextNode(e),createComment:e=>ss.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ss.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,a,l){const d=n?n.previousSibling:t.lastChild;if(a&&(a===l||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===l||!(a=a.nextSibling)););else{Ph.innerHTML=sm(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const h=Ph.content;if(s==="svg"||s==="mathml"){const g=h.firstChild;for(;g.firstChild;)h.appendChild(g.firstChild);h.removeChild(g)}t.insertBefore(h,n)}return[d?d.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},bs="transition",Xa="animation",xa=Symbol("_vtc"),om={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},am=er({},kg,om),Gy=e=>(e.displayName="Transition",e.props=am,e),oi=Gy((e,{slots:t})=>z(zw,lm(e),t)),ro=(e,t=[])=>{It(e)?e.forEach(n=>n(...t)):e&&e(...t)},Lh=e=>e?It(e)?e.some(t=>t.length>1):e.length>1:!1;function lm(e){const t={};for(const q in e)q in om||(t[q]=e[q]);if(e.css===!1)return t;const{name:n="v",type:s,duration:a,enterFromClass:l=`${n}-enter-from`,enterActiveClass:d=`${n}-enter-active`,enterToClass:h=`${n}-enter-to`,appearFromClass:g=l,appearActiveClass:m=d,appearToClass:v=h,leaveFromClass:y=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:b=`${n}-leave-to`}=e,T=Yy(a),M=T&&T[0],$=T&&T[1],{onBeforeEnter:Z,onEnter:j,onEnterCancelled:D,onLeave:C,onLeaveCancelled:L,onBeforeAppear:K=Z,onAppear:N=j,onAppearCancelled:J=D}=t,B=(q,be,ne,Q)=>{q._enterCancelled=Q,Es(q,be?v:h),Es(q,be?m:d),ne&&ne()},de=(q,be)=>{q._isLeaving=!1,Es(q,y),Es(q,b),Es(q,_),be&&be()},me=q=>(be,ne)=>{const Q=q?N:j,Ne=()=>B(be,q,ne);ro(Q,[be,Ne]),Bh(()=>{Es(be,q?g:l),Fi(be,q?v:h),Lh(Q)||Fh(be,s,M,Ne)})};return er(t,{onBeforeEnter(q){ro(Z,[q]),Fi(q,l),Fi(q,d)},onBeforeAppear(q){ro(K,[q]),Fi(q,g),Fi(q,m)},onEnter:me(!1),onAppear:me(!0),onLeave(q,be){q._isLeaving=!0;const ne=()=>de(q,be);Fi(q,y),q._enterCancelled?(Fi(q,_),zd()):(zd(),Fi(q,_)),Bh(()=>{!q._isLeaving||(Es(q,y),Fi(q,b),Lh(C)||Fh(q,s,$,ne))}),ro(C,[q,ne])},onEnterCancelled(q){B(q,!1,void 0,!0),ro(D,[q])},onAppearCancelled(q){B(q,!0,void 0,!0),ro(J,[q])},onLeaveCancelled(q){de(q),ro(L,[q])}})}function Yy(e){if(e==null)return null;if(Ln(e))return[td(e.enter),td(e.leave)];{const t=td(e);return[t,t]}}function td(e){return nw(e)}function Fi(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[xa]||(e[xa]=new Set)).add(t)}function Es(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[xa];n&&(n.delete(t),n.size||(e[xa]=void 0))}function Bh(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Xy=0;function Fh(e,t,n,s){const a=e._endId=++Xy,l=()=>{a===e._endId&&s()};if(n!=null)return setTimeout(l,n);const{type:d,timeout:h,propCount:g}=um(e,t);if(!d)return s();const m=d+"end";let v=0;const y=()=>{e.removeEventListener(m,_),l()},_=b=>{b.target===e&&++v>=g&&y()};setTimeout(()=>{v<g&&y()},h+1),e.addEventListener(m,_)}function um(e,t){const n=window.getComputedStyle(e),s=T=>(n[T]||"").split(", "),a=s(`${bs}Delay`),l=s(`${bs}Duration`),d=Vh(a,l),h=s(`${Xa}Delay`),g=s(`${Xa}Duration`),m=Vh(h,g);let v=null,y=0,_=0;t===bs?d>0&&(v=bs,y=d,_=l.length):t===Xa?m>0&&(v=Xa,y=m,_=g.length):(y=Math.max(d,m),v=y>0?d>m?bs:Xa:null,_=v?v===bs?l.length:g.length:0);const b=v===bs&&/\b(transform|all)(,|$)/.test(s(`${bs}Property`).toString());return{type:v,timeout:y,propCount:_,hasTransform:b}}function Vh(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>$h(n)+$h(e[s])))}function $h(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function zd(){return document.body.offsetHeight}function Ky(e,t,n){const s=e[xa];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Pu=Symbol("_vod"),cm=Symbol("_vsh"),Zy={beforeMount(e,{value:t},{transition:n}){e[Pu]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ka(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),Ka(e,!0),s.enter(e)):s.leave(e,()=>{Ka(e,!1)}):Ka(e,t))},beforeUnmount(e,{value:t}){Ka(e,t)}};function Ka(e,t){e.style.display=t?e[Pu]:"none",e[cm]=!t}const Qy=Symbol(""),Jy=/(^|;)\s*display\s*:/;function e2(e,t,n){const s=e.style,a=jn(n);let l=!1;if(n&&!a){if(t)if(jn(t))for(const d of t.split(";")){const h=d.slice(0,d.indexOf(":")).trim();n[h]==null&&wu(s,h,"")}else for(const d in t)n[d]==null&&wu(s,d,"");for(const d in n)d==="display"&&(l=!0),wu(s,d,n[d])}else if(a){if(t!==n){const d=s[Qy];d&&(n+=";"+d),s.cssText=n,l=Jy.test(n)}}else t&&e.removeAttribute("style");Pu in e&&(e[Pu]=l?s.display:"",e[cm]&&(s.display="none"))}const qh=/\s*!important$/;function wu(e,t,n){if(It(n))n.forEach(s=>wu(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=t2(e,t);qh.test(n)?e.setProperty(To(s),n.replace(qh,""),"important"):e[s]=n}}const Uh=["Webkit","Moz","ms"],nd={};function t2(e,t){const n=nd[t];if(n)return n;let s=pi(t);if(s!=="filter"&&s in e)return nd[t]=s;s=ec(s);for(let a=0;a<Uh.length;a++){const l=Uh[a]+s;if(l in e)return nd[t]=l}return t}const jh="http://www.w3.org/1999/xlink";function Hh(e,t,n,s,a,l=lw(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(jh,t.slice(6,t.length)):e.setAttributeNS(jh,t,n):n==null||l&&!Z1(n)?e.removeAttribute(t):e.setAttribute(t,l?"":fs(n)?String(n):n)}function zh(e,t,n,s,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?sm(n):n);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const h=l==="OPTION"?e.getAttribute("value")||"":e.value,g=n==null?e.type==="checkbox"?"on":"":String(n);(h!==g||!("_value"in e))&&(e.value=g),n==null&&e.removeAttribute(t),e._value=n;return}let d=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=Z1(n):n==null&&h==="string"?(n="",d=!0):h==="number"&&(n=0,d=!0)}try{e[t]=n}catch{}d&&e.removeAttribute(a||t)}function n2(e,t,n,s){e.addEventListener(t,n,s)}function r2(e,t,n,s){e.removeEventListener(t,n,s)}const Wh=Symbol("_vei");function i2(e,t,n,s,a=null){const l=e[Wh]||(e[Wh]={}),d=l[t];if(s&&d)d.value=s;else{const[h,g]=s2(t);if(s){const m=l[t]=l2(s,a);n2(e,h,m,g)}else d&&(r2(e,h,d,g),l[t]=void 0)}}const Gh=/(?:Once|Passive|Capture)$/;function s2(e){let t;if(Gh.test(e)){t={};let s;for(;s=e.match(Gh);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):To(e.slice(2)),t]}let rd=0;const o2=Promise.resolve(),a2=()=>rd||(o2.then(()=>rd=0),rd=Date.now());function l2(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ii(u2(s,n.value),t,5,[s])};return n.value=e,n.attached=a2(),n}function u2(e,t){if(It(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>a=>!a._stopped&&s&&s(a))}else return t}const Yh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,c2=(e,t,n,s,a,l)=>{const d=a==="svg";t==="class"?Ky(e,s,d):t==="style"?e2(e,n,s):Qu(t)?wf(t)||i2(e,t,n,s,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):d2(e,t,s,d))?(zh(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Hh(e,t,s,d,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!jn(s))?zh(e,pi(t),s,l,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Hh(e,t,s,d))};function d2(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Yh(t)&&Ut(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return Yh(t)&&jn(n)?!1:t in e}const dm=new WeakMap,fm=new WeakMap,Lu=Symbol("_moveCb"),Xh=Symbol("_enterCb"),f2=e=>(delete e.props.mode,e),h2=f2({name:"TransitionGroup",props:er({},am,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Gt(),s=Dg();let a,l;return Ta(()=>{if(!a.length)return;const d=e.moveClass||`${e.name||"v"}-move`;if(!w2(a[0].el,n.vnode.el,d))return;a.forEach(m2),a.forEach(v2);const h=a.filter(p2);zd(),h.forEach(g=>{const m=g.el,v=m.style;Fi(m,d),v.transform=v.webkitTransform=v.transitionDuration="";const y=m[Lu]=_=>{_&&_.target!==m||(!_||/transform$/.test(_.propertyName))&&(m.removeEventListener("transitionend",y),m[Lu]=null,Es(m,d))};m.addEventListener("transitionend",y)})}),()=>{const d=zt(e),h=lm(d);let g=d.tag||Qt;if(a=[],l)for(let m=0;m<l.length;m++){const v=l[m];v.el&&v.el instanceof Element&&(a.push(v),Us(v,Sl(v,h,s,n)),dm.set(v,v.el.getBoundingClientRect()))}l=t.default?Of(t.default()):[];for(let m=0;m<l.length;m++){const v=l[m];v.key!=null&&Us(v,Sl(v,h,s,n))}return U(g,null,l)}}}),g2=h2;function m2(e){const t=e.el;t[Lu]&&t[Lu](),t[Xh]&&t[Xh]()}function v2(e){fm.set(e,e.el.getBoundingClientRect())}function p2(e){const t=dm.get(e),n=fm.get(e),s=t.left-n.left,a=t.top-n.top;if(s||a){const l=e.el.style;return l.transform=l.webkitTransform=`translate(${s}px,${a}px)`,l.transitionDuration="0s",e}}function w2(e,t,n){const s=e.cloneNode(),a=e[xa];a&&a.forEach(h=>{h.split(/\s+/).forEach(g=>g&&s.classList.remove(g))}),n.split(/\s+/).forEach(h=>h&&s.classList.add(h)),s.style.display="none";const l=t.nodeType===1?t:t.parentNode;l.appendChild(s);const{hasTransform:d}=um(s);return l.removeChild(s),d}const y2=er({patchProp:c2},Wy);let Kh;function x2(){return Kh||(Kh=wy(y2))}const hm=(...e)=>{const t=x2().createApp(...e),{mount:n}=t;return t.mount=s=>{const a=_2(s);if(!a)return;const l=t._component;!Ut(l)&&!l.render&&!l.template&&(l.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const d=n(a,!1,b2(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),d},t};function b2(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function _2(e){return jn(e)?document.querySelector(e):e}function ko(e,t,n,s){return Object.defineProperty(e,t,{get:n,set:s,enumerable:!0}),e}const Gi=Pe(!1);let Wd;function C2(e,t){const n=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(vivaldi)[\/]([\w.]+)/.exec(e)||/(chrome|crios)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(firefox|fxios)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(e)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[4]||n[2]||"0",platform:t[0]||""}}function S2(e){return/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[]}const gm="ontouchstart"in window||window.navigator.maxTouchPoints>0;function E2(e){const t=e.toLowerCase(),n=S2(t),s=C2(t,n),a={mobile:!1,desktop:!1,cordova:!1,capacitor:!1,nativeMobile:!1,electron:!1,bex:!1,linux:!1,mac:!1,win:!1,cros:!1,chrome:!1,firefox:!1,opera:!1,safari:!1,vivaldi:!1,edge:!1,edgeChromium:!1,ie:!1,webkit:!1,android:!1,ios:!1,ipad:!1,iphone:!1,ipod:!1,kindle:!1,winphone:!1,blackberry:!1,playbook:!1,silk:!1};s.browser&&(a[s.browser]=!0,a.version=s.version,a.versionNumber=parseInt(s.version,10)),s.platform&&(a[s.platform]=!0);const l=a.android||a.ios||a.bb||a.blackberry||a.ipad||a.iphone||a.ipod||a.kindle||a.playbook||a.silk||a["windows phone"];if(l===!0||t.indexOf("mobile")!==-1?a.mobile=!0:a.desktop=!0,a["windows phone"]&&(a.winphone=!0,delete a["windows phone"]),a.edga||a.edgios||a.edg?(a.edge=!0,s.browser="edge"):a.crios?(a.chrome=!0,s.browser="chrome"):a.fxios&&(a.firefox=!0,s.browser="firefox"),(a.ipod||a.ipad||a.iphone)&&(a.ios=!0),a.vivaldi&&(s.browser="vivaldi",a.vivaldi=!0),(a.chrome||a.opr||a.safari||a.vivaldi||a.mobile===!0&&a.ios!==!0&&l!==!0)&&(a.webkit=!0),a.opr&&(s.browser="opera",a.opera=!0),a.safari&&(a.blackberry||a.bb?(s.browser="blackberry",a.blackberry=!0):a.playbook?(s.browser="playbook",a.playbook=!0):a.android?(s.browser="android",a.android=!0):a.kindle?(s.browser="kindle",a.kindle=!0):a.silk&&(s.browser="silk",a.silk=!0)),a.name=s.browser,a.platform=s.platform,t.indexOf("electron")!==-1)a.electron=!0;else if(document.location.href.indexOf("-extension://")!==-1)a.bex=!0;else{if(window.Capacitor!==void 0?(a.capacitor=!0,a.nativeMobile=!0,a.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(a.cordova=!0,a.nativeMobile=!0,a.nativeMobileWrapper="cordova"),Gi.value===!0&&(Wd={is:{...a}}),gm===!0&&a.mac===!0&&(a.desktop===!0&&a.safari===!0||a.nativeMobile===!0&&a.android!==!0&&a.ios!==!0&&a.ipad!==!0)){delete a.mac,delete a.desktop;const d=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(a,{mobile:!0,ios:!0,platform:d,[d]:!0})}a.mobile!==!0&&window.navigator.userAgentData&&window.navigator.userAgentData.mobile&&(delete a.desktop,a.mobile=!0)}return a}const Zh=navigator.userAgent||navigator.vendor||window.opera,A2={has:{touch:!1,webStorage:!1},within:{iframe:!1}},pn={userAgent:Zh,is:E2(Zh),has:{touch:gm},within:{iframe:window.self!==window.top}},Bu={install(e){const{$q:t}=e;Gi.value===!0?(e.onSSRHydrated.push(()=>{Object.assign(t.platform,pn),Gi.value=!1}),t.platform=Io(this)):t.platform=this}};{let e;ko(pn.has,"webStorage",()=>{if(e!==void 0)return e;try{if(window.localStorage)return e=!0,!0}catch{}return e=!1,!1}),Object.assign(Bu,pn),Gi.value===!0&&(Object.assign(Bu,Wd,A2),Wd=null)}function Zt(e){return Oo(Gs(e))}function cc(e){return Oo(e)}const Bl=(e,t)=>{const n=Io(e);for(const s in e)ko(t,s,()=>n[s],a=>{n[s]=a});return t},vr={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const e=Object.defineProperty({},"passive",{get(){Object.assign(vr,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,e),window.removeEventListener("qtest",null,e)}catch{}function ds(){}function mm(e){return e.button===0}function _o(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]?e=e.changedTouches[0]:e.targetTouches&&e.targetTouches[0]&&(e=e.targetTouches[0]),{top:e.clientY,left:e.clientX}}function T2(e){if(e.path)return e.path;if(e.composedPath)return e.composedPath();const t=[];let n=e.target;for(;n;){if(t.push(n),n.tagName==="HTML")return t.push(document),t.push(window),t;n=n.parentElement}}function ii(e){e.stopPropagation()}function Hr(e){e.cancelable!==!1&&e.preventDefault()}function yn(e){e.cancelable!==!1&&e.preventDefault(),e.stopPropagation()}function ca(e,t){if(e===void 0||t===!0&&e.__dragPrevented===!0)return;const n=t===!0?s=>{s.__dragPrevented=!0,s.addEventListener("dragstart",Hr,vr.notPassiveCapture)}:s=>{delete s.__dragPrevented,s.removeEventListener("dragstart",Hr,vr.notPassiveCapture)};e.querySelectorAll("a, img").forEach(n)}function Ei(e,t,n){const s=`__q_${t}_evt`;e[s]=e[s]!==void 0?e[s].concat(n):n,n.forEach(a=>{a[0].addEventListener(a[1],e[a[2]],vr[a[3]])})}function $s(e,t){const n=`__q_${t}_evt`;e[n]!==void 0&&(e[n].forEach(s=>{s[0].removeEventListener(s[1],e[s[2]],vr[s[3]])}),e[n]=void 0)}function Nf(e,t=250,n){let s=null;function a(){const l=arguments,d=()=>{s=null,n!==!0&&e.apply(this,l)};s!==null?clearTimeout(s):n===!0&&e.apply(this,l),s=setTimeout(d,t)}return a.cancel=()=>{s!==null&&clearTimeout(s)},a}const id=["sm","md","lg","xl"],{passive:Qh}=vr;var I2=Bl({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:ds,setDebounce:ds,install({$q:e,onSSRHydrated:t}){if(e.screen=this,this.__installed===!0){e.config.screen!==void 0&&(e.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:n}=window,s=n||window,a=document.scrollingElement||document.documentElement,l=n===void 0||pn.is.mobile===!0?()=>[Math.max(window.innerWidth,a.clientWidth),Math.max(window.innerHeight,a.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-a.clientWidth,n.height*n.scale+window.innerHeight-a.clientHeight],d=e.config.screen!==void 0&&e.config.screen.bodyClasses===!0;this.__update=y=>{const[_,b]=l();if(b!==this.height&&(this.height=b),_!==this.width)this.width=_;else if(y!==!0)return;let T=this.sizes;this.gt.xs=_>=T.sm,this.gt.sm=_>=T.md,this.gt.md=_>=T.lg,this.gt.lg=_>=T.xl,this.lt.sm=_<T.sm,this.lt.md=_<T.md,this.lt.lg=_<T.lg,this.lt.xl=_<T.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,T=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",T!==this.name&&(d===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${T}`)),this.name=T)};let h,g={},m=16;this.setSizes=y=>{id.forEach(_=>{y[_]!==void 0&&(g[_]=y[_])})},this.setDebounce=y=>{m=y};const v=()=>{const y=getComputedStyle(document.body);y.getPropertyValue("--q-size-sm")&&id.forEach(_=>{this.sizes[_]=parseInt(y.getPropertyValue(`--q-size-${_}`),10)}),this.setSizes=_=>{id.forEach(b=>{_[b]&&(this.sizes[b]=_[b])}),this.__update(!0)},this.setDebounce=_=>{h!==void 0&&s.removeEventListener("resize",h,Qh),h=_>0?Nf(this.__update,_):this.__update,s.addEventListener("resize",h,Qh)},this.setDebounce(m),Object.keys(g).length!==0?(this.setSizes(g),g=void 0):this.__update(),d===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};Gi.value===!0?t.push(v):v()}});const Nr=Bl({isActive:!1,mode:!1},{__media:void 0,set(e){Nr.mode=e,e==="auto"?(Nr.__media===void 0&&(Nr.__media=window.matchMedia("(prefers-color-scheme: dark)"),Nr.__updateMedia=()=>{Nr.set("auto")},Nr.__media.addListener(Nr.__updateMedia)),e=Nr.__media.matches):Nr.__media!==void 0&&(Nr.__media.removeListener(Nr.__updateMedia),Nr.__media=void 0),Nr.isActive=e===!0,document.body.classList.remove(`body--${e===!0?"light":"dark"}`),document.body.classList.add(`body--${e===!0?"dark":"light"}`)},toggle(){Nr.set(Nr.isActive===!1)},install({$q:e,ssrContext:t}){const{dark:n}=e.config;e.dark=this,this.__installed!==!0&&this.set(n!==void 0?n:!1)}});function O2(e,t,n=document.body){if(typeof e!="string")throw new TypeError("Expected a string as propName");if(typeof t!="string")throw new TypeError("Expected a string as value");if(!(n instanceof Element))throw new TypeError("Expected a DOM element");n.style.setProperty(`--q-${e}`,t)}let vm=!1;function D2(e){vm=e.isComposing===!0}function dc(e){return vm===!0||e!==Object(e)||e.isComposing===!0||e.qKeyEvent===!0}function Yi(e,t){return dc(e)===!0?!1:[].concat(t).includes(e.keyCode)}function pm(e){if(e.ios===!0)return"ios";if(e.android===!0)return"android"}function k2({is:e,has:t,within:n},s){const a=[e.desktop===!0?"desktop":"mobile",`${t.touch===!1?"no-":""}touch`];if(e.mobile===!0){const l=pm(e);l!==void 0&&a.push("platform-"+l)}if(e.nativeMobile===!0){const l=e.nativeMobileWrapper;a.push(l),a.push("native-mobile"),e.ios===!0&&(s[l]===void 0||s[l].iosStatusBarPadding!==!1)&&a.push("q-ios-padding")}else e.electron===!0?a.push("electron"):e.bex===!0&&a.push("bex");return n.iframe===!0&&a.push("within-iframe"),a}function R2(){const{is:e}=pn,t=document.body.className,n=new Set(t.replace(/ {2}/g," ").split(" "));if(e.nativeMobile!==!0&&e.electron!==!0&&e.bex!==!0){if(e.desktop===!0)n.delete("mobile"),n.delete("platform-ios"),n.delete("platform-android"),n.add("desktop");else if(e.mobile===!0){n.delete("desktop"),n.add("mobile"),n.delete("platform-ios"),n.delete("platform-android");const a=pm(e);a!==void 0&&n.add(`platform-${a}`)}}pn.has.touch===!0&&(n.delete("no-touch"),n.add("touch")),pn.within.iframe===!0&&n.add("within-iframe");const s=Array.from(n).join(" ");t!==s&&(document.body.className=s)}function M2(e){for(const t in e)O2(t,e[t])}var N2={install(e){if(this.__installed!==!0){if(Gi.value===!0)R2();else{const{$q:t}=e;t.config.brand!==void 0&&M2(t.config.brand);const n=k2(pn,t.config);document.body.classList.add.apply(document.body.classList,n)}pn.is.ios===!0&&document.body.addEventListener("touchstart",ds),window.addEventListener("keydown",D2,!0)}}};const wm=()=>!0;function P2(e){return typeof e=="string"&&e!==""&&e!=="/"&&e!=="#/"}function L2(e){return e.startsWith("#")===!0&&(e=e.substring(1)),e.startsWith("/")===!1&&(e="/"+e),e.endsWith("/")===!0&&(e=e.substring(0,e.length-1)),"#"+e}function B2(e){if(e.backButtonExit===!1)return()=>!1;if(e.backButtonExit==="*")return wm;const t=["#/"];return Array.isArray(e.backButtonExit)===!0&&t.push(...e.backButtonExit.filter(P2).map(L2)),()=>t.includes(window.location.hash)}var Gd={__history:[],add:ds,remove:ds,install({$q:e}){if(this.__installed===!0)return;const{cordova:t,capacitor:n}=pn.is;if(t!==!0&&n!==!0)return;const s=e.config[t===!0?"cordova":"capacitor"];if(s!==void 0&&s.backButton===!1||n===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=d=>{d.condition===void 0&&(d.condition=wm),this.__history.push(d)},this.remove=d=>{const h=this.__history.indexOf(d);h>=0&&this.__history.splice(h,1)};const a=B2(Object.assign({backButtonExit:!0},s)),l=()=>{if(this.__history.length){const d=this.__history[this.__history.length-1];d.condition()===!0&&(this.__history.pop(),d.handler())}else a()===!0?navigator.app.exitApp():window.history.back()};t===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",l,!1)}):window.Capacitor.Plugins.App.addListener("backButton",l)}},Yd={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:e=>e?`Expand "${e}"`:"Expand",collapse:e=>e?`Collapse "${e}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:e=>e===1?"1 record selected.":(e===0?"No":e)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(e,t,n)=>e+"-"+t+" of "+n,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function Jh(){const e=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof e=="string")return e.split(/[-_]/).map((t,n)=>n===0?t.toLowerCase():n>1||t.length<4?t.toUpperCase():t[0].toUpperCase()+t.slice(1).toLowerCase()).join("-")}const qi=Bl({__qLang:{}},{getLocale:Jh,set(e=Yd,t){const n={...e,rtl:e.rtl===!0,getLocale:Jh};{if(n.set=qi.set,qi.__langConfig===void 0||qi.__langConfig.noHtmlAttrs!==!0){const s=document.documentElement;s.setAttribute("dir",n.rtl===!0?"rtl":"ltr"),s.setAttribute("lang",n.isoName)}Object.assign(qi.__qLang,n)}},install({$q:e,lang:t,ssrContext:n}){e.lang=qi.__qLang,qi.__langConfig=e.config.lang,this.__installed===!0?t!==void 0&&this.set(t):(this.props=new Proxy(this.__qLang,{get(){return Reflect.get(...arguments)},ownKeys(s){return Reflect.ownKeys(s).filter(a=>a!=="set"&&a!=="getLocale")}}),this.set(t||Yd))}});var F2={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}};const Fu=Bl({iconMapFn:null,__qIconSet:{}},{set(e,t){const n={...e};n.set=Fu.set,Object.assign(Fu.__qIconSet,n)},install({$q:e,iconSet:t,ssrContext:n}){e.config.iconMapFn!==void 0&&(this.iconMapFn=e.config.iconMapFn),e.iconSet=this.__qIconSet,ko(e,"iconMapFn",()=>this.iconMapFn,s=>{this.iconMapFn=s}),this.__installed===!0?t!==void 0&&this.set(t):(this.props=new Proxy(this.__qIconSet,{get(){return Reflect.get(...arguments)},ownKeys(s){return Reflect.ownKeys(s).filter(a=>a!=="set")}}),this.set(t||F2))}}),ym="_q_",xm="_q_l_",V2="_q_pc_",bm="_q_fo_",_m="_q_tabs_";function mi(){}const Vu={};let Cm=!1;function $2(){Cm=!0}function us(e,t){if(e===t)return!0;if(e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,s;if(e.constructor===Array){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(us(e[s],t[s])!==!0)return!1;return!0}if(e.constructor===Map){if(e.size!==t.size)return!1;let l=e.entries();for(s=l.next();s.done!==!0;){if(t.has(s.value[0])!==!0)return!1;s=l.next()}for(l=e.entries(),s=l.next();s.done!==!0;){if(us(s.value[1],t.get(s.value[0]))!==!0)return!1;s=l.next()}return!0}if(e.constructor===Set){if(e.size!==t.size)return!1;const l=e.entries();for(s=l.next();s.done!==!0;){if(t.has(s.value[0])!==!0)return!1;s=l.next()}return!0}if(e.buffer!=null&&e.buffer.constructor===ArrayBuffer){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const a=Object.keys(e).filter(l=>e[l]!==void 0);if(n=a.length,n!==Object.keys(t).filter(l=>t[l]!==void 0).length)return!1;for(s=n;s--!==0;){const l=a[s];if(us(e[l],t[l])!==!0)return!1}return!0}return e!==e&&t!==t}function ei(e){return e!==null&&typeof e=="object"&&Array.isArray(e)!==!0}const e0=[Bu,N2,Nr,I2,Gd,qi,Fu];function Pf(e,t){const n=hm(e);n.config.globalProperties=t.config.globalProperties;const{reload:s,...a}=t._context;return Object.assign(n._context,a),n}function t0(e,t){t.forEach(n=>{n.install(e),n.__installed=!0})}function q2(e,t,n){e.config.globalProperties.$q=n.$q,e.provide(ym,n.$q),t0(n,e0),t.components!==void 0&&Object.values(t.components).forEach(s=>{ei(s)===!0&&s.name!==void 0&&e.component(s.name,s)}),t.directives!==void 0&&Object.values(t.directives).forEach(s=>{ei(s)===!0&&s.name!==void 0&&e.directive(s.name,s)}),t.plugins!==void 0&&t0(n,Object.values(t.plugins).filter(s=>typeof s.install=="function"&&e0.includes(s)===!1)),Gi.value===!0&&(n.$q.onSSRHydrated=()=>{n.onSSRHydrated.forEach(s=>{s()}),n.$q.onSSRHydrated=()=>{}})}var U2=function(e,t={}){const n={version:"2.17.4"};Cm===!1?(t.config!==void 0&&Object.assign(Vu,t.config),n.config={...Vu},$2()):n.config=t.config||{},q2(e,t,{parentApp:e,$q:n,lang:t.lang,iconSet:t.iconSet,onSSRHydrated:[]})},j2={name:"Quasar",version:"2.17.4",install:U2,lang:qi,iconSet:Fu},Oa=(e,t)=>{const n=e.__vccOpts||e;for(const[s,a]of t)n[s]=a;return n};const H2=Gs({name:"App"});function z2(e,t,n,s,a,l){const d=Jw("router-view");return Ae(),pt(d)}var W2=Oa(H2,[["render",z2]]);function QT(e){return e}var G2=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Sm;const fc=e=>Sm=e,Em=Symbol();function Xd(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ml;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ml||(ml={}));function Y2(){const e=tg(!0),t=e.run(()=>Pe({}));let n=[],s=[];const a=Oo({install(l){fc(a),a._a=l,l.provide(Em,a),l.config.globalProperties.$pinia=a,s.forEach(d=>n.push(d)),s=[]},use(l){return!this._a&&!G2?s.push(l):n.push(l),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return a}const Am=()=>{};function n0(e,t,n,s=Am){e.push(t);const a=()=>{const l=e.indexOf(t);l>-1&&(e.splice(l,1),s())};return!n&&ng()&&uw(a),a}function Wo(e,...t){e.slice().forEach(n=>{n(...t)})}const X2=e=>e(),r0=Symbol(),sd=Symbol();function Kd(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,s)=>e.set(s,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],a=e[n];Xd(a)&&Xd(s)&&e.hasOwnProperty(n)&&!Jn(s)&&!Vs(s)?e[n]=Kd(a,s):e[n]=s}return e}const K2=Symbol();function Z2(e){return!Xd(e)||!e.hasOwnProperty(K2)}const{assign:As}=Object;function Q2(e){return!!(Jn(e)&&e.effect)}function J2(e,t,n,s){const{state:a,actions:l,getters:d}=t,h=n.state.value[e];let g;function m(){h||(n.state.value[e]=a?a():{});const v=Rw(n.state.value[e]);return As(v,l,Object.keys(d||{}).reduce((y,_)=>(y[_]=Oo(G(()=>{fc(n);const b=n._s.get(e);return d[_].call(b,b)})),y),{}))}return g=Tm(e,m,t,n,s,!0),g}function Tm(e,t,n={},s,a,l){let d;const h=As({actions:{}},n),g={deep:!0};let m,v,y=[],_=[],b;const T=s.state.value[e];!l&&!T&&(s.state.value[e]={}),Pe({});let M;function $(J){let B;m=v=!1,typeof J=="function"?(J(s.state.value[e]),B={type:ml.patchFunction,storeId:e,events:b}):(Kd(s.state.value[e],J),B={type:ml.patchObject,payload:J,storeId:e,events:b});const de=M=Symbol();Cn().then(()=>{M===de&&(m=!0)}),v=!0,Wo(y,B,s.state.value[e])}const Z=l?function(){const{state:B}=n,de=B?B():{};this.$patch(me=>{As(me,de)})}:Am;function j(){d.stop(),y=[],_=[],s._s.delete(e)}const D=(J,B="")=>{if(r0 in J)return J[sd]=B,J;const de=function(){fc(s);const me=Array.from(arguments),q=[],be=[];function ne(Ce){q.push(Ce)}function Q(Ce){be.push(Ce)}Wo(_,{args:me,name:de[sd],store:L,after:ne,onError:Q});let Ne;try{Ne=J.apply(this&&this.$id===e?this:L,me)}catch(Ce){throw Wo(be,Ce),Ce}return Ne instanceof Promise?Ne.then(Ce=>(Wo(q,Ce),Ce)).catch(Ce=>(Wo(be,Ce),Promise.reject(Ce))):(Wo(q,Ne),Ne)};return de[r0]=!0,de[sd]=B,de},C={_p:s,$id:e,$onAction:n0.bind(null,_),$patch:$,$reset:Z,$subscribe(J,B={}){const de=n0(y,J,B.detached,()=>me()),me=d.run(()=>bt(()=>s.state.value[e],q=>{(B.flush==="sync"?v:m)&&J({storeId:e,type:ml.direct,events:b},q)},As({},g,B)));return de},$dispose:j},L=Io(C);s._s.set(e,L);const N=(s._a&&s._a.runWithContext||X2)(()=>s._e.run(()=>(d=tg()).run(()=>t({action:D}))));for(const J in N){const B=N[J];if(Jn(B)&&!Q2(B)||Vs(B))l||(T&&Z2(B)&&(Jn(B)?B.value=T[J]:Kd(B,T[J])),s.state.value[e][J]=B);else if(typeof B=="function"){const de=D(B,J);N[J]=de,h.actions[J]=B}}return As(L,N),As(zt(L),N),Object.defineProperty(L,"$state",{get:()=>s.state.value[e],set:J=>{$(B=>{As(B,J)})}}),s._p.forEach(J=>{As(L,d.run(()=>J({store:L,app:s._a,pinia:s,options:h})))}),T&&l&&n.hydrate&&n.hydrate(L.$state,T),m=!0,v=!0,L}/*! #__NO_SIDE_EFFECTS__ */function gs(e,t,n){let s,a;const l=typeof t=="function";typeof e=="string"?(s=e,a=l?n:t):(a=e,s=e.id);function d(h,g){const m=dy();return h=h||(m?Dr(Em,null):null),h&&fc(h),h=Sm,h._s.has(s)||(l?Tm(s,t,a,h):J2(s,a,h)),h._s.get(s)}return d.$id=s,d}var od=()=>Y2();/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ra=typeof document!="undefined";function Im(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ex(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Im(e.default)}const gn=Object.assign;function ad(e,t){const n={};for(const s in t){const a=t[s];n[s]=Oi(a)?a.map(e):e(a)}return n}const vl=()=>{},Oi=Array.isArray,Om=/#/g,tx=/&/g,nx=/\//g,rx=/=/g,ix=/\?/g,Dm=/\+/g,sx=/%5B/g,ox=/%5D/g,km=/%5E/g,ax=/%60/g,Rm=/%7B/g,lx=/%7C/g,Mm=/%7D/g,ux=/%20/g;function Lf(e){return encodeURI(""+e).replace(lx,"|").replace(sx,"[").replace(ox,"]")}function cx(e){return Lf(e).replace(Rm,"{").replace(Mm,"}").replace(km,"^")}function Zd(e){return Lf(e).replace(Dm,"%2B").replace(ux,"+").replace(Om,"%23").replace(tx,"%26").replace(ax,"`").replace(Rm,"{").replace(Mm,"}").replace(km,"^")}function dx(e){return Zd(e).replace(rx,"%3D")}function fx(e){return Lf(e).replace(Om,"%23").replace(ix,"%3F")}function hx(e){return e==null?"":fx(e).replace(nx,"%2F")}function Tl(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const gx=/\/$/,mx=e=>e.replace(gx,"");function ld(e,t,n="/"){let s,a={},l="",d="";const h=t.indexOf("#");let g=t.indexOf("?");return h<g&&h>=0&&(g=-1),g>-1&&(s=t.slice(0,g),l=t.slice(g+1,h>-1?h:t.length),a=e(l)),h>-1&&(s=s||t.slice(0,h),d=t.slice(h,t.length)),s=yx(s!=null?s:t,n),{fullPath:s+(l&&"?")+l+d,path:s,query:a,hash:Tl(d)}}function vx(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function i0(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function px(e,t,n){const s=t.matched.length-1,a=n.matched.length-1;return s>-1&&s===a&&ba(t.matched[s],n.matched[a])&&Nm(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ba(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Nm(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!wx(e[n],t[n]))return!1;return!0}function wx(e,t){return Oi(e)?s0(e,t):Oi(t)?s0(t,e):e===t}function s0(e,t){return Oi(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function yx(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),a=s[s.length-1];(a===".."||a===".")&&s.push("");let l=n.length-1,d,h;for(d=0;d<s.length;d++)if(h=s[d],h!==".")if(h==="..")l>1&&l--;else break;return n.slice(0,l).join("/")+"/"+s.slice(d).join("/")}const _s={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Il;(function(e){e.pop="pop",e.push="push"})(Il||(Il={}));var pl;(function(e){e.back="back",e.forward="forward",e.unknown=""})(pl||(pl={}));function xx(e){if(!e)if(ra){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),mx(e)}const bx=/^[^#]+#/;function _x(e,t){return e.replace(bx,"#")+t}function Cx(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const hc=()=>({left:window.scrollX,top:window.scrollY});function Sx(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=Cx(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function o0(e,t){return(history.state?history.state.position-t:-1)+e}const Qd=new Map;function Ex(e,t){Qd.set(e,t)}function Ax(e){const t=Qd.get(e);return Qd.delete(e),t}let Tx=()=>location.protocol+"//"+location.host;function Pm(e,t){const{pathname:n,search:s,hash:a}=t,l=e.indexOf("#");if(l>-1){let h=a.includes(e.slice(l))?e.slice(l).length:1,g=a.slice(h);return g[0]!=="/"&&(g="/"+g),i0(g,"")}return i0(n,e)+s+a}function Ix(e,t,n,s){let a=[],l=[],d=null;const h=({state:_})=>{const b=Pm(e,location),T=n.value,M=t.value;let $=0;if(_){if(n.value=b,t.value=_,d&&d===T){d=null;return}$=M?_.position-M.position:0}else s(b);a.forEach(Z=>{Z(n.value,T,{delta:$,type:Il.pop,direction:$?$>0?pl.forward:pl.back:pl.unknown})})};function g(){d=n.value}function m(_){a.push(_);const b=()=>{const T=a.indexOf(_);T>-1&&a.splice(T,1)};return l.push(b),b}function v(){const{history:_}=window;!_.state||_.replaceState(gn({},_.state,{scroll:hc()}),"")}function y(){for(const _ of l)_();l=[],window.removeEventListener("popstate",h),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",h),window.addEventListener("beforeunload",v,{passive:!0}),{pauseListeners:g,listen:m,destroy:y}}function a0(e,t,n,s=!1,a=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:a?hc():null}}function Ox(e){const{history:t,location:n}=window,s={value:Pm(e,n)},a={value:t.state};a.value||l(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(g,m,v){const y=e.indexOf("#"),_=y>-1?(n.host&&document.querySelector("base")?e:e.slice(y))+g:Tx()+e+g;try{t[v?"replaceState":"pushState"](m,"",_),a.value=m}catch(b){console.error(b),n[v?"replace":"assign"](_)}}function d(g,m){const v=gn({},t.state,a0(a.value.back,g,a.value.forward,!0),m,{position:a.value.position});l(g,v,!0),s.value=g}function h(g,m){const v=gn({},a.value,t.state,{forward:g,scroll:hc()});l(v.current,v,!0);const y=gn({},a0(s.value,g,null),{position:v.position+1},m);l(g,y,!1),s.value=g}return{location:s,state:a,push:h,replace:d}}function Dx(e){e=xx(e);const t=Ox(e),n=Ix(e,t.state,t.location,t.replace);function s(l,d=!0){d||n.pauseListeners(),history.go(l)}const a=gn({location:"",base:e,go:s,createHref:_x.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function kx(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Dx(e)}function Rx(e){return typeof e=="string"||e&&typeof e=="object"}function Lm(e){return typeof e=="string"||typeof e=="symbol"}const Bm=Symbol("");var l0;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(l0||(l0={}));function _a(e,t){return gn(new Error,{type:e,[Bm]:!0},t)}function rs(e,t){return e instanceof Error&&Bm in e&&(t==null||!!(e.type&t))}const u0="[^/]+?",Mx={sensitive:!1,strict:!1,start:!0,end:!0},Nx=/[.+*?^${}()[\]/\\]/g;function Px(e,t){const n=gn({},Mx,t),s=[];let a=n.start?"^":"";const l=[];for(const m of e){const v=m.length?[]:[90];n.strict&&!m.length&&(a+="/");for(let y=0;y<m.length;y++){const _=m[y];let b=40+(n.sensitive?.25:0);if(_.type===0)y||(a+="/"),a+=_.value.replace(Nx,"\\$&"),b+=40;else if(_.type===1){const{value:T,repeatable:M,optional:$,regexp:Z}=_;l.push({name:T,repeatable:M,optional:$});const j=Z||u0;if(j!==u0){b+=10;try{new RegExp(`(${j})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${T}" (${j}): `+C.message)}}let D=M?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;y||(D=$&&m.length<2?`(?:/${D})`:"/"+D),$&&(D+="?"),a+=D,b+=20,$&&(b+=-8),M&&(b+=-20),j===".*"&&(b+=-50)}v.push(b)}s.push(v)}if(n.strict&&n.end){const m=s.length-1;s[m][s[m].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const d=new RegExp(a,n.sensitive?"":"i");function h(m){const v=m.match(d),y={};if(!v)return null;for(let _=1;_<v.length;_++){const b=v[_]||"",T=l[_-1];y[T.name]=b&&T.repeatable?b.split("/"):b}return y}function g(m){let v="",y=!1;for(const _ of e){(!y||!v.endsWith("/"))&&(v+="/"),y=!1;for(const b of _)if(b.type===0)v+=b.value;else if(b.type===1){const{value:T,repeatable:M,optional:$}=b,Z=T in m?m[T]:"";if(Oi(Z)&&!M)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const j=Oi(Z)?Z.join("/"):Z;if(!j)if($)_.length<2&&(v.endsWith("/")?v=v.slice(0,-1):y=!0);else throw new Error(`Missing required param "${T}"`);v+=j}}return v||"/"}return{re:d,score:s,keys:l,parse:h,stringify:g}}function Lx(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Fm(e,t){let n=0;const s=e.score,a=t.score;for(;n<s.length&&n<a.length;){const l=Lx(s[n],a[n]);if(l)return l;n++}if(Math.abs(a.length-s.length)===1){if(c0(s))return 1;if(c0(a))return-1}return a.length-s.length}function c0(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Bx={type:0,value:""},Fx=/[a-zA-Z0-9_]/;function Vx(e){if(!e)return[[]];if(e==="/")return[[Bx]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${n})/"${m}": ${b}`)}let n=0,s=n;const a=[];let l;function d(){l&&a.push(l),l=[]}let h=0,g,m="",v="";function y(){!m||(n===0?l.push({type:0,value:m}):n===1||n===2||n===3?(l.length>1&&(g==="*"||g==="+")&&t(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:m,regexp:v,repeatable:g==="*"||g==="+",optional:g==="*"||g==="?"})):t("Invalid state to consume buffer"),m="")}function _(){m+=g}for(;h<e.length;){if(g=e[h++],g==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:g==="/"?(m&&y(),d()):g===":"?(y(),n=1):_();break;case 4:_(),n=s;break;case 1:g==="("?n=2:Fx.test(g)?_():(y(),n=0,g!=="*"&&g!=="?"&&g!=="+"&&h--);break;case 2:g===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+g:n=3:v+=g;break;case 3:y(),n=0,g!=="*"&&g!=="?"&&g!=="+"&&h--,v="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${m}"`),y(),d(),a}function $x(e,t,n){const s=Px(Vx(e.path),n),a=gn(s,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function qx(e,t){const n=[],s=new Map;t=g0({strict:!1,end:!0,sensitive:!1},t);function a(y){return s.get(y)}function l(y,_,b){const T=!b,M=f0(y);M.aliasOf=b&&b.record;const $=g0(t,y),Z=[M];if("alias"in y){const C=typeof y.alias=="string"?[y.alias]:y.alias;for(const L of C)Z.push(f0(gn({},M,{components:b?b.record.components:M.components,path:L,aliasOf:b?b.record:M})))}let j,D;for(const C of Z){const{path:L}=C;if(_&&L[0]!=="/"){const K=_.record.path,N=K[K.length-1]==="/"?"":"/";C.path=_.record.path+(L&&N+L)}if(j=$x(C,_,$),b?b.alias.push(j):(D=D||j,D!==j&&D.alias.push(j),T&&y.name&&!h0(j)&&d(y.name)),Vm(j)&&g(j),M.children){const K=M.children;for(let N=0;N<K.length;N++)l(K[N],j,b&&b.children[N])}b=b||j}return D?()=>{d(D)}:vl}function d(y){if(Lm(y)){const _=s.get(y);_&&(s.delete(y),n.splice(n.indexOf(_),1),_.children.forEach(d),_.alias.forEach(d))}else{const _=n.indexOf(y);_>-1&&(n.splice(_,1),y.record.name&&s.delete(y.record.name),y.children.forEach(d),y.alias.forEach(d))}}function h(){return n}function g(y){const _=Hx(y,n);n.splice(_,0,y),y.record.name&&!h0(y)&&s.set(y.record.name,y)}function m(y,_){let b,T={},M,$;if("name"in y&&y.name){if(b=s.get(y.name),!b)throw _a(1,{location:y});$=b.record.name,T=gn(d0(_.params,b.keys.filter(D=>!D.optional).concat(b.parent?b.parent.keys.filter(D=>D.optional):[]).map(D=>D.name)),y.params&&d0(y.params,b.keys.map(D=>D.name))),M=b.stringify(T)}else if(y.path!=null)M=y.path,b=n.find(D=>D.re.test(M)),b&&(T=b.parse(M),$=b.record.name);else{if(b=_.name?s.get(_.name):n.find(D=>D.re.test(_.path)),!b)throw _a(1,{location:y,currentLocation:_});$=b.record.name,T=gn({},_.params,y.params),M=b.stringify(T)}const Z=[];let j=b;for(;j;)Z.unshift(j.record),j=j.parent;return{name:$,path:M,params:T,matched:Z,meta:jx(Z)}}e.forEach(y=>l(y));function v(){n.length=0,s.clear()}return{addRoute:l,resolve:m,removeRoute:d,clearRoutes:v,getRoutes:h,getRecordMatcher:a}}function d0(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function f0(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Ux(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Ux(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function h0(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function jx(e){return e.reduce((t,n)=>gn(t,n.meta),{})}function g0(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Hx(e,t){let n=0,s=t.length;for(;n!==s;){const l=n+s>>1;Fm(e,t[l])<0?s=l:n=l+1}const a=zx(e);return a&&(s=t.lastIndexOf(a,s-1)),s}function zx(e){let t=e;for(;t=t.parent;)if(Vm(t)&&Fm(e,t)===0)return t}function Vm({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Wx(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<s.length;++a){const l=s[a].replace(Dm," "),d=l.indexOf("="),h=Tl(d<0?l:l.slice(0,d)),g=d<0?null:Tl(l.slice(d+1));if(h in t){let m=t[h];Oi(m)||(m=t[h]=[m]),m.push(g)}else t[h]=g}return t}function m0(e){let t="";for(let n in e){const s=e[n];if(n=dx(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Oi(s)?s.map(l=>l&&Zd(l)):[s&&Zd(s)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+n,l!=null&&(t+="="+l))})}return t}function Gx(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Oi(s)?s.map(a=>a==null?null:""+a):s==null?s:""+s)}return t}const Yx=Symbol(""),v0=Symbol(""),gc=Symbol(""),$m=Symbol(""),Jd=Symbol("");function Za(){let e=[];function t(s){return e.push(s),()=>{const a=e.indexOf(s);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Rs(e,t,n,s,a,l=d=>d()){const d=s&&(s.enterCallbacks[a]=s.enterCallbacks[a]||[]);return()=>new Promise((h,g)=>{const m=_=>{_===!1?g(_a(4,{from:n,to:t})):_ instanceof Error?g(_):Rx(_)?g(_a(2,{from:t,to:_})):(d&&s.enterCallbacks[a]===d&&typeof _=="function"&&d.push(_),h())},v=l(()=>e.call(s&&s.instances[a],t,n,m));let y=Promise.resolve(v);e.length<3&&(y=y.then(m)),y.catch(_=>g(_))})}function ud(e,t,n,s,a=l=>l()){const l=[];for(const d of e)for(const h in d.components){let g=d.components[h];if(!(t!=="beforeRouteEnter"&&!d.instances[h]))if(Im(g)){const v=(g.__vccOpts||g)[t];v&&l.push(Rs(v,n,s,d,h,a))}else{let m=g();l.push(()=>m.then(v=>{if(!v)throw new Error(`Couldn't resolve component "${h}" at "${d.path}"`);const y=ex(v)?v.default:v;d.mods[h]=v,d.components[h]=y;const b=(y.__vccOpts||y)[t];return b&&Rs(b,n,s,d,h,a)()}))}}return l}function p0(e){const t=Dr(gc),n=Dr($m),s=G(()=>{const g=k(e.to);return t.resolve(g)}),a=G(()=>{const{matched:g}=s.value,{length:m}=g,v=g[m-1],y=n.matched;if(!v||!y.length)return-1;const _=y.findIndex(ba.bind(null,v));if(_>-1)return _;const b=w0(g[m-2]);return m>1&&w0(v)===b&&y[y.length-1].path!==b?y.findIndex(ba.bind(null,g[m-2])):_}),l=G(()=>a.value>-1&&Jx(n.params,s.value.params)),d=G(()=>a.value>-1&&a.value===n.matched.length-1&&Nm(n.params,s.value.params));function h(g={}){if(Qx(g)){const m=t[k(e.replace)?"replace":"push"](k(e.to)).catch(vl);return e.viewTransition&&typeof document!="undefined"&&"startViewTransition"in document&&document.startViewTransition(()=>m),m}return Promise.resolve()}return{route:s,href:G(()=>s.value.href),isActive:l,isExactActive:d,navigate:h}}function Xx(e){return e.length===1?e[0]:e}const Kx=Gs({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:p0,setup(e,{slots:t}){const n=Io(p0(e)),{options:s}=Dr(gc),a=G(()=>({[y0(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[y0(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const l=t.default&&Xx(t.default(n));return e.custom?l:z("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},l)}}}),Zx=Kx;function Qx(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Jx(e,t){for(const n in t){const s=t[n],a=e[n];if(typeof s=="string"){if(s!==a)return!1}else if(!Oi(a)||a.length!==s.length||s.some((l,d)=>l!==a[d]))return!1}return!0}function w0(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const y0=(e,t,n)=>e!=null?e:t!=null?t:n,eb=Gs({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Dr(Jd),a=G(()=>e.route||s.value),l=Dr(v0,0),d=G(()=>{let m=k(l);const{matched:v}=a.value;let y;for(;(y=v[m])&&!y.components;)m++;return m}),h=G(()=>a.value.matched[d.value]);ua(v0,G(()=>d.value+1)),ua(Yx,h),ua(Jd,a);const g=Pe();return bt(()=>[g.value,h.value,e.name],([m,v,y],[_,b,T])=>{v&&(v.instances[y]=m,b&&b!==v&&m&&m===_&&(v.leaveGuards.size||(v.leaveGuards=b.leaveGuards),v.updateGuards.size||(v.updateGuards=b.updateGuards))),m&&v&&(!b||!ba(v,b)||!_)&&(v.enterCallbacks[y]||[]).forEach(M=>M(m))},{flush:"post"}),()=>{const m=a.value,v=e.name,y=h.value,_=y&&y.components[v];if(!_)return x0(n.default,{Component:_,route:m});const b=y.props[v],T=b?b===!0?m.params:typeof b=="function"?b(m):b:null,$=z(_,gn({},T,t,{onVnodeUnmounted:Z=>{Z.component.isUnmounted&&(y.instances[v]=null)},ref:g}));return x0(n.default,{Component:$,route:m})||$}}});function x0(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const tb=eb;function nb(e){const t=qx(e.routes,e),n=e.parseQuery||Wx,s=e.stringifyQuery||m0,a=e.history,l=Za(),d=Za(),h=Za(),g=Ow(_s);let m=_s;ra&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=ad.bind(null,ue=>""+ue),y=ad.bind(null,hx),_=ad.bind(null,Tl);function b(ue,Be){let ve,Ge;return Lm(ue)?(ve=t.getRecordMatcher(ue),Ge=Be):Ge=ue,t.addRoute(Ge,ve)}function T(ue){const Be=t.getRecordMatcher(ue);Be&&t.removeRoute(Be)}function M(){return t.getRoutes().map(ue=>ue.record)}function $(ue){return!!t.getRecordMatcher(ue)}function Z(ue,Be){if(Be=gn({},Be||g.value),typeof ue=="string"){const Y=ld(n,ue,Be.path),fe=t.resolve({path:Y.path},Be),Fe=a.createHref(Y.fullPath);return gn(Y,fe,{params:_(fe.params),hash:Tl(Y.hash),redirectedFrom:void 0,href:Fe})}let ve;if(ue.path!=null)ve=gn({},ue,{path:ld(n,ue.path,Be.path).path});else{const Y=gn({},ue.params);for(const fe in Y)Y[fe]==null&&delete Y[fe];ve=gn({},ue,{params:y(Y)}),Be.params=y(Be.params)}const Ge=t.resolve(ve,Be),st=ue.hash||"";Ge.params=v(_(Ge.params));const wt=vx(s,gn({},ue,{hash:cx(st),path:Ge.path})),F=a.createHref(wt);return gn({fullPath:wt,hash:st,query:s===m0?Gx(ue.query):ue.query||{}},Ge,{redirectedFrom:void 0,href:F})}function j(ue){return typeof ue=="string"?ld(n,ue,g.value.path):gn({},ue)}function D(ue,Be){if(m!==ue)return _a(8,{from:Be,to:ue})}function C(ue){return N(ue)}function L(ue){return C(gn(j(ue),{replace:!0}))}function K(ue){const Be=ue.matched[ue.matched.length-1];if(Be&&Be.redirect){const{redirect:ve}=Be;let Ge=typeof ve=="function"?ve(ue):ve;return typeof Ge=="string"&&(Ge=Ge.includes("?")||Ge.includes("#")?Ge=j(Ge):{path:Ge},Ge.params={}),gn({query:ue.query,hash:ue.hash,params:Ge.path!=null?{}:ue.params},Ge)}}function N(ue,Be){const ve=m=Z(ue),Ge=g.value,st=ue.state,wt=ue.force,F=ue.replace===!0,Y=K(ve);if(Y)return N(gn(j(Y),{state:typeof Y=="object"?gn({},st,Y.state):st,force:wt,replace:F}),Be||ve);const fe=ve;fe.redirectedFrom=Be;let Fe;return!wt&&px(s,Ge,ve)&&(Fe=_a(16,{to:fe,from:Ge}),he(Ge,Ge,!0,!1)),(Fe?Promise.resolve(Fe):de(fe,Ge)).catch(_e=>rs(_e)?rs(_e,2)?_e:ht(_e):De(_e,fe,Ge)).then(_e=>{if(_e){if(rs(_e,2))return N(gn({replace:F},j(_e.to),{state:typeof _e.to=="object"?gn({},st,_e.to.state):st,force:wt}),Be||fe)}else _e=q(fe,Ge,!0,F,st);return me(fe,Ge,_e),_e})}function J(ue,Be){const ve=D(ue,Be);return ve?Promise.reject(ve):Promise.resolve()}function B(ue){const Be=ct.values().next().value;return Be&&typeof Be.runWithContext=="function"?Be.runWithContext(ue):ue()}function de(ue,Be){let ve;const[Ge,st,wt]=rb(ue,Be);ve=ud(Ge.reverse(),"beforeRouteLeave",ue,Be);for(const Y of Ge)Y.leaveGuards.forEach(fe=>{ve.push(Rs(fe,ue,Be))});const F=J.bind(null,ue,Be);return ve.push(F),ge(ve).then(()=>{ve=[];for(const Y of l.list())ve.push(Rs(Y,ue,Be));return ve.push(F),ge(ve)}).then(()=>{ve=ud(st,"beforeRouteUpdate",ue,Be);for(const Y of st)Y.updateGuards.forEach(fe=>{ve.push(Rs(fe,ue,Be))});return ve.push(F),ge(ve)}).then(()=>{ve=[];for(const Y of wt)if(Y.beforeEnter)if(Oi(Y.beforeEnter))for(const fe of Y.beforeEnter)ve.push(Rs(fe,ue,Be));else ve.push(Rs(Y.beforeEnter,ue,Be));return ve.push(F),ge(ve)}).then(()=>(ue.matched.forEach(Y=>Y.enterCallbacks={}),ve=ud(wt,"beforeRouteEnter",ue,Be,B),ve.push(F),ge(ve))).then(()=>{ve=[];for(const Y of d.list())ve.push(Rs(Y,ue,Be));return ve.push(F),ge(ve)}).catch(Y=>rs(Y,8)?Y:Promise.reject(Y))}function me(ue,Be,ve){h.list().forEach(Ge=>B(()=>Ge(ue,Be,ve)))}function q(ue,Be,ve,Ge,st){const wt=D(ue,Be);if(wt)return wt;const F=Be===_s,Y=ra?history.state:{};ve&&(Ge||F?a.replace(ue.fullPath,gn({scroll:F&&Y&&Y.scroll},st)):a.push(ue.fullPath,st)),g.value=ue,he(ue,Be,ve,F),ht()}let be;function ne(){be||(be=a.listen((ue,Be,ve)=>{if(!mt.listening)return;const Ge=Z(ue),st=K(Ge);if(st){N(gn(st,{replace:!0,force:!0}),Ge).catch(vl);return}m=Ge;const wt=g.value;ra&&Ex(o0(wt.fullPath,ve.delta),hc()),de(Ge,wt).catch(F=>rs(F,12)?F:rs(F,2)?(N(gn(j(F.to),{force:!0}),Ge).then(Y=>{rs(Y,20)&&!ve.delta&&ve.type===Il.pop&&a.go(-1,!1)}).catch(vl),Promise.reject()):(ve.delta&&a.go(-ve.delta,!1),De(F,Ge,wt))).then(F=>{F=F||q(Ge,wt,!1),F&&(ve.delta&&!rs(F,8)?a.go(-ve.delta,!1):ve.type===Il.pop&&rs(F,20)&&a.go(-1,!1)),me(Ge,wt,F)}).catch(vl)}))}let Q=Za(),Ne=Za(),Ce;function De(ue,Be,ve){ht(ue);const Ge=Ne.list();return Ge.length?Ge.forEach(st=>st(ue,Be,ve)):console.error(ue),Promise.reject(ue)}function tt(){return Ce&&g.value!==_s?Promise.resolve():new Promise((ue,Be)=>{Q.add([ue,Be])})}function ht(ue){return Ce||(Ce=!ue,ne(),Q.list().forEach(([Be,ve])=>ue?ve(ue):Be()),Q.reset()),ue}function he(ue,Be,ve,Ge){const{scrollBehavior:st}=e;if(!ra||!st)return Promise.resolve();const wt=!ve&&Ax(o0(ue.fullPath,0))||(Ge||!ve)&&history.state&&history.state.scroll||null;return Cn().then(()=>st(ue,Be,wt)).then(F=>F&&Sx(F)).catch(F=>De(F,ue,Be))}const se=ue=>a.go(ue);let Je;const ct=new Set,mt={currentRoute:g,listening:!0,addRoute:b,removeRoute:T,clearRoutes:t.clearRoutes,hasRoute:$,getRoutes:M,resolve:Z,options:e,push:C,replace:L,go:se,back:()=>se(-1),forward:()=>se(1),beforeEach:l.add,beforeResolve:d.add,afterEach:h.add,onError:Ne.add,isReady:tt,install(ue){const Be=this;ue.component("RouterLink",Zx),ue.component("RouterView",tb),ue.config.globalProperties.$router=Be,Object.defineProperty(ue.config.globalProperties,"$route",{enumerable:!0,get:()=>k(g)}),ra&&!Je&&g.value===_s&&(Je=!0,C(a.location).catch(st=>{}));const ve={};for(const st in _s)Object.defineProperty(ve,st,{get:()=>g.value[st],enumerable:!0});ue.provide(gc,Be),ue.provide($m,pg(ve)),ue.provide(Jd,g);const Ge=ue.unmount;ct.add(ue),ue.unmount=function(){ct.delete(ue),ct.size<1&&(m=_s,be&&be(),be=null,g.value=_s,Je=!1,Ce=!1),Ge()}}};function ge(ue){return ue.reduce((Be,ve)=>Be.then(()=>B(ve)),Promise.resolve())}return mt}function rb(e,t){const n=[],s=[],a=[],l=Math.max(t.matched.length,e.matched.length);for(let d=0;d<l;d++){const h=t.matched[d];h&&(e.matched.find(m=>ba(m,h))?s.push(h):n.push(h));const g=e.matched[d];g&&(t.matched.find(m=>ba(m,g))||a.push(g))}return[n,s,a]}function Bf(){return Dr(gc)}const ef={xs:18,sm:24,md:32,lg:38,xl:46},Da={size:String};function ka(e,t=ef){return G(()=>e.size!==void 0?{fontSize:e.size in t?`${t[e.size]}px`:e.size}:null)}function Pn(e,t){return e!==void 0&&e()||t}function ib(e,t){if(e!==void 0){const n=e();if(n!=null)return n.slice()}return t}function Ui(e,t){return e!==void 0?t.concat(e()):t}function qm(e,t){return e===void 0?t:t!==void 0?t.concat(e()):e()}function Um(e,t,n,s,a,l){t.key=s+a;const d=z(e,t,n);return a===!0?li(d,l()):d}const b0="0 0 24 24",_0=e=>e,cd=e=>`ionicons ${e}`,jm={"mdi-":e=>`mdi ${e}`,"icon-":_0,"bt-":e=>`bt ${e}`,"eva-":e=>`eva ${e}`,"ion-md":cd,"ion-ios":cd,"ion-logo":cd,"iconfont ":_0,"ti-":e=>`themify-icon ${e}`,"bi-":e=>`bootstrap-icons ${e}`},Hm={o_:"-outlined",r_:"-round",s_:"-sharp"},zm={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},sb=new RegExp("^("+Object.keys(jm).join("|")+")"),ob=new RegExp("^("+Object.keys(Hm).join("|")+")"),C0=new RegExp("^("+Object.keys(zm).join("|")+")"),ab=/^[Mm]\s?[-+]?\.?\d/,lb=/^img:/,ub=/^svguse:/,cb=/^ion-/,db=/^(fa-(classic|sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /;var Lt=Zt({name:"QIcon",props:{...Da,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=Gt(),s=ka(e),a=G(()=>"q-icon"+(e.left===!0?" on-left":"")+(e.right===!0?" on-right":"")+(e.color!==void 0?` text-${e.color}`:"")),l=G(()=>{let d,h=e.name;if(h==="none"||!h)return{none:!0};if(n.iconMapFn!==null){const v=n.iconMapFn(h);if(v!==void 0)if(v.icon!==void 0){if(h=v.icon,h==="none"||!h)return{none:!0}}else return{cls:v.cls,content:v.content!==void 0?v.content:" "}}if(ab.test(h)===!0){const[v,y=b0]=h.split("|");return{svg:!0,viewBox:y,nodes:v.split("&&").map(_=>{const[b,T,M]=_.split("@@");return z("path",{style:T,d:b,transform:M})})}}if(lb.test(h)===!0)return{img:!0,src:h.substring(4)};if(ub.test(h)===!0){const[v,y=b0]=h.split("|");return{svguse:!0,src:v.substring(7),viewBox:y}}let g=" ";const m=h.match(sb);if(m!==null)d=jm[m[1]](h);else if(db.test(h)===!0)d=h;else if(cb.test(h)===!0)d=`ionicons ion-${n.platform.is.ios===!0?"ios":"md"}${h.substring(3)}`;else if(C0.test(h)===!0){d="notranslate material-symbols";const v=h.match(C0);v!==null&&(h=h.substring(6),d+=zm[v[1]]),g=h}else{d="notranslate material-icons";const v=h.match(ob);v!==null&&(h=h.substring(2),d+=Hm[v[1]]),g=h}return{cls:d,content:g}});return()=>{const d={class:a.value,style:s.value,"aria-hidden":"true",role:"presentation"};return l.value.none===!0?z(e.tag,d,Pn(t.default)):l.value.img===!0?z(e.tag,d,Ui(t.default,[z("img",{src:l.value.src})])):l.value.svg===!0?z(e.tag,d,Ui(t.default,[z("svg",{viewBox:l.value.viewBox||"0 0 24 24"},l.value.nodes)])):l.value.svguse===!0?z(e.tag,d,Ui(t.default,[z("svg",{viewBox:l.value.viewBox},[z("use",{"xlink:href":l.value.src})])])):(l.value.cls!==void 0&&(d.class+=" "+l.value.cls),z(e.tag,d,Ui(t.default,[l.value.content])))}}});const Wm={size:{type:[String,Number],default:"1em"},color:String};function Gm(e){return{cSize:G(()=>e.size in ef?`${ef[e.size]}px`:e.size),classes:G(()=>"q-spinner"+(e.color?` text-${e.color}`:""))}}var Co=Zt({name:"QSpinner",props:{...Wm,thickness:{type:Number,default:5}},setup(e){const{cSize:t,classes:n}=Gm(e);return()=>z("svg",{class:n.value+" q-spinner-mat",width:t.value,height:t.value,viewBox:"25 25 50 50"},[z("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":e.thickness,"stroke-miterlimit":"10"})])}});let dd,iu=0;const Ir=new Array(256);for(let e=0;e<256;e++)Ir[e]=(e+256).toString(16).substring(1);const fb=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let s=t;s>0;s--)n.push(Math.floor(Math.random()*256));return n}})(),S0=4096;function $u(){(dd===void 0||iu+16>S0)&&(iu=0,dd=fb(S0));const e=Array.prototype.slice.call(dd,iu,iu+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Ir[e[0]]+Ir[e[1]]+Ir[e[2]]+Ir[e[3]]+"-"+Ir[e[4]]+Ir[e[5]]+"-"+Ir[e[6]]+Ir[e[7]]+"-"+Ir[e[8]]+Ir[e[9]]+"-"+Ir[e[10]]+Ir[e[11]]+Ir[e[12]]+Ir[e[13]]+Ir[e[14]]+Ir[e[15]]}function hb(e){return e==null?null:e}function E0(e,t){return e==null?t===!0?`f_${$u()}`:null:e}function gb({getValue:e,required:t=!0}={}){if(Gi.value===!0){const n=Pe(e!==void 0?hb(e()):null);return t===!0&&n.value===null&&$n(()=>{n.value=`f_${$u()}`}),e!==void 0&&bt(e,s=>{n.value=E0(s,t)}),n}return e!==void 0?G(()=>E0(e(),t)):Pe(`f_${$u()}`)}const A0=/^on[A-Z]/;function mb(){const{attrs:e,vnode:t}=Gt(),n={listeners:Pe({}),attributes:Pe({})};function s(){const a={},l={};for(const d in e)d!=="class"&&d!=="style"&&A0.test(d)===!1&&(a[d]=e[d]);for(const d in t.props)A0.test(d)===!0&&(l[d]=t.props[d]);n.attributes.value=a,n.listeners.value=l}return oc(s),s(),n}const zr={dark:{type:Boolean,default:null}};function Wr(e,t){return G(()=>e.dark===null?t.dark.isActive:e.dark)}function vb({validate:e,resetValidation:t,requiresQForm:n}){const s=Dr(bm,!1);if(s!==!1){const{props:a,proxy:l}=Gt();Object.assign(l,{validate:e,resetValidation:t}),bt(()=>a.disable,d=>{d===!0?(typeof t=="function"&&t(),s.unbindComponent(l)):s.bindComponent(l)}),$n(()=>{a.disable!==!0&&s.bindComponent(l)}),Yn(()=>{a.disable!==!0&&s.unbindComponent(l)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const T0=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,I0=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,O0=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,su=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,ou=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,fd={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>T0.test(e),hexaColor:e=>I0.test(e),hexOrHexaColor:e=>O0.test(e),rgbColor:e=>su.test(e),rgbaColor:e=>ou.test(e),rgbOrRgbaColor:e=>su.test(e)||ou.test(e),hexOrRgbColor:e=>T0.test(e)||su.test(e),hexaOrRgbaColor:e=>I0.test(e)||ou.test(e),anyColor:e=>O0.test(e)||su.test(e)||ou.test(e)},pb=[!0,!1,"ondemand"],wb={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>pb.includes(e)}};function yb(e,t){const{props:n,proxy:s}=Gt(),a=Pe(!1),l=Pe(null),d=Pe(!1);vb({validate:M,resetValidation:T});let h=0,g;const m=G(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),v=G(()=>n.disable!==!0&&m.value===!0&&t.value===!1),y=G(()=>n.error===!0||a.value===!0),_=G(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:l.value);bt(()=>n.modelValue,()=>{d.value=!0,v.value===!0&&n.lazyRules===!1&&$()});function b(){n.lazyRules!=="ondemand"&&v.value===!0&&d.value===!0&&$()}bt(()=>n.reactiveRules,Z=>{Z===!0?g===void 0&&(g=bt(()=>n.rules,b,{immediate:!0,deep:!0})):g!==void 0&&(g(),g=void 0)},{immediate:!0}),bt(()=>n.lazyRules,b),bt(e,Z=>{Z===!0?d.value=!0:v.value===!0&&n.lazyRules!=="ondemand"&&$()});function T(){h++,t.value=!1,d.value=!1,a.value=!1,l.value=null,$.cancel()}function M(Z=n.modelValue){if(n.disable===!0||m.value===!1)return!0;const j=++h,D=t.value!==!0?()=>{d.value=!0}:()=>{},C=(K,N)=>{K===!0&&D(),a.value=K,l.value=N||null,t.value=!1},L=[];for(let K=0;K<n.rules.length;K++){const N=n.rules[K];let J;if(typeof N=="function"?J=N(Z,fd):typeof N=="string"&&fd[N]!==void 0&&(J=fd[N](Z)),J===!1||typeof J=="string")return C(!0,J),!1;J!==!0&&J!==void 0&&L.push(J)}return L.length===0?(C(!1),!0):(t.value=!0,Promise.all(L).then(K=>{if(K===void 0||Array.isArray(K)===!1||K.length===0)return j===h&&C(!1),!0;const N=K.find(J=>J===!1||typeof J=="string");return j===h&&C(N!==void 0,N),N===void 0},K=>(j===h&&(console.error(K),C(!0)),!1)))}const $=Nf(M,0);return Yn(()=>{g!==void 0&&g(),$.cancel()}),Object.assign(s,{resetValidation:T,validate:M}),ko(s,"hasError",()=>y.value),{isDirtyModel:d,hasRules:m,hasError:y,errorMessage:_,validate:M,resetValidation:T}}let fo=[],Ol=[];function Ym(e){Ol=Ol.filter(t=>t!==e)}function xb(e){Ym(e),Ol.push(e)}function D0(e){Ym(e),Ol.length===0&&fo.length!==0&&(fo[fo.length-1](),fo=[])}function Fl(e){Ol.length===0?e():fo.push(e)}function bb(e){fo=fo.filter(t=>t!==e)}function Dl(e){return e!=null&&(""+e).length!==0}const _b={...zr,...wb,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},mc={..._b,maxlength:[Number,String]},Ff=["update:modelValue","clear","focus","blur"];function Vf({requiredForAttr:e=!0,tagProp:t,changeEvent:n=!1}={}){const{props:s,proxy:a}=Gt(),l=Wr(s,a.$q),d=gb({required:e,getValue:()=>s.for});return{requiredForAttr:e,changeEvent:n,tag:t===!0?G(()=>s.tag):{value:"label"},isDark:l,editable:G(()=>s.disable!==!0&&s.readonly!==!0),innerLoading:Pe(!1),focused:Pe(!1),hasPopupOpen:!1,splitAttrs:mb(),targetUid:d,rootRef:Pe(null),targetRef:Pe(null),controlRef:Pe(null)}}function $f(e){const{props:t,emit:n,slots:s,attrs:a,proxy:l}=Gt(),{$q:d}=l;let h=null;e.hasValue===void 0&&(e.hasValue=G(()=>Dl(t.modelValue))),e.emitValue===void 0&&(e.emitValue=De=>{n("update:modelValue",De)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:B,onFocusout:de}),Object.assign(e,{clearValue:me,onControlFocusin:B,onControlFocusout:de,focus:N}),e.computedCounter===void 0&&(e.computedCounter=G(()=>{if(t.counter!==!1){const De=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,tt=t.maxlength!==void 0?t.maxlength:t.maxValues;return De+(tt!==void 0?" / "+tt:"")}}));const{isDirtyModel:g,hasRules:m,hasError:v,errorMessage:y,resetValidation:_}=yb(e.focused,e.innerLoading),b=e.floatingLabel!==void 0?G(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):G(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),T=G(()=>t.bottomSlots===!0||t.hint!==void 0||m.value===!0||t.counter===!0||t.error!==null),M=G(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),$=G(()=>`q-field row no-wrap items-start q-field--${M.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(b.value===!0?" q-field--float":"")+(j.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(v.value===!0?" q-field--error":"")+(v.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&T.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),Z=G(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(v.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),j=G(()=>t.labelSlot===!0||t.label!==void 0),D=G(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&v.value!==!0?` text-${t.labelColor}`:"")),C=G(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:b.value,modelValue:t.modelValue,emitValue:e.emitValue})),L=G(()=>{const De={};return e.targetUid.value&&(De.for=e.targetUid.value),t.disable===!0&&(De["aria-disabled"]="true"),De});function K(){const De=document.activeElement;let tt=e.targetRef!==void 0&&e.targetRef.value;tt&&(De===null||De.id!==e.targetUid.value)&&(tt.hasAttribute("tabindex")===!0||(tt=tt.querySelector("[tabindex]")),tt&&tt!==De&&tt.focus({preventScroll:!0}))}function N(){Fl(K)}function J(){bb(K);const De=document.activeElement;De!==null&&e.rootRef.value.contains(De)&&De.blur()}function B(De){h!==null&&(clearTimeout(h),h=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",De))}function de(De,tt){h!==null&&clearTimeout(h),h=setTimeout(()=>{h=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",De)),tt!==void 0&&tt())})}function me(De){yn(De),d.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),e.changeEvent===!0&&n("change",null),n("clear",t.modelValue),Cn(()=>{const tt=g.value;_(),g.value=tt})}function q(De){[13,32].includes(De.keyCode)&&me(De)}function be(){const De=[];return s.prepend!==void 0&&De.push(z("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Hr},s.prepend())),De.push(z("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},ne())),v.value===!0&&t.noErrorIcon===!1&&De.push(Ne("error",[z(Lt,{name:d.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?De.push(Ne("inner-loading-append",s.loading!==void 0?s.loading():[z(Co,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&De.push(Ne("inner-clearable-append",[z(Lt,{class:"q-field__focusable-action",name:t.clearIcon||d.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":d.lang.label.clear,onKeyup:q,onClick:me})])),s.append!==void 0&&De.push(z("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Hr},s.append())),e.getInnerAppend!==void 0&&De.push(Ne("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&De.push(e.getControlChild()),De}function ne(){const De=[];return t.prefix!==void 0&&t.prefix!==null&&De.push(z("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&De.push(e.getShadowControl()),e.getControl!==void 0?De.push(e.getControl()):s.rawControl!==void 0?De.push(s.rawControl()):s.control!==void 0&&De.push(z("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},s.control(C.value))),j.value===!0&&De.push(z("div",{class:D.value},Pn(s.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&De.push(z("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),De.concat(Pn(s.default))}function Q(){let De,tt;v.value===!0?y.value!==null?(De=[z("div",{role:"alert"},y.value)],tt=`q--slot-error-${y.value}`):(De=Pn(s.error),tt="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(De=[z("div",t.hint)],tt=`q--slot-hint-${t.hint}`):(De=Pn(s.hint),tt="q--slot-hint"));const ht=t.counter===!0||s.counter!==void 0;if(t.hideBottomSpace===!0&&ht===!1&&De===void 0)return;const he=z("div",{key:tt,class:"q-field__messages col"},De);return z("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:Hr},[t.hideBottomSpace===!0?he:z(oi,{name:"q-transition--field-message"},()=>he),ht===!0?z("div",{class:"q-field__counter"},s.counter!==void 0?s.counter():e.computedCounter.value):null])}function Ne(De,tt){return tt===null?null:z("div",{key:De,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},tt)}let Ce=!1;return Do(()=>{Ce=!0}),Pl(()=>{Ce===!0&&t.autofocus===!0&&l.focus()}),t.autofocus===!0&&$n(()=>{l.focus()}),Yn(()=>{h!==null&&clearTimeout(h)}),Object.assign(l,{focus:N,blur:J}),function(){const tt=e.getControl===void 0&&s.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...L.value}:L.value;return z(e.tag.value,{ref:e.rootRef,class:[$.value,a.class],style:a.style,...tt},[s.before!==void 0?z("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Hr},s.before()):null,z("div",{class:"q-field__inner relative-position col self-stretch"},[z("div",{ref:e.controlRef,class:Z.value,tabindex:-1,...e.controlEvents},be()),T.value===!0?Q():null]),s.after!==void 0?z("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Hr},s.after()):null])}}const k0={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},qu={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Xm=Object.keys(qu);Xm.forEach(e=>{qu[e].regex=new RegExp(qu[e].pattern)});const Cb=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Xm.join("")+"])|(.)","g"),R0=/[.*+?^${}()|[\]\\]/g,ir=String.fromCharCode(1),Sb={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Eb(e,t,n,s){let a,l,d,h,g,m;const v=Pe(null),y=Pe(b());function _(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}bt(()=>e.type+e.autogrow,M),bt(()=>e.mask,B=>{if(B!==void 0)$(y.value,!0);else{const de=N(y.value);M(),e.modelValue!==de&&t("update:modelValue",de)}}),bt(()=>e.fillMask+e.reverseFillMask,()=>{v.value===!0&&$(y.value,!0)}),bt(()=>e.unmaskedValue,()=>{v.value===!0&&$(y.value)});function b(){if(M(),v.value===!0){const B=L(N(e.modelValue));return e.fillMask!==!1?J(B):B}return e.modelValue}function T(B){if(B<a.length)return a.slice(-B);let de="",me=a;const q=me.indexOf(ir);if(q!==-1){for(let be=B-me.length;be>0;be--)de+=ir;me=me.slice(0,q)+de+me.slice(q)}return me}function M(){if(v.value=e.mask!==void 0&&e.mask.length!==0&&_(),v.value===!1){h=void 0,a="",l="";return}const B=k0[e.mask]===void 0?e.mask:k0[e.mask],de=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",me=de.replace(R0,"\\$&"),q=[],be=[],ne=[];let Q=e.reverseFillMask===!0,Ne="",Ce="";B.replace(Cb,(he,se,Je,ct,mt)=>{if(ct!==void 0){const ge=qu[ct];ne.push(ge),Ce=ge.negate,Q===!0&&(be.push("(?:"+Ce+"+)?("+ge.pattern+"+)?(?:"+Ce+"+)?("+ge.pattern+"+)?"),Q=!1),be.push("(?:"+Ce+"+)?("+ge.pattern+")?")}else if(Je!==void 0)Ne="\\"+(Je==="\\"?"":Je),ne.push(Je),q.push("([^"+Ne+"]+)?"+Ne+"?");else{const ge=se!==void 0?se:mt;Ne=ge==="\\"?"\\\\\\\\":ge.replace(R0,"\\\\$&"),ne.push(ge),q.push("([^"+Ne+"]+)?"+Ne+"?")}});const De=new RegExp("^"+q.join("")+"("+(Ne===""?".":"[^"+Ne+"]")+"+)?"+(Ne===""?"":"["+Ne+"]*")+"$"),tt=be.length-1,ht=be.map((he,se)=>se===0&&e.reverseFillMask===!0?new RegExp("^"+me+"*"+he):se===tt?new RegExp("^"+he+"("+(Ce===""?".":Ce)+"+)?"+(e.reverseFillMask===!0?"$":me+"*")):new RegExp("^"+he));d=ne,h=he=>{const se=De.exec(e.reverseFillMask===!0?he:he.slice(0,ne.length+1));se!==null&&(he=se.slice(1).join(""));const Je=[],ct=ht.length;for(let mt=0,ge=he;mt<ct;mt++){const ue=ht[mt].exec(ge);if(ue===null)break;ge=ge.slice(ue.shift().length),Je.push(...ue)}return Je.length!==0?Je.join(""):he},a=ne.map(he=>typeof he=="string"?he:ir).join(""),l=a.split(ir).join(de)}function $(B,de,me){const q=s.value,be=q.selectionEnd,ne=q.value.length-be,Q=N(B);de===!0&&M();const Ne=L(Q),Ce=e.fillMask!==!1?J(Ne):Ne,De=y.value!==Ce;q.value!==Ce&&(q.value=Ce),De===!0&&(y.value=Ce),document.activeElement===q&&Cn(()=>{if(Ce===l){const ht=e.reverseFillMask===!0?l.length:0;q.setSelectionRange(ht,ht,"forward");return}if(me==="insertFromPaste"&&e.reverseFillMask!==!0){const ht=q.selectionEnd;let he=be-1;for(let se=g;se<=he&&se<ht;se++)a[se]!==ir&&he++;j.right(q,he);return}if(["deleteContentBackward","deleteContentForward"].indexOf(me)!==-1){const ht=e.reverseFillMask===!0?be===0?Ce.length>Ne.length?1:0:Math.max(0,Ce.length-(Ce===l?0:Math.min(Ne.length,ne)+1))+1:be;q.setSelectionRange(ht,ht,"forward");return}if(e.reverseFillMask===!0)if(De===!0){const ht=Math.max(0,Ce.length-(Ce===l?0:Math.min(Ne.length,ne+1)));ht===1&&be===1?q.setSelectionRange(ht,ht,"forward"):j.rightReverse(q,ht)}else{const ht=Ce.length-ne;q.setSelectionRange(ht,ht,"backward")}else if(De===!0){const ht=Math.max(0,a.indexOf(ir),Math.min(Ne.length,be)-1);j.right(q,ht)}else{const ht=be-1;j.right(q,ht)}});const tt=e.unmaskedValue===!0?N(Ce):Ce;String(e.modelValue)!==tt&&(e.modelValue!==null||tt!=="")&&n(tt,!0)}function Z(B,de,me){const q=L(N(B.value));de=Math.max(0,a.indexOf(ir),Math.min(q.length,de)),g=de,B.setSelectionRange(de,me,"forward")}const j={left(B,de){const me=a.slice(de-1).indexOf(ir)===-1;let q=Math.max(0,de-1);for(;q>=0;q--)if(a[q]===ir){de=q,me===!0&&de++;break}if(q<0&&a[de]!==void 0&&a[de]!==ir)return j.right(B,0);de>=0&&B.setSelectionRange(de,de,"backward")},right(B,de){const me=B.value.length;let q=Math.min(me,de+1);for(;q<=me;q++)if(a[q]===ir){de=q;break}else a[q-1]===ir&&(de=q);if(q>me&&a[de-1]!==void 0&&a[de-1]!==ir)return j.left(B,me);B.setSelectionRange(de,de,"forward")},leftReverse(B,de){const me=T(B.value.length);let q=Math.max(0,de-1);for(;q>=0;q--)if(me[q-1]===ir){de=q;break}else if(me[q]===ir&&(de=q,q===0))break;if(q<0&&me[de]!==void 0&&me[de]!==ir)return j.rightReverse(B,0);de>=0&&B.setSelectionRange(de,de,"backward")},rightReverse(B,de){const me=B.value.length,q=T(me),be=q.slice(0,de+1).indexOf(ir)===-1;let ne=Math.min(me,de+1);for(;ne<=me;ne++)if(q[ne-1]===ir){de=ne,de>0&&be===!0&&de--;break}if(ne>me&&q[de-1]!==void 0&&q[de-1]!==ir)return j.leftReverse(B,me);B.setSelectionRange(de,de,"forward")}};function D(B){t("click",B),m=void 0}function C(B){if(t("keydown",B),dc(B)===!0||B.altKey===!0)return;const de=s.value,me=de.selectionStart,q=de.selectionEnd;if(B.shiftKey||(m=void 0),B.keyCode===37||B.keyCode===39){B.shiftKey&&m===void 0&&(m=de.selectionDirection==="forward"?me:q);const be=j[(B.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(B.preventDefault(),be(de,m===me?q:me),B.shiftKey){const ne=de.selectionStart;de.setSelectionRange(Math.min(m,ne),Math.max(m,ne),"forward")}}else B.keyCode===8&&e.reverseFillMask!==!0&&me===q?(j.left(de,me),de.setSelectionRange(de.selectionStart,q,"backward")):B.keyCode===46&&e.reverseFillMask===!0&&me===q&&(j.rightReverse(de,q),de.setSelectionRange(me,de.selectionEnd,"forward"))}function L(B){if(B==null||B==="")return"";if(e.reverseFillMask===!0)return K(B);const de=d;let me=0,q="";for(let be=0;be<de.length;be++){const ne=B[me],Q=de[be];if(typeof Q=="string")q+=Q,ne===Q&&me++;else if(ne!==void 0&&Q.regex.test(ne))q+=Q.transform!==void 0?Q.transform(ne):ne,me++;else return q}return q}function K(B){const de=d,me=a.indexOf(ir);let q=B.length-1,be="";for(let ne=de.length-1;ne>=0&&q!==-1;ne--){const Q=de[ne];let Ne=B[q];if(typeof Q=="string")be=Q+be,Ne===Q&&q--;else if(Ne!==void 0&&Q.regex.test(Ne))do be=(Q.transform!==void 0?Q.transform(Ne):Ne)+be,q--,Ne=B[q];while(me===ne&&Ne!==void 0&&Q.regex.test(Ne));else return be}return be}function N(B){return typeof B!="string"||h===void 0?typeof B=="number"?h(""+B):B:h(B)}function J(B){return l.length-B.length<=0?B:e.reverseFillMask===!0&&B.length!==0?l.slice(0,-B.length)+B:B+l.slice(B.length)}return{innerValue:y,hasMask:v,moveCursorForPaste:Z,updateMaskValue:$,onMaskedKeydown:C,onMaskedClick:D}}const Vl={name:String};function Ab(e){return G(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function qf(e={}){return(t,n,s)=>{t[n](z("input",{class:"hidden"+(s||""),...e.value}))}}function Km(e){return G(()=>e.name||e.for)}function Tb(e,t){function n(){const s=e.modelValue;try{const a="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(s)===s&&("length"in s?Array.from(s):[s]).forEach(l=>{a.items.add(l)}),{files:a.files}}catch{return{files:void 0}}}return G(t===!0?()=>{if(e.type==="file")return n()}:n)}const Ib=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Ob=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Db=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,kb=/[a-z0-9_ -]$/i;function Zm(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(pn.is.firefox===!0?kb.test(n.data)===!1:Ib.test(n.data)===!0||Ob.test(n.data)===!0||Db.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}var vn=Zt({name:"QInput",inheritAttrs:!1,props:{...mc,...Sb,...Vl,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Ff,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:s}=Gt(),{$q:a}=s,l={};let d=NaN,h,g,m=null,v;const y=Pe(null),_=Km(e),{innerValue:b,hasMask:T,moveCursorForPaste:M,updateMaskValue:$,onMaskedKeydown:Z,onMaskedClick:j}=Eb(e,t,Ne,y),D=Tb(e,!0),C=G(()=>Dl(b.value)),L=Zm(ne),K=Vf({changeEvent:!0}),N=G(()=>e.type==="textarea"||e.autogrow===!0),J=G(()=>N.value===!0||["text","search","url","tel","password"].includes(e.type)),B=G(()=>{const se={...K.splitAttrs.listeners.value,onInput:ne,onPaste:be,onChange:De,onBlur:tt,onFocus:ii};return se.onCompositionstart=se.onCompositionupdate=se.onCompositionend=L,T.value===!0&&(se.onKeydown=Z,se.onClick=j),e.autogrow===!0&&(se.onAnimationend=Q),se}),de=G(()=>{const se={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:_.value,...K.splitAttrs.attributes.value,id:K.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return N.value===!1&&(se.type=e.type),e.autogrow===!0&&(se.rows=1),se});bt(()=>e.type,()=>{y.value&&(y.value.value=e.modelValue)}),bt(()=>e.modelValue,se=>{if(T.value===!0){if(g===!0&&(g=!1,String(se)===d))return;$(se)}else b.value!==se&&(b.value=se,e.type==="number"&&l.hasOwnProperty("value")===!0&&(h===!0?h=!1:delete l.value));e.autogrow===!0&&Cn(Ce)}),bt(()=>e.autogrow,se=>{se===!0?Cn(Ce):y.value!==null&&n.rows>0&&(y.value.style.height="auto")}),bt(()=>e.dense,()=>{e.autogrow===!0&&Cn(Ce)});function me(){Fl(()=>{const se=document.activeElement;y.value!==null&&y.value!==se&&(se===null||se.id!==K.targetUid.value)&&y.value.focus({preventScroll:!0})})}function q(){y.value!==null&&y.value.select()}function be(se){if(T.value===!0&&e.reverseFillMask!==!0){const Je=se.target;M(Je,Je.selectionStart,Je.selectionEnd)}t("paste",se)}function ne(se){if(!se||!se.target)return;if(e.type==="file"){t("update:modelValue",se.target.files);return}const Je=se.target.value;if(se.target.qComposing===!0){l.value=Je;return}if(T.value===!0)$(Je,!1,se.inputType);else if(Ne(Je),J.value===!0&&se.target===document.activeElement){const{selectionStart:ct,selectionEnd:mt}=se.target;ct!==void 0&&mt!==void 0&&Cn(()=>{se.target===document.activeElement&&Je.indexOf(se.target.value)===0&&se.target.setSelectionRange(ct,mt)})}e.autogrow===!0&&Ce()}function Q(se){t("animationend",se),Ce()}function Ne(se,Je){v=()=>{m=null,e.type!=="number"&&l.hasOwnProperty("value")===!0&&delete l.value,e.modelValue!==se&&d!==se&&(d=se,Je===!0&&(g=!0),t("update:modelValue",se),Cn(()=>{d===se&&(d=NaN)})),v=void 0},e.type==="number"&&(h=!0,l.value=se),e.debounce!==void 0?(m!==null&&clearTimeout(m),l.value=se,m=setTimeout(v,e.debounce)):v()}function Ce(){requestAnimationFrame(()=>{const se=y.value;if(se!==null){const Je=se.parentNode.style,{scrollTop:ct}=se,{overflowY:mt,maxHeight:ge}=a.platform.is.firefox===!0?{}:window.getComputedStyle(se),ue=mt!==void 0&&mt!=="scroll";ue===!0&&(se.style.overflowY="hidden"),Je.marginBottom=se.scrollHeight-1+"px",se.style.height="1px",se.style.height=se.scrollHeight+"px",ue===!0&&(se.style.overflowY=parseInt(ge,10)<se.scrollHeight?"auto":"hidden"),Je.marginBottom="",se.scrollTop=ct}})}function De(se){L(se),m!==null&&(clearTimeout(m),m=null),v!==void 0&&v(),t("change",se.target.value)}function tt(se){se!==void 0&&ii(se),m!==null&&(clearTimeout(m),m=null),v!==void 0&&v(),h=!1,g=!1,delete l.value,e.type!=="file"&&setTimeout(()=>{y.value!==null&&(y.value.value=b.value!==void 0?b.value:"")})}function ht(){return l.hasOwnProperty("value")===!0?l.value:b.value!==void 0?b.value:""}Yn(()=>{tt()}),$n(()=>{e.autogrow===!0&&Ce()}),Object.assign(K,{innerValue:b,fieldClass:G(()=>`q-${N.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:G(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:y,emitValue:Ne,hasValue:C,floatingLabel:G(()=>C.value===!0&&(e.type!=="number"||isNaN(b.value)===!1)||Dl(e.displayValue)),getControl:()=>z(N.value===!0?"textarea":"input",{ref:y,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...de.value,...B.value,...e.type!=="file"?{value:ht()}:D.value}),getShadowControl:()=>z("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(N.value===!0?"":" text-no-wrap")},[z("span",{class:"invisible"},ht()),z("span",e.shadowText)])});const he=$f(K);return Object.assign(s,{focus:me,select:q,getNativeElement:()=>y.value}),ko(s,"nativeEl",()=>y.value),he}});function tf(e,t){const n=e.style;for(const s in t)n[s]=t[s]}function Rb(e){if(e==null)return;if(typeof e=="string")try{return document.querySelector(e)||void 0}catch{return}const t=k(e);if(t)return t.$el||t}function Qm(e,t){if(e==null||e.contains(t)===!0)return!0;for(let n=e.nextElementSibling;n!==null;n=n.nextElementSibling)if(n.contains(t))return!0;return!1}function Mb(e,t=250){let n=!1,s;return function(){return n===!1&&(n=!0,setTimeout(()=>{n=!1},t),s=e.apply(this,arguments)),s}}function M0(e,t,n,s){n.modifiers.stop===!0&&ii(e);const a=n.modifiers.color;let l=n.modifiers.center;l=l===!0||s===!0;const d=document.createElement("span"),h=document.createElement("span"),g=_o(e),{left:m,top:v,width:y,height:_}=t.getBoundingClientRect(),b=Math.sqrt(y*y+_*_),T=b/2,M=`${(y-b)/2}px`,$=l?M:`${g.left-m-T}px`,Z=`${(_-b)/2}px`,j=l?Z:`${g.top-v-T}px`;h.className="q-ripple__inner",tf(h,{height:`${b}px`,width:`${b}px`,transform:`translate3d(${$},${j},0) scale3d(.2,.2,1)`,opacity:0}),d.className=`q-ripple${a?" text-"+a:""}`,d.setAttribute("dir","ltr"),d.appendChild(h),t.appendChild(d);const D=()=>{d.remove(),clearTimeout(C)};n.abort.push(D);let C=setTimeout(()=>{h.classList.add("q-ripple__inner--enter"),h.style.transform=`translate3d(${M},${Z},0) scale3d(1,1,1)`,h.style.opacity=.2,C=setTimeout(()=>{h.classList.remove("q-ripple__inner--enter"),h.classList.add("q-ripple__inner--leave"),h.style.opacity=0,C=setTimeout(()=>{d.remove(),n.abort.splice(n.abort.indexOf(D),1)},275)},250)},50)}function N0(e,{modifiers:t,value:n,arg:s}){const a=Object.assign({},e.cfg.ripple,t,n);e.modifiers={early:a.early===!0,stop:a.stop===!0,center:a.center===!0,color:a.color||s,keyCodes:[].concat(a.keyCodes||13)}}var $l=cc({name:"ripple",beforeMount(e,t){const n=t.instance.$.appContext.config.globalProperties.$q.config||{};if(n.ripple===!1)return;const s={cfg:n,enabled:t.value!==!1,modifiers:{},abort:[],start(a){s.enabled===!0&&a.qSkipRipple!==!0&&a.type===(s.modifiers.early===!0?"pointerdown":"click")&&M0(a,e,s,a.qKeyEvent===!0)},keystart:Mb(a=>{s.enabled===!0&&a.qSkipRipple!==!0&&Yi(a,s.modifiers.keyCodes)===!0&&a.type===`key${s.modifiers.early===!0?"down":"up"}`&&M0(a,e,s,!0)},300)};N0(s,t),e.__qripple=s,Ei(s,"main",[[e,"pointerdown","start","passive"],[e,"click","start","passive"],[e,"keydown","keystart","passive"],[e,"keyup","keystart","passive"]])},updated(e,t){if(t.oldValue!==t.value){const n=e.__qripple;n!==void 0&&(n.enabled=t.value!==!1,n.enabled===!0&&Object(t.value)===t.value&&N0(n,t))}},beforeUnmount(e){const t=e.__qripple;t!==void 0&&(t.abort.forEach(n=>{n()}),$s(t,"main"),delete e._qripple)}});const Jm={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},Nb=Object.keys(Jm),ev={align:{type:String,validator:e=>Nb.includes(e)}};function tv(e){return G(()=>{const t=e.align===void 0?e.vertical===!0?"stretch":"left":e.align;return`${e.vertical===!0?"items":"justify"}-${Jm[t]}`})}function yu(e){if(Object(e.$parent)===e.$parent)return e.$parent;let{parent:t}=e.$;for(;Object(t)===t;){if(Object(t.proxy)===t.proxy)return t.proxy;t=t.parent}}function nv(e,t){typeof t.type=="symbol"?Array.isArray(t.children)===!0&&t.children.forEach(n=>{nv(e,n)}):e.add(t)}function Pb(e){const t=new Set;return e.forEach(n=>{nv(t,n)}),Array.from(t)}function rv(e){return e.appContext.config.globalProperties.$router!==void 0}function da(e){return e.isUnmounted===!0||e.isDeactivated===!0}function P0(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function L0(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Lb(e,t){for(const n in t){const s=t[n],a=e[n];if(typeof s=="string"){if(s!==a)return!1}else if(Array.isArray(a)===!1||a.length!==s.length||s.some((l,d)=>l!==a[d]))return!1}return!0}function B0(e,t){return Array.isArray(t)===!0?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Bb(e,t){return Array.isArray(e)===!0?B0(e,t):Array.isArray(t)===!0?B0(t,e):e===t}function Fb(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(Bb(e[n],t[n])===!1)return!1;return!0}const iv={to:[String,Object],replace:Boolean,href:String,target:String,disable:Boolean},Vb={...iv,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"}};function sv({fallbackTag:e,useDisableForRouterLinkProps:t=!0}={}){const n=Gt(),{props:s,proxy:a,emit:l}=n,d=rv(n),h=G(()=>s.disable!==!0&&s.href!==void 0),g=G(t===!0?()=>d===!0&&s.disable!==!0&&h.value!==!0&&s.to!==void 0&&s.to!==null&&s.to!=="":()=>d===!0&&h.value!==!0&&s.to!==void 0&&s.to!==null&&s.to!==""),m=G(()=>g.value===!0?j(s.to):null),v=G(()=>m.value!==null),y=G(()=>h.value===!0||v.value===!0),_=G(()=>s.type==="a"||y.value===!0?"a":s.tag||e||"div"),b=G(()=>h.value===!0?{href:s.href,target:s.target}:v.value===!0?{href:m.value.href,target:s.target}:{}),T=G(()=>{if(v.value===!1)return-1;const{matched:L}=m.value,{length:K}=L,N=L[K-1];if(N===void 0)return-1;const J=a.$route.matched;if(J.length===0)return-1;const B=J.findIndex(L0.bind(null,N));if(B!==-1)return B;const de=P0(L[K-2]);return K>1&&P0(N)===de&&J[J.length-1].path!==de?J.findIndex(L0.bind(null,L[K-2])):B}),M=G(()=>v.value===!0&&T.value!==-1&&Lb(a.$route.params,m.value.params)),$=G(()=>M.value===!0&&T.value===a.$route.matched.length-1&&Fb(a.$route.params,m.value.params)),Z=G(()=>v.value===!0?$.value===!0?` ${s.exactActiveClass} ${s.activeClass}`:s.exact===!0?"":M.value===!0?` ${s.activeClass}`:"":"");function j(L){try{return a.$router.resolve(L)}catch{}return null}function D(L,{returnRouterError:K,to:N=s.to,replace:J=s.replace}={}){if(s.disable===!0)return L.preventDefault(),Promise.resolve(!1);if(L.metaKey||L.altKey||L.ctrlKey||L.shiftKey||L.button!==void 0&&L.button!==0||s.target==="_blank")return Promise.resolve(!1);L.preventDefault();const B=a.$router[J===!0?"replace":"push"](N);return K===!0?B:B.then(()=>{}).catch(()=>{})}function C(L){if(v.value===!0){const K=N=>D(L,N);l("click",L,K),L.defaultPrevented!==!0&&K()}else l("click",L)}return{hasRouterLink:v,hasHrefLink:h,hasLink:y,linkTag:_,resolvedLink:m,linkIsActive:M,linkIsExactActive:$,linkClass:Z,linkAttrs:b,getLink:j,navigateToRouterLink:D,navigateOnClick:C}}const F0={none:0,xs:4,sm:8,md:16,lg:24,xl:32},$b={xs:8,sm:10,md:14,lg:20,xl:24},qb=["button","submit","reset"],Ub=/[^\s]\/[^\s]/,jb=["flat","outline","push","unelevated"];function Hb(e,t){return e.flat===!0?"flat":e.outline===!0?"outline":e.push===!0?"push":e.unelevated===!0?"unelevated":t}const zb={...Da,...iv,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...jb.reduce((e,t)=>(e[t]=Boolean)&&e,{}),square:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...ev.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean},Wb={...zb,round:Boolean};function Gb(e){const t=ka(e,$b),n=tv(e),{hasRouterLink:s,hasLink:a,linkTag:l,linkAttrs:d,navigateOnClick:h}=sv({fallbackTag:"button"}),g=G(()=>{const $=e.fab===!1&&e.fabMini===!1?t.value:{};return e.padding!==void 0?Object.assign({},$,{padding:e.padding.split(/\s+/).map(Z=>Z in F0?F0[Z]+"px":Z).join(" "),minWidth:"0",minHeight:"0"}):$}),m=G(()=>e.rounded===!0||e.fab===!0||e.fabMini===!0),v=G(()=>e.disable!==!0&&e.loading!==!0),y=G(()=>v.value===!0?e.tabindex||0:-1),_=G(()=>Hb(e,"standard")),b=G(()=>{const $={tabindex:y.value};return a.value===!0?Object.assign($,d.value):qb.includes(e.type)===!0&&($.type=e.type),l.value==="a"?(e.disable===!0?$["aria-disabled"]="true":$.href===void 0&&($.role="button"),s.value!==!0&&Ub.test(e.type)===!0&&($.type=e.type)):e.disable===!0&&($.disabled="",$["aria-disabled"]="true"),e.loading===!0&&e.percentage!==void 0&&Object.assign($,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percentage}),$}),T=G(()=>{let $;e.color!==void 0?e.flat===!0||e.outline===!0?$=`text-${e.textColor||e.color}`:$=`bg-${e.color} text-${e.textColor||"white"}`:e.textColor&&($=`text-${e.textColor}`);const Z=e.round===!0?"round":`rectangle${m.value===!0?" q-btn--rounded":e.square===!0?" q-btn--square":""}`;return`q-btn--${_.value} q-btn--${Z}`+($!==void 0?" "+$:"")+(v.value===!0?" q-btn--actionable q-focusable q-hoverable":e.disable===!0?" disabled":"")+(e.fab===!0?" q-btn--fab":e.fabMini===!0?" q-btn--fab-mini":"")+(e.noCaps===!0?" q-btn--no-uppercase":"")+(e.dense===!0?" q-btn--dense":"")+(e.stretch===!0?" no-border-radius self-stretch":"")+(e.glossy===!0?" glossy":"")+(e.square?" q-btn--square":"")}),M=G(()=>n.value+(e.stack===!0?" column":" row")+(e.noWrap===!0?" no-wrap text-no-wrap":"")+(e.loading===!0?" q-btn__content--hidden":""));return{classes:T,style:g,innerClasses:M,attributes:b,hasLink:a,linkTag:l,navigateOnClick:h,isActionable:v}}const{passiveCapture:hi}=vr;let Go=null,Yo=null,Xo=null;var ut=Zt({name:"QBtn",props:{...Wb,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(e,{slots:t,emit:n}){const{proxy:s}=Gt(),{classes:a,style:l,innerClasses:d,attributes:h,hasLink:g,linkTag:m,navigateOnClick:v,isActionable:y}=Gb(e),_=Pe(null),b=Pe(null);let T=null,M,$=null;const Z=G(()=>e.label!==void 0&&e.label!==null&&e.label!==""),j=G(()=>e.disable===!0||e.ripple===!1?!1:{keyCodes:g.value===!0?[13,32]:[13],...e.ripple===!0?{}:e.ripple}),D=G(()=>({center:e.round})),C=G(()=>{const ne=Math.max(0,Math.min(100,e.percentage));return ne>0?{transition:"transform 0.6s",transform:`translateX(${ne-100}%)`}:{}}),L=G(()=>{if(e.loading===!0)return{onMousedown:be,onTouchstart:be,onClick:be,onKeydown:be,onKeyup:be};if(y.value===!0){const ne={onClick:N,onKeydown:J,onMousedown:de};if(s.$q.platform.has.touch===!0){const Q=e.onTouchstart!==void 0?"":"Passive";ne[`onTouchstart${Q}`]=B}return ne}return{onClick:yn}}),K=G(()=>({ref:_,class:"q-btn q-btn-item non-selectable no-outline "+a.value,style:l.value,...h.value,...L.value}));function N(ne){if(_.value!==null){if(ne!==void 0){if(ne.defaultPrevented===!0)return;const Q=document.activeElement;if(e.type==="submit"&&Q!==document.body&&_.value.contains(Q)===!1&&Q.contains(_.value)===!1){_.value.focus();const Ne=()=>{document.removeEventListener("keydown",yn,!0),document.removeEventListener("keyup",Ne,hi),_.value!==null&&_.value.removeEventListener("blur",Ne,hi)};document.addEventListener("keydown",yn,!0),document.addEventListener("keyup",Ne,hi),_.value.addEventListener("blur",Ne,hi)}}v(ne)}}function J(ne){_.value!==null&&(n("keydown",ne),Yi(ne,[13,32])===!0&&Yo!==_.value&&(Yo!==null&&q(),ne.defaultPrevented!==!0&&(_.value.focus(),Yo=_.value,_.value.classList.add("q-btn--active"),document.addEventListener("keyup",me,!0),_.value.addEventListener("blur",me,hi)),yn(ne)))}function B(ne){_.value!==null&&(n("touchstart",ne),ne.defaultPrevented!==!0&&(Go!==_.value&&(Go!==null&&q(),Go=_.value,T=ne.target,T.addEventListener("touchcancel",me,hi),T.addEventListener("touchend",me,hi)),M=!0,$!==null&&clearTimeout($),$=setTimeout(()=>{$=null,M=!1},200)))}function de(ne){_.value!==null&&(ne.qSkipRipple=M===!0,n("mousedown",ne),ne.defaultPrevented!==!0&&Xo!==_.value&&(Xo!==null&&q(),Xo=_.value,_.value.classList.add("q-btn--active"),document.addEventListener("mouseup",me,hi)))}function me(ne){if(_.value!==null&&!(ne!==void 0&&ne.type==="blur"&&document.activeElement===_.value)){if(ne!==void 0&&ne.type==="keyup"){if(Yo===_.value&&Yi(ne,[13,32])===!0){const Q=new MouseEvent("click",ne);Q.qKeyEvent=!0,ne.defaultPrevented===!0&&Hr(Q),ne.cancelBubble===!0&&ii(Q),_.value.dispatchEvent(Q),yn(ne),ne.qKeyEvent=!0}n("keyup",ne)}q()}}function q(ne){const Q=b.value;ne!==!0&&(Go===_.value||Xo===_.value)&&Q!==null&&Q!==document.activeElement&&(Q.setAttribute("tabindex",-1),Q.focus()),Go===_.value&&(T!==null&&(T.removeEventListener("touchcancel",me,hi),T.removeEventListener("touchend",me,hi)),Go=T=null),Xo===_.value&&(document.removeEventListener("mouseup",me,hi),Xo=null),Yo===_.value&&(document.removeEventListener("keyup",me,!0),_.value!==null&&_.value.removeEventListener("blur",me,hi),Yo=null),_.value!==null&&_.value.classList.remove("q-btn--active")}function be(ne){yn(ne),ne.qSkipRipple=!0}return Yn(()=>{q(!0)}),Object.assign(s,{click:ne=>{y.value===!0&&N(ne)}}),()=>{let ne=[];e.icon!==void 0&&ne.push(z(Lt,{name:e.icon,left:e.stack!==!0&&Z.value===!0,role:"img"})),Z.value===!0&&ne.push(z("span",{class:"block"},[e.label])),ne=Ui(t.default,ne),e.iconRight!==void 0&&e.round===!1&&ne.push(z(Lt,{name:e.iconRight,right:e.stack!==!0&&Z.value===!0,role:"img"}));const Q=[z("span",{class:"q-focus-helper",ref:b})];return e.loading===!0&&e.percentage!==void 0&&Q.push(z("span",{class:"q-btn__progress absolute-full overflow-hidden"+(e.darkPercentage===!0?" q-btn__progress--dark":"")},[z("span",{class:"q-btn__progress-indicator fit block",style:C.value})])),Q.push(z("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+d.value},ne)),e.loading!==null&&Q.push(z(oi,{name:"q-transition--fade"},()=>e.loading===!0?[z("span",{key:"loading",class:"absolute-full flex flex-center"},t.loading!==void 0?t.loading():[z(Co)])]:null)),li(z(m.value,K.value,Q),[[$l,j.value,void 0,D.value]])}}}),Xi=Zt({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:n}){const s=Gt(),a=Pe(null);let l=0;const d=[];function h(b){const T=typeof b=="boolean"?b:e.noErrorFocus!==!0,M=++l,$=(D,C)=>{n(`validation${D===!0?"Success":"Error"}`,C)},Z=D=>{const C=D.validate();return typeof C.then=="function"?C.then(L=>({valid:L,comp:D}),L=>({valid:!1,comp:D,err:L})):Promise.resolve({valid:C,comp:D})};return(e.greedy===!0?Promise.all(d.map(Z)).then(D=>D.filter(C=>C.valid!==!0)):d.reduce((D,C)=>D.then(()=>Z(C).then(L=>{if(L.valid===!1)return Promise.reject(L)})),Promise.resolve()).catch(D=>[D])).then(D=>{if(D===void 0||D.length===0)return M===l&&$(!0),!0;if(M===l){const{comp:C,err:L}=D[0];if(L!==void 0&&console.error(L),$(!1,C),T===!0){const K=D.find(({comp:N})=>typeof N.focus=="function"&&da(N.$)===!1);K!==void 0&&K.comp.focus()}}return!1})}function g(){l++,d.forEach(b=>{typeof b.resetValidation=="function"&&b.resetValidation()})}function m(b){b!==void 0&&yn(b);const T=l+1;h().then(M=>{T===l&&M===!0&&(e.onSubmit!==void 0?n("submit",b):b!==void 0&&b.target!==void 0&&typeof b.target.submit=="function"&&b.target.submit())})}function v(b){b!==void 0&&yn(b),n("reset"),Cn(()=>{g(),e.autofocus===!0&&e.noResetFocus!==!0&&y()})}function y(){Fl(()=>{if(a.value===null)return;const b=a.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||a.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||a.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(a.value.querySelectorAll("[tabindex]"),T=>T.tabIndex!==-1);b!=null&&b.focus({preventScroll:!0})})}ua(bm,{bindComponent(b){d.push(b)},unbindComponent(b){const T=d.indexOf(b);T!==-1&&d.splice(T,1)}});let _=!1;return Do(()=>{_=!0}),Pl(()=>{_===!0&&e.autofocus===!0&&y()}),$n(()=>{e.autofocus===!0&&y()}),Object.assign(s.proxy,{validate:h,resetValidation:g,submit:m,reset:v,focus:y,getValidationComponents:()=>d}),()=>z("form",{class:"q-form",ref:a,onSubmit:m,onReset:v},Pn(t.default))}}),Uf=Zt({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=Gt(),s=Dr(xm,mi);if(s===mi)return console.error("QPage needs to be a deep child of QLayout"),mi;if(Dr(V2,mi)===mi)return console.error("QPage needs to be child of QPageContainer"),mi;const l=G(()=>{const h=(s.header.space===!0?s.header.size:0)+(s.footer.space===!0?s.footer.size:0);if(typeof e.styleFn=="function"){const g=s.isContainer.value===!0?s.containerHeight.value:n.screen.height;return e.styleFn(h,g)}return{minHeight:s.isContainer.value===!0?s.containerHeight.value-h+"px":n.screen.height===0?h!==0?`calc(100vh - ${h}px)`:"100vh":n.screen.height-h+"px"}}),d=G(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>z("main",{class:d.value,style:l.value},Pn(t.default))}});function Yb(e,t,n){let s;function a(){s!==void 0&&(Gd.remove(s),s=void 0)}return Yn(()=>{e.value===!0&&a()}),{removeFromHistory:a,addToHistory(){s={condition:()=>n.value===!0,handler:t},Gd.add(s)}}}function So(){let e=null;const t=Gt();function n(){e!==null&&(clearTimeout(e),e=null)}return Do(n),Yn(n),{removeTimeout:n,registerTimeout(s,a){n(),da(t)===!1&&(e=setTimeout(()=>{e=null,s()},a))}}}function wl(){let e;const t=Gt();function n(){e=void 0}return Do(n),Yn(n),{removeTick:n,registerTick(s){e=s,Cn(()=>{e===s&&(da(t)===!1&&e(),e=void 0)})}}}const ov={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},av=["beforeShow","show","beforeHide","hide"];function lv({showing:e,canShow:t,hideOnRouteChange:n,handleShow:s,handleHide:a,processOnMount:l}){const d=Gt(),{props:h,emit:g,proxy:m}=d;let v;function y(j){e.value===!0?T(j):_(j)}function _(j){if(h.disable===!0||j!==void 0&&j.qAnchorHandled===!0||t!==void 0&&t(j)!==!0)return;const D=h["onUpdate:modelValue"]!==void 0;D===!0&&(g("update:modelValue",!0),v=j,Cn(()=>{v===j&&(v=void 0)})),(h.modelValue===null||D===!1)&&b(j)}function b(j){e.value!==!0&&(e.value=!0,g("beforeShow",j),s!==void 0?s(j):g("show",j))}function T(j){if(h.disable===!0)return;const D=h["onUpdate:modelValue"]!==void 0;D===!0&&(g("update:modelValue",!1),v=j,Cn(()=>{v===j&&(v=void 0)})),(h.modelValue===null||D===!1)&&M(j)}function M(j){e.value!==!1&&(e.value=!1,g("beforeHide",j),a!==void 0?a(j):g("hide",j))}function $(j){h.disable===!0&&j===!0?h["onUpdate:modelValue"]!==void 0&&g("update:modelValue",!1):j===!0!==e.value&&(j===!0?b:M)(v)}bt(()=>h.modelValue,$),n!==void 0&&rv(d)===!0&&bt(()=>m.$route.fullPath,()=>{n.value===!0&&e.value===!0&&T()}),l===!0&&$n(()=>{$(h.modelValue)});const Z={show:_,hide:T,toggle:y};return Object.assign(m,Z),Z}const uv={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function cv(e,t=()=>{},n=()=>{}){return{transitionProps:G(()=>{const s=`q-transition--${e.transitionShow||t()}`,a=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${s}-enter-from`,enterActiveClass:`${s}-enter-active`,enterToClass:`${s}-enter-to`,leaveFromClass:`${a}-leave-from`,leaveActiveClass:`${a}-leave-active`,leaveToClass:`${a}-leave-to`}}),transitionStyle:G(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let Xb=1,Kb=document.body;function vc(e,t){const n=document.createElement("div");if(n.id=t!==void 0?`q-portal--${t}--${Xb++}`:e,Vu.globalNodes!==void 0){const s=Vu.globalNodes.class;s!==void 0&&(n.className=s)}return Kb.appendChild(n),n}function jf(e){e.remove()}const fa=[];function Zb(e){return fa.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function dv(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return yu(e)}else if(e.__qPortal===!0){const n=yu(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=yu(e)}while(e!=null)}function Qb(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=dv(e,t);continue}e.hide(t)}e=yu(e)}}const Jb=Zt({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function e_(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function fv(e,t,n,s){const a=Pe(!1),l=Pe(!1);let d=null;const h={},g=s==="dialog"&&e_(e);function m(y){if(y===!0){D0(h),l.value=!0;return}l.value=!1,a.value===!1&&(g===!1&&d===null&&(d=vc(!1,s)),a.value=!0,fa.push(e.proxy),xb(h))}function v(y){if(l.value=!1,y!==!0)return;D0(h),a.value=!1;const _=fa.indexOf(e.proxy);_!==-1&&fa.splice(_,1),d!==null&&(jf(d),d=null)}return Ia(()=>{v(!0)}),e.proxy.__qPortal=!0,ko(e.proxy,"contentEl",()=>t.value),{showPortal:m,hidePortal:v,portalIsActive:a,portalIsAccessible:l,renderPortal:()=>g===!0?n():a.value===!0?[z(jw,{to:d},z(Jb,n))]:void 0}}const t_=[Element,String],n_=[null,document,document.body,document.scrollingElement,document.documentElement];function r_(e,t){let n=Rb(t);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return n_.includes(n)?window:n}function hv(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function gv(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function mv(e,t,n=0){const s=arguments[3]===void 0?performance.now():arguments[3],a=hv(e);if(n<=0){a!==t&&nf(e,t);return}requestAnimationFrame(l=>{const d=l-s,h=a+(t-a)/Math.max(d,n)*d;nf(e,h),h!==t&&mv(e,t,n-d,l)})}function vv(e,t,n=0){const s=arguments[3]===void 0?performance.now():arguments[3],a=gv(e);if(n<=0){a!==t&&rf(e,t);return}requestAnimationFrame(l=>{const d=l-s,h=a+(t-a)/Math.max(d,n)*d;rf(e,h),h!==t&&vv(e,t,n-d,l)})}function nf(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function rf(e,t){if(e===window){window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=t}function JT(e,t,n){if(n){mv(e,t,n);return}nf(e,t)}function eI(e,t,n){if(n){vv(e,t,n);return}rf(e,t)}let au;function i_(){if(au!==void 0)return au;const e=document.createElement("p"),t=document.createElement("div");tf(e,{width:"100%",height:"200px"}),tf(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let s=e.offsetWidth;return n===s&&(s=t.clientWidth),t.remove(),au=n-s,au}function s_(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}let Qa=0,hd,gd,sl,md=!1,V0,$0,q0,io=null;function o_(e){a_(e)&&yn(e)}function a_(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=T2(e),n=e.shiftKey&&!e.deltaX,s=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),a=n||s?e.deltaY:e.deltaX;for(let l=0;l<t.length;l++){const d=t[l];if(s_(d,s))return s?a<0&&d.scrollTop===0?!0:a>0&&d.scrollTop+d.clientHeight===d.scrollHeight:a<0&&d.scrollLeft===0?!0:a>0&&d.scrollLeft+d.clientWidth===d.scrollWidth}return!0}function U0(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function lu(e){md!==!0&&(md=!0,requestAnimationFrame(()=>{md=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:s}=document.scrollingElement;(sl===void 0||t!==window.innerHeight)&&(sl=n-t,document.scrollingElement.scrollTop=s),s>sl&&(document.scrollingElement.scrollTop-=Math.ceil((s-sl)/8))}))}function j0(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:s,overflowX:a}=window.getComputedStyle(t);hd=gv(window),gd=hv(window),V0=t.style.left,$0=t.style.top,q0=window.location.href,t.style.left=`-${hd}px`,t.style.top=`-${gd}px`,a!=="hidden"&&(a==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),s!=="hidden"&&(s==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,pn.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",lu,vr.passiveCapture),window.visualViewport.addEventListener("scroll",lu,vr.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",U0,vr.passiveCapture))}pn.is.desktop===!0&&pn.is.mac===!0&&window[`${e}EventListener`]("wheel",o_,vr.notPassive),e==="remove"&&(pn.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",lu,vr.passiveCapture),window.visualViewport.removeEventListener("scroll",lu,vr.passiveCapture)):window.removeEventListener("scroll",U0,vr.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=V0,t.style.top=$0,window.location.href===q0&&window.scrollTo(hd,gd),sl=void 0)}function sf(e){let t="add";if(e===!0){if(Qa++,io!==null){clearTimeout(io),io=null;return}if(Qa>1)return}else{if(Qa===0||(Qa--,Qa>0))return;if(t="remove",pn.is.ios===!0&&pn.is.nativeMobile===!0){io!==null&&clearTimeout(io),io=setTimeout(()=>{j0(t),io=null},100);return}}j0(t)}function l_(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,sf(t))}}}const wo=[];let Ca;function u_(e){Ca=e.keyCode===27}function c_(){Ca===!0&&(Ca=!1)}function d_(e){Ca===!0&&(Ca=!1,Yi(e,27)===!0&&wo[wo.length-1](e))}function pv(e){window[e]("keydown",u_),window[e]("blur",c_),window[e]("keyup",d_),Ca=!1}function wv(e){pn.is.desktop===!0&&(wo.push(e),wo.length===1&&pv("addEventListener"))}function Uu(e){const t=wo.indexOf(e);t!==-1&&(wo.splice(t,1),wo.length===0&&pv("removeEventListener"))}const yo=[];function yv(e){yo[yo.length-1](e)}function Hf(e){pn.is.desktop===!0&&(yo.push(e),yo.length===1&&document.body.addEventListener("focusin",yv))}function ju(e){const t=yo.indexOf(e);t!==-1&&(yo.splice(t,1),yo.length===0&&document.body.removeEventListener("focusin",yv))}let uu=0;const f_={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},H0={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var pr=Zt({name:"QDialog",inheritAttrs:!1,props:{...ov,...uv,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...av,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:s}){const a=Gt(),l=Pe(null),d=Pe(!1),h=Pe(!1);let g=null,m=null,v,y;const _=G(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:b}=l_(),{registerTimeout:T}=So(),{registerTick:M,removeTick:$}=wl(),{transitionProps:Z,transitionStyle:j}=cv(e,()=>H0[e.position][0],()=>H0[e.position][1]),D=G(()=>j.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:C,hidePortal:L,portalIsAccessible:K,renderPortal:N}=fv(a,l,mt,"dialog"),{hide:J}=lv({showing:d,hideOnRouteChange:_,handleShow:Q,handleHide:Ne,processOnMount:!0}),{addToHistory:B,removeFromHistory:de}=Yb(d,J,_),me=G(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${f_[e.position]}`+(h.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),q=G(()=>d.value===!0&&e.seamless!==!0),be=G(()=>e.autoClose===!0?{onClick:se}:{}),ne=G(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${q.value===!0?"modal":"seamless"}`,s.class]);bt(()=>e.maximized,ge=>{d.value===!0&&he(ge)}),bt(q,ge=>{b(ge),ge===!0?(Hf(ct),wv(tt)):(ju(ct),Uu(tt))});function Q(ge){B(),m=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,he(e.maximized),C(),h.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),M(Ce)):$(),T(()=>{if(a.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:ue,bottom:Be}=document.activeElement.getBoundingClientRect(),{innerHeight:ve}=window,Ge=window.visualViewport!==void 0?window.visualViewport.height:ve;ue>0&&Be>Ge/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Ge,Be>=ve?1/0:Math.ceil(document.scrollingElement.scrollTop+Be-Ge/2))),document.activeElement.scrollIntoView()}y=!0,l.value.click(),y=!1}C(!0),h.value=!1,n("show",ge)},e.transitionDuration)}function Ne(ge){$(),de(),ht(!0),h.value=!0,L(),m!==null&&(((ge&&ge.type.indexOf("key")===0?m.closest('[tabindex]:not([tabindex^="-"])'):void 0)||m).focus(),m=null),T(()=>{L(!0),h.value=!1,n("hide",ge)},e.transitionDuration)}function Ce(ge){Fl(()=>{let ue=l.value;if(ue!==null){if(ge!==void 0){const Be=ue.querySelector(ge);if(Be!==null){Be.focus({preventScroll:!0});return}}ue.contains(document.activeElement)!==!0&&(ue=ue.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||ue.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||ue.querySelector("[autofocus], [data-autofocus]")||ue,ue.focus({preventScroll:!0}))}})}function De(ge){ge&&typeof ge.focus=="function"?ge.focus({preventScroll:!0}):Ce(),n("shake");const ue=l.value;ue!==null&&(ue.classList.remove("q-animate--scale"),ue.classList.add("q-animate--scale"),g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,l.value!==null&&(ue.classList.remove("q-animate--scale"),Ce())},170))}function tt(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&De():(n("escapeKey"),J()))}function ht(ge){g!==null&&(clearTimeout(g),g=null),(ge===!0||d.value===!0)&&(he(!1),e.seamless!==!0&&(b(!1),ju(ct),Uu(tt))),ge!==!0&&(m=null)}function he(ge){ge===!0?v!==!0&&(uu<1&&document.body.classList.add("q-body--dialog"),uu++,v=!0):v===!0&&(uu<2&&document.body.classList.remove("q-body--dialog"),uu--,v=!1)}function se(ge){y!==!0&&(J(ge),n("click",ge))}function Je(ge){e.persistent!==!0&&e.noBackdropDismiss!==!0?J(ge):e.noShake!==!0&&De()}function ct(ge){e.allowFocusOutside!==!0&&K.value===!0&&Qm(l.value,ge.target)!==!0&&Ce('[tabindex]:not([tabindex="-1"])')}Object.assign(a.proxy,{focus:Ce,shake:De,__updateRefocusTarget(ge){m=ge||null}}),Yn(ht);function mt(){return z("div",{role:"dialog","aria-modal":q.value===!0?"true":"false",...s,class:ne.value},[z(oi,{name:"q-transition--fade",appear:!0},()=>q.value===!0?z("div",{class:"q-dialog__backdrop fixed-full",style:D.value,"aria-hidden":"true",tabindex:-1,onClick:Je}):null),z(oi,Z.value,()=>d.value===!0?z("div",{ref:l,class:me.value,style:j.value,tabindex:-1,...be.value},Pn(t.default)):null)])}return N}}),_n=Zt({name:"QCard",props:{...zr,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=Gt(),s=Wr(e,n),a=G(()=>"q-card"+(s.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>z(e.tag,{class:a.value},Pn(t.default))}}),Tt=Zt({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=G(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>z(e.tag,{class:n.value},Pn(t.default))}}),ci=Zt({name:"QCardActions",props:{...ev,vertical:Boolean},setup(e,{slots:t}){const n=tv(e),s=G(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>z("div",{class:s.value},Pn(t.default))}});const h_={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},vd={xs:2,sm:4,md:8,lg:16,xl:24};var Sa=Zt({name:"QSeparator",props:{...zr,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=Gt(),n=Wr(e,t.proxy.$q),s=G(()=>e.vertical===!0?"vertical":"horizontal"),a=G(()=>` q-separator--${s.value}`),l=G(()=>e.inset!==!1?`${a.value}-${h_[e.inset]}`:""),d=G(()=>`q-separator${a.value}${l.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(n.value===!0?" q-separator--dark":"")),h=G(()=>{const g={};if(e.size!==void 0&&(g[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const m=e.spaced===!0?`${vd.md}px`:e.spaced in vd?`${vd[e.spaced]}px`:e.spaced,v=e.vertical===!0?["Left","Right"]:["Top","Bottom"];g[`margin${v[0]}`]=g[`margin${v[1]}`]=m}return g});return()=>z("hr",{class:d.value,style:h.value,"aria-orientation":s.value})}});function xv(e,t){const n=Pe(null),s=G(()=>e.disable===!0?null:z("span",{ref:n,class:"no-outline",tabindex:-1}));function a(l){const d=t.value;l!==void 0&&l.type.indexOf("key")===0?d!==null&&document.activeElement!==d&&d.contains(document.activeElement)===!0&&d.focus():n.value!==null&&(l===void 0||d!==null&&d.contains(l.target)===!0)&&n.value.focus()}return{refocusTargetEl:s,refocusTarget:a}}var bv={xs:30,sm:35,md:40,lg:50,xl:60};const g_=()=>z("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[z("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),z("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var m_=Zt({name:"QRadio",props:{...zr,...Da,...Vl,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:t,emit:n}){const{proxy:s}=Gt(),a=Wr(e,s.$q),l=ka(e,bv),d=Pe(null),{refocusTargetEl:h,refocusTarget:g}=xv(e,d),m=G(()=>zt(e.modelValue)===zt(e.val)),v=G(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(a.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),y=G(()=>{const C=e.color!==void 0&&(e.keepColor===!0||m.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${m.value===!0?"truthy":"falsy"}${C}`}),_=G(()=>(m.value===!0?e.checkedIcon:e.uncheckedIcon)||null),b=G(()=>e.disable===!0?-1:e.tabindex||0),T=G(()=>{const C={type:"radio"};return e.name!==void 0&&Object.assign(C,{".checked":m.value===!0,"^checked":m.value===!0?"checked":void 0,name:e.name,value:e.val}),C}),M=qf(T);function $(C){C!==void 0&&(yn(C),g(C)),e.disable!==!0&&m.value!==!0&&n("update:modelValue",e.val,C)}function Z(C){(C.keyCode===13||C.keyCode===32)&&yn(C)}function j(C){(C.keyCode===13||C.keyCode===32)&&$(C)}Object.assign(s,{set:$});const D=g_();return()=>{const C=_.value!==null?[z("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[z(Lt,{class:"q-radio__icon",name:_.value})])]:[D];e.disable!==!0&&M(C,"unshift"," q-radio__native q-ma-none q-pa-none");const L=[z("div",{class:y.value,style:l.value,"aria-hidden":"true"},C)];h.value!==null&&L.push(h.value);const K=e.label!==void 0?Ui(t.default,[e.label]):Pn(t.default);return K!==void 0&&L.push(z("div",{class:"q-radio__label q-anchor--skip"},K)),z("div",{ref:d,class:v.value,tabindex:b.value,role:"radio","aria-label":e.label,"aria-checked":m.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:$,onKeydown:Z,onKeyup:j},L)}}});const _v={...zr,...Da,...Vl,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Cv=["update:modelValue"];function Sv(e,t){const{props:n,slots:s,emit:a,proxy:l}=Gt(),{$q:d}=l,h=Wr(n,d),g=Pe(null),{refocusTargetEl:m,refocusTarget:v}=xv(n,g),y=ka(n,bv),_=G(()=>n.val!==void 0&&Array.isArray(n.modelValue)),b=G(()=>{const q=zt(n.val);return _.value===!0?n.modelValue.findIndex(be=>zt(be)===q):-1}),T=G(()=>_.value===!0?b.value!==-1:zt(n.modelValue)===zt(n.trueValue)),M=G(()=>_.value===!0?b.value===-1:zt(n.modelValue)===zt(n.falseValue)),$=G(()=>T.value===!1&&M.value===!1),Z=G(()=>n.disable===!0?-1:n.tabindex||0),j=G(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(h.value===!0?` q-${e}--dark`:"")+(n.dense===!0?` q-${e}--dense`:"")+(n.leftLabel===!0?" reverse":"")),D=G(()=>{const q=T.value===!0?"truthy":M.value===!0?"falsy":"indet",be=n.color!==void 0&&(n.keepColor===!0||(e==="toggle"?T.value===!0:M.value!==!0))?` text-${n.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${q}${be}`}),C=G(()=>{const q={type:"checkbox"};return n.name!==void 0&&Object.assign(q,{".checked":T.value,"^checked":T.value===!0?"checked":void 0,name:n.name,value:_.value===!0?n.val:n.trueValue}),q}),L=qf(C),K=G(()=>{const q={tabindex:Z.value,role:e==="toggle"?"switch":"checkbox","aria-label":n.label,"aria-checked":$.value===!0?"mixed":T.value===!0?"true":"false"};return n.disable===!0&&(q["aria-disabled"]="true"),q});function N(q){q!==void 0&&(yn(q),v(q)),n.disable!==!0&&a("update:modelValue",J(),q)}function J(){if(_.value===!0){if(T.value===!0){const q=n.modelValue.slice();return q.splice(b.value,1),q}return n.modelValue.concat([n.val])}if(T.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else if(M.value===!0){if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}else return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;return n.indeterminateValue}function B(q){(q.keyCode===13||q.keyCode===32)&&yn(q)}function de(q){(q.keyCode===13||q.keyCode===32)&&N(q)}const me=t(T,$);return Object.assign(l,{toggle:N}),()=>{const q=me();n.disable!==!0&&L(q,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const be=[z("div",{class:D.value,style:y.value,"aria-hidden":"true"},q)];m.value!==null&&be.push(m.value);const ne=n.label!==void 0?Ui(s.default,[n.label]):Pn(s.default);return ne!==void 0&&be.push(z("div",{class:`q-${e}__label q-anchor--skip`},ne)),z("div",{ref:g,class:j.value,...K.value,onClick:N,onKeydown:B,onKeyup:de},be)}}const v_=()=>z("div",{key:"svg",class:"q-checkbox__bg absolute"},[z("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[z("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),z("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var of=Zt({name:"QCheckbox",props:_v,emits:Cv,setup(e){const t=v_();function n(s,a){const l=G(()=>(s.value===!0?e.checkedIcon:a.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>l.value!==null?[z("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[z(Lt,{class:"q-checkbox__icon",name:l.value})])]:[t]}return Sv("checkbox",n)}}),Hu=Zt({name:"QToggle",props:{..._v,icon:String,iconColor:String},emits:Cv,setup(e){function t(n,s){const a=G(()=>(n.value===!0?e.checkedIcon:s.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),l=G(()=>n.value===!0?e.iconColor:null);return()=>[z("div",{class:"q-toggle__track"}),z("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},a.value!==void 0?[z(Lt,{name:a.value,color:l.value})]:void 0)]}return Sv("toggle",t)}});const Ev={radio:m_,checkbox:of,toggle:Hu},p_=Object.keys(Ev);function pd(e,t){if(typeof e=="function")return e;const n=e!==void 0?e:t;return s=>s[n]}var w_=Zt({name:"QOptionGroup",props:{...zr,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(ei),default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],name:String,type:{type:String,default:"radio",validator:e=>p_.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{proxy:{$q:s}}=Gt(),a=Array.isArray(e.modelValue);e.type==="radio"?a===!0&&console.error("q-option-group: model should not be array"):a===!1&&console.error("q-option-group: model should be array in your case");const l=Wr(e,s),d=G(()=>Ev[e.type]),h=G(()=>pd(e.optionValue,"value")),g=G(()=>pd(e.optionLabel,"label")),m=G(()=>pd(e.optionDisable,"disable")),v=G(()=>e.options.map(T=>({val:h.value(T),name:T.name===void 0?e.name:T.name,disable:e.disable||m.value(T),leftLabel:T.leftLabel===void 0?e.leftLabel:T.leftLabel,color:T.color===void 0?e.color:T.color,checkedIcon:T.checkedIcon,uncheckedIcon:T.uncheckedIcon,dark:T.dark===void 0?l.value:T.dark,size:T.size===void 0?e.size:T.size,dense:e.dense,keepColor:T.keepColor===void 0?e.keepColor:T.keepColor}))),y=G(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),_=G(()=>{const T={role:"group"};return e.type==="radio"&&(T.role="radiogroup",e.disable===!0&&(T["aria-disabled"]="true")),T});function b(T){t("update:modelValue",T)}return()=>z("div",{class:y.value,..._.value},e.options.map((T,M)=>{const $=n["label-"+M]!==void 0?()=>n["label-"+M](T):n.label!==void 0?()=>n.label(T):void 0;return z("div",[z(d.value,{label:$===void 0?g.value(T):null,modelValue:e.modelValue,"onUpdate:modelValue":b,...v.value[M]},$)])}))}}),y_=Zt({name:"DialogPluginComponent",props:{...zr,title:String,message:String,prompt:Object,options:Object,progress:[Boolean,Object],html:Boolean,ok:{type:[String,Object,Boolean],default:!0},cancel:[String,Object,Boolean],focus:{type:String,default:"ok",validator:e=>["ok","cancel","none"].includes(e)},stackButtons:Boolean,color:String,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(e,{emit:t}){const{proxy:n}=Gt(),{$q:s}=n,a=Wr(e,s),l=Pe(null),d=Pe(e.prompt!==void 0?e.prompt.model:e.options!==void 0?e.options.model:void 0),h=G(()=>"q-dialog-plugin"+(a.value===!0?" q-dialog-plugin--dark q-dark":"")+(e.progress!==!1?" q-dialog-plugin--progress":"")),g=G(()=>e.color||(a.value===!0?"amber":"primary")),m=G(()=>e.progress===!1?null:ei(e.progress)===!0?{component:e.progress.spinner||Co,props:{color:e.progress.color||g.value}}:{component:Co,props:{color:g.value}}),v=G(()=>e.prompt!==void 0||e.options!==void 0),y=G(()=>{if(v.value!==!0)return{};const{model:ne,isValid:Q,items:Ne,...Ce}=e.prompt!==void 0?e.prompt:e.options;return Ce}),_=G(()=>ei(e.ok)===!0||e.ok===!0?s.lang.label.ok:e.ok),b=G(()=>ei(e.cancel)===!0||e.cancel===!0?s.lang.label.cancel:e.cancel),T=G(()=>e.prompt!==void 0?e.prompt.isValid!==void 0&&e.prompt.isValid(d.value)!==!0:e.options!==void 0?e.options.isValid!==void 0&&e.options.isValid(d.value)!==!0:!1),M=G(()=>({color:g.value,label:_.value,ripple:!1,disable:T.value,...ei(e.ok)===!0?e.ok:{flat:!0},"data-autofocus":e.focus==="ok"&&v.value!==!0||void 0,onClick:D})),$=G(()=>({color:g.value,label:b.value,ripple:!1,...ei(e.cancel)===!0?e.cancel:{flat:!0},"data-autofocus":e.focus==="cancel"&&v.value!==!0||void 0,onClick:C}));bt(()=>e.prompt&&e.prompt.model,K),bt(()=>e.options&&e.options.model,K);function Z(){l.value.show()}function j(){l.value.hide()}function D(){t("ok",zt(d.value)),j()}function C(){j()}function L(){t("hide")}function K(ne){d.value=ne}function N(ne){T.value!==!0&&e.prompt.type!=="textarea"&&Yi(ne,13)===!0&&D()}function J(ne,Q){return e.html===!0?z(Tt,{class:ne,innerHTML:Q}):z(Tt,{class:ne},()=>Q)}function B(){return[z(vn,{color:g.value,dense:!0,autofocus:!0,dark:a.value,...y.value,modelValue:d.value,"onUpdate:modelValue":K,onKeyup:N})]}function de(){return[z(w_,{color:g.value,options:e.options.items,dark:a.value,...y.value,modelValue:d.value,"onUpdate:modelValue":K})]}function me(){const ne=[];return e.cancel&&ne.push(z(ut,$.value)),e.ok&&ne.push(z(ut,M.value)),z(ci,{class:e.stackButtons===!0?"items-end":"",vertical:e.stackButtons,align:"right"},()=>ne)}function q(){const ne=[];return e.title&&ne.push(J("q-dialog__title",e.title)),e.progress!==!1&&ne.push(z(Tt,{class:"q-dialog__progress"},()=>z(m.value.component,m.value.props))),e.message&&ne.push(J("q-dialog__message",e.message)),e.prompt!==void 0?ne.push(z(Tt,{class:"scroll q-dialog-plugin__form"},B)):e.options!==void 0&&ne.push(z(Sa,{dark:a.value}),z(Tt,{class:"scroll q-dialog-plugin__form"},de),z(Sa,{dark:a.value})),(e.ok||e.cancel)&&ne.push(me()),ne}function be(){return[z(_n,{class:[h.value,e.cardClass],style:e.cardStyle,dark:a.value},q)]}return Object.assign(n,{show:Z,hide:j}),()=>z(pr,{ref:l,onHide:L},be)}});function Av(e,t){for(const n in t)n!=="spinner"&&Object(t[n])===t[n]?(e[n]=Object(e[n])!==e[n]?{}:{...e[n]},Av(e[n],t[n])):e[n]=t[n]}function Tv(e,t,n){return s=>{let a,l;const d=t===!0&&s.component!==void 0;if(d===!0){const{component:j,componentProps:D}=s;a=typeof j=="string"?n.component(j):j,l=D||{}}else{const{class:j,style:D,...C}=s;a=e,l=C,j!==void 0&&(C.cardClass=j),D!==void 0&&(C.cardStyle=D)}let h,g=!1;const m=Pe(null),v=vc(!1,"dialog"),y=j=>{if(m.value!==null&&m.value[j]!==void 0){m.value[j]();return}const D=h.$.subTree;if(D&&D.component){if(D.component.proxy&&D.component.proxy[j]){D.component.proxy[j]();return}if(D.component.subTree&&D.component.subTree.component&&D.component.subTree.component.proxy&&D.component.subTree.component.proxy[j]){D.component.subTree.component.proxy[j]();return}}console.error("[Quasar] Incorrectly defined Dialog component")},_=[],b=[],T={onOk(j){return _.push(j),T},onCancel(j){return b.push(j),T},onDismiss(j){return _.push(j),b.push(j),T},hide(){return y("hide"),T},update(j){if(h!==null){if(d===!0)Object.assign(l,j);else{const{class:D,style:C,...L}=j;D!==void 0&&(L.cardClass=D),C!==void 0&&(L.cardStyle=C),Av(l,L)}h.$forceUpdate()}return T}},M=j=>{g=!0,_.forEach(D=>{D(j)})},$=()=>{Z.unmount(v),jf(v),Z=null,h=null,g!==!0&&b.forEach(j=>{j()})};let Z=Pf({name:"QGlobalDialog",setup:()=>()=>z(a,{...l,ref:m,onOk:M,onHide:$,onVnodeMounted(...j){typeof l.onVnodeMounted=="function"&&l.onVnodeMounted(...j),Cn(()=>y("show"))}})},n);return h=Z.mount(v),T}}var Fr={install({$q:e,parentApp:t}){e.dialog=this.create=Tv(y_,!0,t)}};let Ko,wd,z0=0,so=null,Cr={},ho={};const Iv={group:"__default_quasar_group__",delay:0,message:!1,html:!1,spinnerSize:80,spinnerColor:"",messageColor:"",backgroundColor:"",boxClass:"",spinner:Co,customClass:""},Ov={...Iv};function x_(e){if(e&&e.group!==void 0&&ho[e.group]!==void 0)return Object.assign(ho[e.group],e);const t=ei(e)===!0&&e.ignoreDefaults===!0?{...Iv,...e}:{...Ov,...e};return ho[t.group]=t,t}const Ft=Bl({isActive:!1},{show(e){Cr=x_(e);const{group:t}=Cr;return Ft.isActive=!0,Ko!==void 0?(Cr.uid=z0,wd.$forceUpdate()):(Cr.uid=++z0,so!==null&&clearTimeout(so),so=setTimeout(()=>{so=null;const n=vc("q-loading");Ko=Pf({name:"QLoading",setup(){$n(()=>{sf(!0)});function s(){Ft.isActive!==!0&&Ko!==void 0&&(sf(!1),Ko.unmount(n),jf(n),Ko=void 0,wd=void 0)}function a(){if(Ft.isActive!==!0)return null;const l=[z(Cr.spinner,{class:"q-loading__spinner",color:Cr.spinnerColor,size:Cr.spinnerSize})];return Cr.message&&l.push(z("div",{class:"q-loading__message"+(Cr.messageColor?` text-${Cr.messageColor}`:""),[Cr.html===!0?"innerHTML":"textContent"]:Cr.message})),z("div",{class:"q-loading fullscreen flex flex-center z-max "+Cr.customClass.trim(),key:Cr.uid},[z("div",{class:"q-loading__backdrop"+(Cr.backgroundColor?` bg-${Cr.backgroundColor}`:"")}),z("div",{class:"q-loading__box column items-center "+Cr.boxClass},l)])}return()=>z(oi,{name:"q-transition--fade",appear:!0,onAfterLeave:s},a)}},Ft.__parentApp),wd=Ko.mount(n)},Cr.delay)),n=>{if(n===void 0||Object(n)!==n){Ft.hide(t);return}Ft.show({...n,group:t})}},hide(e){if(Ft.isActive===!0){if(e===void 0)ho={};else{if(ho[e]===void 0)return;{delete ho[e];const t=Object.keys(ho);if(t.length!==0){const n=t[t.length-1];Ft.show({group:n});return}}}so!==null&&(clearTimeout(so),so=null),Ft.isActive=!1}},setDefaults(e){ei(e)===!0&&Object.assign(Ov,e)},install({$q:e,parentApp:t}){e.loading=this,Ft.__parentApp=t,e.config.loading!==void 0&&this.setDefaults(e.config.loading)}});var b_=Zt({name:"QAvatar",props:{...Da,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:t}){const n=ka(e),s=G(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),a=G(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const l=e.icon!==void 0?[z(Lt,{name:e.icon})]:void 0;return z("div",{class:s.value,style:n.value},[z("div",{class:"q-avatar__content row flex-center overflow-hidden",style:a.value},qm(t.default,l))])}}});let __=0;const xu={},bu={},_i={},Dv={},C_=/^\s*$/,kv=[],S_=[void 0,null,!0,!1,""],zf=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],E_=["top-left","top-right","bottom-left","bottom-right"],ia={positive:{icon:e=>e.iconSet.type.positive,color:"positive"},negative:{icon:e=>e.iconSet.type.negative,color:"negative"},warning:{icon:e=>e.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:e=>e.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}};function Rv(e,t,n){if(!e)return Ja("parameter required");let s;const a={textColor:"white"};if(e.ignoreDefaults!==!0&&Object.assign(a,xu),ei(e)===!1&&(a.type&&Object.assign(a,ia[a.type]),e={message:e}),Object.assign(a,ia[e.type||a.type],e),typeof a.icon=="function"&&(a.icon=a.icon(t)),a.spinner?(a.spinner===!0&&(a.spinner=Co),a.spinner=Oo(a.spinner)):a.spinner=!1,a.meta={hasMedia:Boolean(a.spinner!==!1||a.icon||a.avatar),hasText:W0(a.message)||W0(a.caption)},a.position){if(zf.includes(a.position)===!1)return Ja("wrong position",e)}else a.position="bottom";if(S_.includes(a.timeout)===!0)a.timeout=5e3;else{const g=Number(a.timeout);if(isNaN(g)||g<0)return Ja("wrong timeout",e);a.timeout=Number.isFinite(g)?g:0}a.timeout===0?a.progress=!1:a.progress===!0&&(a.meta.progressClass="q-notification__progress"+(a.progressClass?` ${a.progressClass}`:""),a.meta.progressStyle={animationDuration:`${a.timeout+1e3}ms`});const l=(Array.isArray(e.actions)===!0?e.actions:[]).concat(e.ignoreDefaults!==!0&&Array.isArray(xu.actions)===!0?xu.actions:[]).concat(ia[e.type]!==void 0&&Array.isArray(ia[e.type].actions)===!0?ia[e.type].actions:[]),{closeBtn:d}=a;if(d&&l.push({label:typeof d=="string"?d:t.lang.label.close}),a.actions=l.map(({handler:g,noDismiss:m,...v})=>({flat:!0,...v,onClick:typeof g=="function"?()=>{g(),m!==!0&&h()}:()=>{h()}})),a.multiLine===void 0&&(a.multiLine=a.actions.length>1),Object.assign(a.meta,{class:`q-notification row items-stretch q-notification--${a.multiLine===!0?"multi-line":"standard"}`+(a.color!==void 0?` bg-${a.color}`:"")+(a.textColor!==void 0?` text-${a.textColor}`:"")+(a.classes!==void 0?` ${a.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(a.multiLine===!0?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(a.multiLine===!0?"":" col"),leftClass:a.meta.hasText===!0?"additional":"single",attrs:{role:"alert",...a.attrs}}),a.group===!1?(a.group=void 0,a.meta.group=void 0):((a.group===void 0||a.group===!0)&&(a.group=[a.message,a.caption,a.multiline].concat(a.actions.map(g=>`${g.label}*${g.icon}`)).join("|")),a.meta.group=a.group+"|"+a.position),a.actions.length===0?a.actions=void 0:a.meta.actionsClass="q-notification__actions row items-center "+(a.multiLine===!0?"justify-end":"col-auto")+(a.meta.hasMedia===!0?" q-notification__actions--with-media":""),n!==void 0){n.notif.meta.timer&&(clearTimeout(n.notif.meta.timer),n.notif.meta.timer=void 0),a.meta.uid=n.notif.meta.uid;const g=_i[a.position].value.indexOf(n.notif);_i[a.position].value[g]=a}else{const g=bu[a.meta.group];if(g===void 0){if(a.meta.uid=__++,a.meta.badge=1,["left","right","center"].indexOf(a.position)!==-1)_i[a.position].value.splice(Math.floor(_i[a.position].value.length/2),0,a);else{const m=a.position.indexOf("top")!==-1?"unshift":"push";_i[a.position].value[m](a)}a.group!==void 0&&(bu[a.meta.group]=a)}else{if(g.meta.timer&&(clearTimeout(g.meta.timer),g.meta.timer=void 0),a.badgePosition!==void 0){if(E_.includes(a.badgePosition)===!1)return Ja("wrong badgePosition",e)}else a.badgePosition=`top-${a.position.indexOf("left")!==-1?"right":"left"}`;a.meta.uid=g.meta.uid,a.meta.badge=g.meta.badge+1,a.meta.badgeClass=`q-notification__badge q-notification__badge--${a.badgePosition}`+(a.badgeColor!==void 0?` bg-${a.badgeColor}`:"")+(a.badgeTextColor!==void 0?` text-${a.badgeTextColor}`:"")+(a.badgeClass?` ${a.badgeClass}`:"");const m=_i[a.position].value.indexOf(g);_i[a.position].value[m]=bu[a.meta.group]=a}}const h=()=>{A_(a),s=void 0};if(a.timeout>0&&(a.meta.timer=setTimeout(()=>{a.meta.timer=void 0,h()},a.timeout+1e3)),a.group!==void 0)return g=>{g!==void 0?Ja("trying to update a grouped one which is forbidden",e):h()};if(s={dismiss:h,config:e,notif:a},n!==void 0){Object.assign(n,s);return}return g=>{if(s!==void 0)if(g===void 0)s.dismiss();else{const m=Object.assign({},s.config,g,{group:!1,position:a.position});Rv(m,t,s)}}}function A_(e){e.meta.timer&&(clearTimeout(e.meta.timer),e.meta.timer=void 0);const t=_i[e.position].value.indexOf(e);if(t!==-1){e.group!==void 0&&delete bu[e.meta.group];const n=kv[""+e.meta.uid];if(n){const{width:s,height:a}=getComputedStyle(n);n.style.left=`${n.offsetLeft}px`,n.style.width=s,n.style.height=a}_i[e.position].value.splice(t,1),typeof e.onDismiss=="function"&&e.onDismiss()}}function W0(e){return e!=null&&C_.test(e)!==!0}function Ja(e,t){return console.error(`Notify: ${e}`,t),!1}function T_(){return Zt({name:"QNotifications",devtools:{hide:!0},setup(){return()=>z("div",{class:"q-notifications"},zf.map(e=>z(g2,{key:e,class:Dv[e],tag:"div",name:`q-notification--${e}`},()=>_i[e].value.map(t=>{const n=t.meta,s=[];if(n.hasMedia===!0&&(t.spinner!==!1?s.push(z(t.spinner,{class:"q-notification__spinner q-notification__spinner--"+n.leftClass,color:t.spinnerColor,size:t.spinnerSize})):t.icon?s.push(z(Lt,{class:"q-notification__icon q-notification__icon--"+n.leftClass,name:t.icon,color:t.iconColor,size:t.iconSize,role:"img"})):t.avatar&&s.push(z(b_,{class:"q-notification__avatar q-notification__avatar--"+n.leftClass},()=>z("img",{src:t.avatar,"aria-hidden":"true"})))),n.hasText===!0){let l;const d={class:"q-notification__message col"};if(t.html===!0)d.innerHTML=t.caption?`<div>${t.message}</div><div class="q-notification__caption">${t.caption}</div>`:t.message;else{const h=[t.message];l=t.caption?[z("div",h),z("div",{class:"q-notification__caption"},[t.caption])]:h}s.push(z("div",d,l))}const a=[z("div",{class:n.contentClass},s)];return t.progress===!0&&a.push(z("div",{key:`${n.uid}|p|${n.badge}`,class:n.progressClass,style:n.progressStyle})),t.actions!==void 0&&a.push(z("div",{class:n.actionsClass},t.actions.map(l=>z(ut,l)))),n.badge>1&&a.push(z("div",{key:`${n.uid}|${n.badge}`,class:t.meta.badgeClass,style:t.badgeStyle},[n.badge])),z("div",{ref:l=>{kv[""+n.uid]=l},key:n.uid,class:n.class,...n.attrs},[z("div",{class:n.wrapperClass},a)])}))))}})}var Nn={setDefaults(e){ei(e)===!0&&Object.assign(xu,e)},registerType(e,t){ei(t)===!0&&(ia[e]=t)},install({$q:e,parentApp:t}){if(e.notify=this.create=n=>Rv(n,e),e.notify.setDefaults=this.setDefaults,e.notify.registerType=this.registerType,e.config.notify!==void 0&&this.setDefaults(e.config.notify),this.__installed!==!0){zf.forEach(s=>{_i[s]=Pe([]);const a=["left","center","right"].includes(s)===!0?"center":s.indexOf("top")!==-1?"top":"bottom",l=s.indexOf("left")!==-1?"start":s.indexOf("right")!==-1?"end":"center",d=["left","right"].includes(s)?`items-${s==="left"?"start":"end"} justify-center`:s==="center"?"flex-center":`items-${l}`;Dv[s]=`q-notifications__list q-notifications__list--${a} fixed column no-wrap ${d}`});const n=vc("q-notify");Pf(T_(),t).mount(n)}}};const I_=new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",trailingZeroDisplay:"stripIfInteger"});function O_(e){const[t,n]=e.split(" "),[s,a,l]=t.split("/").map(Number),[d,h,g]=n.split(":").map(Number);return new Date(l,a-1,s,d,h,g)}function D_(e){const t=new Date(e),n=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return`${n}:${s} ${t.toLocaleDateString("en-GB")}`}const sn={formatter:I_,parseDateString:O_,formatDate:D_},k_=e=>{try{return JSON.parse(localStorage.getItem(e))}catch(t){console.error("Failed to set local item:",t)}},R_=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.error("Failed to set local item:",n)}},Un={getLocalStorageData:k_,setLocalStorageData:R_},M_=gs("main",{state:()=>({username:"",password:"",urlEndPoint:"https://script.google.com/macros/s/AKfycbwLnFuwFg0TwlFxD7z8x6Fx2dYsh-IWoFQeYkzdAwvHhrddhNi5TuEgMRwj1TkAc-Ek/exec",userStatus:"",statusServing:"serving",statusWaiting:"waiting",statusOff:"off",listUserData:[],userData:[],menuData:[],isLogin:!1,loadingTable:!1,loadingSelect:!1,slideItems:[],slideItemsUpdate:[],isHaveNotSaveDataYet:!1,isLoadingMenuData:!1,newData:{umsatz:0,notizen:"",menuSelected:[]},updateData:{umsatz:0,notizen:"",menuSelected:[],menu:[]},showAddDialog:!1,showUpdateDialog:!1,showNotizen:!1}),getters:{doubleCount:e=>e.counter*2},actions:{getInit(){Un.getLocalStorageData("username")&&(this.username=Un.getLocalStorageData("username")),Un.getLocalStorageData("password")&&(this.password=Un.getLocalStorageData("password")),this.isLogin=Un.getLocalStorageData("isLogin")},async login(e,t){try{Ft.show({message:"\u0110ang \u0111\u0103ng nh\u1EADp..."});const n=new Headers;n.append("Content-Type","text/plain;charset=utf-8");const s=JSON.stringify({action:"login",username:e,password:t}),a={method:"POST",headers:n,body:s,redirect:"follow"};(await(await fetch(this.urlEndPoint,a)).json()).success?(this.isLogin=!0,Un.setLocalStorageData("isLogin",this.isLogin),Un.setLocalStorageData("username",e),Un.setLocalStorageData("password",t),this.router.push({name:"DataViewPage"})):alert("Login failed"),Ft.hide(),setTimeout(()=>{window.location.reload()},200)}catch(n){console.error("Error logging in:",n),Ft.hide()}},logout(){try{Fr.create({title:"X\xE1c nh\u1EADn",message:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n \u0111\u0103ng xu\u1EA9t ?",ok:!0,cancel:!0}).onOk(()=>{localStorage.clear(),this.router.push("/"),setTimeout(()=>{window.location.reload()},100)})}catch(e){console.error("Error when logging out: ",e)}},async fetchData(){try{await this.fetchMenuData(),this.loadingTable=!0,this.loadingSelect=!1;const e=new Headers;e.append("Content-Type","text/plain;charset=utf-8");const t=JSON.stringify({action:"fetchData",username:this.username,password:this.password}),n={method:"POST",headers:e,body:t,redirect:"follow"},a=await(await fetch(this.urlEndPoint,n)).json();if(a.success){let l=a.data.userData||[];this.listUserData=a.data.otherData.sort((d,h)=>h.orderCount-d.orderCount)||[],this.userStatus=a.data.userStatus,this.userData=l.map(d=>{const h=sn.parseDateString(d.datum),g=String(h.getHours()).padStart(2,"0"),m=String(h.getMinutes()).padStart(2,"0"),v=`${g}:${m}`;return{id:d.id,benutzername:d.benutzername,umsatz:d.umsatz,notizen:d.notizen,menu:d.menu,datum:v}}).filter(d=>d),this.userData.forEach((d,h)=>{var m;const g=((m=this.userData[h].menu)==null?void 0:m.length)>1?this.userData[h].menu.split(";"):this.userData[h].menu;this.userData[h].menu.length>1?this.userData[h].menuSelected=g.map(v=>this.menuData.filter(y=>v==y.id)[0]):this.userData[h].menuSelected=this.menuData.filter(v=>this.userData[h].menu==v.id)}),this.userData.length||(this.userData=[])}else alert("Failed to fetch data");this.loadingTable=!1}catch(e){console.error("Error fetching data:",e),this.loadingTable=!1}},async addData(){try{const e=async()=>{Ft.show({message:"\u0110ang th\xEAm m\u1EDBi d\u1EEF li\u1EC7u..."});const n=new Headers;n.append("Content-Type","text/plain;charset=utf-8"),this.newData.menuSelected.length>1?this.newData.listSelectedId=this.newData.menuSelected.map(h=>h.id):this.newData.listSelectedId=this.newData.menuSelected[0].id,this.newData.listSelectedId.length>1?this.newData.listSelectedId=this.newData.listSelectedId.join(";"):this.newData.listSelectedId=this.newData.listSelectedId+"";const s=JSON.stringify({action:"addData",username:this.username,password:this.password,data:{umsatz:this.newData.umsatz,notizen:this.newData.notizen,listSelectedId:this.newData.listSelectedId}}),a={method:"POST",headers:n,body:s,redirect:"follow"};(await(await fetch(this.urlEndPoint,a)).json()).success?(Nn.create({type:"positive",message:"Th\xEAm m\u1EDBi th\xE0nh c\xF4ng!",position:"top"}),this.newData={umsatz:0,notizen:"",menuSelected:[]},this.showAddDialog=!1):alert("Failed to add data"),Ft.hide()};let t=[{label:"Serving",value:"serving",color:"green"},{label:"Waiting",value:"waiting",color:"yellow"},{label:"Off",value:"off",color:"red"}];t=t.filter(n=>n.value!==this.userStatus),Fr.create({title:"Th\xF4ng b\xE1o",message:"B\u1EA1n c\xF3 mu\u1ED1n thay \u0111\u1ED5i tr\u1EA1ng th\xE1i sau khi th\xEAm kh\xF4ng?",options:{type:"radio",model:"opt1",items:t},cancel:!0,persistent:!0}).onOk(async n=>{n!="opt1"?(await e(),await this.updateUserStatus(n),setTimeout(()=>{window.location.reload()},200)):(await e(),this.fetchData())}).onCancel(()=>{}).onDismiss(()=>{})}catch(e){console.error("Error adding data:",e),Ft.hide()}},async postUpdateItem(e){try{Ft.show({message:"\u0110ang x\u1EED l\xFD..."});const t=new Headers;t.append("Content-Type","text/plain;charset=utf-8"),e.menuSelected.length>1?e.listSelectedId=e.menuSelected.map(d=>d.id):e.listSelectedId=e.menuSelected[0].id,e.listSelectedId.length>1?e.listSelectedId=e.listSelectedId.join(";"):e.listSelectedId=e.listSelectedId+"";const n=JSON.stringify({action:"updateData",id:e.id,username:this.username,password:this.password,data:{umsatz:e.umsatz,notizen:e.notizen,listSelectedId:e.listSelectedId}}),s={method:"POST",headers:t,body:n,redirect:"follow"};(await(await fetch(this.urlEndPoint,s)).json()).success?(Nn.create({type:"positive",message:"C\u1EADp nh\u1EADt th\xE0nh c\xF4ng!",position:"top"}),this.showUpdateDialog=!1,this.userData=this.userData.map(d=>d.id===e.id?{...this.updateData,id:e.id,menu:e.listSelectedId}:d),this.isHaveNotSaveDataYet=!1):alert("Error when updating data"),Ft.hide()}catch(t){Ft.hide(),console.error("Error updating data:",t)}},async deleteData(e){try{Fr.create({title:"X\xE1c nh\u1EADn",message:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a h\xE0ng n\xE0y kh\xF4ng?",ok:!0,cancel:!0}).onOk(async()=>{Ft.show({message:"\u0110ang x\xF3a d\u1EEF li\u1EC7u..."});const t=new Headers;t.append("Content-Type","text/plain;charset=utf-8");const n=JSON.stringify({action:"deleteData",username:this.username,password:this.password,id:e}),s={method:"POST",headers:t,body:n,redirect:"follow"};(await(await fetch(this.urlEndPoint,s)).json()).success?(Nn.create({type:"positive",message:"X\xF3a th\xE0nh c\xF4ng!",position:"top"}),this.userData=this.userData.filter(d=>d.id!==e)):alert("Failed to delete data"),Ft.hide()})}catch(t){console.error("Error deleting data:",t),Ft.hide()}},async updateUserStatus(e){this.userStatus=e;const t=new Headers;t.append("Content-Type","text/plain;charset=utf-8");const n=JSON.stringify({action:"updateUserStatus",username:this.username,password:this.password,status:e}),s={method:"POST",headers:t,body:n,redirect:"follow"};(await(await fetch(this.urlEndPoint,s)).json()).success?(this.listUserData=this.listUserData.map(d=>d.name===this.username?{...d,status:e}:d),Nn.create({type:"positive",message:"Update status successfully!",position:"top",timeout:1e3})):alert("Error when updating data")},async fetchMenuData(){try{const e=new Headers;e.append("Content-Type","text/plain;charset=utf-8");const t=JSON.stringify({action:"fetchMenuData"}),n={method:"POST",headers:e,body:t,redirect:"follow"},s=JSON.parse(localStorage.getItem("menuData"));if(s)this.menuData=s;else{const l=await(await fetch(this.urlEndPoint,n)).json();l.success&&(this.menuData=l.data||[],this.menuData.length&&(this.menuData=this.menuData.map(d=>({id:d.id,label:d.service,value:parseFloat(d.price)})),this.menuData=this.menuData.map(d=>({...d,filterSearch:`${d.label}${sn.formatter.format(d)}`})),localStorage.setItem("menuData",JSON.stringify(this.menuData))))}}catch(e){this.loadingSelect=!1,console.error("Error fetching data:",e)}},async syncMenu(){try{this.isLoadingMenuData=!0;const e=new Headers;e.append("Content-Type","text/plain;charset=utf-8");const t=JSON.stringify({action:"fetchMenuData"}),n={method:"POST",headers:e,body:t,redirect:"follow"},a=await(await fetch(this.urlEndPoint,n)).json();a.success&&(this.menuData=a.data||[],this.menuData.length&&(this.menuData=this.menuData.map(l=>({id:l.id,label:l.service,value:parseFloat(l.price)})),this.menuData=this.menuData.map(l=>({...l,filterSearch:`${l.label}${sn.formatter.format(l)}`})),localStorage.setItem("menuData",JSON.stringify(this.menuData)))),Nn.create({type:"positive",message:"T\u1EA3i m\u1EDBi th\xE0nh c\xF4ng!",position:"top"}),this.isLoadingMenuData=!1}catch(e){this.isLoadingMenuData=!1,this.loadingSelect=!1,console.error("Error fetching data:",e)}},onRightSlide(e,t){this.removeAddMenuItem(e);const n=this.slideItems[t];n&&n.reset()},removeAddMenuItem(e){let t=0;this.newData.menuSelected=this.newData.menuSelected.filter(n=>{if(n.id!==e)return t+=+n.value,n}),this.newData.umsatz=t},onRightSlideUpdate(e,t){this.isHaveNotSaveDataYet=!0,this.removeUpdateMenuItem(e);const n=this.slideItemsUpdate[t];n&&n.reset()},removeUpdateMenuItem(e){let t=0;this.updateData.menuSelected=this.updateData.menuSelected.filter(n=>{if(n.id!==e)return t+=+n.value,n}),this.updateData.umsatz=t},clickToggleAddMenuItem(e){this.newData.menuSelected.map(n=>n.id).includes(e.opt.id)?(this.newData.menuSelected=this.newData.menuSelected.filter(n=>{if(n.id!==e.opt.id)return n}),this.newData.umsatz=+this.newData.umsatz-+e.opt.value):(this.newData.umsatz=+this.newData.umsatz+ +e.opt.value,this.newData.menuSelected.push(e.opt))},clickToggleUpdateMenuItem(e){this.isHaveNotSaveDataYet=!0,this.updateData.menuSelected.map(n=>n.id).includes(e.opt.id)?(this.updateData.menuSelected=this.updateData.menuSelected.filter(n=>{if(n.id!==e.opt.id)return n}),this.updateData.umsatz=+this.updateData.umsatz-+e.opt.value):(this.updateData.umsatz=+this.updateData.umsatz+ +e.opt.value,this.updateData.menuSelected.push(e.opt))},handleClickBackButtonShowAlert(){try{this.isHaveNotSaveDataYet&&Fr.create({title:"C\u1EA3nh b\xE1o",message:"M\u1ECDi thay \u0111\u1ED5i v\u1EABn ch\u01B0a \u0111\u01B0\u1EE3c l\u01B0u, b\u1EA1n c\xF3 mu\u1ED1n c\u1EADp nh\u1EADt kh\xF4ng?",ok:!0,cancel:!0}).onOk(()=>{this.postUpdateItem(this.updateData),this.isHaveNotSaveDataYet=!1}).onCancel(()=>{this.isHaveNotSaveDataYet=!1}),this.showUpdateDialog=!1,this.isHaveNotSaveDataYet=!1}catch(e){console.error("Error when handling handleClickBackButtonShowAlert(): ",e)}}}}),N_=e=>{let t;return e?t=e:typeof fetch=="undefined"?t=(...n)=>zi(()=>Promise.resolve().then(function(){return Ra}),void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class Wf extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class P_ extends Wf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class L_ extends Wf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class B_ extends Wf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var af;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(af||(af={}));var F_=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function h(v){try{m(s.next(v))}catch(y){d(y)}}function g(v){try{m(s.throw(v))}catch(y){d(y)}}function m(v){v.done?l(v.value):a(v.value).then(h,g)}m((s=s.apply(e,t||[])).next())})};class V_{constructor(t,{headers:n={},customFetch:s,region:a=af.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=N_(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return F_(this,void 0,void 0,function*(){try{const{headers:a,method:l,body:d}=n;let h={},{region:g}=n;g||(g=this.region),g&&g!=="any"&&(h["x-region"]=g);let m;d&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob!="undefined"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=d):typeof d=="string"?(h["Content-Type"]="text/plain",m=d):typeof FormData!="undefined"&&d instanceof FormData?m=d:(h["Content-Type"]="application/json",m=JSON.stringify(d)));const v=yield this.fetch(`${this.url}/${t}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:m}).catch(T=>{throw new P_(T)}),y=v.headers.get("x-relay-error");if(y&&y==="true")throw new L_(v);if(!v.ok)throw new B_(v);let _=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return _==="application/json"?b=yield v.json():_==="application/octet-stream"?b=yield v.blob():_==="text/event-stream"?b=v:_==="multipart/form-data"?b=yield v.formData():b=yield v.text(),{data:b,error:null}}catch(a){return{data:null,error:a}}})}}var Or=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function $_(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),t}var Jr={},Gf={},pc={},ql={},wc={},yc={},q_=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")},Ea=q_();const U_=Ea.fetch;var Mv=Ea.fetch.bind(Ea);const Nv=Ea.Headers,j_=Ea.Request,H_=Ea.Response;var Ra=Object.freeze(Object.defineProperty({__proto__:null,fetch:U_,default:Mv,Headers:Nv,Request:j_,Response:H_},Symbol.toStringTag,{value:"Module"})),z_=$_(Ra),xc={};Object.defineProperty(xc,"__esModule",{value:!0});class W_ extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}xc.default=W_;var Pv=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yc,"__esModule",{value:!0});const G_=Pv(z_),Y_=Pv(xc);class X_{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch=="undefined"?this.fetch=G_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var d,h,g;let m=null,v=null,y=null,_=l.status,b=l.statusText;if(l.ok){if(this.method!=="HEAD"){const Z=await l.text();Z===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?v=Z:v=JSON.parse(Z))}const M=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),$=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");M&&$&&$.length>1&&(y=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(m={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,y=null,_=406,b="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const M=await l.text();try{m=JSON.parse(M),Array.isArray(m)&&l.status===404&&(v=[],m=null,_=200,b="OK")}catch{l.status===404&&M===""?(_=204,b="No Content"):m={message:M}}if(m&&this.isMaybeSingle&&((g=m==null?void 0:m.details)===null||g===void 0?void 0:g.includes("0 rows"))&&(m=null,_=200,b="OK"),m&&this.shouldThrowOnError)throw new Y_.default(m)}return{error:m,data:v,count:y,status:_,statusText:b}});return this.shouldThrowOnError||(a=a.catch(l=>{var d,h,g;return{error:{message:`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(h=l==null?void 0:l.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(g=l==null?void 0:l.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}}yc.default=X_;var K_=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wc,"__esModule",{value:!0});const Z_=K_(yc);class Q_ extends Z_.default{select(t){let n=!1;const s=(t!=null?t:"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:a,referencedTable:l=a}={}){const d=l?`${l}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s=="undefined"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a=="undefined"?"offset":`${a}.offset`,d=typeof a=="undefined"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${t}`),this.url.searchParams.set(d,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:a=!1,wal:l=!1,format:d="text"}={}){var h;const g=[t?"analyze":null,n?"verbose":null,s?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${m}"; options=${g};`,d==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}wc.default=Q_;var J_=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ql,"__esModule",{value:!0});const eC=J_(wc);class tC extends eC.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${l}fts${d}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}}ql.default=tC;var nC=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pc,"__esModule",{value:!0});const el=nC(ql);class rC{constructor(t,{headers:n={},schema:s,fetch:a}){this.url=t,this.headers=n,this.schema=s,this.fetch=a}select(t,{head:n=!1,count:s}={}){const a=n?"HEAD":"GET";let l=!1;const d=(t!=null?t:"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",d),s&&(this.headers.Prefer=`count=${s}`),new el.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:s=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),n&&l.push(`count=${n}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const d=t.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new el.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:a,defaultToNull:l=!0}={}){const d="POST",h=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&h.push(this.headers.Prefer),a&&h.push(`count=${a}`),l||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(t)){const g=t.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(g.length>0){const m=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",m.join(","))}}return new el.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new el.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new el.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}pc.default=rC;var bc={},_c={};Object.defineProperty(_c,"__esModule",{value:!0});_c.version=void 0;_c.version="0.0.0-automated";Object.defineProperty(bc,"__esModule",{value:!0});bc.DEFAULT_HEADERS=void 0;const iC=_c;bc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${iC.version}`};var Lv=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gf,"__esModule",{value:!0});const sC=Lv(pc),oC=Lv(ql),aC=bc;class Yf{constructor(t,{headers:n={},schema:s,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},aC.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new sC.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Yf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:a=!1,count:l}={}){let d;const h=new URL(`${this.url}/rpc/${t}`);let g;s||a?(d=s?"HEAD":"GET",Object.entries(n).filter(([v,y])=>y!==void 0).map(([v,y])=>[v,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([v,y])=>{h.searchParams.append(v,y)})):(d="POST",g=n);const m=Object.assign({},this.headers);return l&&(m.Prefer=`count=${l}`),new oC.default({method:d,url:h,headers:m,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}Gf.default=Yf;var Ma=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.PostgrestError=Jr.PostgrestBuilder=Jr.PostgrestTransformBuilder=Jr.PostgrestFilterBuilder=Jr.PostgrestQueryBuilder=Jr.PostgrestClient=void 0;const Bv=Ma(Gf);Jr.PostgrestClient=Bv.default;const Fv=Ma(pc);Jr.PostgrestQueryBuilder=Fv.default;const Vv=Ma(ql);Jr.PostgrestFilterBuilder=Vv.default;const $v=Ma(wc);Jr.PostgrestTransformBuilder=$v.default;const qv=Ma(yc);Jr.PostgrestBuilder=qv.default;const Uv=Ma(xc);Jr.PostgrestError=Uv.default;var lC=Jr.default={PostgrestClient:Bv.default,PostgrestQueryBuilder:Fv.default,PostgrestFilterBuilder:Vv.default,PostgrestTransformBuilder:$v.default,PostgrestBuilder:qv.default,PostgrestError:Uv.default};const{PostgrestClient:uC,PostgrestQueryBuilder:tI,PostgrestFilterBuilder:nI,PostgrestTransformBuilder:rI,PostgrestBuilder:iI,PostgrestError:sI}=lC,cC="2.11.2",dC={"X-Client-Info":`realtime-js/${cC}`},fC="1.0.0",jv=1e4,hC=1e3;var ha;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ha||(ha={}));var ri;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ri||(ri={}));var Ci;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ci||(Ci={}));var lf;(function(e){e.websocket="websocket"})(lf||(lf={}));var co;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(co||(co={}));class gC{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const a=n.getUint8(1),l=n.getUint8(2);let d=this.HEADER_LENGTH+2;const h=s.decode(t.slice(d,d+a));d=d+a;const g=s.decode(t.slice(d,d+l));d=d+l;const m=JSON.parse(s.decode(t.slice(d,t.byteLength)));return{ref:null,topic:h,event:g,payload:m}}}class Hv{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var On;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(On||(On={}));const G0=(e,t,n={})=>{var s;const a=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((l,d)=>(l[d]=mC(d,e,t,a),l),{})},mC=(e,t,n,s)=>{const a=t.find(h=>h.name===e),l=a==null?void 0:a.type,d=n[e];return l&&!s.includes(l)?zv(l,d):uf(d)},zv=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return yC(t,n)}switch(e){case On.bool:return vC(t);case On.float4:case On.float8:case On.int2:case On.int4:case On.int8:case On.numeric:case On.oid:return pC(t);case On.json:case On.jsonb:return wC(t);case On.timestamp:return xC(t);case On.abstime:case On.date:case On.daterange:case On.int4range:case On.int8range:case On.money:case On.reltime:case On.text:case On.time:case On.timestamptz:case On.timetz:case On.tsrange:case On.tstzrange:return uf(t);default:return uf(t)}},uf=e=>e,vC=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},pC=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wC=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},yC=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let l;const d=e.slice(1,n);try{l=JSON.parse("["+d+"]")}catch{l=d?d.split(","):[]}return l.map(h=>zv(t,h))}return e},xC=e=>typeof e=="string"?e.replace(" ","T"):e,Wv=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class yd{constructor(t,n,s={},a=jv){this.channel=t,this.event=n,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Y0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Y0||(Y0={}));class yl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:l,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yl.syncState(this.state,a,l,d),this.pendingDiffs.forEach(g=>{this.state=yl.syncDiff(this.state,g,l,d)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},a=>{const{onJoin:l,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=yl.syncDiff(this.state,a,l,d),h())}),this.onJoin((a,l,d)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:d})}),this.onLeave((a,l,d)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,a){const l=this.cloneDeep(t),d=this.transformState(n),h={},g={};return this.map(l,(m,v)=>{d[m]||(g[m]=v)}),this.map(d,(m,v)=>{const y=l[m];if(y){const _=v.map($=>$.presence_ref),b=y.map($=>$.presence_ref),T=v.filter($=>b.indexOf($.presence_ref)<0),M=y.filter($=>_.indexOf($.presence_ref)<0);T.length>0&&(h[m]=T),M.length>0&&(g[m]=M)}else h[m]=v}),this.syncDiff(l,{joins:h,leaves:g},s,a)}static syncDiff(t,n,s,a){const{joins:l,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(l,(h,g)=>{var m;const v=(m=t[h])!==null&&m!==void 0?m:[];if(t[h]=this.cloneDeep(g),v.length>0){const y=t[h].map(b=>b.presence_ref),_=v.filter(b=>y.indexOf(b.presence_ref)<0);t[h].unshift(..._)}s(h,v,g)}),this.map(d,(h,g)=>{let m=t[h];if(!m)return;const v=g.map(y=>y.presence_ref);m=m.filter(y=>v.indexOf(y.presence_ref)<0),t[h]=m,a(h,m,g),m.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const a=t[s];return"metas"in a?n[s]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var X0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(X0||(X0={}));var K0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(K0||(K0={}));var os;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(os||(os={}));class Xf{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=ri.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new yd(this,Ci.join,this.params,this.timeout),this.rejoinTimer=new Hv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ri.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ri.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ri.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this._isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ri.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ci.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new yl(this),this.broadcastEndpointURL=Wv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:d,private:h}}=this.params;this._onError(v=>t==null?void 0:t(os.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(os.CLOSED));const g={},m={broadcast:l,presence:d,postgres_changes:(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(v=>v.filter))!==null&&a!==void 0?a:[],private:h};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){t==null||t(os.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,b=(y=_==null?void 0:_.length)!==null&&y!==void 0?y:0,T=[];for(let M=0;M<b;M++){const $=_[M],{filter:{event:Z,schema:j,table:D,filter:C}}=$,L=v&&v[M];if(L&&L.event===Z&&L.schema===j&&L.table===D&&L.filter===C)T.push(Object.assign(Object.assign({},$),{id:L.id}));else{this.unsubscribe(),t==null||t(os.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(os.SUBSCRIBED);return}}).receive("error",v=>{t==null||t(os.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(os.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:d}=t,h=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",g={method:"POST",headers:{Authorization:h,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var d,h,g;const m=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ri.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ci.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const a=new yd(this,Ci.leave,{},t);a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,n,s){const a=new AbortController,l=setTimeout(()=>a.abort(),s),d=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(l),d}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new yd(this,t,n,s);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var a,l;const d=t.toLocaleLowerCase(),{close:h,error:g,leave:m,join:v}=Ci;if(s&&[h,g,m,v].indexOf(d)>=0&&s!==this._joinRef())return;let _=this._onMessage(d,n,s);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var T,M,$;return((T=b.filter)===null||T===void 0?void 0:T.event)==="*"||(($=(M=b.filter)===null||M===void 0?void 0:M.event)===null||$===void 0?void 0:$.toLocaleLowerCase())===d}).map(b=>b.callback(_,s)):(l=this.bindings[d])===null||l===void 0||l.filter(b=>{var T,M,$,Z,j,D;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in b){const C=b.id,L=(T=b.filter)===null||T===void 0?void 0:T.event;return C&&((M=n.ids)===null||M===void 0?void 0:M.includes(C))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===(($=n.data)===null||$===void 0?void 0:$.type.toLocaleLowerCase()))}else{const C=(j=(Z=b==null?void 0:b.filter)===null||Z===void 0?void 0:Z.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return C==="*"||C===((D=n==null?void 0:n.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===d}).map(b=>{if(typeof _=="object"&&"ids"in _){const T=_.data,{schema:M,table:$,commit_timestamp:Z,type:j,errors:D}=T;_=Object.assign(Object.assign({},{schema:M,table:$,commit_timestamp:Z,eventType:j,new:{},old:{},errors:D}),this._getPayloadRecords(T))}b.callback(_,s)})}_isClosed(){return this.state===ri.closed}_isJoined(){return this.state===ri.joined}_isJoining(){return this.state===ri.joining}_isLeaving(){return this.state===ri.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const a=t.toLocaleLowerCase(),l={type:a,filter:n,callback:s};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Xf.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ci.close,{},t)}_onError(t){this._on(Ci.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ri.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=G0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=G0(t.columns,t.old_record)),n}}const bC=()=>{},_C=typeof WebSocket!="undefined",CC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class SC{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=dC,this.params={},this.timeout=jv,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=bC,this.conn=null,this.sendBuffer=[],this.serializer=new gC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let d;return l?d=l:typeof fetch=="undefined"?d=(...h)=>zi(()=>Promise.resolve().then(function(){return Ra}),void 0).then(({default:g})=>g(...h)):d=fetch,(...h)=>d(...h)},this.endPoint=`${t}/${lf.websocket}`,this.httpEndpoint=Wv(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(l,d)=>d(JSON.stringify(l)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Hv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(_C){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new EC(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),zi(()=>import("./browser.960229ac.js").then(function(t){return t.b}),[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:fC}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n!=null?n:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ha.connecting:return co.Connecting;case ha.open:return co.Open;case ha.closing:return co.Closing;default:return co.Closed}}isConnected(){return this.connectionState()===co.Open}channel(t,n={config:{}}){const s=new Xf(`realtime:${t}`,n,this);return this.channels.push(s),s}push(t){const{topic:n,event:s,payload:a,ref:l}=t,d=()=>{this.encode(t,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};this.log("push",`${n} ${s} (${l})`,a),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(a=>{n&&a.updateJoinPayload({access_token:n}),a.joinedOnce&&a._isJoined()&&a._push(Ci.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(hC,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:a,payload:l,ref:d}=n;d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${s} ${a} ${d&&"("+d+")"||""}`,l),this.channels.filter(h=>h._isMember(s)).forEach(h=>h._trigger(a,l,d)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ci.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${s}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([CC],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class EC{constructor(t,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ha.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class Kf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Sr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class AC extends Kf{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class cf extends Kf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var TC=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function h(v){try{m(s.next(v))}catch(y){d(y)}}function g(v){try{m(s.throw(v))}catch(y){d(y)}}function m(v){v.done?l(v.value):a(v.value).then(h,g)}m((s=s.apply(e,t||[])).next())})};const Gv=e=>{let t;return e?t=e:typeof fetch=="undefined"?t=(...n)=>zi(()=>Promise.resolve().then(function(){return Ra}),void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},IC=()=>TC(void 0,void 0,void 0,function*(){return typeof Response=="undefined"?(yield zi(()=>Promise.resolve().then(function(){return Ra}),void 0)).Response:Response}),df=e=>{if(Array.isArray(e))return e.map(n=>df(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const a=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[a]=df(s)}),t};var Ro=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function h(v){try{m(s.next(v))}catch(y){d(y)}}function g(v){try{m(s.throw(v))}catch(y){d(y)}}function m(v){v.done?l(v.value):a(v.value).then(h,g)}m((s=s.apply(e,t||[])).next())})};const xd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OC=(e,t,n)=>Ro(void 0,void 0,void 0,function*(){const s=yield IC();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{t(new AC(xd(a),e.status||500))}).catch(a=>{t(new cf(xd(a),a))}):t(new cf(xd(e),e))}),DC=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(a.body=JSON.stringify(s)),Object.assign(Object.assign({},a),n))};function Ul(e,t,n,s,a,l){return Ro(this,void 0,void 0,function*(){return new Promise((d,h)=>{e(n,DC(t,s,a,l)).then(g=>{if(!g.ok)throw g;return s!=null&&s.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>OC(g,h,s))})})}function zu(e,t,n,s){return Ro(this,void 0,void 0,function*(){return Ul(e,"GET",t,n,s)})}function Ms(e,t,n,s,a){return Ro(this,void 0,void 0,function*(){return Ul(e,"POST",t,s,a,n)})}function kC(e,t,n,s,a){return Ro(this,void 0,void 0,function*(){return Ul(e,"PUT",t,s,a,n)})}function RC(e,t,n,s){return Ro(this,void 0,void 0,function*(){return Ul(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Yv(e,t,n,s,a){return Ro(this,void 0,void 0,function*(){return Ul(e,"DELETE",t,s,a,n)})}var Zr=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function h(v){try{m(s.next(v))}catch(y){d(y)}}function g(v){try{m(s.throw(v))}catch(y){d(y)}}function m(v){v.done?l(v.value):a(v.value).then(h,g)}m((s=s.apply(e,t||[])).next())})};const MC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Z0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class NC{constructor(t,n={},s,a){this.url=t,this.headers=n,this.bucketId=s,this.fetch=Gv(a)}uploadOrUpdate(t,n,s,a){return Zr(this,void 0,void 0,function*(){try{let l;const d=Object.assign(Object.assign({},Z0),a);let h=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob!="undefined"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",s)):typeof FormData!="undefined"&&s instanceof FormData?(l=s,l.append("cacheControl",d.cacheControl),g&&l.append("metadata",this.encodeMetadata(g))):(l=s,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,g&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),a!=null&&a.headers&&(h=Object.assign(Object.assign({},h),a.headers));const m=this._removeEmptyFolders(n),v=this._getFinalPath(m),y=yield this.fetch(`${this.url}/object/${v}`,Object.assign({method:t,body:l,headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{})),_=yield y.json();return y.ok?{data:{path:m,id:_.Id,fullPath:_.Key},error:null}:{data:null,error:_}}catch(l){if(Sr(l))return{data:null,error:l};throw l}})}upload(t,n,s){return Zr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,a){return Zr(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),d=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",n);try{let g;const m=Object.assign({upsert:Z0.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob!="undefined"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",s)):typeof FormData!="undefined"&&s instanceof FormData?(g=s,g.append("cacheControl",m.cacheControl)):(g=s,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const y=yield this.fetch(h.toString(),{method:"PUT",body:g,headers:v}),_=yield y.json();return y.ok?{data:{path:l,fullPath:_.Key},error:null}:{data:null,error:_}}catch(g){if(Sr(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(t,n){return Zr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const l=yield Ms(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),d=new URL(this.url+l.url),h=d.searchParams.get("token");if(!h)throw new Kf("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:h},error:null}}catch(s){if(Sr(s))return{data:null,error:s};throw s}})}update(t,n,s){return Zr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return Zr(this,void 0,void 0,function*(){try{return{data:yield Ms(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Sr(a))return{data:null,error:a};throw a}})}copy(t,n,s){return Zr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ms(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Sr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,s){return Zr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),l=yield Ms(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const d=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${d}`)},{data:l,error:null}}catch(a){if(Sr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,s){return Zr(this,void 0,void 0,function*(){try{const a=yield Ms(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),l=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${l}`):null})),error:null}}catch(a){if(Sr(a))return{data:null,error:a};throw a}})}download(t,n){return Zr(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)!="undefined"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=l?`?${l}`:"";try{const h=this._getFinalPath(t);return{data:yield(yield zu(this.fetch,`${this.url}/${a}/${h}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Sr(h))return{data:null,error:h};throw h}})}info(t){return Zr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield zu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:df(s),error:null}}catch(s){if(Sr(s))return{data:null,error:s};throw s}})}exists(t){return Zr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield RC(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Sr(s)&&s instanceof cf){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),a=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&a.push(l);const h=typeof(n==null?void 0:n.transform)!="undefined"?"render/image":"object",g=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});g!==""&&a.push(g);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${m}`)}}}remove(t){return Zr(this,void 0,void 0,function*(){try{return{data:yield Yv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}})}list(t,n,s){return Zr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},MC),n),{prefix:t||""});return{data:yield Ms(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(Sr(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer!="undefined"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const PC="2.7.1",LC={"X-Client-Info":`storage-js/${PC}`};var Zo=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function h(v){try{m(s.next(v))}catch(y){d(y)}}function g(v){try{m(s.throw(v))}catch(y){d(y)}}function m(v){v.done?l(v.value):a(v.value).then(h,g)}m((s=s.apply(e,t||[])).next())})};class BC{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},LC),n),this.fetch=Gv(s)}listBuckets(){return Zo(this,void 0,void 0,function*(){try{return{data:yield zu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Sr(t))return{data:null,error:t};throw t}})}getBucket(t){return Zo(this,void 0,void 0,function*(){try{return{data:yield zu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Zo(this,void 0,void 0,function*(){try{return{data:yield Ms(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Sr(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Zo(this,void 0,void 0,function*(){try{return{data:yield kC(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Sr(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Zo(this,void 0,void 0,function*(){try{return{data:yield Ms(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Zo(this,void 0,void 0,function*(){try{return{data:yield Yv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}})}}class FC extends BC{constructor(t,n={},s){super(t,n,s)}from(t){return new NC(this.url,this.headers,t,this.fetch)}}const VC="2.47.8";let ol="";typeof Deno!="undefined"?ol="deno":typeof document!="undefined"?ol="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?ol="react-native":ol="node";const $C={"X-Client-Info":`supabase-js-${ol}/${VC}`},qC={headers:$C},UC={schema:"public"},jC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},HC={};var zC=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function h(v){try{m(s.next(v))}catch(y){d(y)}}function g(v){try{m(s.throw(v))}catch(y){d(y)}}function m(v){v.done?l(v.value):a(v.value).then(h,g)}m((s=s.apply(e,t||[])).next())})};const WC=e=>{let t;return e?t=e:typeof fetch=="undefined"?t=Mv:t=fetch,(...n)=>t(...n)},GC=()=>typeof Headers=="undefined"?Nv:Headers,YC=(e,t,n)=>{const s=WC(n),a=GC();return(l,d)=>zC(void 0,void 0,void 0,function*(){var h;const g=(h=yield t())!==null&&h!==void 0?h:e;let m=new a(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),s(l,Object.assign(Object.assign({},d),{headers:m}))})};var XC=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function h(v){try{m(s.next(v))}catch(y){d(y)}}function g(v){try{m(s.throw(v))}catch(y){d(y)}}function m(v){v.done?l(v.value):a(v.value).then(h,g)}m((s=s.apply(e,t||[])).next())})};function KC(e){return e.replace(/\/$/,"")}function ZC(e,t){const{db:n,auth:s,realtime:a,global:l}=e,{db:d,auth:h,realtime:g,global:m}=t,v={db:Object.assign(Object.assign({},d),n),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},g),a),global:Object.assign(Object.assign({},m),l),accessToken:()=>XC(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}const Xv="2.67.1",QC="http://localhost:9999",JC="supabase.auth.token",eS={"X-Client-Info":`gotrue-js/${Xv}`},Q0=10,ff="X-Supabase-Api-Version",Kv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function tS(e){return Math.round(Date.now()/1e3)+e}function nS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const xi=()=>typeof document!="undefined",oo={tested:!1,writable:!1},xl=()=>{if(!xi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(oo.tested)return oo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),oo.tested=!0,oo.writable=!0}catch{oo.tested=!0,oo.writable=!1}return oo.writable};function bd(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,l)=>{t[l]=a})}catch{}return n.searchParams.forEach((s,a)=>{t[a]=s}),t}const Zv=e=>{let t;return e?t=e:typeof fetch=="undefined"?t=(...n)=>zi(()=>Promise.resolve().then(function(){return Ra}),void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},rS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qv=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},cu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},du=async(e,t)=>{await e.removeItem(t)};function iS(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",s,a,l,d,h,g,m,v=0;for(e=e.replace("-","+").replace("_","/");v<e.length;)d=t.indexOf(e.charAt(v++)),h=t.indexOf(e.charAt(v++)),g=t.indexOf(e.charAt(v++)),m=t.indexOf(e.charAt(v++)),s=d<<2|h>>4,a=(h&15)<<4|g>>2,l=(g&3)<<6|m,n=n+String.fromCharCode(s),g!=64&&a!=0&&(n=n+String.fromCharCode(a)),m!=64&&l!=0&&(n=n+String.fromCharCode(l));return n}class Cc{constructor(){this.promise=new Cc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Cc.promiseConstructor=Promise;function J0(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=n[1];return JSON.parse(iS(s))}async function sS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function oS(e,t){return new Promise((s,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const d=await e(l);if(!t(l,null,d)){s(d);return}}catch(d){if(!t(l,d)){a(d);return}}})()})}function aS(e){return("0"+e.toString(16)).substr(-2)}function lS(){const t=new Uint32Array(56);if(typeof crypto=="undefined"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let a="";for(let l=0;l<56;l++)a+=n.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,aS).join("")}async function uS(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(s);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}function cS(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dS(e){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await uS(e);return cS(n)}async function Qo(e,t,n=!1){const s=lS();let a=s;n&&(a+="/PASSWORD_RECOVERY"),await Qv(e,`${t}-code-verifier`,a);const l=await dS(s);return[l,s===l?"plain":"s256"]}const fS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hS(e){const t=e.headers.get(ff);if(!t||!t.match(fS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Zf extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Kt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class gS extends Zf{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function mS(e){return Kt(e)&&e.name==="AuthApiError"}class Jv extends Zf{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Mo extends Zf{constructor(t,n,s,a){super(t,s,a),this.name=n,this.status=s}}class Ts extends Mo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vS(e){return Kt(e)&&e.name==="AuthSessionMissingError"}class _d extends Mo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fu extends Mo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class hu extends Mo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pS(e){return Kt(e)&&e.name==="AuthImplicitGrantRedirectError"}class e1 extends Mo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hf extends Mo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Cd(e){return Kt(e)&&e.name==="AuthRetryableFetchError"}class t1 extends Mo{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}var wS=globalThis&&globalThis.__rest||function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n};const uo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yS=[502,503,504];async function n1(e){var t;if(!rS(e))throw new hf(uo(e),0);if(yS.includes(e.status))throw new hf(uo(e),e.status);let n;try{n=await e.json()}catch(l){throw new Jv(uo(l),l)}let s;const a=hS(e);if(a&&a.getTime()>=Kv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new t1(uo(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Ts}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,d)=>l&&typeof d=="string",!0))throw new t1(uo(n),e.status,n.weak_password.reasons);throw new gS(uo(n),e.status||500,s)}const xS=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};async function on(e,t,n,s){var a;const l=Object.assign({},s==null?void 0:s.headers);l[ff]||(l[ff]=Kv["2024-01-01"].name),s!=null&&s.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const d=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(d.redirect_to=s.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await bS(e,t,n+h,{headers:l,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(g):{data:Object.assign({},g),error:null}}async function bS(e,t,n,s,a,l){const d=xS(t,s,a,l);let h;try{h=await e(n,Object.assign({},d))}catch(g){throw console.error(g),new hf(uo(g),0)}if(h.ok||await n1(h),s!=null&&s.noResolveJson)return h;try{return await h.json()}catch(g){await n1(g)}}function Is(e){var t;let n=null;ES(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=tS(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function r1(e){const t=Is(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ps(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _S(e){return{data:e,error:null}}function CS(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:l}=e,d=wS(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:l},g=Object.assign({},d);return{data:{properties:h,user:g},error:null}}function SS(e){return e}function ES(e){return e.access_token&&e.refresh_token&&e.expires_in}var AS=globalThis&&globalThis.__rest||function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n};class TS{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=Zv(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await on(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Kt(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await on(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ps})}catch(s){if(Kt(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=AS(t,["options"]),a=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await on(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:CS,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Kt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await on(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ps})}catch(n){if(Kt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,a,l,d,h,g;try{const m={nextPage:null,lastPage:0,total:0},v=await on(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:SS});if(v.error)throw v.error;const y=await v.json(),_=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(g=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return b.length>0&&(b.forEach(T=>{const M=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),$=JSON.parse(T.split(";")[1].split("=")[1]);m[`${$}Page`]=M}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Kt(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){try{return await on(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ps})}catch(n){if(Kt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await on(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ps})}catch(s){if(Kt(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){try{return await on(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ps})}catch(s){if(Kt(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:n,error:s}=await on(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:s}}catch(n){if(Kt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await on(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}}}const IS={getItem:e=>xl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{!xl()||globalThis.localStorage.setItem(e,t)},removeItem:e=>{!xl()||globalThis.localStorage.removeItem(e)}};function i1(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function OS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self!="undefined"&&(self.globalThis=self)}}const Jo={debug:!!(globalThis&&xl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ep extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class DS extends ep{}async function kS(e,t,n){Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new DS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Jo.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}OS();const RS={url:QC,storageKey:JC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},tl=30*1e3,s1=3;async function o1(e,t,n){return await n()}class kl{constructor(t){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kl.nextInstanceID,kl.nextInstanceID+=1,this.instanceID>0&&xi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},RS),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new TS({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Zv(a.fetch),this.lock=a.lock||o1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:xi()&&((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0?void 0:n.locks)?this.lock=kS:this.lock=o1,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:xl()?this.storage=IS:(this.memoryStorage={},this.storage=i1(this.memoryStorage)):(this.memoryStorage={},this.storage=i1(this.memoryStorage)),xi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Xv}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=xi()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",n),n||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:a}=await this._getSessionFromURL(n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),pS(a)){const h=(t=a.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Kt(n)?{error:n}:{error:new Jv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,a;try{const l=await on(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Is}),{data:d,error:h}=l;if(h||!d)return{data:{user:null,session:null},error:h};const g=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(l){if(Kt(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var n,s,a;try{let l;if("email"in t){const{email:v,password:y,options:_}=t;let b=null,T=null;this.flowType==="pkce"&&([b,T]=await Qo(this.storage,this.storageKey)),l=await on(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:v,password:y,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:b,code_challenge_method:T},xform:Is})}else if("phone"in t){const{phone:v,password:y,options:_}=t;l=await on(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(s=_==null?void 0:_.data)!==null&&s!==void 0?s:{},channel:(a=_==null?void 0:_.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Is})}else throw new fu("You must provide either an email or phone number and a password");const{data:d,error:h}=l;if(h||!d)return{data:{user:null,session:null},error:h};const g=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(l){if(Kt(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let n;if("email"in t){const{email:l,password:d,options:h}=t;n=await on(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:r1})}else if("phone"in t){const{phone:l,password:d,options:h}=t;n=await on(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:r1})}else throw new fu("You must provide either an email or phone number and a password");const{data:s,error:a}=n;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new _d}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(n){if(Kt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,a,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await cu(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(n!=null?n:"").split("/");try{const{data:l,error:d}=await on(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Is});if(await du(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new _d}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a!=null?a:null}),error:d})}catch(l){if(Kt(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:n,provider:s,token:a,access_token:l,nonce:d}=t,h=await on(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:l,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Is}),{data:g,error:m}=h;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new _d}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(n){if(Kt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,a,l,d;try{if("email"in t){const{email:h,options:g}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Qo(this.storage,this.storageKey));const{error:y}=await on(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},create_user:(s=g==null?void 0:g.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in t){const{phone:h,options:g}=t,{data:m,error:v}=await on(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(d=g==null?void 0:g.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:v}}throw new fu("You must provide either an email or phone number.")}catch(h){if(Kt(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(t){var n,s;try{let a,l;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,l=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:h}=await on(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Is});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,m=d.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(a){if(Kt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,s,a;try{let l=null,d=null;return this.flowType==="pkce"&&([l,d]=await Qo(this.storage,this.storageKey)),await on(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:d}),headers:this.headers,xform:_S})}catch(l){if(Kt(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Ts;const{error:a}=await on(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Kt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:l}=t,{error:d}=await on(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in t){const{phone:s,type:a,options:l}=t,{data:d,error:h}=await on(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new fu("You must provide either an email or phone number and a type")}catch(n){if(Kt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await cu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let d=this.suppressGetSessionWarning;t=new Proxy(t,{get:(g,m,v)=>(!d&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,v))})}return{data:{session:t},error:null}}const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await on(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ps}):await this._useSession(async n=>{var s,a,l;const{data:d,error:h}=n;if(h)throw h;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ts}:await on(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=d.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:Ps})})}catch(n){if(Kt(n))return vS(n)&&(await this._removeSession(),await du(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:a,error:l}=s;if(l)throw l;if(!a.session)throw new Ts;const d=a.session;let h=null,g=null;this.flowType==="pkce"&&t.email!=null&&([h,g]=await Qo(this.storage,this.storageKey));const{data:m,error:v}=await on(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:g}),jwt:d.access_token,xform:Ps});if(v)throw v;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(s){if(Kt(s))return{data:{user:null},error:s};throw s}}_decodeJWT(t){return J0(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ts;const n=Date.now()/1e3;let s=n,a=!0,l=null;const d=J0(t.access_token);if(d.exp&&(s=d.exp,a=s<=n),a){const{session:h,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:g}=await this._getUser(t.access_token);if(g)throw g;l={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(Kt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:d,error:h}=n;if(h)throw h;t=(s=d.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Ts;const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Kt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t){try{if(!xi())throw new hu("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new hu("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new e1("Not a valid PKCE flow url.");const n=bd(window.location.href);if(t){if(!n.code)throw new e1("No code detected.");const{data:j,error:D}=await this._exchangeCodeForSession(n.code);if(D)throw D;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:j.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new hu(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:s,provider_refresh_token:a,access_token:l,refresh_token:d,expires_in:h,expires_at:g,token_type:m}=n;if(!l||!h||!d||!m)throw new hu("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(h);let _=v+y;g&&(_=parseInt(g));const b=_-v;b*1e3<=tl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const T=_-y;v-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,_,v):v-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,_,v);const{data:M,error:$}=await this._getUser(l);if($)throw $;const Z={provider_token:s,provider_refresh_token:a,access_token:l,expires_in:y,expires_at:_,refresh_token:d,token_type:m,user:M.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:Z,redirectType:n.type},error:null}}catch(n){if(Kt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const t=bd(window.location.href);return!!(xi()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=bd(window.location.href),n=await cu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:a,error:l}=n;if(l)return{error:l};const d=(s=a.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:h}=await this.admin.signOut(d,t);if(h&&!(mS(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return t!=="others"&&(await this._removeSession(),await du(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=nS(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,a;try{const{data:{session:l},error:d}=n;if(d)throw d;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,n={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Qo(this.storage,this.storageKey,!0));try{return await on(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(Kt(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:a}=await this._useSession(async l=>{var d,h,g,m,v;const{data:y,error:_}=l;if(_)throw _;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await on(this.fetch,"GET",b,{headers:this.headers,jwt:(v=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return xi()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Kt(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,a;const{data:l,error:d}=n;if(d)throw d;return await on(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Kt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await oS(async a=>(a>0&&await sS(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await on(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Is})),(a,l)=>{const d=200*Math.pow(2,a);return l&&Cd(l)&&Date.now()+d-s<tl})}catch(s){if(this._debug(n,"error",s),Kt(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),xi()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await cu(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),l=((t=s.expires_at)!==null&&t!==void 0?t:1/0)<a+Q0;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${Q0}s`),l){if(this.autoRefreshToken&&s.refresh_token){const{error:d}=await this._callRefreshToken(s.refresh_token);d&&(console.error(d),Cd(d)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Ts;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Cc;const{data:l,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!l.session)throw new Ts;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={session:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),Kt(l)){const d={session:null,error:l};return Cd(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const l=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(g){l.push(g)}});if(await Promise.all(d),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Qv(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await du(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xi()&&(window==null?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),tl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/tl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${tl}ms, refresh threshold is ${s1} ticks`),a<=s1&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ep)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const a=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,d]=await Qo(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(d)}`});a.push(h.toString())}if(s!=null&&s.queryParams){const l=new URLSearchParams(s.queryParams);a.push(l.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:a,error:l}=n;return l?{data:null,error:l}:await on(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Kt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,a;const{data:l,error:d}=n;if(d)return{data:null,error:d};const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:g,error:m}=await on(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&((a=g==null?void 0:g.totp)===null||a===void 0?void 0:a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(Kt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:l}=n;if(l)return{data:null,error:l};const{data:d,error:h}=await on(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:l}=n;return l?{data:null,error:l}:await on(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],a=s.filter(d=>d.factor_type==="totp"&&d.status==="verified"),l=s.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:s,totp:a,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:a},error:l}=t;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const d=this._decodeJWT(a.access_token);let h=null;d.aal&&(h=d.aal);let g=h;((s=(n=a.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(g="aal2");const v=d.amr||[];return{data:{currentLevel:h,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}}kl.nextInstanceID=0;const MS=kl;class NS extends MS{constructor(t){super(t)}}var PS=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function h(v){try{m(s.next(v))}catch(y){d(y)}}function g(v){try{m(s.throw(v))}catch(y){d(y)}}function m(v){v.done?l(v.value):a(v.value).then(h,g)}m((s=s.apply(e,t||[])).next())})};class LS{constructor(t,n,s){var a,l,d;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=KC(t);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,m={db:UC,realtime:HC,auth:Object.assign(Object.assign({},jC),{storageKey:g}),global:qC},v=ZC(s!=null?s:{},m);this.storageKey=(a=v.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=v.auth)!==null&&d!==void 0?d:{},this.headers,v.global.fetch),this.fetch=YC(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new uC(`${h}/rest/v1`,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new V_(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new FC(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return PS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:a,storageKey:l,flowType:d,lock:h,debug:g},m,v){var y;const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new NS({url:this.authUrl,headers:Object.assign(Object.assign({},_),m),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:a,flowType:d,lock:h,debug:g,fetch:v,hasCustomAuthorizationHeader:(y="Authorization"in this.headers)!==null&&y!==void 0?y:!1})}_initRealtimeClient(t){return new SC(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const BS=(e,t,n)=>new LS(e,t,n),Qf=gs("supabase",{state:()=>({menuData:[],dataItem:[],listUserData:[],listDiscount:[],listDiscountUpdate:[],userStatusObject:{},isLogin:!1,isLoadingMainScreen:!1,isShowMoreUsers:!1,loadingSelect:!1,isLoadingHistory:!1,slideItems:[],slideItemsUpdate:[],isHaveNotSaveDataYet:!1,isLoadingMenuData:!1,userStatus:"",statusServing:"serving",statusWaiting:"waiting",statusOff:"off",giftCard:"",newData:{umsatz:0,notizen:"",menuSelected:[],isCustomerOrder:!1,isHaveDiscount:!1,discountObject:{},isHaveGiftCard:!1,giftCardObject:{}},updateData:{umsatz:0,notizen:"",menuSelected:[],menu:[],isCustomerOrder:!1,menuMultipleSelect:[]},listOrderHistories:[],showAddDialog:!1,showUpdateDialog:!1,showHistoryDialog:!1,showNotizen:!1}),actions:{async getInit(){this.listDiscount=await this.getDiscount(),this.listDiscountUpdate=this.listDiscount,await this.fetchData(),await this.subscribeToTableUserSessions()},async fetchData(){try{await this.fetchMenuData(),await this.getUserStatus(),this.isLoadingMainScreen=!0,this.loadingSelect=!1;const e=new Date;e.setHours(0,0,0,0);const{data:t,error:n}=await Bt.from("orders").select("*").order("created_at",{ascending:!0}).gte("created_at",e.toISOString());let s=t||[];this.dataItem=await this.handleDataToDisplay(s),this.isLoadingMainScreen=!1}catch(e){console.error("Error fetching data:",e),this.isLoadingMainScreen=!1}},async fetchOrderItem(e){try{const{data:t,error:n}=await Bt.from("order_menu").select("*").eq("order_id",e);return t}catch(t){console.error("Error fetching data:",t)}},async fetchHistoryData(e){try{this.isLoadingHistory=!0;const{data:t,error:n}=await Bt.from("order_history").select("*").eq("order_id",e);n?console.error("Error when fetching data in fetchHistoryData(rowId): ",n):(this.listOrderHistories=t,this.listOrderHistories=await Promise.all(this.listOrderHistories.map(async s=>{var y,_;let a=[];const l=s.operation.toLowerCase();l==="update"?a=s.details.new_data.menu_items:a=s.details.menu_items;let d=0,h=0;a.forEach(b=>{d+=b.price}),h=d;let g=0,m=0;l==="update"?(m=this.listDiscount.filter(b=>b.id==s.details.new_data.discount)[0],m&&(m.type==="none"?h-=m.value:h-=h/100*m.value),((y=s.details.new_data.giftcard)==null?void 0:y.length)>0&&(g=await this.getGiftCard(s.details.new_data.giftcard)),g&&(h-=g.value)):(m=this.listDiscount.filter(b=>b.id==s.details.discount)[0],m&&(m.type==="none"?h-=m.value:h-=h/100*m.value),((_=s.details.giftcard)==null?void 0:_.length)>0&&(g=await this.getGiftCard(s.details.giftcard)),g&&(h-=g.value));let v=sn.formatDate(s.created_at);return s.operation.toLowerCase()==="update"?{...s,details:{...s.details.new_data},totalPrice:d,umsatz:h,discountObject:m||{},giftCardObject:g||{},isHaveDiscount:!!m,isHaveGiftCard:!!g,dateFormat:v}:{...s,totalPrice:d,umsatz:h,discountObject:m||{},giftCardObject:g||{},isHaveDiscount:!!m,isHaveGiftCard:!!g,dateFormat:v}}))),this.isLoadingHistory=!1}catch(t){this.isLoadingHistory=!1,console.error("Error fetching data fetchHistoryData(rowId):",t)}},async handleDataToDisplay(e){try{let t=[];return t=await Promise.all(e.map(async n=>{var _;const s=new Date(n.created_at),a=String(s.getHours()).padStart(2,"0"),l=String(s.getMinutes()).padStart(2,"0"),d=`${a}:${l} ${s.toLocaleDateString("en-GB")}`,h=await this.fetchOrderItem(n.id);let g=0,m=0;h.forEach(b=>{g+=b.price}),m=g;let v=this.listDiscount.filter(b=>b.id==n.discount)[0];v&&(v.type==="none"?m-=v.value:m-=m/100*v.value);let y=0;return((_=n.giftcard)==null?void 0:_.length)>0&&(y=await this.getGiftCard(n.giftcard)),y&&(m-=y.value),{id:n.id,notizen:n.description,menu:h,datum:d,isHandled:!0,totalPrice:g,umsatz:m,discountObject:v||{},giftCardObject:y||{},isHaveDiscount:!!v,isHaveGiftCard:!!y,is_edit:n.is_edit}}).filter(n=>n)),await Promise.all(t),t.forEach((n,s)=>{t[s].menu.length>1&&(t[s].menuSelected=t[s].menu.map(a=>({...this.menuData.filter(l=>a.menu_id==l.id)[0],quantity:a.quantity})))}),this.newData.menuMultipleSelect=this.menuData.map(n=>{if(n.isMultiSelect)return{id:n.id,label:n.label,price:parseFloat(n.value),selectCount:0,isMultiSelect:!0}}).filter(n=>n),t.length||(t=[]),t}catch(t){console.error("Internal Server Error: ",t)}},async fetchMenuData(){try{const e=JSON.parse(localStorage.getItem("menuData"));if(e)this.menuData=e;else{const{data:t,error:n}=await Bt.from("menu").select();t?(this.menuData=t||[],this.menuData.length&&(this.menuData=this.menuData.map(s=>s.isMultiSelect?{id:s.id,label:s.service,value:parseFloat(s.price),selectCount:0,isMultiSelect:!0}:{id:s.id,label:s.service,value:parseFloat(s.price),isMultiSelect:!1}),this.menuData=this.menuData.map(s=>({...s,filterSearch:`${s.label}${sn.formatter.format(s)}`})),Un.setLocalStorageData("menuData",this.menuData))):console.error("Error when fetching menu data: ",n)}}catch(e){console.error("Internal Server Error: ",e)}},async addData(e){try{Fr.create({title:"Th\xF4ng b\xE1o",message:"X\xE1c nh\u1EADn th\xEAm m\u1EDBi d\u1EEF li\u1EC7u?",ok:!0,cancel:!0}).onOk(async()=>{Ft.show({message:"\u0110ang th\xEAm m\u1EDBi d\u1EEF li\u1EC7u..."});const n=[...e.menuSelected.map(g=>{const m=e.menuMultipleSelect.filter(v=>v.id===g.id)[0];return m?{menu_id:g.id,quantity:m.selectCount,price:g.value*m.selectCount}:{menu_id:g.id,quantity:1,price:g.value}})],{id:s,email:a}=Un.getLocalStorageData("userData"),l={user_id:s,description:e.notizen,is_customer_order:e.isCustomerOrder,menu_items:n,...e.isHaveDiscount?{discount:e.discountObject.id}:{discount:""},...e.isHaveGiftCard?{giftcard:e.giftCardObject.code}:{giftcard:""}};let{data:d,error:h}=await Bt.rpc("create_order_with_items_and_log_historyv2",l);h?console.error("Error creating order with items:",h):(this.fetchData(),Nn.create({type:"positive",message:"Th\xEAm m\u1EDBi th\xE0nh c\xF4ng!",position:"top"}),this.newData={umsatz:0,notizen:"",menuSelected:[],isCustomerOrder:!1},this.showAddDialog=!1),Ft.hide()})}catch(t){Ft.hide(),console.error("Internal Server Error: ",t)}},async postUpdateItem(e){try{Ft.show({message:"\u0110ang x\u1EED l\xFD..."});const t=e.menuSelected.map(h=>({menu_id:h.id,quantity:h.isMultiSelect?h.quantity:1,price:h.isMultiSelect?h.quantity*h.value:h.value})),{id:n,email:s}=Un.getLocalStorageData("userData"),a={param_user_id:n,param_description:e.notizen,param_is_customer_order:e.isCustomerOrder,param_order_id:e.id,param_menu_items:t,param_is_edit:!0,...e.isHaveDiscount?{param_discount:e.discountObject.id}:{param_discount:""},...e.isHaveGiftCard?{param_giftcard:e.giftCardObject.code}:{param_giftcard:""}};let{data:l,error:d}=await Bt.rpc("update_order_with_items_and_log_history",a);d?console.error(JSON.stringify(d,null,2)):(this.fetchData(),Nn.create({type:"positive",message:"C\u1EADp nh\u1EADt th\xE0nh c\xF4ng!",position:"top"}),this.updateData={umsatz:0,notizen:"",menuSelected:[],isCustomerOrder:!1},this.showUpdateDialog=!1),Ft.hide()}catch(t){Ft.hide(),console.error("Error updating data:",t)}},async deleteData(e){try{Fr.create({title:"X\xE1c nh\u1EADn",message:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a \u0111\u01A1n h\xE0ng n\xE0y kh\xF4ng?",ok:!0,cancel:!0}).onOk(async()=>{Ft.show({message:"\u0110ang x\xF3a d\u1EEF li\u1EC7u..."});const t=await Bt.from("orders").delete().eq("id",e);let n=this.userStatus;t.status===204?(Nn.create({type:"positive",message:"X\xF3a th\xE0nh c\xF4ng!",position:"top"}),Ft.hide(),this.dataItem=this.dataItem.filter(s=>s.id!==e)):alert("Failed to delete data")})}catch(t){console.error("Error deleting data:",t),Ft.hide()}},async getUserStatus(){try{const{data:e,error:t}=await Bt.rpc("fetch_user_order_data");if(t)console.error("Error fetching user status: ",t);else{this.listUserData=e;const n=Un.getLocalStorageData("userAuthInfo");if(n){const s=this.listUserData.filter(a=>a.userid===n.user_id)[0];Un.setLocalStorageData("selfAppInfo",s)}else console.error("Data user not found")}}catch(e){console.error("Internal Server Error: ",e)}},async updateUserStatus(e,t){try{const n={...e.length?{status:e}:{},...t?{orderCount:t}:{}};if(Object.keys(n).length===0)throw new Error("No valid fields provided to update.");const s=Un.getLocalStorageData("userData"),{data:a,error:l}=await Bt.from("user_status").update(n).eq("user_id",s.id);l?alert("Update user status failed."):this.userStatus=e}catch(n){console.error("Internal Server Error: ",n)}},async syncMenu(){try{this.isLoadingMenuData=!0,await this.fetchMenuData(),this.isLoadingMenuData=!1,Nn.create({type:"positive",message:"T\u1EA3i m\u1EDBi th\xE0nh c\xF4ng!",position:"top"})}catch(e){this.isLoadingMenuData=!1,this.loadingSelect=!1,console.error("Error fetching data:",e)}},async subscribeToTableUserSessions(){try{const e=Sc();return Bt.channel("public:user_sessions").on("postgres_changes",{event:"*",schema:"public",table:"user_sessions"},async n=>{n&&await e.validateSession()}).subscribe()}catch(e){console.error("Error subscribing to changes: ",e)}},async getDiscount(){try{let{data:e,error:t}=await Bt.from("discounts").select();return e}catch(e){console.error("Internal Server Error: ",e)}},async getListAccount(){try{let{data:e,error:t}=await Bt.from("users").select("*")}catch(e){console.error("Internal Server Error: ",e)}},async getGiftCard(e){try{const{data:t,error:n}=await Bt.from("giftcards").select("*").eq("code",e);return n?!1:t.length>0?t[0]:!1}catch(t){console.error("Internal Server Error: ",t)}},async validateGiftCard(e){try{this.newData.isHaveGiftCard=!1,this.newData.giftCardObject={};const{data:t,error:n}=await Bt.rpc("check_giftcard_usage",{giftcard_code:e});if(n){console.error("Error validating gift card:",n);return}t.id?(this.newData.isHaveGiftCard=!0,this.newData.giftCardObject=t):Nn.create({type:"negative",message:"Th\u1EBB qu\xE0 t\u1EB7ng kh\xF4ng h\u1EE3p l\u1EC7 ho\u1EB7c \u0111\xE3 h\u1EBFt h\u1EA1n",position:"top",timeout:2e3})}catch(t){console.error("Internal Server Error:",t)}},handleClickDiscount(e){try{this.newData.isHaveDiscount=!0,this.listDiscount=this.listDiscount.map(t=>t.id===e?t.isSelected?(this.newData.isHaveDiscount=!1,this.newData.discountObject={},{...t,isSelected:!1}):(this.newData.discountObject=t,{...t,isSelected:!0}):{...t,isSelected:!1})}catch(t){console.error("Internal Server Error: ",t)}},handleClickDiscountUpdate(e){try{this.updateData.isHaveDiscount=!0,this.listDiscountUpdate=this.listDiscountUpdate.map(t=>t.id===e?t.isSelected?(this.updateData.isHaveDiscount=!1,this.updateData.discountObject={},{...t,isSelected:!1}):(this.updateData.discountObject=t,{...t,isSelected:!0}):{...t,isSelected:!1})}catch(t){console.error("Internal Server Error: ",t)}},clickToggleAddMenuItem(e){this.newData.menuSelected.map(n=>n.id).includes(e.opt.id)?(this.newData.menuSelected=this.newData.menuSelected.filter(n=>{if(n.id!==e.opt.id)return n}),this.newData.umsatz=+this.newData.umsatz-+e.opt.value):(this.newData.umsatz=+this.newData.umsatz+ +e.opt.value,this.newData.menuSelected.push(e.opt))},clickToggleUpdateMenuItem(e){this.isHaveNotSaveDataYet=!0,this.updateData.menuSelected.map(n=>n.id).includes(e.opt.id)?(this.updateData.menuSelected=this.updateData.menuSelected.filter(n=>{if(n.id!==e.opt.id)return n}),this.updateData.umsatz=+this.updateData.umsatz-+e.opt.value):(this.updateData.umsatz=+this.updateData.umsatz+ +e.opt.value,this.updateData.menuSelected.push(e.opt))},handleClickBackButtonShowAlert(){try{this.isHaveNotSaveDataYet&&Fr.create({title:"C\u1EA3nh b\xE1o",message:"M\u1ECDi thay \u0111\u1ED5i v\u1EABn ch\u01B0a \u0111\u01B0\u1EE3c l\u01B0u, b\u1EA1n c\xF3 mu\u1ED1n c\u1EADp nh\u1EADt kh\xF4ng?",ok:!0,cancel:!0}).onOk(()=>{this.postUpdateItem(this.updateData),this.isHaveNotSaveDataYet=!1}).onCancel(()=>{this.isHaveNotSaveDataYet=!1}),this.showUpdateDialog=!1,this.isHaveNotSaveDataYet=!1}catch(e){console.error("Error when handling handleClickBackButtonShowAlert(): ",e)}},onRightSlide(e,t){this.removeAddMenuItem(e);const n=this.slideItems[t];n&&n.reset()},removeAddMenuItem(e){let t=0;this.newData.menuSelected=this.newData.menuSelected.filter(n=>{if(n.id!==e)return n.isMultiSelect?(t+=+n.value*n.selectCount,n):(t+=+n.value,n);n.isMultiSelect&&(this.newData.menuMultipleSelect=this.newData.menuMultipleSelect.map(s=>s.id===e?{...s,selectCount:0}:s))}),this.newData.umsatz=t},onRightSlideUpdate(e,t){this.isHaveNotSaveDataYet=!0,this.removeUpdateMenuItem(e);const n=this.slideItemsUpdate[t];n&&n.reset()},removeUpdateMenuItem(e){let t=0;this.updateData.menuSelected=this.updateData.menuSelected.filter(n=>{if(n.id!==e)return t+=+n.value,n}),this.updateData.umsatz=t},clickMultiSelectInAddData(e){try{this.newData.menuSelected=this.newData.menuSelected.filter(n=>!n.isMultiSelect),this.newData.menuMultipleSelect.forEach((n,s)=>{this.newData.menuMultipleSelect[s].id===e.id&&(this.newData.umsatz+=this.newData.menuMultipleSelect[s].price,this.newData.menuMultipleSelect[s].selectCount++)});const t=this.newData.menuMultipleSelect.filter(n=>n.selectCount).map(n=>({...n,value:n.price}));this.newData.menuSelected=[...this.newData.menuSelected,...t]}catch(t){console.error("Internal Server Error clickMultiSelect(selectProp): ",t)}},clickMultiSelectInAddDataMinus(e){try{this.newData.menuSelected=this.newData.menuSelected.filter(n=>!n.isMultiSelect),this.newData.menuMultipleSelect.forEach((n,s)=>{this.newData.menuMultipleSelect[s].id===e.id&&(this.newData.umsatz-=this.newData.menuMultipleSelect[s].price,this.newData.menuMultipleSelect[s].selectCount--)});const t=this.newData.menuMultipleSelect.filter(n=>n.selectCount).map(n=>({...n,value:n.price}));this.newData.menuSelected=[...this.newData.menuSelected,...t]}catch(t){console.error("Internal Server Error clickMultiSelect(selectProp): ",t)}},clickMultiSelectInUpdateData(e){try{this.updateData.menuSelected=this.updateData.menuSelected.filter(n=>!n.isMultiSelect),this.updateData.menuMultipleSelect.forEach((n,s)=>{this.updateData.menuMultipleSelect[s].id===e.id&&(this.updateData.umsatz+=this.updateData.menuMultipleSelect[s].price,this.updateData.menuMultipleSelect[s].selectCount++)});const t=this.updateData.menuMultipleSelect.filter(n=>n.selectCount).map(n=>({...n,value:n.price}));this.updateData.menuSelected=[...this.updateData.menuSelected,...t]}catch(t){console.error("Internal Server Error clickMultiSelect(selectProp): ",t)}},clickMultiSelectInUpdateDataMinus(e){try{this.updateData.menuSelected=this.updateData.menuSelected.filter(n=>!n.isMultiSelect),this.updateData.menuMultipleSelect.forEach((n,s)=>{this.updateData.menuMultipleSelect[s].id===e.id&&(this.updateData.umsatz-=this.updateData.menuMultipleSelect[s].price,this.updateData.menuMultipleSelect[s].selectCount--)});const t=this.updateData.menuMultipleSelect.filter(n=>n.selectCount).map(n=>({...n,value:n.price}));this.updateData.menuSelected=[...this.updateData.menuSelected,...t]}catch(t){console.error("Internal Server Error clickMultiSelect(selectProp): ",t)}}}}),FS="https://elvdmheqahlylncxiwbv.supabase.co",VS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVsdmRtaGVxYWhseWxuY3hpd2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQyNzYzNTksImV4cCI6MjA0OTg1MjM1OX0.6BLFpGc2RI4NQSgyzITmejddBw7wtNVwSuNEexMFAwc",Bt=BS(FS,VS),Sc=gs("authentication",{state:()=>({email:"",password:"",repassword:"",userList:[],isLogin:!1}),actions:{async getInit(){this.isLogin=Un.getLocalStorageData("isLogin")},async signIn(e,t){try{const n=Qf();Ft.show({message:"\u0110ang \u0111\u0103ng nh\u1EADp..."});const{data:s,error:a}=await Bt.auth.signInWithPassword({email:e.includes("@gmail.com")?e:e+"@gmail.com",password:t});if(a){Nn.create({message:a.message,type:"negative",position:"top",timeout:1e3}),Ft.hide(),console.error("Sign-in error:",a.message);return}const l=s.user;await this.getUserAccountData(l.id);const d=this.generateSessionToken(),{data:h,error:g}=await Bt.rpc("manage_user_sessions",{user_id:l.id,session_token:d});if(g)throw g;if(localStorage.setItem("session_token",d),s.session){const m=Un.getLocalStorageData("userAuthInfo"),v=m.dayoff_from,y=m.dayoff_to,b=new Date().toISOString().split("T")[0];if(b<=v||b>=y){Ft.hide(),Fr.create({title:"Th\xF4ng b\xE1o",message:"Nh\xE2n vi\xEAn \u0111ang ngh\u1EC9 ph\xE9p, kh\xF4ng th\u1EC3 \u0111\u0103ng nh\u1EADp!",ok:!0,cancel:!1,persistent:""}).onOk(()=>{});return}await n.getUserStatus();const M=Un.getLocalStorageData("userAuthInfo").role;localStorage.setItem("access_token",s.session.access_token),localStorage.setItem("refresh_token",s.session.refresh_token),Un.setLocalStorageData("userData",s.user),this.isLogin=!0,Un.setLocalStorageData("isLogin",this.isLogin),M==="admin"?(this.router.push("/admin"),Ft.hide()):(this.router.push("/data"),Ft.hide()),setTimeout(()=>{window.location.reload()},200)}}catch(n){Ft.hide(),console.error("Error when handling signIn(email, password): ",n)}},async signOut(){try{Fr.create({title:"X\xE1c nh\u1EADn",message:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n \u0111\u0103ng xu\u1EA9t ?",ok:!0,cancel:!0}).onOk(async()=>{localStorage.clear(),this.router.push("/");const{error:e}=await Bt.auth.signOut();if(e){console.error("Error signing out:",e.message);return}setTimeout(()=>{window.location.reload()},100)})}catch(e){console.error("Internal Server Error signOut(): ",e)}},async getUserAccountData(e){try{console.log(e);let{data:t,error:n}=await Bt.from("users").select("*").eq("user_id",e);Un.setLocalStorageData("userAuthInfo",t[0])}catch(t){console.error("Internal Server Error getUserAccountData(): ",t)}},async validateSession(){const e=localStorage.getItem("session_token"),{data:t,error:n}=await Bt.from("user_sessions").select("id").eq("session_token",e).single();(n||!t)&&(setTimeout(async()=>{await Bt.auth.signOut(),localStorage.clear(),Fr.create({title:"Th\xF4ng b\xE1o",message:"T\xE0i kho\u1EA3n \u0111\xE3 \u0111\u01B0\u1EE3c \u0111\u0103ng nh\u1EADp t\u1EEB m\u1ED9t thi\u1EBFt b\u1ECB kh\xE1c.",ok:!0,cancel:!1,persistent:""}).onOk(()=>{this.router.push("/"),setTimeout(()=>{window.location.reload()},300)})},300),console.error("Session validation failed. User logged out."))},async handleEmailVerification(){const e=new URL(window.location.href),t=e.searchParams.get("access_token"),n=e.searchParams.get("refresh_token");t&&n?(await Bt.auth.setSession({access_token:t,refresh_token:n}),this.router.push("/data")):console.error("No tokens found in URL")},generateSessionToken(){return crypto.randomUUID?crypto.randomUUID():([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^(crypto.getRandomValues(new Uint8Array(1))[0]&15)>>e/4).toString(16))}}});const $S={key:0,class:"login-wrapper"},qS={class:"full-width flex flex-center"},US={key:1},jS={class:"signup-wrapper"},HS={class:"full-width flex flex-center"},zS={__name:"LoginPage",setup(e){M_();const t=Sc(),n=Qf();Bf();const s=Pe(!0),a=Pe(!1),l=()=>{a.value=!a.value};return $n(async()=>{await n.fetchMenuData()}),(d,h)=>(Ae(),pt(Uf,{class:"q-pa-md"},{default:ie(()=>[s.value?(Ae(),it("div",$S,[U(Xi,{onSubmit:h[3]||(h[3]=g=>k(t).signIn(k(t).username,k(t).password)),style:{width:"500px"}},{default:ie(()=>[h[11]||(h[11]=te("div",{class:"text-h6 q-mb-md"},"Vui l\xF2ng \u0111\u0103ng nh\u1EADp",-1)),U(vn,{modelValue:k(t).username,"onUpdate:modelValue":h[0]||(h[0]=g=>k(t).username=g),label:"T\xEAn \u0111\u0103ng nh\u1EADp",rules:[g=>!!g||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 r\u1ED7ng"],outlined:"",onInput:h[1]||(h[1]=g=>k(t).username=g.toLowerCase())},{append:ie(()=>h[10]||(h[10]=[te("span",{class:"text-subtitle1"},"@gmail.com",-1)])),_:1},8,["modelValue","rules"]),U(vn,{modelValue:k(t).password,"onUpdate:modelValue":h[2]||(h[2]=g=>k(t).password=g),label:"M\u1EADt kh\u1EA9u",type:a.value?"text":"password",rules:[g=>!!g||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 r\u1ED7ng",g=>g.length>5||"M\u1EADt kh\u1EA9u t\u1ED1i thi\u1EC3u 6 k\xFD t\u1EF1"],outlined:""},{append:ie(()=>[U(Lt,{name:a.value?"visibility":"visibility_off",class:"cursor-pointer",onClick:l},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),te("div",qS,[U(ut,{label:"\u0110\u0103ng nh\u1EADp",type:"submit",color:"black",class:"full-width q-py-md"})])]),_:1})])):(Ae(),it("div",US,[U(ut,{icon:"eva-arrow-ios-back-outline",class:"text-blue q-pl-none",flat:"",onClick:h[4]||(h[4]=g=>s.value=!0)},{default:ie(()=>h[12]||(h[12]=[te("span",{class:"text-subtitle1"},"Quay l\u1EA1i",-1)])),_:1}),te("div",jS,[U(Xi,{onSubmit:h[9]||(h[9]=g=>k(t).signUp(k(t).username,k(t).password)),style:{width:"500px"}},{default:ie(()=>[h[13]||(h[13]=te("div",{class:"text-h6 q-mb-md"},"\u0110\u0103ng k\xFD",-1)),U(vn,{modelValue:k(t).username,"onUpdate:modelValue":h[5]||(h[5]=g=>k(t).username=g),label:"Email",rules:[g=>!!g||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 r\u1ED7ng"],outlined:"",onInput:h[6]||(h[6]=g=>k(t).username=g.toLowerCase())},null,8,["modelValue","rules"]),U(vn,{modelValue:k(t).password,"onUpdate:modelValue":h[7]||(h[7]=g=>k(t).password=g),label:"M\u1EADt kh\u1EA9u",type:"password",rules:[g=>g.length>5||"M\u1EADt kh\u1EA9u t\u1ED1i thi\u1EC3u 6 k\xFD t\u1EF1"],outlined:""},null,8,["modelValue","rules"]),U(vn,{modelValue:k(t).repassword,"onUpdate:modelValue":h[8]||(h[8]=g=>k(t).repassword=g),label:"Nh\u1EADp l\u1EA1i m\u1EADt kh\u1EA9u",type:"password",rules:[g=>g===k(t).password||"M\u1EADt kh\u1EA9u kh\xF4ng kh\u1EDBp"],outlined:""},null,8,["modelValue","rules"]),te("div",HS,[U(ut,{label:"\u0110\u0103ng k\xFD",type:"submit",color:"black",class:"full-width q-py-md"})])]),_:1})])]))]),_:1}))}};var WS=Oa(zS,[["__scopeId","data-v-372ae9cd"]]),sr=Zt({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=G(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>z("div",{class:n.value},Pn(t.default))}}),Qr=Zt({name:"QItem",props:{...zr,...Vb,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:s}}=Gt(),a=Wr(e,s),{hasLink:l,linkAttrs:d,linkClass:h,linkTag:g,navigateOnClick:m}=sv(),v=Pe(null),y=Pe(null),_=G(()=>e.clickable===!0||l.value===!0||e.tag==="label"),b=G(()=>e.disable!==!0&&_.value===!0),T=G(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(a.value===!0?" q-item--dark":"")+(l.value===!0&&e.active===null?h.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(b.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),M=G(()=>{if(e.insetLevel===void 0)return null;const D=s.lang.rtl===!0?"Right":"Left";return{["padding"+D]:16+e.insetLevel*56+"px"}});function $(D){b.value===!0&&(y.value!==null&&(D.qKeyEvent!==!0&&document.activeElement===v.value?y.value.focus():document.activeElement===y.value&&v.value.focus()),m(D))}function Z(D){if(b.value===!0&&Yi(D,[13,32])===!0){yn(D),D.qKeyEvent=!0;const C=new MouseEvent("click",D);C.qKeyEvent=!0,v.value.dispatchEvent(C)}n("keyup",D)}function j(){const D=ib(t.default,[]);return b.value===!0&&D.unshift(z("div",{class:"q-focus-helper",tabindex:-1,ref:y})),D}return()=>{const D={ref:v,class:T.value,style:M.value,role:"listitem",onClick:$,onKeyup:Z};return b.value===!0?(D.tabindex=e.tabindex||"0",Object.assign(D,d.value)):_.value===!0&&(D["aria-disabled"]="true"),z(g.value,D,j())}}});const GS=["ul","ol"];var si=Zt({name:"QList",props:{...zr,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const n=Gt(),s=Wr(e,n.proxy.$q),a=G(()=>GS.includes(e.tag)?null:"list"),l=G(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(s.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>z(e.tag,{class:l.value,role:a.value},Pn(t.default))}});function Jf(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Bu.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const YS={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},tp={...YS,contextMenu:Boolean};function np({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:s,proxy:a,emit:l}=Gt(),d=Pe(null);let h=null;function g(b){return d.value===null?!1:b===void 0||b.touches===void 0||b.touches.length<=1}const m={};n===void 0&&(Object.assign(m,{hide(b){a.hide(b)},toggle(b){a.toggle(b),b.qAnchorHandled=!0},toggleKey(b){Yi(b,13)===!0&&m.toggle(b)},contextClick(b){a.hide(b),Hr(b),Cn(()=>{a.show(b),b.qAnchorHandled=!0})},prevent:Hr,mobileTouch(b){if(m.mobileCleanup(b),g(b)!==!0)return;a.hide(b),d.value.classList.add("non-selectable");const T=b.target;Ei(m,"anchor",[[T,"touchmove","mobileCleanup","passive"],[T,"touchend","mobileCleanup","passive"],[T,"touchcancel","mobileCleanup","passive"],[d.value,"contextmenu","prevent","notPassive"]]),h=setTimeout(()=>{h=null,a.show(b),b.qAnchorHandled=!0},300)},mobileCleanup(b){d.value.classList.remove("non-selectable"),h!==null&&(clearTimeout(h),h=null),e.value===!0&&b!==void 0&&Jf()}}),n=function(b=s.contextMenu){if(s.noParentEvent===!0||d.value===null)return;let T;b===!0?a.$q.platform.is.mobile===!0?T=[[d.value,"touchstart","mobileTouch","passive"]]:T=[[d.value,"mousedown","hide","passive"],[d.value,"contextmenu","contextClick","notPassive"]]:T=[[d.value,"click","toggle","passive"],[d.value,"keyup","toggleKey","passive"]],Ei(m,"anchor",T)});function v(){$s(m,"anchor")}function y(b){for(d.value=b;d.value.classList.contains("q-anchor--skip");)d.value=d.value.parentNode;n()}function _(){if(s.target===!1||s.target===""||a.$el.parentNode===null)d.value=null;else if(s.target===!0)y(a.$el.parentNode);else{let b=s.target;if(typeof s.target=="string")try{b=document.querySelector(s.target)}catch{b=void 0}b!=null?(d.value=b.$el||b,n()):(d.value=null,console.error(`Anchor: target "${s.target}" not found`))}}return bt(()=>s.contextMenu,b=>{d.value!==null&&(v(),n(b))}),bt(()=>s.target,()=>{d.value!==null&&v(),_()}),bt(()=>s.noParentEvent,b=>{d.value!==null&&(b===!0?v():n())}),$n(()=>{_(),t!==!0&&s.modelValue===!0&&d.value===null&&l("update:modelValue",!1)}),Yn(()=>{h!==null&&clearTimeout(h),v()}),{anchorEl:d,canShow:g,anchorEvents:m}}function XS(e,t){const n=Pe(null);let s;function a(h,g){const m=`${g!==void 0?"add":"remove"}EventListener`,v=g!==void 0?g:s;h!==window&&h[m]("scroll",v,vr.passive),window[m]("scroll",v,vr.passive),s=g}function l(){n.value!==null&&(a(n.value),n.value=null)}const d=bt(()=>e.noParentEvent,()=>{n.value!==null&&(l(),t())});return Yn(d),{localScrollTarget:n,unconfigureScrollTarget:l,changeScrollEvent:a}}const{notPassiveCapture:Wu}=vr,xo=[];function Gu(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=fa.length-1;for(;n>=0;){const s=fa[n].$;if(s.type.name==="QTooltip"){n--;continue}if(s.type.name!=="QDialog")break;if(s.props.seamless!==!0)return;n--}for(let s=xo.length-1;s>=0;s--){const a=xo[s];if((a.anchorEl.value===null||a.anchorEl.value.contains(t)===!1)&&(t===document.body||a.innerRef.value!==null&&a.innerRef.value.contains(t)===!1))e.qClickOutside=!0,a.onClickOutside(e);else return}}function KS(e){xo.push(e),xo.length===1&&(document.addEventListener("mousedown",Gu,Wu),document.addEventListener("touchstart",Gu,Wu))}function a1(e){const t=xo.findIndex(n=>n===e);t!==-1&&(xo.splice(t,1),xo.length===0&&(document.removeEventListener("mousedown",Gu,Wu),document.removeEventListener("touchstart",Gu,Wu)))}let l1,u1;function c1(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function ZS(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const gf={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{gf[`${e}#ltr`]=e,gf[`${e}#rtl`]=e});function d1(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:gf[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function QS(e,t){let{top:n,left:s,right:a,bottom:l,width:d,height:h}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],s-=t[0],l+=t[1],a+=t[0],d+=t[0],h+=t[1]),{top:n,bottom:l,height:h,left:s,right:a,width:d,middle:s+(a-s)/2,center:n+(l-n)/2}}function JS(e,t,n){let{top:s,left:a}=e.getBoundingClientRect();return s+=t.top,a+=t.left,n!==void 0&&(s+=n[1],a+=n[0]),{top:s,bottom:s+1,height:1,left:a,right:a+1,width:1,middle:a,center:s}}function e3(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function f1(e,t,n,s){return{top:e[n.vertical]-t[s.vertical],left:e[n.horizontal]-t[s.horizontal]}}function rp(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{rp(e,t+1)},10);return}const{targetEl:n,offset:s,anchorEl:a,anchorOrigin:l,selfOrigin:d,absoluteOffset:h,fit:g,cover:m,maxHeight:v,maxWidth:y}=e;if(pn.is.ios===!0&&window.visualViewport!==void 0){const K=document.body.style,{offsetLeft:N,offsetTop:J}=window.visualViewport;N!==l1&&(K.setProperty("--q-pe-left",N+"px"),l1=N),J!==u1&&(K.setProperty("--q-pe-top",J+"px"),u1=J)}const{scrollLeft:_,scrollTop:b}=n,T=h===void 0?QS(a,m===!0?[0,0]:s):JS(a,h,s);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:y,maxHeight:v,visibility:"visible"});const{offsetWidth:M,offsetHeight:$}=n,{elWidth:Z,elHeight:j}=g===!0||m===!0?{elWidth:Math.max(T.width,M),elHeight:m===!0?Math.max(T.height,$):$}:{elWidth:M,elHeight:$};let D={maxWidth:y,maxHeight:v};(g===!0||m===!0)&&(D.minWidth=T.width+"px",m===!0&&(D.minHeight=T.height+"px")),Object.assign(n.style,D);const C=e3(Z,j);let L=f1(T,C,l,d);if(h===void 0||s===void 0)Sd(L,T,C,l,d);else{const{top:K,left:N}=L;Sd(L,T,C,l,d);let J=!1;if(L.top!==K){J=!0;const B=2*s[1];T.center=T.top-=B,T.bottom-=B+2}if(L.left!==N){J=!0;const B=2*s[0];T.middle=T.left-=B,T.right-=B+2}J===!0&&(L=f1(T,C,l,d),Sd(L,T,C,l,d))}D={top:L.top+"px",left:L.left+"px"},L.maxHeight!==void 0&&(D.maxHeight=L.maxHeight+"px",T.height>L.maxHeight&&(D.minHeight=D.maxHeight)),L.maxWidth!==void 0&&(D.maxWidth=L.maxWidth+"px",T.width>L.maxWidth&&(D.minWidth=D.maxWidth)),Object.assign(n.style,D),n.scrollTop!==b&&(n.scrollTop=b),n.scrollLeft!==_&&(n.scrollLeft=_)}function Sd(e,t,n,s,a){const l=n.bottom,d=n.right,h=i_(),g=window.innerHeight-h,m=document.body.clientWidth;if(e.top<0||e.top+l>g)if(a.vertical==="center")e.top=t[s.vertical]>g/2?Math.max(0,g-l):0,e.maxHeight=Math.min(l,g);else if(t[s.vertical]>g/2){const v=Math.min(g,s.vertical==="center"?t.center:s.vertical===a.vertical?t.bottom:t.top);e.maxHeight=Math.min(l,v),e.top=Math.max(0,v-l)}else e.top=Math.max(0,s.vertical==="center"?t.center:s.vertical===a.vertical?t.top:t.bottom),e.maxHeight=Math.min(l,g-e.top);if(e.left<0||e.left+d>m)if(e.maxWidth=Math.min(d,m),a.horizontal==="middle")e.left=t[s.horizontal]>m/2?Math.max(0,m-d):0;else if(t[s.horizontal]>m/2){const v=Math.min(m,s.horizontal==="middle"?t.middle:s.horizontal===a.horizontal?t.right:t.left);e.maxWidth=Math.min(d,v),e.left=Math.max(0,v-e.maxWidth)}else e.left=Math.max(0,s.horizontal==="middle"?t.middle:s.horizontal===a.horizontal?t.left:t.right),e.maxWidth=Math.min(d,m-e.left)}var eh=Zt({name:"QMenu",inheritAttrs:!1,props:{...tp,...ov,...zr,...uv,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:c1},self:{type:String,validator:c1},offset:{type:Array,validator:ZS},scrollTarget:t_,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...av,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:s}){let a=null,l,d,h;const g=Gt(),{proxy:m}=g,{$q:v}=m,y=Pe(null),_=Pe(!1),b=G(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),T=Wr(e,v),{registerTick:M,removeTick:$}=wl(),{registerTimeout:Z}=So(),{transitionProps:j,transitionStyle:D}=cv(e),{localScrollTarget:C,changeScrollEvent:L,unconfigureScrollTarget:K}=XS(e,Je),{anchorEl:N,canShow:J}=np({showing:_}),{hide:B}=lv({showing:_,canShow:J,handleShow:ht,handleHide:he,hideOnRouteChange:b,processOnMount:!0}),{showPortal:de,hidePortal:me,renderPortal:q}=fv(g,y,Be,"menu"),be={anchorEl:N,innerRef:y,onClickOutside(ve){if(e.persistent!==!0&&_.value===!0)return B(ve),(ve.type==="touchstart"||ve.target.classList.contains("q-dialog__backdrop"))&&yn(ve),!0}},ne=G(()=>d1(e.anchor||(e.cover===!0?"center middle":"bottom start"),v.lang.rtl)),Q=G(()=>e.cover===!0?ne.value:d1(e.self||"top start",v.lang.rtl)),Ne=G(()=>(e.square===!0?" q-menu--square":"")+(T.value===!0?" q-menu--dark q-dark":"")),Ce=G(()=>e.autoClose===!0?{onClick:ct}:{}),De=G(()=>_.value===!0&&e.persistent!==!0);bt(De,ve=>{ve===!0?(wv(ge),KS(be)):(Uu(ge),a1(be))});function tt(){Fl(()=>{let ve=y.value;ve&&ve.contains(document.activeElement)!==!0&&(ve=ve.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||ve.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||ve.querySelector("[autofocus], [data-autofocus]")||ve,ve.focus({preventScroll:!0}))})}function ht(ve){if(a=e.noRefocus===!1?document.activeElement:null,Hf(mt),de(),Je(),l=void 0,ve!==void 0&&(e.touchPosition||e.contextMenu)){const Ge=_o(ve);if(Ge.left!==void 0){const{top:st,left:wt}=N.value.getBoundingClientRect();l={left:Ge.left-wt,top:Ge.top-st}}}d===void 0&&(d=bt(()=>v.screen.width+"|"+v.screen.height+"|"+e.self+"|"+e.anchor+"|"+v.lang.rtl,ue)),e.noFocus!==!0&&document.activeElement.blur(),M(()=>{ue(),e.noFocus!==!0&&tt()}),Z(()=>{v.platform.is.ios===!0&&(h=e.autoClose,y.value.click()),ue(),de(!0),n("show",ve)},e.transitionDuration)}function he(ve){$(),me(),se(!0),a!==null&&(ve===void 0||ve.qClickOutside!==!0)&&(((ve&&ve.type.indexOf("key")===0?a.closest('[tabindex]:not([tabindex^="-"])'):void 0)||a).focus(),a=null),Z(()=>{me(!0),n("hide",ve)},e.transitionDuration)}function se(ve){l=void 0,d!==void 0&&(d(),d=void 0),(ve===!0||_.value===!0)&&(ju(mt),K(),a1(be),Uu(ge)),ve!==!0&&(a=null)}function Je(){(N.value!==null||e.scrollTarget!==void 0)&&(C.value=r_(N.value,e.scrollTarget),L(C.value,ue))}function ct(ve){h!==!0?(dv(m,ve),n("click",ve)):h=!1}function mt(ve){De.value===!0&&e.noFocus!==!0&&Qm(y.value,ve.target)!==!0&&tt()}function ge(ve){n("escapeKey"),B(ve)}function ue(){rp({targetEl:y.value,offset:e.offset,anchorEl:N.value,anchorOrigin:ne.value,selfOrigin:Q.value,absoluteOffset:l,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Be(){return z(oi,j.value,()=>_.value===!0?z("div",{role:"menu",...s,ref:y,tabindex:-1,class:["q-menu q-position-engine scroll"+Ne.value,s.class],style:[s.style,D.value],...Ce.value},Pn(t.default)):null)}return Yn(se),Object.assign(m,{focus:tt,updatePosition:ue}),q}});const t3=["top","middle","bottom"];var bi=Zt({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>t3.includes(e)}},setup(e,{slots:t}){const n=G(()=>e.align!==void 0?{verticalAlign:e.align}:null),s=G(()=>{const a=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(a!==void 0?` text-${a}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>z("div",{class:s.value,style:n.value,role:"status","aria-label":e.label},Ui(t.default,e.label!==void 0?[e.label]:[]))}});const n3={ratio:[String,Number]};function r3(e,t){return G(()=>{const n=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const i3=1.7778;var Ec=Zt({name:"QImg",props:{...n3,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:i3},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const s=Pe(e.initialRatio),a=r3(e,s),l=Gt(),{registerTimeout:d,removeTimeout:h}=So(),{registerTimeout:g,removeTimeout:m}=So(),v=G(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),y=G(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),_=[Pe(null),Pe(v.value)],b=Pe(0),T=Pe(!1),M=Pe(!1),$=G(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),Z=G(()=>({width:e.width,height:e.height})),j=G(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),D=G(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function C(){if(m(),e.loadingShowDelay===0){T.value=!0;return}g(()=>{T.value=!0},e.loadingShowDelay)}function L(){m(),T.value=!1}function K({target:q}){da(l)===!1&&(h(),s.value=q.naturalHeight===0?.5:q.naturalWidth/q.naturalHeight,N(q,1))}function N(q,be){be===1e3||da(l)===!0||(q.complete===!0?J(q):d(()=>{N(q,be+1)},50))}function J(q){da(l)!==!0&&(b.value=b.value^1,_[b.value].value=null,L(),q.getAttribute("__qerror")!=="true"&&(M.value=!1),n("load",q.currentSrc||q.src))}function B(q){h(),L(),M.value=!0,_[b.value].value=y.value,_[b.value^1].value=v.value,n("error",q)}function de(q){const be=_[q].value,ne={key:"img_"+q,class:j.value,style:D.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...be};return b.value===q?Object.assign(ne,{class:ne.class+"current",onLoad:K,onError:B}):ne.class+="loaded",z("div",{class:"q-img__container absolute-full",key:"img"+q},z("img",ne))}function me(){return T.value===!1?z("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Pn(t[M.value===!0?"error":"default"])):z("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[z(Co,{color:e.spinnerColor,size:e.spinnerSize})])}{let q=function(){bt(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,be=>{h(),M.value=!1,be===null?(L(),_[b.value^1].value=v.value):C(),_[b.value].value=be},{immediate:!0})};Gi.value===!0?$n(q):q()}return()=>{const q=[];return a.value!==null&&q.push(z("div",{key:"filler",style:a.value})),_[0].value!==null&&q.push(de(0)),_[1].value!==null&&q.push(de(1)),q.push(z(oi,{name:"q-transition--fade"},me)),z("div",{key:"main",class:$.value,style:Z.value,role:"img","aria-label":e.alt},q)}}});const s3={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function o3(){const{props:e,proxy:{$q:t}}=Gt(),n=Dr(xm,mi);if(n===mi)return console.error("QPageSticky needs to be child of QLayout"),mi;const s=G(()=>{const y=e.position;return{top:y.indexOf("top")!==-1,right:y.indexOf("right")!==-1,bottom:y.indexOf("bottom")!==-1,left:y.indexOf("left")!==-1,vertical:y==="top"||y==="bottom",horizontal:y==="left"||y==="right"}}),a=G(()=>n.header.offset),l=G(()=>n.right.offset),d=G(()=>n.footer.offset),h=G(()=>n.left.offset),g=G(()=>{let y=0,_=0;const b=s.value,T=t.lang.rtl===!0?-1:1;b.top===!0&&a.value!==0?_=`${a.value}px`:b.bottom===!0&&d.value!==0&&(_=`${-d.value}px`),b.left===!0&&h.value!==0?y=`${T*h.value}px`:b.right===!0&&l.value!==0&&(y=`${-T*l.value}px`);const M={transform:`translate(${y}, ${_})`};return e.offset&&(M.margin=`${e.offset[1]}px ${e.offset[0]}px`),b.vertical===!0?(h.value!==0&&(M[t.lang.rtl===!0?"right":"left"]=`${h.value}px`),l.value!==0&&(M[t.lang.rtl===!0?"left":"right"]=`${l.value}px`)):b.horizontal===!0&&(a.value!==0&&(M.top=`${a.value}px`),d.value!==0&&(M.bottom=`${d.value}px`)),M}),m=G(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function v(y){const _=Pn(y.default);return z("div",{class:m.value,style:g.value},e.expand===!0?_:[z("div",_)])}return{$layout:n,getStickyContent:v}}var jl=Zt({name:"QPageSticky",props:s3,setup(e,{slots:t}){const{getStickyContent:n}=o3();return()=>n(t)}});const th={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},a3=Object.keys(th);th.all=!0;function Yu(e){const t={};for(const n of a3)e[n]===!0&&(t[n]=!0);return Object.keys(t).length===0?th:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const l3=["INPUT","TEXTAREA"];function Xu(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&l3.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function Ed(e,t,n){const s=_o(e);let a,l=s.left-t.event.x,d=s.top-t.event.y,h=Math.abs(l),g=Math.abs(d);const m=t.direction;m.horizontal===!0&&m.vertical!==!0?a=l<0?"left":"right":m.horizontal!==!0&&m.vertical===!0?a=d<0?"up":"down":m.up===!0&&d<0?(a="up",h>g&&(m.left===!0&&l<0?a="left":m.right===!0&&l>0&&(a="right"))):m.down===!0&&d>0?(a="down",h>g&&(m.left===!0&&l<0?a="left":m.right===!0&&l>0&&(a="right"))):m.left===!0&&l<0?(a="left",h<g&&(m.up===!0&&d<0?a="up":m.down===!0&&d>0&&(a="down"))):m.right===!0&&l>0&&(a="right",h<g&&(m.up===!0&&d<0?a="up":m.down===!0&&d>0&&(a="down")));let v=!1;if(a===void 0&&n===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};a=t.event.lastDir,v=!0,a==="left"||a==="right"?(s.left-=l,h=0,l=0):(s.top-=d,g=0,d=0)}return{synthetic:v,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:s,direction:a,isFirst:t.event.isFirst,isFinal:n===!0,duration:Date.now()-t.event.time,distance:{x:h,y:g},offset:{x:l,y:d},delta:{x:s.left-t.event.lastX,y:s.top-t.event.lastY}}}}let u3=0;var c3=cc({name:"touch-pan",beforeMount(e,{value:t,modifiers:n}){if(n.mouse!==!0&&pn.has.touch!==!0)return;function s(l,d){n.mouse===!0&&d===!0?yn(l):(n.stop===!0&&ii(l),n.prevent===!0&&Hr(l))}const a={uid:"qvtp_"+u3++,handler:t,modifiers:n,direction:Yu(n),noop:ds,mouseStart(l){Xu(l,a)&&mm(l)&&(Ei(a,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),a.start(l,!0))},touchStart(l){if(Xu(l,a)){const d=l.target;Ei(a,"temp",[[d,"touchmove","move","notPassiveCapture"],[d,"touchcancel","end","passiveCapture"],[d,"touchend","end","passiveCapture"]]),a.start(l)}},start(l,d){if(pn.is.firefox===!0&&ca(e,!0),a.lastEvt=l,d===!0||n.stop===!0){if(a.direction.all!==!0&&(d!==!0||a.modifiers.mouseAllDir!==!0&&a.modifiers.mousealldir!==!0)){const m=l.type.indexOf("mouse")!==-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&Hr(m),l.cancelBubble===!0&&ii(m),Object.assign(m,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[a.uid]:l.qClonedBy.concat(a.uid)}),a.initialEvent={target:l.target,event:m}}ii(l)}const{left:h,top:g}=_o(l);a.event={x:h,y:g,time:Date.now(),mouse:d===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:h,lastY:g}},move(l){if(a.event===void 0)return;const d=_o(l),h=d.left-a.event.x,g=d.top-a.event.y;if(h===0&&g===0)return;a.lastEvt=l;const m=a.event.mouse===!0,v=()=>{s(l,m);let b;n.preserveCursor!==!0&&n.preservecursor!==!0&&(b=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),m===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Jf(),a.styleCleanup=T=>{if(a.styleCleanup=void 0,b!==void 0&&(document.documentElement.style.cursor=b),document.body.classList.remove("non-selectable"),m===!0){const M=()=>{document.body.classList.remove("no-pointer-events--children")};T!==void 0?setTimeout(()=>{M(),T()},50):M()}else T!==void 0&&T()}};if(a.event.detected===!0){a.event.isFirst!==!0&&s(l,a.event.mouse);const{payload:b,synthetic:T}=Ed(l,a,!1);b!==void 0&&(a.handler(b)===!1?a.end(l):(a.styleCleanup===void 0&&a.event.isFirst===!0&&v(),a.event.lastX=b.position.left,a.event.lastY=b.position.top,a.event.lastDir=T===!0?void 0:b.direction,a.event.isFirst=!1));return}if(a.direction.all===!0||m===!0&&(a.modifiers.mouseAllDir===!0||a.modifiers.mousealldir===!0)){v(),a.event.detected=!0,a.move(l);return}const y=Math.abs(h),_=Math.abs(g);y!==_&&(a.direction.horizontal===!0&&y>_||a.direction.vertical===!0&&y<_||a.direction.up===!0&&y<_&&g<0||a.direction.down===!0&&y<_&&g>0||a.direction.left===!0&&y>_&&h<0||a.direction.right===!0&&y>_&&h>0?(a.event.detected=!0,a.move(l)):a.end(l,!0))},end(l,d){if(a.event!==void 0){if($s(a,"temp"),pn.is.firefox===!0&&ca(e,!1),d===!0)a.styleCleanup!==void 0&&a.styleCleanup(),a.event.detected!==!0&&a.initialEvent!==void 0&&a.initialEvent.target.dispatchEvent(a.initialEvent.event);else if(a.event.detected===!0){a.event.isFirst===!0&&a.handler(Ed(l===void 0?a.lastEvt:l,a).payload);const{payload:h}=Ed(l===void 0?a.lastEvt:l,a,!0),g=()=>{a.handler(h)};a.styleCleanup!==void 0?a.styleCleanup(g):g()}a.event=void 0,a.initialEvent=void 0,a.lastEvt=void 0}}};if(e.__qtouchpan=a,n.mouse===!0){const l=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";Ei(a,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}pn.has.touch===!0&&Ei(a,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchpan;n!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&n.end(),n.handler=t.value),n.direction=Yu(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),$s(t,"main"),$s(t,"temp"),pn.is.firefox===!0&&ca(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}});function nh(){let e=Object.create(null);return{getCache:(t,n)=>e[t]===void 0?e[t]=typeof n=="function"?n():n:e[t],setCache(t,n){e[t]=n},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const h1=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]];var mf=Zt({name:"QSlideItem",props:{...zr,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(e,{slots:t,emit:n}){const{proxy:s}=Gt(),{$q:a}=s,l=Wr(e,a),{getCache:d}=nh(),h=Pe(null);let g=null,m={},v={},y={};const _=G(()=>a.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),b=G(()=>"q-slide-item q-item-type overflow-hidden"+(l.value===!0?" q-slide-item--dark q-dark":""));function T(){h.value.style.transform="translate(0,0)"}function M(Z,j,D){e.onSlide!==void 0&&n("slide",{side:Z,ratio:j,isReset:D})}function $(Z){const j=h.value;if(Z.isFirst)m={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},j.classList.add("no-transition"),h1.forEach(K=>{if(t[K[0]]!==void 0){const N=y[K[0]];N.style.transform="scale(1)",m.size[K[0]]=N.getBoundingClientRect()[K[3]]}}),m.axis=Z.direction==="up"||Z.direction==="down"?"Y":"X";else if(Z.isFinal){j.classList.remove("no-transition"),m.scale===1?(j.style.transform=`translate${m.axis}(${m.dir*100}%)`,g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,n(m.showing,{reset:T}),n("action",{side:m.showing,reset:T})},230)):(j.style.transform="translate(0,0)",M(m.showing,0,!0));return}else Z.direction=m.axis==="X"?Z.offset.x<0?"left":"right":Z.offset.y<0?"up":"down";if(t.left===void 0&&Z.direction===_.value.right||t.right===void 0&&Z.direction===_.value.left||t.top===void 0&&Z.direction==="down"||t.bottom===void 0&&Z.direction==="up"){j.style.transform="translate(0,0)";return}let D,C,L;m.axis==="X"?(C=Z.direction==="left"?-1:1,D=C===1?_.value.left:_.value.right,L=Z.distance.x):(C=Z.direction==="up"?-2:2,D=C===2?"top":"bottom",L=Z.distance.y),!(m.dir!==null&&Math.abs(C)!==Math.abs(m.dir))&&(m.dir!==C&&(["left","right","top","bottom"].forEach(K=>{v[K]&&(v[K].style.visibility=D===K?"visible":"hidden")}),m.showing=D,m.dir=C),m.scale=Math.max(0,Math.min(1,(L-40)/m.size[D])),j.style.transform=`translate${m.axis}(${L*C/Math.abs(C)}px)`,y[D].style.transform=`scale(${m.scale})`,M(D,m.scale,!1))}return oc(()=>{v={},y={}}),Yn(()=>{g!==null&&clearTimeout(g)}),Object.assign(s,{reset:T}),()=>{const Z=[],j={left:t[_.value.right]!==void 0,right:t[_.value.left]!==void 0,up:t.bottom!==void 0,down:t.top!==void 0},D=Object.keys(j).filter(L=>j[L]===!0);h1.forEach(L=>{const K=L[0];t[K]!==void 0&&Z.push(z("div",{key:K,ref:N=>{v[K]=N},class:`q-slide-item__${K} absolute-full row no-wrap items-${L[1]} justify-${L[2]}`+(e[K+"Color"]!==void 0?` bg-${e[K+"Color"]}`:"")},[z("div",{ref:N=>{y[K]=N}},t[K]())]))});const C=z("div",{key:`${D.length===0?"only-":""} content`,ref:h,class:"q-slide-item__content"},Pn(t.default));return D.length===0?Z.push(C):Z.push(li(C,d("dir#"+D.join(""),()=>{const L={prevent:!0,stop:!0,mouse:!0};return D.forEach(K=>{L[K]=!0}),[[c3,$,void 0,L]]}))),z("div",{class:b.value},Z)}}}),go=Zt({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=G(()=>parseInt(e.lines,10)),s=G(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),a=G(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>z("div",{style:a.value,class:s.value},Pn(t.default))}}),d3=Zt({name:"QField",inheritAttrs:!1,props:{...mc,tag:{type:String,default:"label"}},emits:Ff,setup(){return $f(Vf({tagProp:!0}))}});const f3={xs:8,sm:10,md:14,lg:20,xl:24};var h3=Zt({name:"QChip",props:{...zr,...Da,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:s}}=Gt(),a=Wr(e,s),l=ka(e,f3),d=G(()=>e.selected===!0||e.icon!==void 0),h=G(()=>e.selected===!0?e.iconSelected||s.iconSet.chip.selected:e.icon),g=G(()=>e.iconRemove||s.iconSet.chip.remove),m=G(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),v=G(()=>{const $=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+($?` text-${$} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(m.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(a.value===!0?" q-chip--dark q-dark":"")}),y=G(()=>{const $=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},Z={...$,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||s.lang.label.remove};return{chip:$,remove:Z}});function _($){$.keyCode===13&&b($)}function b($){e.disable||(n("update:selected",!e.selected),n("click",$))}function T($){($.keyCode===void 0||$.keyCode===13)&&(yn($),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function M(){const $=[];m.value===!0&&$.push(z("div",{class:"q-focus-helper"})),d.value===!0&&$.push(z(Lt,{class:"q-chip__icon q-chip__icon--left",name:h.value}));const Z=e.label!==void 0?[z("div",{class:"ellipsis"},[e.label])]:void 0;return $.push(z("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},qm(t.default,Z))),e.iconRight&&$.push(z(Lt,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&$.push(z(Lt,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:g.value,...y.value.remove,onClick:T,onKeyup:T})),$}return()=>{if(e.modelValue===!1)return;const $={class:v.value,style:l.value};return m.value===!0&&Object.assign($,y.value.chip,{onClick:b,onKeyup:_}),Um("div",$,M(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[$l,e.ripple]])}}});let Rl=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,Rl=e.scrollLeft>=0,e.remove()}const Si=1e3,g3=["start","center","end","start-force","center-force","end-force"],ip=Array.prototype.filter,m3=window.getComputedStyle(document.body).overflowAnchor===void 0?ds:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];ip.call(n,a=>a.dataset&&a.dataset.qVsAnchor!==void 0).forEach(a=>{delete a.dataset.qVsAnchor});const s=n[t];s&&s.dataset&&(s.dataset.qVsAnchor="")}))};function ga(e,t){return e+t}function Ad(e,t,n,s,a,l,d,h){const g=e===window?document.scrollingElement||document.documentElement:e,m=a===!0?"offsetWidth":"offsetHeight",v={scrollStart:0,scrollViewSize:-d-h,scrollMaxSize:0,offsetStart:-d,offsetEnd:-h};if(a===!0?(e===window?(v.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,v.scrollViewSize+=document.documentElement.clientWidth):(v.scrollStart=g.scrollLeft,v.scrollViewSize+=g.clientWidth),v.scrollMaxSize=g.scrollWidth,l===!0&&(v.scrollStart=(Rl===!0?v.scrollMaxSize-v.scrollViewSize:0)-v.scrollStart)):(e===window?(v.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,v.scrollViewSize+=document.documentElement.clientHeight):(v.scrollStart=g.scrollTop,v.scrollViewSize+=g.clientHeight),v.scrollMaxSize=g.scrollHeight),n!==null)for(let y=n.previousElementSibling;y!==null;y=y.previousElementSibling)y.classList.contains("q-virtual-scroll--skip")===!1&&(v.offsetStart+=y[m]);if(s!==null)for(let y=s.nextElementSibling;y!==null;y=y.nextElementSibling)y.classList.contains("q-virtual-scroll--skip")===!1&&(v.offsetEnd+=y[m]);if(t!==e){const y=g.getBoundingClientRect(),_=t.getBoundingClientRect();a===!0?(v.offsetStart+=_.left-y.left,v.offsetEnd-=_.width):(v.offsetStart+=_.top-y.top,v.offsetEnd-=_.height),e!==window&&(v.offsetStart+=v.scrollStart),v.offsetEnd+=v.scrollMaxSize-v.offsetStart}return v}function g1(e,t,n,s){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(s===!0&&(t=(Rl===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(s===!0&&(t=(Rl===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function nl(e,t,n,s){if(n>=s)return 0;const a=t.length,l=Math.floor(n/Si),d=Math.floor((s-1)/Si)+1;let h=e.slice(l,d).reduce(ga,0);return n%Si!==0&&(h-=t.slice(l*Si,n).reduce(ga,0)),s%Si!==0&&s!==a&&(h-=t.slice(s,d*Si).reduce(ga,0)),h}const v3={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},m1={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...v3};function p3({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:s}){const a=Gt(),{props:l,emit:d,proxy:h}=a,{$q:g}=h;let m,v,y,_=[],b;const T=Pe(0),M=Pe(0),$=Pe({}),Z=Pe(null),j=Pe(null),D=Pe(null),C=Pe({from:0,to:0}),L=G(()=>l.tableColspan!==void 0?l.tableColspan:100);s===void 0&&(s=G(()=>l.virtualScrollItemSize));const K=G(()=>s.value+";"+l.virtualScrollHorizontal),N=G(()=>K.value+";"+l.virtualScrollSliceRatioBefore+";"+l.virtualScrollSliceRatioAfter);bt(N,()=>{Ne()}),bt(K,J);function J(){Q(v,!0)}function B(he){Q(he===void 0?v:he)}function de(he,se){const Je=t();if(Je==null||Je.nodeType===8)return;const ct=Ad(Je,n(),Z.value,j.value,l.virtualScrollHorizontal,g.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd);y!==ct.scrollViewSize&&Ne(ct.scrollViewSize),q(Je,ct,Math.min(e.value-1,Math.max(0,parseInt(he,10)||0)),0,g3.indexOf(se)!==-1?se:v!==-1&&he>v?"end":"start")}function me(){const he=t();if(he==null||he.nodeType===8)return;const se=Ad(he,n(),Z.value,j.value,l.virtualScrollHorizontal,g.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd),Je=e.value-1,ct=se.scrollMaxSize-se.offsetStart-se.offsetEnd-M.value;if(m===se.scrollStart)return;if(se.scrollMaxSize<=0){q(he,se,0,0);return}y!==se.scrollViewSize&&Ne(se.scrollViewSize),be(C.value.from);const mt=Math.floor(se.scrollMaxSize-Math.max(se.scrollViewSize,se.offsetEnd)-Math.min(b[Je],se.scrollViewSize/2));if(mt>0&&Math.ceil(se.scrollStart)>=mt){q(he,se,Je,se.scrollMaxSize-se.offsetEnd-_.reduce(ga,0));return}let ge=0,ue=se.scrollStart-se.offsetStart,Be=ue;if(ue<=ct&&ue+se.scrollViewSize>=T.value)ue-=T.value,ge=C.value.from,Be=ue;else for(let ve=0;ue>=_[ve]&&ge<Je;ve++)ue-=_[ve],ge+=Si;for(;ue>0&&ge<Je;)ue-=b[ge],ue>-se.scrollViewSize?(ge++,Be=ue):Be=b[ge]+ue;q(he,se,ge,Be)}function q(he,se,Je,ct,mt){const ge=typeof mt=="string"&&mt.indexOf("-force")!==-1,ue=ge===!0?mt.replace("-force",""):mt,Be=ue!==void 0?ue:"start";let ve=Math.max(0,Je-$.value[Be]),Ge=ve+$.value.total;Ge>e.value&&(Ge=e.value,ve=Math.max(0,Ge-$.value.total)),m=se.scrollStart;const st=ve!==C.value.from||Ge!==C.value.to;if(st===!1&&ue===void 0){De(Je);return}const{activeElement:wt}=document,F=D.value;st===!0&&F!==null&&F!==wt&&F.contains(wt)===!0&&(F.addEventListener("focusout",ne),setTimeout(()=>{F!==null&&F.removeEventListener("focusout",ne)})),m3(F,Je-ve);const Y=ue!==void 0?b.slice(ve,Je).reduce(ga,0):0;if(st===!0){const fe=Ge>=C.value.from&&ve<=C.value.to?C.value.to:Ge;C.value={from:ve,to:fe},T.value=nl(_,b,0,ve),M.value=nl(_,b,Ge,e.value),requestAnimationFrame(()=>{C.value.to!==Ge&&m===se.scrollStart&&(C.value={from:C.value.from,to:Ge},M.value=nl(_,b,Ge,e.value))})}requestAnimationFrame(()=>{if(m!==se.scrollStart)return;st===!0&&be(ve);const fe=b.slice(ve,Je).reduce(ga,0),Fe=fe+se.offsetStart+T.value,_e=Fe+b[Je];let ke=Fe+ct;if(ue!==void 0){const Ve=fe-Y,ze=se.scrollStart+Ve;ke=ge!==!0&&ze<Fe&&_e<ze+se.scrollViewSize?ze:ue==="end"?_e-se.scrollViewSize:Fe-(ue==="start"?0:Math.round((se.scrollViewSize-b[Je])/2))}m=ke,g1(he,ke,l.virtualScrollHorizontal,g.lang.rtl),De(Je)})}function be(he){const se=D.value;if(se){const Je=ip.call(se.children,ve=>ve.classList&&ve.classList.contains("q-virtual-scroll--skip")===!1),ct=Je.length,mt=l.virtualScrollHorizontal===!0?ve=>ve.getBoundingClientRect().width:ve=>ve.offsetHeight;let ge=he,ue,Be;for(let ve=0;ve<ct;){for(ue=mt(Je[ve]),ve++;ve<ct&&Je[ve].classList.contains("q-virtual-scroll--with-prev")===!0;)ue+=mt(Je[ve]),ve++;Be=ue-b[ge],Be!==0&&(b[ge]+=Be,_[Math.floor(ge/Si)]+=Be),ge++}}}function ne(){D.value!==null&&D.value!==void 0&&D.value.focus()}function Q(he,se){const Je=1*s.value;(se===!0||Array.isArray(b)===!1)&&(b=[]);const ct=b.length;b.length=e.value;for(let ge=e.value-1;ge>=ct;ge--)b[ge]=Je;const mt=Math.floor((e.value-1)/Si);_=[];for(let ge=0;ge<=mt;ge++){let ue=0;const Be=Math.min((ge+1)*Si,e.value);for(let ve=ge*Si;ve<Be;ve++)ue+=b[ve];_.push(ue)}v=-1,m=void 0,T.value=nl(_,b,0,C.value.from),M.value=nl(_,b,C.value.to,e.value),he>=0?(be(C.value.from),Cn(()=>{de(he)})):tt()}function Ne(he){if(he===void 0&&typeof window!="undefined"){const ue=t();ue!=null&&ue.nodeType!==8&&(he=Ad(ue,n(),Z.value,j.value,l.virtualScrollHorizontal,g.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd).scrollViewSize)}y=he;const se=parseFloat(l.virtualScrollSliceRatioBefore)||0,Je=parseFloat(l.virtualScrollSliceRatioAfter)||0,ct=1+se+Je,mt=he===void 0||he<=0?1:Math.ceil(he/s.value),ge=Math.max(1,mt,Math.ceil((l.virtualScrollSliceSize>0?l.virtualScrollSliceSize:10)/ct));$.value={total:Math.ceil(ge*ct),start:Math.ceil(ge*se),center:Math.ceil(ge*(.5+se)),end:Math.ceil(ge*(1+se)),view:mt}}function Ce(he,se){const Je=l.virtualScrollHorizontal===!0?"width":"height",ct={["--q-virtual-scroll-item-"+Je]:s.value+"px"};return[he==="tbody"?z(he,{class:"q-virtual-scroll__padding",key:"before",ref:Z},[z("tr",[z("td",{style:{[Je]:`${T.value}px`,...ct},colspan:L.value})])]):z(he,{class:"q-virtual-scroll__padding",key:"before",ref:Z,style:{[Je]:`${T.value}px`,...ct}}),z(he,{class:"q-virtual-scroll__content",key:"content",ref:D,tabindex:-1},se.flat()),he==="tbody"?z(he,{class:"q-virtual-scroll__padding",key:"after",ref:j},[z("tr",[z("td",{style:{[Je]:`${M.value}px`,...ct},colspan:L.value})])]):z(he,{class:"q-virtual-scroll__padding",key:"after",ref:j,style:{[Je]:`${M.value}px`,...ct}})]}function De(he){v!==he&&(l.onVirtualScroll!==void 0&&d("virtualScroll",{index:he,from:C.value.from,to:C.value.to-1,direction:he<v?"decrease":"increase",ref:h}),v=he)}Ne();const tt=Nf(me,g.platform.is.ios===!0?120:35);Bg(()=>{Ne()});let ht=!1;return Do(()=>{ht=!0}),Pl(()=>{if(ht!==!0)return;const he=t();m!==void 0&&he!==void 0&&he!==null&&he.nodeType!==8?g1(he,m,l.virtualScrollHorizontal,g.lang.rtl):de(v)}),Yn(()=>{tt.cancel()}),Object.assign(h,{scrollTo:de,reset:J,refresh:B}),{virtualScrollSliceRange:C,virtualScrollSliceSizeComputed:$,setVirtualScrollSize:Ne,onVirtualScrollEvt:tt,localResetVirtualScroll:Q,padVirtualScroll:Ce,scrollTo:de,reset:J,refresh:B}}function oI(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function v1(e,t,n){if(n<=t)return t;const s=n-t+1;let a=t+(e-t)%s;return a<t&&(a=s+a),a===0?0:a}function An(e,t=2,n="0"){if(e==null)return e;const s=""+e;return s.length>=t?s:new Array(t-s.length+1).join(n)+s}const p1=e=>["add","add-unique","toggle"].includes(e),w3=".*+?^${}()|[]\\",y3=Object.keys(mc);function Td(e,t){if(typeof e=="function")return e;const n=e!==void 0?e:t;return s=>s!==null&&typeof s=="object"&&n in s?s[n]:s}var ji=Zt({name:"QSelect",inheritAttrs:!1,props:{...m1,...Vl,...mc,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:p1},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:m1.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Ff,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:s}=Gt(),{$q:a}=s,l=Pe(!1),d=Pe(!1),h=Pe(-1),g=Pe(""),m=Pe(!1),v=Pe(!1);let y=null,_=null,b,T,M,$=null,Z,j,D,C;const L=Pe(null),K=Pe(null),N=Pe(null),J=Pe(null),B=Pe(null),de=Km(e),me=Zm(ar),q=G(()=>Array.isArray(e.options)?e.options.length:0),be=G(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ne,virtualScrollSliceSizeComputed:Q,localResetVirtualScroll:Ne,padVirtualScroll:Ce,onVirtualScrollEvt:De,scrollTo:tt,setVirtualScrollSize:ht}=p3({virtualScrollLength:q,getVirtualScrollTarget:ft,getVirtualScrollEl:Ar,virtualScrollItemSizeComputed:be}),he=Vf(),se=G(()=>{const ee=e.mapOptions===!0&&e.multiple!==!0,He=e.modelValue!==void 0&&(e.modelValue!==null||ee===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const dt=e.mapOptions===!0&&b!==void 0?b:[],At=He.map(un=>Dt(un,dt));return e.modelValue===null&&ee===!0?At.filter(un=>un!==null):At}return He}),Je=G(()=>{const ee={};return y3.forEach(He=>{const dt=e[He];dt!==void 0&&(ee[He]=dt)}),ee}),ct=G(()=>e.optionsDark===null?he.isDark.value:e.optionsDark),mt=G(()=>Dl(se.value)),ge=G(()=>{let ee="q-field__input q-placeholder col";return e.hideSelected===!0||se.value.length===0?[ee,e.inputClass]:(ee+=" q-field__input--padding",e.inputClass===void 0?ee:[ee,e.inputClass])}),ue=G(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),Be=G(()=>q.value===0),ve=G(()=>se.value.map(ee=>ce.value(ee)).join(", ")),Ge=G(()=>e.displayValue!==void 0?e.displayValue:ve.value),st=G(()=>e.optionsHtml===!0?()=>!0:ee=>ee!=null&&ee.html===!0),wt=G(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||se.value.some(st.value))),F=G(()=>he.focused.value===!0?e.tabindex:-1),Y=G(()=>{const ee={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":l.value===!0?"true":"false","aria-controls":`${he.targetUid.value}_lb`};return h.value>=0&&(ee["aria-activedescendant"]=`${he.targetUid.value}_${h.value}`),ee}),fe=G(()=>({id:`${he.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Fe=G(()=>se.value.map((ee,He)=>({index:He,opt:ee,html:st.value(ee),selected:!0,removeAtIndex:ot,toggleOption:Vt,tabindex:F.value}))),_e=G(()=>{if(q.value===0)return[];const{from:ee,to:He}=ne.value;return e.options.slice(ee,He).map((dt,At)=>{const un=$e.value(dt)===!0,Oe=Ue(dt)===!0,Kn=ee+At,Nt={clickable:!0,active:Oe,activeClass:ze.value,manualFocus:!0,focused:!1,disable:un,tabindex:-1,dense:e.optionsDense,dark:ct.value,role:"option","aria-selected":Oe===!0?"true":"false",id:`${he.targetUid.value}_${Kn}`,onClick:()=>{Vt(dt)}};return un!==!0&&(h.value===Kn&&(Nt.focused=!0),a.platform.is.desktop===!0&&(Nt.onMousemove=()=>{l.value===!0&&Xt(Kn)})),{index:Kn,opt:dt,html:st.value(dt),label:ce.value(dt),selected:Nt.active,focused:Nt.focused,toggleOption:Vt,setOptionIndex:Xt,itemProps:Nt}})}),ke=G(()=>e.dropdownIcon!==void 0?e.dropdownIcon:a.iconSet.arrow.dropdown),Ve=G(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ze=G(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ye=G(()=>Td(e.optionValue,"value")),ce=G(()=>Td(e.optionLabel,"label")),$e=G(()=>Td(e.optionDisable,"disable")),Le=G(()=>se.value.map(ye.value)),et=G(()=>{const ee={onInput:ar,onChange:me,onKeydown:xn,onKeyup:Mt,onKeypress:Xn,onFocus:Jt,onClick(He){T===!0&&ii(He)}};return ee.onCompositionstart=ee.onCompositionupdate=ee.onCompositionend=me,ee});bt(se,ee=>{b=ee,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&he.innerLoading.value!==!0&&(d.value!==!0&&l.value!==!0||mt.value!==!0)&&(M!==!0&&ur(),(d.value===!0||l.value===!0)&&lr(""))},{immediate:!0}),bt(()=>e.fillInput,ur),bt(l,Di),bt(q,ms);function Qe(ee){return e.emitValue===!0?ye.value(ee):ee}function at(ee){if(ee!==-1&&ee<se.value.length)if(e.multiple===!0){const He=e.modelValue.slice();n("remove",{index:ee,value:He.splice(ee,1)[0]}),n("update:modelValue",He)}else n("update:modelValue",null)}function ot(ee){at(ee),he.focus()}function lt(ee,He){const dt=Qe(ee);if(e.multiple!==!0){e.fillInput===!0&&dn(ce.value(ee),!0,!0),n("update:modelValue",dt);return}if(se.value.length===0){n("add",{index:0,value:dt}),n("update:modelValue",e.multiple===!0?[dt]:dt);return}if(He===!0&&Ue(ee)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const At=e.modelValue.slice();n("add",{index:At.length,value:dt}),At.push(dt),n("update:modelValue",At)}function Vt(ee,He){if(he.editable.value!==!0||ee===void 0||$e.value(ee)===!0)return;const dt=ye.value(ee);if(e.multiple!==!0){He!==!0&&(dn(e.fillInput===!0?ce.value(ee):"",!0,!0),fn()),K.value!==null&&K.value.focus(),(se.value.length===0||us(ye.value(se.value[0]),dt)!==!0)&&n("update:modelValue",e.emitValue===!0?dt:ee);return}if((T!==!0||m.value===!0)&&he.focus(),Jt(),se.value.length===0){const Oe=e.emitValue===!0?dt:ee;n("add",{index:0,value:Oe}),n("update:modelValue",e.multiple===!0?[Oe]:Oe);return}const At=e.modelValue.slice(),un=Le.value.findIndex(Oe=>us(Oe,dt));if(un!==-1)n("remove",{index:un,value:At.splice(un,1)[0]});else{if(e.maxValues!==void 0&&At.length>=e.maxValues)return;const Oe=e.emitValue===!0?dt:ee;n("add",{index:At.length,value:Oe}),At.push(Oe)}n("update:modelValue",At)}function Xt(ee){if(a.platform.is.desktop!==!0)return;const He=ee!==-1&&ee<q.value?ee:-1;h.value!==He&&(h.value=He)}function In(ee=1,He){if(l.value===!0){let dt=h.value;do dt=v1(dt+ee,-1,q.value-1);while(dt!==-1&&dt!==h.value&&$e.value(e.options[dt])===!0);h.value!==dt&&(Xt(dt),tt(dt),He!==!0&&e.useInput===!0&&e.fillInput===!0&&di(dt>=0?ce.value(e.options[dt]):Z,!0))}}function Dt(ee,He){const dt=At=>us(ye.value(At),ee);return e.options.find(dt)||He.find(dt)||ee}function Ue(ee){const He=ye.value(ee);return Le.value.find(dt=>us(dt,He))!==void 0}function Jt(ee){e.useInput===!0&&K.value!==null&&(ee===void 0||K.value===ee.target&&ee.target.value===ve.value)&&K.value.select()}function Ot(ee){Yi(ee,27)===!0&&l.value===!0&&(ii(ee),fn(),ur()),n("keyup",ee)}function Mt(ee){const{value:He}=ee.target;if(ee.keyCode!==void 0){Ot(ee);return}if(ee.target.value="",y!==null&&(clearTimeout(y),y=null),_!==null&&(clearTimeout(_),_=null),ur(),typeof He=="string"&&He.length!==0){const dt=He.toLocaleLowerCase(),At=Oe=>{const Kn=e.options.find(Nt=>String(Oe.value(Nt)).toLocaleLowerCase()===dt);return Kn===void 0?!1:(se.value.indexOf(Kn)===-1?Vt(Kn):fn(),!0)},un=Oe=>{At(ye)!==!0&&Oe!==!0&&At(ce)!==!0&&lr(He,!0,()=>un(!0))};un()}else he.clearValue(ee)}function Xn(ee){n("keypress",ee)}function xn(ee){if(n("keydown",ee),dc(ee)===!0)return;const He=g.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),dt=ee.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(h.value!==-1||He===!0);if(ee.keyCode===27){Hr(ee);return}if(ee.keyCode===9&&dt===!1){vt();return}if(ee.target===void 0||ee.target.id!==he.targetUid.value||he.editable.value!==!0)return;if(ee.keyCode===40&&he.innerLoading.value!==!0&&l.value===!1){yn(ee),en();return}if(ee.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&g.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?at(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(ee.keyCode===35||ee.keyCode===36)&&(typeof g.value!="string"||g.value.length===0)&&(yn(ee),h.value=-1,In(ee.keyCode===36?1:-1,e.multiple)),(ee.keyCode===33||ee.keyCode===34)&&Q.value!==void 0&&(yn(ee),h.value=Math.max(-1,Math.min(q.value,h.value+(ee.keyCode===33?-1:1)*Q.value.view)),In(ee.keyCode===33?1:-1,e.multiple)),(ee.keyCode===38||ee.keyCode===40)&&(yn(ee),In(ee.keyCode===38?-1:1,e.multiple));const At=q.value;if((D===void 0||C<Date.now())&&(D=""),At>0&&e.useInput!==!0&&ee.key!==void 0&&ee.key.length===1&&ee.altKey===!1&&ee.ctrlKey===!1&&ee.metaKey===!1&&(ee.keyCode!==32||D.length!==0)){l.value!==!0&&en(ee);const un=ee.key.toLocaleLowerCase(),Oe=D.length===1&&D[0]===un;C=Date.now()+1500,Oe===!1&&(yn(ee),D+=un);const Kn=new RegExp("^"+D.split("").map(Gr=>w3.indexOf(Gr)!==-1?"\\"+Gr:Gr).join(".*"),"i");let Nt=h.value;if(Oe===!0||Nt<0||Kn.test(ce.value(e.options[Nt]))!==!0)do Nt=v1(Nt+1,-1,At-1);while(Nt!==h.value&&($e.value(e.options[Nt])===!0||Kn.test(ce.value(e.options[Nt]))!==!0));h.value!==Nt&&Cn(()=>{Xt(Nt),tt(Nt),Nt>=0&&e.useInput===!0&&e.fillInput===!0&&di(ce.value(e.options[Nt]),!0)});return}if(!(ee.keyCode!==13&&(ee.keyCode!==32||e.useInput===!0||D!=="")&&(ee.keyCode!==9||dt===!1))){if(ee.keyCode!==9&&yn(ee),h.value!==-1&&h.value<At){Vt(e.options[h.value]);return}if(He===!0){const un=(Oe,Kn)=>{if(Kn){if(p1(Kn)!==!0)return}else Kn=e.newValueMode;if(dn("",e.multiple!==!0,!0),Oe==null)return;(Kn==="toggle"?Vt:lt)(Oe,Kn==="add-unique"),e.multiple!==!0&&(K.value!==null&&K.value.focus(),fn())};if(e.onNewValue!==void 0?n("newValue",g.value,un):un(g.value),e.multiple!==!0)return}l.value===!0?vt():he.innerLoading.value!==!0&&en()}}function Ar(){return T===!0?B.value:N.value!==null&&N.value.contentEl!==null?N.value.contentEl:void 0}function ft(){return Ar()}function yr(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?Fe.value.map(ee=>t["selected-item"](ee)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?Fe.value.map((ee,He)=>z(h3,{key:"option-"+He,removable:he.editable.value===!0&&$e.value(ee.opt)!==!0,dense:!0,textColor:e.color,tabindex:F.value,onRemove(){ee.removeAtIndex(He)}},()=>z("span",{class:"ellipsis",[ee.html===!0?"innerHTML":"textContent"]:ce.value(ee.opt)}))):[z("span",{[wt.value===!0?"innerHTML":"textContent"]:Ge.value})]}function tr(){if(Be.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:g.value}):void 0;const ee=t.option!==void 0?t.option:dt=>z(Qr,{key:dt.index,...dt.itemProps},()=>z(sr,()=>z(go,()=>z("span",{[dt.html===!0?"innerHTML":"textContent"]:dt.label}))));let He=Ce("div",_e.value.map(ee));return t["before-options"]!==void 0&&(He=t["before-options"]().concat(He)),Ui(t["after-options"],He)}function or(ee,He){const dt=He===!0?{...Y.value,...he.splitAttrs.attributes.value}:void 0,At={ref:He===!0?K:void 0,key:"i_t",class:ge.value,style:e.inputStyle,value:g.value!==void 0?g.value:"",type:"search",...dt,id:He===!0?he.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":ee===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...et.value};return ee!==!0&&T===!0&&(Array.isArray(At.class)===!0?At.class=[...At.class,"no-pointer-events"]:At.class+=" no-pointer-events"),z("input",At)}function ar(ee){y!==null&&(clearTimeout(y),y=null),_!==null&&(clearTimeout(_),_=null),!(ee&&ee.target&&ee.target.qComposing===!0)&&(di(ee.target.value||""),M=!0,Z=g.value,he.focused.value!==!0&&(T!==!0||m.value===!0)&&he.focus(),e.onFilter!==void 0&&(y=setTimeout(()=>{y=null,lr(g.value)},e.inputDebounce)))}function di(ee,He){g.value!==ee&&(g.value=ee,He===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",ee):_=setTimeout(()=>{_=null,n("inputValue",ee)},e.inputDebounce))}function dn(ee,He,dt){M=dt!==!0,e.useInput===!0&&(di(ee,!0),(He===!0||dt!==!0)&&(Z=ee),He!==!0&&lr(ee))}function lr(ee,He,dt){if(e.onFilter===void 0||He!==!0&&he.focused.value!==!0)return;he.innerLoading.value===!0?n("filterAbort"):(he.innerLoading.value=!0,v.value=!0),ee!==""&&e.multiple!==!0&&se.value.length!==0&&M!==!0&&ee===ce.value(se.value[0])&&(ee="");const At=setTimeout(()=>{l.value===!0&&(l.value=!1)},10);$!==null&&clearTimeout($),$=At,n("filter",ee,(un,Oe)=>{(He===!0||he.focused.value===!0)&&$===At&&(clearTimeout($),typeof un=="function"&&un(),v.value=!1,Cn(()=>{he.innerLoading.value=!1,he.editable.value===!0&&(He===!0?l.value===!0&&fn():l.value===!0?Di(!0):l.value=!0),typeof Oe=="function"&&Cn(()=>{Oe(s)}),typeof dt=="function"&&Cn(()=>{dt(s)})}))},()=>{he.focused.value===!0&&$===At&&(clearTimeout($),he.innerLoading.value=!1,v.value=!1),l.value===!0&&(l.value=!1)})}function wi(){return z(eh,{ref:N,class:ue.value,style:e.popupContentStyle,modelValue:l.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&Be.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:ct.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Ve.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...fe.value,onScrollPassive:De,onBeforeShow:No,onBeforeHide:kr,onShow:X},tr)}function kr(ee){ki(ee),vt()}function X(){ht()}function le(ee){ii(ee),K.value!==null&&K.value.focus(),m.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Re(ee){ii(ee),Cn(()=>{m.value=!1})}function Ye(){const ee=[z(d3,{class:`col-auto ${he.fieldClass.value}`,...Je.value,for:he.targetUid.value,dark:ct.value,square:!0,loading:v.value,itemAligned:!1,filled:!0,stackLabel:g.value.length!==0,...he.splitAttrs.listeners.value,onFocus:le,onBlur:Re},{...t,rawControl:()=>he.getControl(!0),before:void 0,after:void 0})];return l.value===!0&&ee.push(z("div",{ref:B,class:ue.value+" scroll",style:e.popupContentStyle,...fe.value,onClick:Hr,onScrollPassive:De},tr())),z(pr,{ref:J,modelValue:d.value,position:e.useInput===!0?"top":void 0,transitionShow:j,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:No,onBeforeHide:rt,onHide:Et,onShow:Me},()=>z("div",{class:"q-select__dialog"+(ct.value===!0?" q-select__dialog--dark q-dark":"")+(m.value===!0?" q-select__dialog--focused":"")},ee))}function rt(ee){ki(ee),J.value!==null&&J.value.__updateRefocusTarget(he.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),he.focused.value=!1}function Et(ee){fn(),he.focused.value===!1&&n("blur",ee),ur()}function Me(){const ee=document.activeElement;(ee===null||ee.id!==he.targetUid.value)&&K.value!==null&&K.value!==ee&&K.value.focus(),ht()}function vt(){d.value!==!0&&(h.value=-1,l.value===!0&&(l.value=!1),he.focused.value===!1&&($!==null&&(clearTimeout($),$=null),he.innerLoading.value===!0&&(n("filterAbort"),he.innerLoading.value=!1,v.value=!1)))}function en(ee){he.editable.value===!0&&(T===!0?(he.onControlFocusin(ee),d.value=!0,Cn(()=>{he.focus()})):he.focus(),e.onFilter!==void 0?lr(g.value):(Be.value!==!0||t["no-option"]!==void 0)&&(l.value=!0))}function fn(){d.value=!1,vt()}function ur(){e.useInput===!0&&dn(e.multiple!==!0&&e.fillInput===!0&&se.value.length!==0&&ce.value(se.value[0])||"",!0,!0)}function Di(ee){let He=-1;if(ee===!0){if(se.value.length!==0){const dt=ye.value(se.value[0]);He=e.options.findIndex(At=>us(ye.value(At),dt))}Ne(He)}Xt(He)}function ms(ee,He){l.value===!0&&he.innerLoading.value===!1&&(Ne(-1,!0),Cn(()=>{l.value===!0&&he.innerLoading.value===!1&&(ee>He?Ne():Di(!0))}))}function xr(){d.value===!1&&N.value!==null&&N.value.updatePosition()}function No(ee){ee!==void 0&&ii(ee),n("popupShow",ee),he.hasPopupOpen=!0,he.onControlFocusin(ee)}function ki(ee){ee!==void 0&&ii(ee),n("popupHide",ee),he.hasPopupOpen=!1,he.onControlFocusout(ee)}function Vr(){T=a.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||Be.value===!1:!0),j=a.platform.is.ios===!0&&T===!0&&e.useInput===!0?"fade":e.transitionShow}return oc(Vr),Ta(xr),Vr(),Yn(()=>{y!==null&&clearTimeout(y),_!==null&&clearTimeout(_)}),Object.assign(s,{showPopup:en,hidePopup:fn,removeAtIndex:at,add:lt,toggleOption:Vt,getOptionIndex:()=>h.value,setOptionIndex:Xt,moveOptionSelection:In,filter:lr,updateMenuPosition:xr,updateInputValue:dn,isOptionSelected:Ue,getEmittingOptionValue:Qe,isOptionDisabled:(...ee)=>$e.value.apply(null,ee)===!0,getOptionValue:(...ee)=>ye.value.apply(null,ee),getOptionLabel:(...ee)=>ce.value.apply(null,ee)}),Object.assign(he,{innerValue:se,fieldClass:G(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:L,targetRef:K,hasValue:mt,showPopup:en,floatingLabel:G(()=>e.hideSelected!==!0&&mt.value===!0||typeof g.value=="number"||g.value.length!==0||Dl(e.displayValue)),getControlChild:()=>{if(he.editable.value!==!1&&(d.value===!0||Be.value!==!0||t["no-option"]!==void 0))return T===!0?Ye():wi();he.hasPopupOpen===!0&&(he.hasPopupOpen=!1)},controlEvents:{onFocusin(ee){he.onControlFocusin(ee)},onFocusout(ee){he.onControlFocusout(ee,()=>{ur(),vt()})},onClick(ee){if(Hr(ee),T!==!0&&l.value===!0){vt(),K.value!==null&&K.value.focus();return}en(ee)}},getControl:ee=>{const He=yr(),dt=ee===!0||d.value!==!0||T!==!0;if(e.useInput===!0)He.push(or(ee,dt));else if(he.editable.value===!0){const un=dt===!0?Y.value:void 0;He.push(z("input",{ref:dt===!0?K:void 0,key:"d_t",class:"q-select__focus-target",id:dt===!0?he.targetUid.value:void 0,value:Ge.value,readonly:!0,"data-autofocus":ee===!0||e.autofocus===!0||void 0,...un,onKeydown:xn,onKeyup:Ot,onKeypress:Xn})),dt===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&He.push(z("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Mt}))}if(de.value!==void 0&&e.disable!==!0&&Le.value.length!==0){const un=Le.value.map(Oe=>z("option",{value:Oe,selected:!0}));He.push(z("select",{class:"hidden",name:de.value,multiple:e.multiple},un))}const At=e.useInput===!0||dt!==!0?void 0:he.splitAttrs.attributes.value;return z("div",{class:"q-field__native row items-center",...At,...he.splitAttrs.listeners.value},He)},getInnerAppend:()=>e.loading!==!0&&v.value!==!0&&e.hideDropdownIcon!==!0?[z(Lt,{class:"q-select__dropdown-icon"+(l.value===!0?" rotate-180":""),name:ke.value})]:null}),$f(he)}});function w1(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var ma=cc({name:"close-popup",beforeMount(e,{value:t}){const n={depth:w1(t),handler(s){n.depth!==0&&setTimeout(()=>{const a=Zb(e);a!==void 0&&Qb(a,s,n.depth)})},handlerKey(s){Yi(s,13)===!0&&n.handler(s)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=w1(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const x3='<g stroke-width="4" stroke-linecap="round"><line y1="17" y2="29" transform="translate(32,32) rotate(180)"><animate attributeName="stroke-opacity" dur="750ms" values="1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0;1" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(210)"><animate attributeName="stroke-opacity" dur="750ms" values="0;1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(240)"><animate attributeName="stroke-opacity" dur="750ms" values=".1;0;1;.85;.7;.65;.55;.45;.35;.25;.15;.1" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(270)"><animate attributeName="stroke-opacity" dur="750ms" values=".15;.1;0;1;.85;.7;.65;.55;.45;.35;.25;.15" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(300)"><animate attributeName="stroke-opacity" dur="750ms" values=".25;.15;.1;0;1;.85;.7;.65;.55;.45;.35;.25" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(330)"><animate attributeName="stroke-opacity" dur="750ms" values=".35;.25;.15;.1;0;1;.85;.7;.65;.55;.45;.35" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(0)"><animate attributeName="stroke-opacity" dur="750ms" values=".45;.35;.25;.15;.1;0;1;.85;.7;.65;.55;.45" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(30)"><animate attributeName="stroke-opacity" dur="750ms" values=".55;.45;.35;.25;.15;.1;0;1;.85;.7;.65;.55" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(60)"><animate attributeName="stroke-opacity" dur="750ms" values=".65;.55;.45;.35;.25;.15;.1;0;1;.85;.7;.65" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(90)"><animate attributeName="stroke-opacity" dur="750ms" values=".7;.65;.55;.45;.35;.25;.15;.1;0;1;.85;.7" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(120)"><animate attributeName="stroke-opacity" dur="750ms" values=".85;.7;.65;.55;.45;.35;.25;.15;.1;0;1;.85" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(150)"><animate attributeName="stroke-opacity" dur="750ms" values="1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0;1" repeatCount="indefinite"></animate></line></g>';var Eo=Zt({name:"QSpinnerIos",props:Wm,setup(e){const{cSize:t,classes:n}=Gm(e);return()=>z("svg",{class:n.value,width:t.value,height:t.value,stroke:"currentColor",fill:"currentColor",viewBox:"0 0 64 64",innerHTML:x3})}});function rh(){return Dr(ym)}const b3=gs("scan-qr",{state:()=>({}),actions:{async scanData(e){try{console.log(e),Nn.create({message:"\u0110ang qu\xE9t m\xE3 QR..."+e[0].rawValue,color:"info",position:"bottom"});const t=this.onDetectDataScan(e);this.handleGetData(t),t?(Nn.create({message:"Qu\xE9t m\xE3 QR th\xE0nh c\xF4ng",color:"positive",position:"bottom"}),this.isShowDialog=!1):Nn.create({message:"Qu\xE9t m\xE3 QR kh\xF4ng th\xE0nh c\xF4ng",color:"negative",position:"bottom"})}catch(t){console.error("Internal Server Error scanDataIndexPage(): ",t)}},async onDetectDataScan(e){try{return e[0].rawValue}catch(t){console.error("Internal Server Error onDetectDataScan(): ",t)}}}});var Ac="/ffn/assets/nodata.67f52298.jpg",sp="/ffn/assets/history.314e1a03.png",op="/ffn/assets/update.d992d0e6.png",ap="/ffn/assets/delete.1a0a2a61.png",lp=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},y1=(e,t,n)=>(lp(e,t,"read from private field"),n?n.call(e):t.get(e)),_3=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},C3=(e,t,n,s)=>(lp(e,t,"write to private field"),t.set(e,n),n);const up=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"]],S3=[...up,["unknown"]].map(e=>e[0]),_u=new Map(up);function E3(e){for(const[t,n]of _u)if(e===n)return t;return"unknown"}function A3(e){if(cp(e))return{width:e.naturalWidth,height:e.naturalHeight};if(dp(e))return{width:e.width.baseVal.value,height:e.height.baseVal.value};if(fp(e))return{width:e.videoWidth,height:e.videoHeight};if(gp(e))return{width:e.width,height:e.height};if(vp(e))return{width:e.displayWidth,height:e.displayHeight};if(hp(e))return{width:e.width,height:e.height};if(mp(e))return{width:e.width,height:e.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function cp(e){try{return e instanceof HTMLImageElement}catch{return!1}}function dp(e){try{return e instanceof SVGImageElement}catch{return!1}}function fp(e){try{return e instanceof HTMLVideoElement}catch{return!1}}function hp(e){try{return e instanceof HTMLCanvasElement}catch{return!1}}function gp(e){try{return e instanceof ImageBitmap}catch{return!1}}function mp(e){try{return e instanceof OffscreenCanvas}catch{return!1}}function vp(e){try{return e instanceof VideoFrame}catch{return!1}}function pp(e){try{return e instanceof Blob}catch{return!1}}function T3(e){try{return e instanceof ImageData}catch{return!1}}function I3(e,t){try{const n=new OffscreenCanvas(e,t);if(n.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return n;throw void 0}catch{const s=document.createElement("canvas");return s.width=e,s.height=t,s}}async function wp(e){if(cp(e)&&!await R3(e))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(dp(e)&&!await M3(e))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(vp(e)&&N3(e))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(fp(e)&&(e.readyState===0||e.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(gp(e)&&L3(e))throw new DOMException("The image source is detached.","InvalidStateError");const{width:t,height:n}=A3(e);if(t===0||n===0)return null;const s=I3(t,n).getContext("2d");s.drawImage(e,0,0);try{return s.getImageData(0,0,t,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function O3(e){let t;try{if(globalThis.createImageBitmap)t=await createImageBitmap(e);else if(globalThis.Image){t=new Image;let n="";try{n=URL.createObjectURL(e),t.src=n,await t.decode()}finally{URL.revokeObjectURL(n)}}else return e}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await wp(t)}function D3(e){const{width:t,height:n}=e;if(t===0||n===0)return null;const s=e.getContext("2d");try{return s.getImageData(0,0,t,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function k3(e){if(pp(e))return await O3(e);if(T3(e)){if(P3(e))throw new DOMException("The image data has been detached.","InvalidStateError");return e}return hp(e)||mp(e)?D3(e):await wp(e)}async function R3(e){try{return await e.decode(),!0}catch{return!1}}async function M3(e){var t;try{return await((t=e.decode)==null?void 0:t.call(e)),!0}catch{return!1}}function N3(e){return e.format===null}function P3(e){return e.data.buffer.byteLength===0}function L3(e){return e.width===0&&e.height===0}function x1(e,t){return e instanceof DOMException?new DOMException(`${t}: ${e.message}`,e.name):e instanceof Error?new e.constructor(`${t}: ${e.message}`):new Error(`${t}: ${e}`)}const b1=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","DXFilmEdge","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","rMQRCode","UPC-A","UPC-E"];function B3(e){return e.join("|")}function F3(e){const t=_1(e);let n=0,s=b1.length-1;for(;n<=s;){const a=Math.floor((n+s)/2),l=b1[a],d=_1(l);if(d===t)return l;d<t?n=a+1:s=a-1}return"None"}function _1(e){return e.toLowerCase().replace(/_-\[\]/g,"")}function V3(e,t){return e.Binarizer[t]}function $3(e,t){return e.CharacterSet[t]}const q3=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function U3(e){return q3[e.value]}function j3(e,t){return e.EanAddOnSymbol[t]}function H3(e,t){return e.TextMode[t]}const Aa={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function yp(e,t){return{...t,formats:B3(t.formats),binarizer:V3(e,t.binarizer),eanAddOnSymbol:j3(e,t.eanAddOnSymbol),textMode:H3(e,t.textMode),characterSet:$3(e,t.characterSet)}}function xp(e){return{...e,format:F3(e.format),eccLevel:e.eccLevel,contentType:U3(e.contentType)}}const z3={locateFile:(e,t)=>{const n=e.match(/_(.+?)\.wasm$/);return n?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.1.3/dist/${n[1]}/${e}`:t+e}};let C1=new WeakMap;function ih(e,t){var n;const s=C1.get(e);if(s!=null&&s.modulePromise&&t===void 0)return s.modulePromise;const a=(n=s==null?void 0:s.moduleOverrides)!=null?n:z3,l=e({...a});return C1.set(e,{moduleOverrides:a,modulePromise:l}),l}async function W3(e,t,n=Aa){const s={...Aa,...n},a=await ih(e),{size:l}=t,d=new Uint8Array(await t.arrayBuffer()),h=a._malloc(l);a.HEAPU8.set(d,h);const g=a.readBarcodesFromImage(h,l,yp(a,s));a._free(h);const m=[];for(let v=0;v<g.size();++v)m.push(xp(g.get(v)));return m}async function G3(e,t,n=Aa){const s={...Aa,...n},a=await ih(e),{data:l,width:d,height:h,data:{byteLength:g}}=t,m=a._malloc(g);a.HEAPU8.set(l,m);const v=a.readBarcodesFromPixmap(m,d,h,yp(a,s));a._free(m);const y=[];for(let _=0;_<v.size();++_)y.push(xp(v.get(_)));return y}({...Aa,formats:[...Aa.formats]});var sh=(()=>{var e=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(t={}){var n=t,s,a;n.ready=new Promise((S,E)=>{s=S,a=E});var l=Object.assign({},n),d="./this.program",h=typeof window=="object",g=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var m="";function v(S){return n.locateFile?n.locateFile(S,m):m+S}var y;(h||g)&&(g?m=self.location.href:typeof document<"u"&&document.currentScript&&(m=document.currentScript.src),e&&(m=e),m.indexOf("blob:")!==0?m=m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):m="",g&&(y=S=>{var E=new XMLHttpRequest;return E.open("GET",S,!1),E.responseType="arraybuffer",E.send(null),new Uint8Array(E.response)})),n.print||console.log.bind(console);var _=n.printErr||console.error.bind(console);Object.assign(n,l),l=null,n.arguments&&n.arguments,n.thisProgram&&(d=n.thisProgram),n.quit&&n.quit;var b;n.wasmBinary&&(b=n.wasmBinary),typeof WebAssembly!="object"&&se("no native wasm support detected");var T,M=!1,$,Z,j,D,C,L,K,N;function J(){var S=T.buffer;n.HEAP8=$=new Int8Array(S),n.HEAP16=j=new Int16Array(S),n.HEAPU8=Z=new Uint8Array(S),n.HEAPU16=D=new Uint16Array(S),n.HEAP32=C=new Int32Array(S),n.HEAPU32=L=new Uint32Array(S),n.HEAPF32=K=new Float32Array(S),n.HEAPF64=N=new Float64Array(S)}var B=[],de=[],me=[];function q(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)Q(n.preRun.shift());st(B)}function be(){st(de)}function ne(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Ce(n.postRun.shift());st(me)}function Q(S){B.unshift(S)}function Ne(S){de.unshift(S)}function Ce(S){me.unshift(S)}var De=0,tt=null;function ht(S){var E;De++,(E=n.monitorRunDependencies)===null||E===void 0||E.call(n,De)}function he(S){var E;if(De--,(E=n.monitorRunDependencies)===null||E===void 0||E.call(n,De),De==0&&tt){var R=tt;tt=null,R()}}function se(S){var E;(E=n.onAbort)===null||E===void 0||E.call(n,S),S="Aborted("+S+")",_(S),M=!0,S+=". Build with -sASSERTIONS for more info.";var R=new WebAssembly.RuntimeError(S);throw a(R),R}var Je="data:application/octet-stream;base64,",ct=S=>S.startsWith(Je),mt;mt="zxing_reader.wasm",ct(mt)||(mt=v(mt));function ge(S){if(S==mt&&b)return new Uint8Array(b);if(y)return y(S);throw"both async and sync fetching of the wasm failed"}function ue(S){return!b&&(h||g)&&typeof fetch=="function"?fetch(S,{credentials:"same-origin"}).then(E=>{if(!E.ok)throw"failed to load wasm binary file at '"+S+"'";return E.arrayBuffer()}).catch(()=>ge(S)):Promise.resolve().then(()=>ge(S))}function Be(S,E,R){return ue(S).then(V=>WebAssembly.instantiate(V,E)).then(V=>V).then(R,V=>{_(`failed to asynchronously prepare wasm: ${V}`),se(V)})}function ve(S,E,R,V){return!S&&typeof WebAssembly.instantiateStreaming=="function"&&!ct(E)&&typeof fetch=="function"?fetch(E,{credentials:"same-origin"}).then(ae=>{var we=WebAssembly.instantiateStreaming(ae,R);return we.then(V,function(Se){return _(`wasm streaming compile failed: ${Se}`),_("falling back to ArrayBuffer instantiation"),Be(E,R,V)})}):Be(E,R,V)}function Ge(){var S={a:Kr};function E(V,ae){return Fn=V.exports,T=Fn.ia,J(),Hl=Fn.ma,Ne(Fn.ja),he(),Fn}ht();function R(V){E(V.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(S,E)}catch(V){_(`Module.instantiateWasm callback failed with error: ${V}`),a(V)}return ve(b,mt,S,R).catch(a),{}}var st=S=>{for(;S.length>0;)S.shift()(n)};n.noExitRuntime;var wt=[],F=0,Y=S=>{var E=new _e(S);return E.get_caught()||(E.set_caught(!0),F--),E.set_rethrown(!1),wt.push(E),xs(E.excPtr),E.get_exception_ptr()},fe=0,Fe=()=>{Rn(0,0);var S=wt.pop();jo(S.excPtr),fe=0};function _e(S){this.excPtr=S,this.ptr=S-24,this.set_type=function(E){L[this.ptr+4>>2]=E},this.get_type=function(){return L[this.ptr+4>>2]},this.set_destructor=function(E){L[this.ptr+8>>2]=E},this.get_destructor=function(){return L[this.ptr+8>>2]},this.set_caught=function(E){E=E?1:0,$[this.ptr+12>>0]=E},this.get_caught=function(){return $[this.ptr+12>>0]!=0},this.set_rethrown=function(E){E=E?1:0,$[this.ptr+13>>0]=E},this.get_rethrown=function(){return $[this.ptr+13>>0]!=0},this.init=function(E,R){this.set_adjusted_ptr(0),this.set_type(E),this.set_destructor(R)},this.set_adjusted_ptr=function(E){L[this.ptr+16>>2]=E},this.get_adjusted_ptr=function(){return L[this.ptr+16>>2]},this.get_exception_ptr=function(){var E=eo(this.get_type());if(E)return L[this.excPtr>>2];var R=this.get_adjusted_ptr();return R!==0?R:this.excPtr}}var ke=S=>{throw fe||(fe=S),fe},Ve=S=>{var E=fe;if(!E)return ys(0),0;var R=new _e(E);R.set_adjusted_ptr(E);var V=R.get_type();if(!V)return ys(0),E;for(var ae in S){var we=S[ae];if(we===0||we===V)break;var Se=R.ptr+16;if(rn(we,V,Se))return ys(we),E}return ys(V),E},ze=()=>Ve([]),ye=S=>Ve([S]),ce=(S,E)=>Ve([S,E]),$e=()=>{var S=wt.pop();S||se("no exception to throw");var E=S.excPtr;throw S.get_rethrown()||(wt.push(S),S.set_rethrown(!0),S.set_caught(!1),F++),fe=E,fe},Le=(S,E,R)=>{var V=new _e(S);throw V.init(E,R),fe=S,F++,fe},et=()=>F,Qe={},at=S=>{for(;S.length;){var E=S.pop(),R=S.pop();R(E)}};function ot(S){return this.fromWireType(C[S>>2])}var lt={},Vt={},Xt={},In,Dt=S=>{throw new In(S)},Ue=(S,E,R)=>{S.forEach(function(Ie){Xt[Ie]=E});function V(Ie){var qe=R(Ie);qe.length!==S.length&&Dt("Mismatched type converter count");for(var nt=0;nt<S.length;++nt)tr(S[nt],qe[nt])}var ae=new Array(E.length),we=[],Se=0;E.forEach((Ie,qe)=>{Vt.hasOwnProperty(Ie)?ae[qe]=Vt[Ie]:(we.push(Ie),lt.hasOwnProperty(Ie)||(lt[Ie]=[]),lt[Ie].push(()=>{ae[qe]=Vt[Ie],++Se,Se===we.length&&V(ae)}))}),we.length===0&&V(ae)},Jt=S=>{var E=Qe[S];delete Qe[S];var R=E.rawConstructor,V=E.rawDestructor,ae=E.fields,we=ae.map(Se=>Se.getterReturnType).concat(ae.map(Se=>Se.setterArgumentType));Ue([S],we,Se=>{var Ie={};return ae.forEach((qe,nt)=>{var gt=qe.fieldName,Rt=Se[nt],Pt=qe.getter,Wt=qe.getterContext,qn=Se[nt+ae.length],zn=qe.setter,En=qe.setterContext;Ie[gt]={read:_r=>Rt.fromWireType(Pt(Wt,_r)),write:(_r,Xe)=>{var yt=[];zn(En,_r,qn.toWireType(yt,Xe)),at(yt)}}}),[{name:E.name,fromWireType:qe=>{var nt={};for(var gt in Ie)nt[gt]=Ie[gt].read(qe);return V(qe),nt},toWireType:(qe,nt)=>{for(var gt in Ie)if(!(gt in nt))throw new TypeError(`Missing field: "${gt}"`);var Rt=R();for(gt in Ie)Ie[gt].write(Rt,nt[gt]);return qe!==null&&qe.push(V,Rt),Rt},argPackAdvance:or,readValueFromPointer:ot,destructorFunction:V}]})},Ot=(S,E,R,V,ae)=>{},Mt=()=>{for(var S=new Array(256),E=0;E<256;++E)S[E]=String.fromCharCode(E);Xn=S},Xn,xn=S=>{for(var E="",R=S;Z[R];)E+=Xn[Z[R++]];return E},Ar,ft=S=>{throw new Ar(S)};function yr(S,E){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var V=E.name;if(S||ft(`type "${V}" must have a positive integer typeid pointer`),Vt.hasOwnProperty(S)){if(R.ignoreDuplicateRegistrations)return;ft(`Cannot register type '${V}' twice`)}if(Vt[S]=E,delete Xt[S],lt.hasOwnProperty(S)){var ae=lt[S];delete lt[S],ae.forEach(we=>we())}}function tr(S,E){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!("argPackAdvance"in E))throw new TypeError("registerType registeredInstance requires argPackAdvance");return yr(S,E,R)}var or=8,ar=(S,E,R,V)=>{E=xn(E),tr(S,{name:E,fromWireType:function(ae){return!!ae},toWireType:function(ae,we){return we?R:V},argPackAdvance:or,readValueFromPointer:function(ae){return this.fromWireType(Z[ae])},destructorFunction:null})},di=S=>({count:S.count,deleteScheduled:S.deleteScheduled,preservePointerOnDelete:S.preservePointerOnDelete,ptr:S.ptr,ptrType:S.ptrType,smartPtr:S.smartPtr,smartPtrType:S.smartPtrType}),dn=S=>{function E(R){return R.$$.ptrType.registeredClass.name}ft(E(S)+" instance already deleted")},lr=!1,wi=S=>{},kr=S=>{S.smartPtr?S.smartPtrType.rawDestructor(S.smartPtr):S.ptrType.registeredClass.rawDestructor(S.ptr)},X=S=>{S.count.value-=1;var E=S.count.value===0;E&&kr(S)},le=(S,E,R)=>{if(E===R)return S;if(R.baseClass===void 0)return null;var V=le(S,E,R.baseClass);return V===null?null:R.downcast(V)},Re={},Ye=()=>Object.keys(ur).length,rt=()=>{var S=[];for(var E in ur)ur.hasOwnProperty(E)&&S.push(ur[E]);return S},Et=[],Me=()=>{for(;Et.length;){var S=Et.pop();S.$$.deleteScheduled=!1,S.delete()}},vt,en=S=>{vt=S,Et.length&&vt&&vt(Me)},fn=()=>{n.getInheritedInstanceCount=Ye,n.getLiveInheritedInstances=rt,n.flushPendingDeletes=Me,n.setDelayFunction=en},ur={},Di=(S,E)=>{for(E===void 0&&ft("ptr should not be undefined");S.baseClass;)E=S.upcast(E),S=S.baseClass;return E},ms=(S,E)=>(E=Di(S,E),ur[E]),xr=(S,E)=>{(!E.ptrType||!E.ptr)&&Dt("makeClassHandle requires ptr and ptrType");var R=!!E.smartPtrType,V=!!E.smartPtr;return R!==V&&Dt("Both smartPtrType and smartPtr must be specified"),E.count={value:1},ki(Object.create(S,{$$:{value:E,writable:!0}}))};function No(S){var E=this.getPointee(S);if(!E)return this.destructor(S),null;var R=ms(this.registeredClass,E);if(R!==void 0){if(R.$$.count.value===0)return R.$$.ptr=E,R.$$.smartPtr=S,R.clone();var V=R.clone();return this.destructor(S),V}function ae(){return this.isSmartPointer?xr(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:E,smartPtrType:this,smartPtr:S}):xr(this.registeredClass.instancePrototype,{ptrType:this,ptr:S})}var we=this.registeredClass.getActualType(E),Se=Re[we];if(!Se)return ae.call(this);var Ie;this.isConst?Ie=Se.constPointerType:Ie=Se.pointerType;var qe=le(E,this.registeredClass,Ie.registeredClass);return qe===null?ae.call(this):this.isSmartPointer?xr(Ie.registeredClass.instancePrototype,{ptrType:Ie,ptr:qe,smartPtrType:this,smartPtr:S}):xr(Ie.registeredClass.instancePrototype,{ptrType:Ie,ptr:qe})}var ki=S=>typeof FinalizationRegistry>"u"?(ki=E=>E,S):(lr=new FinalizationRegistry(E=>{X(E.$$)}),ki=E=>{var R=E.$$,V=!!R.smartPtr;if(V){var ae={$$:R};lr.register(E,ae,E)}return E},wi=E=>lr.unregister(E),ki(S)),Vr=()=>{Object.assign(ee.prototype,{isAliasOf(S){if(!(this instanceof ee)||!(S instanceof ee))return!1;var E=this.$$.ptrType.registeredClass,R=this.$$.ptr;S.$$=S.$$;for(var V=S.$$.ptrType.registeredClass,ae=S.$$.ptr;E.baseClass;)R=E.upcast(R),E=E.baseClass;for(;V.baseClass;)ae=V.upcast(ae),V=V.baseClass;return E===V&&R===ae},clone(){if(this.$$.ptr||dn(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var S=ki(Object.create(Object.getPrototypeOf(this),{$$:{value:di(this.$$)}}));return S.$$.count.value+=1,S.$$.deleteScheduled=!1,S},delete(){this.$$.ptr||dn(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ft("Object already scheduled for deletion"),wi(this),X(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||dn(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ft("Object already scheduled for deletion"),Et.push(this),Et.length===1&&vt&&vt(Me),this.$$.deleteScheduled=!0,this}})};function ee(){}var He=(S,E)=>Object.defineProperty(E,"name",{value:S}),dt=(S,E,R)=>{if(S[E].overloadTable===void 0){var V=S[E];S[E]=function(){return S[E].overloadTable.hasOwnProperty(arguments.length)||ft(`Function '${R}' called with an invalid number of arguments (${arguments.length}) - expects one of (${S[E].overloadTable})!`),S[E].overloadTable[arguments.length].apply(this,arguments)},S[E].overloadTable=[],S[E].overloadTable[V.argCount]=V}},At=(S,E,R)=>{n.hasOwnProperty(S)?((R===void 0||n[S].overloadTable!==void 0&&n[S].overloadTable[R]!==void 0)&&ft(`Cannot register public name '${S}' twice`),dt(n,S,S),n.hasOwnProperty(R)&&ft(`Cannot register multiple overloads of a function with the same number of arguments (${R})!`),n[S].overloadTable[R]=E):(n[S]=E,R!==void 0&&(n[S].numArguments=R))},un=48,Oe=57,Kn=S=>{if(S===void 0)return"_unknown";S=S.replace(/[^a-zA-Z0-9_]/g,"$");var E=S.charCodeAt(0);return E>=un&&E<=Oe?`_${S}`:S};function Nt(S,E,R,V,ae,we,Se,Ie){this.name=S,this.constructor=E,this.instancePrototype=R,this.rawDestructor=V,this.baseClass=ae,this.getActualType=we,this.upcast=Se,this.downcast=Ie,this.pureVirtualFunctions=[]}var Gr=(S,E,R)=>{for(;E!==R;)E.upcast||ft(`Expected null or instance of ${R.name}, got an instance of ${E.name}`),S=E.upcast(S),E=E.baseClass;return S};function Tc(S,E){if(E===null)return this.isReference&&ft(`null is not a valid ${this.name}`),0;E.$$||ft(`Cannot pass "${qt(E)}" as a ${this.name}`),E.$$.ptr||ft(`Cannot pass deleted object as a pointer of type ${this.name}`);var R=E.$$.ptrType.registeredClass,V=Gr(E.$$.ptr,R,this.registeredClass);return V}function cn(S,E){var R;if(E===null)return this.isReference&&ft(`null is not a valid ${this.name}`),this.isSmartPointer?(R=this.rawConstructor(),S!==null&&S.push(this.rawDestructor,R),R):0;(!E||!E.$$)&&ft(`Cannot pass "${qt(E)}" as a ${this.name}`),E.$$.ptr||ft(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&E.$$.ptrType.isConst&&ft(`Cannot convert argument of type ${E.$$.smartPtrType?E.$$.smartPtrType.name:E.$$.ptrType.name} to parameter type ${this.name}`);var V=E.$$.ptrType.registeredClass;if(R=Gr(E.$$.ptr,V,this.registeredClass),this.isSmartPointer)switch(E.$$.smartPtr===void 0&&ft("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:E.$$.smartPtrType===this?R=E.$$.smartPtr:ft(`Cannot convert argument of type ${E.$$.smartPtrType?E.$$.smartPtrType.name:E.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:R=E.$$.smartPtr;break;case 2:if(E.$$.smartPtrType===this)R=E.$$.smartPtr;else{var ae=E.clone();R=this.rawShare(R,yi.toHandle(()=>ae.delete())),S!==null&&S.push(this.rawDestructor,R)}break;default:ft("Unsupporting sharing policy")}return R}function an(S,E){if(E===null)return this.isReference&&ft(`null is not a valid ${this.name}`),0;E.$$||ft(`Cannot pass "${qt(E)}" as a ${this.name}`),E.$$.ptr||ft(`Cannot pass deleted object as a pointer of type ${this.name}`),E.$$.ptrType.isConst&&ft(`Cannot convert argument of type ${E.$$.ptrType.name} to parameter type ${this.name}`);var R=E.$$.ptrType.registeredClass,V=Gr(E.$$.ptr,R,this.registeredClass);return V}function tn(S){return this.fromWireType(L[S>>2])}var Na=()=>{Object.assign(vs.prototype,{getPointee(S){return this.rawGetPointee&&(S=this.rawGetPointee(S)),S},destructor(S){var E;(E=this.rawDestructor)===null||E===void 0||E.call(this,S)},argPackAdvance:or,readValueFromPointer:tn,deleteObject(S){S!==null&&S.delete()},fromWireType:No})};function vs(S,E,R,V,ae,we,Se,Ie,qe,nt,gt){this.name=S,this.registeredClass=E,this.isReference=R,this.isConst=V,this.isSmartPointer=ae,this.pointeeType=we,this.sharingPolicy=Se,this.rawGetPointee=Ie,this.rawConstructor=qe,this.rawShare=nt,this.rawDestructor=gt,!ae&&E.baseClass===void 0?V?(this.toWireType=Tc,this.destructorFunction=null):(this.toWireType=an,this.destructorFunction=null):this.toWireType=cn}var Po=(S,E,R)=>{n.hasOwnProperty(S)||Dt("Replacing nonexistant public symbol"),n[S].overloadTable!==void 0&&R!==void 0?n[S].overloadTable[R]=E:(n[S]=E,n[S].argCount=R)},Zn=(S,E,R)=>{var V=n["dynCall_"+S];return R&&R.length?V.apply(null,[E].concat(R)):V.call(null,E)},ni=[],Hl,$t=S=>{var E=ni[S];return E||(S>=ni.length&&(ni.length=S+1),ni[S]=E=Hl.get(S)),E},Ri=(S,E,R)=>{if(S.includes("j"))return Zn(S,E,R);var V=$t(E).apply(null,R);return V},Ic=(S,E)=>{var R=[];return function(){return R.length=0,Object.assign(R,arguments),Ri(S,E,R)}},br=(S,E)=>{S=xn(S);function R(){return S.includes("j")?Ic(S,E):$t(E)}var V=R();return typeof V!="function"&&ft(`unknown function pointer with signature ${S}: ${E}`),V},bn=(S,E)=>{var R=He(E,function(V){this.name=E,this.message=V;var ae=new Error(V).stack;ae!==void 0&&(this.stack=this.toString()+`
`+ae.replace(/^Error(:[^\n]*)?\n/,""))});return R.prototype=Object.create(S.prototype),R.prototype.constructor=R,R.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},R},cr,xe=S=>{var E=Uo(S),R=xn(E);return rr(E),R},H=(S,E)=>{var R=[],V={};function ae(we){if(!V[we]&&!Vt[we]){if(Xt[we]){Xt[we].forEach(ae);return}R.push(we),V[we]=!0}}throw E.forEach(ae),new cr(`${S}: `+R.map(xe).join([", "]))},xt=(S,E,R,V,ae,we,Se,Ie,qe,nt,gt,Rt,Pt)=>{gt=xn(gt),we=br(ae,we),Ie&&(Ie=br(Se,Ie)),nt&&(nt=br(qe,nt)),Pt=br(Rt,Pt);var Wt=Kn(gt);At(Wt,function(){H(`Cannot construct ${gt} due to unbound types`,[V])}),Ue([S,E,R],V?[V]:[],function(qn){qn=qn[0];var zn,En;V?(zn=qn.registeredClass,En=zn.instancePrototype):En=ee.prototype;var _r=He(gt,function(){if(Object.getPrototypeOf(this)!==Xe)throw new Ar("Use 'new' to construct "+gt);if(yt.constructor_body===void 0)throw new Ar(gt+" has no accessible constructor");var hh=yt.constructor_body[arguments.length];if(hh===void 0)throw new Ar(`Tried to invoke ctor of ${gt} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(yt.constructor_body).toString()}) parameters instead!`);return hh.apply(this,arguments)}),Xe=Object.create(En,{constructor:{value:_r}});_r.prototype=Xe;var yt=new Nt(gt,_r,Xe,Pt,zn,we,Ie,nt);if(yt.baseClass){var Wn,hr;(hr=(Wn=yt.baseClass).__derivedClasses)!==null&&hr!==void 0||(Wn.__derivedClasses=[]),yt.baseClass.__derivedClasses.push(yt)}var Ho=new vs(gt,yt,!0,!1,!1),Zl=new vs(gt+"*",yt,!1,!1,!1),fh=new vs(gt+" const*",yt,!1,!0,!1);return Re[S]={pointerType:Zl,constPointerType:fh},Po(Wt,_r),[Ho,Zl,fh]})},Hn=(S,E)=>{for(var R=[],V=0;V<S;V++)R.push(L[E+V*4>>2]);return R};function Yr(S){for(var E=1;E<S.length;++E)if(S[E]!==null&&S[E].destructorFunction===void 0)return!0;return!1}function Pa(S,E,R,V,ae,we){var Se=E.length;Se<2&&ft("argTypes array size mismatch! Must at least get return value and 'this' types!");var Ie=E[1]!==null&&R!==null,qe=Yr(E),nt=E[0].name!=="void",gt=Se-2,Rt=new Array(gt),Pt=[],Wt=[],qn=function(){arguments.length!==gt&&ft(`function ${S} called with ${arguments.length} arguments, expected ${gt}`),Wt.length=0;var zn;Pt.length=Ie?2:1,Pt[0]=ae,Ie&&(zn=E[1].toWireType(Wt,this),Pt[1]=zn);for(var En=0;En<gt;++En)Rt[En]=E[En+2].toWireType(Wt,arguments[En]),Pt.push(Rt[En]);var _r=V.apply(null,Pt);function Xe(yt){if(qe)at(Wt);else for(var Wn=Ie?1:2;Wn<E.length;Wn++){var hr=Wn===1?zn:Rt[Wn-2];E[Wn].destructorFunction!==null&&E[Wn].destructorFunction(hr)}if(nt)return E[0].fromWireType(yt)}return Xe(_r)};return He(S,qn)}var La=(S,E,R,V,ae,we)=>{var Se=Hn(E,R);ae=br(V,ae),Ue([],[S],function(Ie){Ie=Ie[0];var qe=`constructor ${Ie.name}`;if(Ie.registeredClass.constructor_body===void 0&&(Ie.registeredClass.constructor_body=[]),Ie.registeredClass.constructor_body[E-1]!==void 0)throw new Ar(`Cannot register multiple constructors with identical number of parameters (${E-1}) for class '${Ie.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return Ie.registeredClass.constructor_body[E-1]=()=>{H(`Cannot construct ${Ie.name} due to unbound types`,Se)},Ue([],Se,nt=>(nt.splice(1,0,null),Ie.registeredClass.constructor_body[E-1]=Pa(qe,nt,null,ae,we),[])),[]})},$r=S=>{S=S.trim();const E=S.indexOf("(");return E!==-1?S.substr(0,E):S},_t=(S,E,R,V,ae,we,Se,Ie,qe)=>{var nt=Hn(R,V);E=xn(E),E=$r(E),we=br(ae,we),Ue([],[S],function(gt){gt=gt[0];var Rt=`${gt.name}.${E}`;E.startsWith("@@")&&(E=Symbol[E.substring(2)]),Ie&&gt.registeredClass.pureVirtualFunctions.push(E);function Pt(){H(`Cannot call ${Rt} due to unbound types`,nt)}var Wt=gt.registeredClass.instancePrototype,qn=Wt[E];return qn===void 0||qn.overloadTable===void 0&&qn.className!==gt.name&&qn.argCount===R-2?(Pt.argCount=R-2,Pt.className=gt.name,Wt[E]=Pt):(dt(Wt,E,Rt),Wt[E].overloadTable[R-2]=Pt),Ue([],nt,function(zn){var En=Pa(Rt,zn,gt,we,Se);return Wt[E].overloadTable===void 0?(En.argCount=R-2,Wt[E]=En):Wt[E].overloadTable[R-2]=En,[]}),[]})};function kn(){Object.assign(Ba.prototype,{get(S){return this.allocated[S]},has(S){return this.allocated[S]!==void 0},allocate(S){var E=this.freelist.pop()||this.allocated.length;return this.allocated[E]=S,E},free(S){this.allocated[S]=void 0,this.freelist.push(S)}})}function Ba(){this.allocated=[void 0],this.freelist=[]}var Xr=new Ba,Ys=S=>{S>=Xr.reserved&&--Xr.get(S).refcount===0&&Xr.free(S)},Lo=()=>{for(var S=0,E=Xr.reserved;E<Xr.allocated.length;++E)Xr.allocated[E]!==void 0&&++S;return S},Fa=()=>{Xr.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),Xr.reserved=Xr.allocated.length,n.count_emval_handles=Lo},yi={toValue:S=>(S||ft("Cannot use deleted val. handle = "+S),Xr.get(S).value),toHandle:S=>{switch(S){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Xr.allocate({refcount:1,value:S})}}},nr=(S,E)=>{E=xn(E),tr(S,{name:E,fromWireType:R=>{var V=yi.toValue(R);return Ys(R),V},toWireType:(R,V)=>yi.toHandle(V),argPackAdvance:or,readValueFromPointer:ot,destructorFunction:null})},Xs=(S,E,R)=>{switch(E){case 1:return R?function(V){return this.fromWireType($[V>>0])}:function(V){return this.fromWireType(Z[V>>0])};case 2:return R?function(V){return this.fromWireType(j[V>>1])}:function(V){return this.fromWireType(D[V>>1])};case 4:return R?function(V){return this.fromWireType(C[V>>2])}:function(V){return this.fromWireType(L[V>>2])};default:throw new TypeError(`invalid integer width (${E}): ${S}`)}},Mi=(S,E,R,V)=>{E=xn(E);function ae(){}ae.values={},tr(S,{name:E,constructor:ae,fromWireType:function(we){return this.constructor.values[we]},toWireType:(we,Se)=>Se.value,argPackAdvance:or,readValueFromPointer:Xs(E,R,V),destructorFunction:null}),At(E,ae)},Ct=(S,E)=>{var R=Vt[S];return R===void 0&&ft(E+" has unknown type "+xe(S)),R},Oc=(S,E,R)=>{var V=Ct(S,"enum");E=xn(E);var ae=V.constructor,we=Object.create(V.constructor.prototype,{value:{value:R},constructor:{value:He(`${V.name}_${E}`,function(){})}});ae.values[R]=we,ae[E]=we},qt=S=>{if(S===null)return"null";var E=typeof S;return E==="object"||E==="array"||E==="function"?S.toString():""+S},dr=(S,E)=>{switch(E){case 4:return function(R){return this.fromWireType(K[R>>2])};case 8:return function(R){return this.fromWireType(N[R>>3])};default:throw new TypeError(`invalid float width (${E}): ${S}`)}},Dc=(S,E,R)=>{E=xn(E),tr(S,{name:E,fromWireType:V=>V,toWireType:(V,ae)=>ae,argPackAdvance:or,readValueFromPointer:dr(E,R),destructorFunction:null})},Va=(S,E,R,V,ae,we,Se)=>{var Ie=Hn(E,R);S=xn(S),S=$r(S),ae=br(V,ae),At(S,function(){H(`Cannot call ${S} due to unbound types`,Ie)},E-1),Ue([],Ie,function(qe){var nt=[qe[0],null].concat(qe.slice(1));return Po(S,Pa(S,nt,null,ae,we),E-1),[]})},zl=(S,E,R)=>{switch(E){case 1:return R?V=>$[V>>0]:V=>Z[V>>0];case 2:return R?V=>j[V>>1]:V=>D[V>>1];case 4:return R?V=>C[V>>2]:V=>L[V>>2];default:throw new TypeError(`invalid integer width (${E}): ${S}`)}},Zi=(S,E,R,V,ae)=>{E=xn(E);var we=gt=>gt;if(V===0){var Se=32-8*R;we=gt=>gt<<Se>>>Se}var Ie=E.includes("unsigned"),qe=(gt,Rt)=>{},nt;Ie?nt=function(gt,Rt){return qe(Rt,this.name),Rt>>>0}:nt=function(gt,Rt){return qe(Rt,this.name),Rt},tr(S,{name:E,fromWireType:we,toWireType:nt,argPackAdvance:or,readValueFromPointer:zl(E,R,V!==0),destructorFunction:null})},kc=(S,E,R)=>{var V=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ae=V[E];function we(Se){var Ie=L[Se>>2],qe=L[Se+4>>2];return new ae($.buffer,qe,Ie)}R=xn(R),tr(S,{name:R,fromWireType:we,argPackAdvance:or,readValueFromPointer:we},{ignoreDuplicateRegistrations:!0})},ps=(S,E,R,V)=>{if(!(V>0))return 0;for(var ae=R,we=R+V-1,Se=0;Se<S.length;++Se){var Ie=S.charCodeAt(Se);if(Ie>=55296&&Ie<=57343){var qe=S.charCodeAt(++Se);Ie=65536+((Ie&1023)<<10)|qe&1023}if(Ie<=127){if(R>=we)break;E[R++]=Ie}else if(Ie<=2047){if(R+1>=we)break;E[R++]=192|Ie>>6,E[R++]=128|Ie&63}else if(Ie<=65535){if(R+2>=we)break;E[R++]=224|Ie>>12,E[R++]=128|Ie>>6&63,E[R++]=128|Ie&63}else{if(R+3>=we)break;E[R++]=240|Ie>>18,E[R++]=128|Ie>>12&63,E[R++]=128|Ie>>6&63,E[R++]=128|Ie&63}}return E[R]=0,R-ae},Ks=(S,E,R)=>ps(S,Z,E,R),ws=S=>{for(var E=0,R=0;R<S.length;++R){var V=S.charCodeAt(R);V<=127?E++:V<=2047?E+=2:V>=55296&&V<=57343?(E+=4,++R):E+=3}return E},$a=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Zs=(S,E,R)=>{for(var V=E+R,ae=E;S[ae]&&!(ae>=V);)++ae;if(ae-E>16&&S.buffer&&$a)return $a.decode(S.subarray(E,ae));for(var we="";E<ae;){var Se=S[E++];if(!(Se&128)){we+=String.fromCharCode(Se);continue}var Ie=S[E++]&63;if((Se&224)==192){we+=String.fromCharCode((Se&31)<<6|Ie);continue}var qe=S[E++]&63;if((Se&240)==224?Se=(Se&15)<<12|Ie<<6|qe:Se=(Se&7)<<18|Ie<<12|qe<<6|S[E++]&63,Se<65536)we+=String.fromCharCode(Se);else{var nt=Se-65536;we+=String.fromCharCode(55296|nt>>10,56320|nt&1023)}}return we},Qi=(S,E)=>S?Zs(Z,S,E):"",Rr=(S,E)=>{E=xn(E);var R=E==="std::string";tr(S,{name:E,fromWireType(V){var ae=L[V>>2],we=V+4,Se;if(R)for(var Ie=we,qe=0;qe<=ae;++qe){var nt=we+qe;if(qe==ae||Z[nt]==0){var gt=nt-Ie,Rt=Qi(Ie,gt);Se===void 0?Se=Rt:(Se+="\0",Se+=Rt),Ie=nt+1}}else{for(var Pt=new Array(ae),qe=0;qe<ae;++qe)Pt[qe]=String.fromCharCode(Z[we+qe]);Se=Pt.join("")}return rr(V),Se},toWireType(V,ae){ae instanceof ArrayBuffer&&(ae=new Uint8Array(ae));var we,Se=typeof ae=="string";Se||ae instanceof Uint8Array||ae instanceof Uint8ClampedArray||ae instanceof Int8Array||ft("Cannot pass non-string to std::string"),R&&Se?we=ws(ae):we=ae.length;var Ie=Ga(4+we+1),qe=Ie+4;if(L[Ie>>2]=we,R&&Se)Ks(ae,qe,we+1);else if(Se)for(var nt=0;nt<we;++nt){var gt=ae.charCodeAt(nt);gt>255&&(rr(qe),ft("String has UTF-16 code units that do not fit in 8 bits")),Z[qe+nt]=gt}else for(var nt=0;nt<we;++nt)Z[qe+nt]=ae[nt];return V!==null&&V.push(rr,Ie),Ie},argPackAdvance:or,readValueFromPointer:tn,destructorFunction(V){rr(V)}})},qa=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Wl=(S,E)=>{for(var R=S,V=R>>1,ae=V+E/2;!(V>=ae)&&D[V];)++V;if(R=V<<1,R-S>32&&qa)return qa.decode(Z.subarray(S,R));for(var we="",Se=0;!(Se>=E/2);++Se){var Ie=j[S+Se*2>>1];if(Ie==0)break;we+=String.fromCharCode(Ie)}return we},Gl=(S,E,R)=>{var V;if((V=R)!==null&&V!==void 0||(R=2147483647),R<2)return 0;R-=2;for(var ae=E,we=R<S.length*2?R/2:S.length,Se=0;Se<we;++Se){var Ie=S.charCodeAt(Se);j[E>>1]=Ie,E+=2}return j[E>>1]=0,E-ae},Rc=S=>S.length*2,Mc=(S,E)=>{for(var R=0,V="";!(R>=E/4);){var ae=C[S+R*4>>2];if(ae==0)break;if(++R,ae>=65536){var we=ae-65536;V+=String.fromCharCode(55296|we>>10,56320|we&1023)}else V+=String.fromCharCode(ae)}return V},Nc=(S,E,R)=>{var V;if((V=R)!==null&&V!==void 0||(R=2147483647),R<4)return 0;for(var ae=E,we=ae+R-4,Se=0;Se<S.length;++Se){var Ie=S.charCodeAt(Se);if(Ie>=55296&&Ie<=57343){var qe=S.charCodeAt(++Se);Ie=65536+((Ie&1023)<<10)|qe&1023}if(C[E>>2]=Ie,E+=4,E+4>we)break}return C[E>>2]=0,E-ae},hn=S=>{for(var E=0,R=0;R<S.length;++R){var V=S.charCodeAt(R);V>=55296&&V<=57343&&++R,E+=4}return E},Yl=(S,E,R)=>{R=xn(R);var V,ae,we,Se,Ie;E===2?(V=Wl,ae=Gl,Se=Rc,we=()=>D,Ie=1):E===4&&(V=Mc,ae=Nc,Se=hn,we=()=>L,Ie=2),tr(S,{name:R,fromWireType:qe=>{for(var nt=L[qe>>2],gt=we(),Rt,Pt=qe+4,Wt=0;Wt<=nt;++Wt){var qn=qe+4+Wt*E;if(Wt==nt||gt[qn>>Ie]==0){var zn=qn-Pt,En=V(Pt,zn);Rt===void 0?Rt=En:(Rt+="\0",Rt+=En),Pt=qn+E}}return rr(qe),Rt},toWireType:(qe,nt)=>{typeof nt!="string"&&ft(`Cannot pass non-string to C++ string type ${R}`);var gt=Se(nt),Rt=Ga(4+gt+E);return L[Rt>>2]=gt>>Ie,ae(nt,Rt+4,gt+E),qe!==null&&qe.push(rr,Rt),Rt},argPackAdvance:or,readValueFromPointer:ot,destructorFunction(qe){rr(qe)}})},Bo=(S,E,R,V,ae,we)=>{Qe[S]={name:xn(E),rawConstructor:br(R,V),rawDestructor:br(ae,we),fields:[]}},Ni=(S,E,R,V,ae,we,Se,Ie,qe,nt)=>{Qe[S].fields.push({fieldName:xn(E),getterReturnType:R,getter:br(V,ae),getterContext:we,setterArgumentType:Se,setter:br(Ie,qe),setterContext:nt})},Pc=(S,E)=>{E=xn(E),tr(S,{isVoid:!0,name:E,argPackAdvance:0,fromWireType:()=>{},toWireType:(R,V)=>{}})},Ee=[],Yt=(S,E,R,V)=>(S=Ee[S],E=yi.toValue(E),S(null,E,R,V)),fr={},Fo=S=>{var E=fr[S];return E===void 0?xn(S):E},Ua=()=>{if(typeof globalThis=="object")return globalThis;function S(E){E.$$$embind_global$$$=E;var R=typeof $$$embind_global$$$=="object"&&E.$$$embind_global$$$==E;return R||delete E.$$$embind_global$$$,R}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&S(global)?$$$embind_global$$$=global:typeof self=="object"&&S(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},Lc=S=>S===0?yi.toHandle(Ua()):(S=Fo(S),yi.toHandle(Ua()[S])),Bc=S=>{var E=Ee.length;return Ee.push(S),E},Fc=(S,E)=>{for(var R=new Array(S),V=0;V<S;++V)R[V]=Ct(L[E+V*4>>2],"parameter "+V);return R},ja=Reflect.construct,Qn=(S,E,R)=>{var V=[],ae=S.toWireType(V,R);return V.length&&(L[E>>2]=yi.toHandle(V)),ae},Ha=(S,E,R)=>{var V=Fc(S,E),ae=V.shift();S--;var we=new Array(S),Se=(qe,nt,gt,Rt)=>{for(var Pt=0,Wt=0;Wt<S;++Wt)we[Wt]=V[Wt].readValueFromPointer(Rt+Pt),Pt+=V[Wt].argPackAdvance;for(var qn=R===1?ja(nt,we):nt.apply(qe,we),Wt=0;Wt<S;++Wt){var zn,En;(zn=(En=V[Wt]).deleteObject)===null||zn===void 0||zn.call(En,we[Wt])}return Qn(ae,gt,qn)},Ie=`methodCaller<(${V.map(qe=>qe.name).join(", ")}) => ${ae.name}>`;return Bc(He(Ie,Se))},Bn=S=>{S>4&&(Xr.get(S).refcount+=1)},Vo=S=>{var E=yi.toValue(S);at(E),Ys(S)},Ji=(S,E)=>{S=Ct(S,"_emval_take_value");var R=S.readValueFromPointer(E);return yi.toHandle(R)},wn=()=>{se("")},St=(S,E,R)=>Z.copyWithin(S,E,E+R),Vc=()=>2147483648,Sn=S=>{var E=T.buffer,R=(S-E.byteLength+65535)/65536;try{return T.grow(R),J(),1}catch{}},es=S=>{var E=Z.length;S>>>=0;var R=Vc();if(S>R)return!1;for(var V=(qe,nt)=>qe+(nt-qe%nt)%nt,ae=1;ae<=4;ae*=2){var we=E*(1+.2/ae);we=Math.min(we,S+100663296);var Se=Math.min(R,V(Math.max(S,we),65536)),Ie=Sn(Se);if(Ie)return!0}return!1},Pi={},$c=()=>d||"./this.program",Mr=()=>{if(!Mr.strings){var S=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",E={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:S,_:$c()};for(var R in Pi)Pi[R]===void 0?delete E[R]:E[R]=Pi[R];var V=[];for(var R in E)V.push(`${R}=${E[R]}`);Mr.strings=V}return Mr.strings},za=(S,E)=>{for(var R=0;R<S.length;++R)$[E++>>0]=S.charCodeAt(R);$[E>>0]=0},Xl=(S,E)=>{var R=0;return Mr().forEach((V,ae)=>{var we=E+R;L[S+ae*4>>2]=we,za(V,we),R+=V.length+1}),0},Wa=(S,E)=>{var R=Mr();L[S>>2]=R.length;var V=0;return R.forEach(ae=>V+=ae.length+1),L[E>>2]=V,0},Kl=S=>S,Qs=S=>S%4===0&&(S%100!==0||S%400===0),qc=(S,E)=>{for(var R=0,V=0;V<=E;R+=S[V++]);return R},ts=[31,29,31,30,31,30,31,31,30,31,30,31],$o=[31,28,31,30,31,30,31,31,30,31,30,31],Uc=(S,E)=>{for(var R=new Date(S.getTime());E>0;){var V=Qs(R.getFullYear()),ae=R.getMonth(),we=(V?ts:$o)[ae];if(E>we-R.getDate())E-=we-R.getDate()+1,R.setDate(1),ae<11?R.setMonth(ae+1):(R.setMonth(0),R.setFullYear(R.getFullYear()+1));else return R.setDate(R.getDate()+E),R}return R};function Js(S,E,R){var V=ws(S)+1,ae=new Array(V);return ps(S,ae,0,ae.length),ae}var jc=(S,E)=>{$.set(S,E)},Li=(S,E,R,V)=>{var ae=L[V+40>>2],we={tm_sec:C[V>>2],tm_min:C[V+4>>2],tm_hour:C[V+8>>2],tm_mday:C[V+12>>2],tm_mon:C[V+16>>2],tm_year:C[V+20>>2],tm_wday:C[V+24>>2],tm_yday:C[V+28>>2],tm_isdst:C[V+32>>2],tm_gmtoff:C[V+36>>2],tm_zone:ae?Qi(ae):""},Se=Qi(R),Ie={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var qe in Ie)Se=Se.replace(new RegExp(qe,"g"),Ie[qe]);var nt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],gt=["January","February","March","April","May","June","July","August","September","October","November","December"];function Rt(Xe,yt,Wn){for(var hr=typeof Xe=="number"?Xe.toString():Xe||"";hr.length<yt;)hr=Wn[0]+hr;return hr}function Pt(Xe,yt){return Rt(Xe,yt,"0")}function Wt(Xe,yt){function Wn(Ho){return Ho<0?-1:Ho>0?1:0}var hr;return(hr=Wn(Xe.getFullYear()-yt.getFullYear()))===0&&(hr=Wn(Xe.getMonth()-yt.getMonth()))===0&&(hr=Wn(Xe.getDate()-yt.getDate())),hr}function qn(Xe){switch(Xe.getDay()){case 0:return new Date(Xe.getFullYear()-1,11,29);case 1:return Xe;case 2:return new Date(Xe.getFullYear(),0,3);case 3:return new Date(Xe.getFullYear(),0,2);case 4:return new Date(Xe.getFullYear(),0,1);case 5:return new Date(Xe.getFullYear()-1,11,31);case 6:return new Date(Xe.getFullYear()-1,11,30)}}function zn(Xe){var yt=Uc(new Date(Xe.tm_year+1900,0,1),Xe.tm_yday),Wn=new Date(yt.getFullYear(),0,4),hr=new Date(yt.getFullYear()+1,0,4),Ho=qn(Wn),Zl=qn(hr);return Wt(Ho,yt)<=0?Wt(Zl,yt)<=0?yt.getFullYear()+1:yt.getFullYear():yt.getFullYear()-1}var En={"%a":Xe=>nt[Xe.tm_wday].substring(0,3),"%A":Xe=>nt[Xe.tm_wday],"%b":Xe=>gt[Xe.tm_mon].substring(0,3),"%B":Xe=>gt[Xe.tm_mon],"%C":Xe=>{var yt=Xe.tm_year+1900;return Pt(yt/100|0,2)},"%d":Xe=>Pt(Xe.tm_mday,2),"%e":Xe=>Rt(Xe.tm_mday,2," "),"%g":Xe=>zn(Xe).toString().substring(2),"%G":Xe=>zn(Xe),"%H":Xe=>Pt(Xe.tm_hour,2),"%I":Xe=>{var yt=Xe.tm_hour;return yt==0?yt=12:yt>12&&(yt-=12),Pt(yt,2)},"%j":Xe=>Pt(Xe.tm_mday+qc(Qs(Xe.tm_year+1900)?ts:$o,Xe.tm_mon-1),3),"%m":Xe=>Pt(Xe.tm_mon+1,2),"%M":Xe=>Pt(Xe.tm_min,2),"%n":()=>`
`,"%p":Xe=>Xe.tm_hour>=0&&Xe.tm_hour<12?"AM":"PM","%S":Xe=>Pt(Xe.tm_sec,2),"%t":()=>"	","%u":Xe=>Xe.tm_wday||7,"%U":Xe=>{var yt=Xe.tm_yday+7-Xe.tm_wday;return Pt(Math.floor(yt/7),2)},"%V":Xe=>{var yt=Math.floor((Xe.tm_yday+7-(Xe.tm_wday+6)%7)/7);if((Xe.tm_wday+371-Xe.tm_yday-2)%7<=2&&yt++,yt){if(yt==53){var Wn=(Xe.tm_wday+371-Xe.tm_yday)%7;Wn!=4&&(Wn!=3||!Qs(Xe.tm_year))&&(yt=1)}}else{yt=52;var hr=(Xe.tm_wday+7-Xe.tm_yday-1)%7;(hr==4||hr==5&&Qs(Xe.tm_year%400-1))&&yt++}return Pt(yt,2)},"%w":Xe=>Xe.tm_wday,"%W":Xe=>{var yt=Xe.tm_yday+7-(Xe.tm_wday+6)%7;return Pt(Math.floor(yt/7),2)},"%y":Xe=>(Xe.tm_year+1900).toString().substring(2),"%Y":Xe=>Xe.tm_year+1900,"%z":Xe=>{var yt=Xe.tm_gmtoff,Wn=yt>=0;return yt=Math.abs(yt)/60,yt=yt/60*100+yt%60,(Wn?"+":"-")+("0000"+yt).slice(-4)},"%Z":Xe=>Xe.tm_zone,"%%":()=>"%"};Se=Se.replace(/%%/g,"\0\0");for(var qe in En)Se.includes(qe)&&(Se=Se.replace(new RegExp(qe,"g"),En[qe](we)));Se=Se.replace(/\0\0/g,"%");var _r=Js(Se);return _r.length>E?0:(jc(_r,S),_r.length-1)},qo=(S,E,R,V,ae)=>Li(S,E,R,V);In=n.InternalError=class extends Error{constructor(S){super(S),this.name="InternalError"}},Mt(),Ar=n.BindingError=class extends Error{constructor(S){super(S),this.name="BindingError"}},Vr(),fn(),Na(),cr=n.UnboundTypeError=bn(Error,"UnboundTypeError"),kn(),Fa();var Kr={s:Y,u:Fe,b:ze,g:ye,q:ce,J:$e,f:Le,V:et,d:ke,da:Jt,Q:Ot,_:ar,ca:xt,ba:La,w:_t,Y:nr,x:Mi,h:Oc,L:Dc,M:Va,t:Zi,o:kc,K:Rr,C:Yl,A:Bo,ea:Ni,$:Pc,R:Yt,ha:Ys,fa:Lc,Z:Ha,N:Bn,O:Vo,aa:Ji,B:wn,X:St,W:es,T:Xl,U:Wa,E:pe,D:c,F:oe,n:Te,a:r,e:p,m:u,k:x,H:W,v:O,G:re,z:Ke,P:nn,l:w,j:f,c:o,p:i,I:P,r:We,i:A,y:je,ga:Kl,S:qo},Fn=Ge(),rr=n._free=S=>(rr=n._free=Fn.ka)(S),Ga=n._malloc=S=>(Ga=n._malloc=Fn.la)(S),Uo=S=>(Uo=Fn.na)(S),Rn=(S,E)=>(Rn=Fn.oa)(S,E),ys=S=>(ys=Fn.pa)(S),ln=()=>(ln=Fn.qa)(),Vn=S=>(Vn=Fn.ra)(S),jo=S=>(jo=Fn.sa)(S),xs=S=>(xs=Fn.ta)(S),rn=(S,E,R)=>(rn=Fn.ua)(S,E,R),eo=S=>(eo=Fn.va)(S);n.dynCall_viijii=(S,E,R,V,ae,we,Se)=>(n.dynCall_viijii=Fn.wa)(S,E,R,V,ae,we,Se);var I=n.dynCall_jiiii=(S,E,R,V,ae)=>(I=n.dynCall_jiiii=Fn.xa)(S,E,R,V,ae);n.dynCall_iiiiij=(S,E,R,V,ae,we,Se)=>(n.dynCall_iiiiij=Fn.ya)(S,E,R,V,ae,we,Se),n.dynCall_iiiiijj=(S,E,R,V,ae,we,Se,Ie,qe)=>(n.dynCall_iiiiijj=Fn.za)(S,E,R,V,ae,we,Se,Ie,qe),n.dynCall_iiiiiijj=(S,E,R,V,ae,we,Se,Ie,qe,nt)=>(n.dynCall_iiiiiijj=Fn.Aa)(S,E,R,V,ae,we,Se,Ie,qe,nt);function r(S,E){var R=ln();try{return $t(S)(E)}catch(V){if(Vn(R),V!==V+0)throw V;Rn(1,0)}}function i(S,E,R,V){var ae=ln();try{$t(S)(E,R,V)}catch(we){if(Vn(ae),we!==we+0)throw we;Rn(1,0)}}function o(S,E,R){var V=ln();try{$t(S)(E,R)}catch(ae){if(Vn(V),ae!==ae+0)throw ae;Rn(1,0)}}function u(S,E,R,V){var ae=ln();try{return $t(S)(E,R,V)}catch(we){if(Vn(ae),we!==we+0)throw we;Rn(1,0)}}function c(S,E,R,V,ae){var we=ln();try{return $t(S)(E,R,V,ae)}catch(Se){if(Vn(we),Se!==Se+0)throw Se;Rn(1,0)}}function f(S,E){var R=ln();try{$t(S)(E)}catch(V){if(Vn(R),V!==V+0)throw V;Rn(1,0)}}function p(S,E,R){var V=ln();try{return $t(S)(E,R)}catch(ae){if(Vn(V),ae!==ae+0)throw ae;Rn(1,0)}}function w(S){var E=ln();try{$t(S)()}catch(R){if(Vn(E),R!==R+0)throw R;Rn(1,0)}}function x(S,E,R,V,ae){var we=ln();try{return $t(S)(E,R,V,ae)}catch(Se){if(Vn(we),Se!==Se+0)throw Se;Rn(1,0)}}function A(S,E,R,V,ae,we,Se,Ie,qe,nt,gt){var Rt=ln();try{$t(S)(E,R,V,ae,we,Se,Ie,qe,nt,gt)}catch(Pt){if(Vn(Rt),Pt!==Pt+0)throw Pt;Rn(1,0)}}function O(S,E,R,V,ae,we,Se){var Ie=ln();try{return $t(S)(E,R,V,ae,we,Se)}catch(qe){if(Vn(Ie),qe!==qe+0)throw qe;Rn(1,0)}}function P(S,E,R,V,ae){var we=ln();try{$t(S)(E,R,V,ae)}catch(Se){if(Vn(we),Se!==Se+0)throw Se;Rn(1,0)}}function W(S,E,R,V,ae,we){var Se=ln();try{return $t(S)(E,R,V,ae,we)}catch(Ie){if(Vn(Se),Ie!==Ie+0)throw Ie;Rn(1,0)}}function re(S,E,R,V,ae,we,Se,Ie){var qe=ln();try{return $t(S)(E,R,V,ae,we,Se,Ie)}catch(nt){if(Vn(qe),nt!==nt+0)throw nt;Rn(1,0)}}function oe(S,E,R,V){var ae=ln();try{return $t(S)(E,R,V)}catch(we){if(Vn(ae),we!==we+0)throw we;Rn(1,0)}}function pe(S,E,R,V){var ae=ln();try{return $t(S)(E,R,V)}catch(we){if(Vn(ae),we!==we+0)throw we;Rn(1,0)}}function Te(S){var E=ln();try{return $t(S)()}catch(R){if(Vn(E),R!==R+0)throw R;Rn(1,0)}}function We(S,E,R,V,ae,we,Se,Ie){var qe=ln();try{$t(S)(E,R,V,ae,we,Se,Ie)}catch(nt){if(Vn(qe),nt!==nt+0)throw nt;Rn(1,0)}}function Ke(S,E,R,V,ae,we,Se,Ie,qe,nt,gt,Rt){var Pt=ln();try{return $t(S)(E,R,V,ae,we,Se,Ie,qe,nt,gt,Rt)}catch(Wt){if(Vn(Pt),Wt!==Wt+0)throw Wt;Rn(1,0)}}function je(S,E,R,V,ae,we,Se,Ie,qe,nt,gt,Rt,Pt,Wt,qn,zn){var En=ln();try{$t(S)(E,R,V,ae,we,Se,Ie,qe,nt,gt,Rt,Pt,Wt,qn,zn)}catch(_r){if(Vn(En),_r!==_r+0)throw _r;Rn(1,0)}}function nn(S,E,R,V,ae){var we=ln();try{return I(S,E,R,V,ae)}catch(Se){if(Vn(we),Se!==Se+0)throw Se;Rn(1,0)}}var kt;tt=function S(){kt||Tr(),kt||(tt=S)};function Tr(){if(De>0||(q(),De>0))return;function S(){kt||(kt=!0,n.calledRun=!0,!M&&(be(),s(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),ne()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),S()},1)):S()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Tr(),t.ready}})();function Y3(e){return ih(sh,e)}async function X3(e,t){return W3(sh,e,t)}async function K3(e,t){return G3(sh,e,t)}var al;class S1 extends EventTarget{constructor(t={}){var n;super(),_3(this,al,void 0);try{const s=(n=t==null?void 0:t.formats)==null?void 0:n.filter(a=>a!=="unknown");if((s==null?void 0:s.length)===0)throw new TypeError("Hint option provided, but is empty.");s==null||s.forEach(a=>{if(!_u.has(a))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${a}' is not a valid enum value of type BarcodeFormat.`)}),C3(this,al,s!=null?s:[]),Y3().then(a=>{this.dispatchEvent(new CustomEvent("load",{detail:a}))}).catch(a=>{this.dispatchEvent(new CustomEvent("error",{detail:a}))})}catch(s){throw x1(s,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return S3.filter(t=>t!=="unknown")}async detect(t){try{const n=await k3(t);if(n===null)return[];let s;try{pp(n)?s=await X3(n,{tryHarder:!0,formats:y1(this,al).map(a=>_u.get(a))}):s=await K3(n,{tryHarder:!0,formats:y1(this,al).map(a=>_u.get(a))})}catch(a){throw console.error(a),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return s.map(a=>{const{topLeft:{x:l,y:d},topRight:{x:h,y:g},bottomLeft:{x:m,y:v},bottomRight:{x:y,y:_}}=a.position,b=Math.min(l,h,m,y),T=Math.min(d,g,v,_),M=Math.max(l,h,m,y),$=Math.max(d,g,v,_);return{boundingBox:new DOMRectReadOnly(b,T,M-b,$-T),rawValue:a.text,format:E3(a.format),cornerPoints:[{x:l,y:d},{x:h,y:g},{x:y,y:_},{x:m,y:v}]}})}catch(n){throw x1(n,"Failed to execute 'detect' on 'BarcodeDetector'")}}}al=new WeakMap;const bp=(e,t,n="error")=>{let s,a;const l=new Promise((d,h)=>{s=d,a=h,e.addEventListener(t,s),e.addEventListener(n,a)});return l.finally(()=>{e.removeEventListener(t,s),e.removeEventListener(n,a)}),l},E1=e=>new Promise(t=>setTimeout(t,e));class _p extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class Z3 extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class Q3 extends Error{constructor(){super("Loading camera stream timed out after 6 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}let Cp;async function J3(e){if(window.BarcodeDetector===void 0)return console.debug("[vue-qrcode-reader] Native BarcodeDetector not supported. Will use polyfill."),new S1({formats:e});const t=await window.BarcodeDetector.getSupportedFormats(),n=e.filter(s=>!t.includes(s));return n.length>0?(console.debug(`[vue-qrcode-reader] Native BarcodeDetector does not support formats ${JSON.stringify(n)}. Will use polyfill.`),new S1({formats:e})):(console.debug("[vue-qrcode-reader] Will use native BarcodeDetector."),new window.BarcodeDetector({formats:e}))}async function Sp(e){Cp=await J3(e)}const eE=async(e,{detectHandler:t,locateHandler:n,minDelay:s,formats:a})=>{console.debug("[vue-qrcode-reader] start scanning"),await Sp(a);const l=d=>async h=>{if(e.readyState===0)console.debug("[vue-qrcode-reader] stop scanning: video element readyState is 0");else{const{lastScanned:g,contentBefore:m,lastScanHadContent:v}=d;if(h-g<s)window.requestAnimationFrame(l(d));else{const y=await Cp.detect(e),_=y.some(M=>!m.includes(M.rawValue));_&&t(y);const b=y.length>0;b&&n(y),!b&&v&&n(y);const T={lastScanned:h,lastScanHadContent:b,contentBefore:_?y.map(M=>M.rawValue):m};window.requestAnimationFrame(l(T))}}};l({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())};var Ep={},ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.compactObject=Ip;ti.deprecated=uE;var tE=ti.detectBrowser=cE;ti.disableLog=oE;ti.disableWarnings=aE;ti.extractVersion=Cu;ti.filterStats=dE;ti.log=lE;ti.walkStats=Ku;ti.wrapPeerConnectionEvent=sE;function nE(e,t,n){return t=rE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rE(e){var t=iE(e,"string");return js(t)==="symbol"?t:String(t)}function iE(e,t){if(js(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(js(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function js(e){return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}var Ap=!0,Tp=!0;function Cu(e,t,n){var s=e.match(t);return s&&s.length>=n&&parseInt(s[n],10)}function sE(e,t,n){if(e.RTCPeerConnection){var s=e.RTCPeerConnection.prototype,a=s.addEventListener;s.addEventListener=function(d,h){if(d!==t)return a.apply(this,arguments);var g=function(m){var v=n(m);v&&(h.handleEvent?h.handleEvent(v):h(v))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(h,g),a.apply(this,[d,g])};var l=s.removeEventListener;s.removeEventListener=function(d,h){if(d!==t||!this._eventMap||!this._eventMap[t])return l.apply(this,arguments);if(!this._eventMap[t].has(h))return l.apply(this,arguments);var g=this._eventMap[t].get(h);return this._eventMap[t].delete(h),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,l.apply(this,[d,g])},Object.defineProperty(s,"on"+t,{get:function(){return this["_on"+t]},set:function(d){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),d&&this.addEventListener(t,this["_on"+t]=d)},enumerable:!0,configurable:!0})}}function oE(e){return typeof e!="boolean"?new Error("Argument type: "+js(e)+". Please use a boolean."):(Ap=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function aE(e){return typeof e!="boolean"?new Error("Argument type: "+js(e)+". Please use a boolean."):(Tp=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function lE(){if((typeof window>"u"?"undefined":js(window))==="object"){if(Ap)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function uE(e,t){Tp&&console.warn(e+" is deprecated, please use "+t+" instead.")}function cE(e){var t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;var n=e.navigator;if(n.mozGetUserMedia)t.browser="firefox",t.version=Cu(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=Cu(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=Cu(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function A1(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ip(e){return A1(e)?Object.keys(e).reduce(function(t,n){var s=A1(e[n]),a=s?Ip(e[n]):e[n],l=s&&!Object.keys(a).length;return a===void 0||l?t:Object.assign(t,nE({},n,a))},{}):e}function Ku(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(function(s){s.endsWith("Id")?Ku(e,e.get(t[s]),n):s.endsWith("Ids")&&t[s].forEach(function(a){Ku(e,e.get(a),n)})}))}function dE(e,t,n){var s=n?"outbound-rtp":"inbound-rtp",a=new Map;if(t===null)return a;var l=[];return e.forEach(function(d){d.type==="track"&&d.trackIdentifier===t.id&&l.push(d)}),l.forEach(function(d){e.forEach(function(h){h.type===s&&h.trackId===d.id&&Ku(e,h,a)})}),a}Object.defineProperty(Ep,"__esModule",{value:!0});var fE=Ep.shimGetUserMedia=mE,hE=gE(ti);function Op(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Op=function(s){return s?n:t})(e)}function gE(e,t){if(e.__esModule)return e;if(e===null||Ls(e)!=="object"&&typeof e!="function")return{default:e};var n=Op(t);if(n&&n.has(e))return n.get(e);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var d=a?Object.getOwnPropertyDescriptor(e,l):null;d&&(d.get||d.set)?Object.defineProperty(s,l,d):s[l]=e[l]}return s.default=e,n&&n.set(e,s),s}function Ls(e){return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}var T1=hE.log;function mE(e,t){var n=e&&e.navigator;if(n.mediaDevices){var s=function(g){if(Ls(g)!=="object"||g.mandatory||g.optional)return g;var m={};return Object.keys(g).forEach(function(v){if(!(v==="require"||v==="advanced"||v==="mediaSource")){var y=Ls(g[v])==="object"?g[v]:{ideal:g[v]};y.exact!==void 0&&typeof y.exact=="number"&&(y.min=y.max=y.exact);var _=function(T,M){return T?T+M.charAt(0).toUpperCase()+M.slice(1):M==="deviceId"?"sourceId":M};if(y.ideal!==void 0){m.optional=m.optional||[];var b={};typeof y.ideal=="number"?(b[_("min",v)]=y.ideal,m.optional.push(b),b={},b[_("max",v)]=y.ideal,m.optional.push(b)):(b[_("",v)]=y.ideal,m.optional.push(b))}y.exact!==void 0&&typeof y.exact!="number"?(m.mandatory=m.mandatory||{},m.mandatory[_("",v)]=y.exact):["min","max"].forEach(function(T){y[T]!==void 0&&(m.mandatory=m.mandatory||{},m.mandatory[_(T,v)]=y[T])})}}),g.advanced&&(m.optional=(m.optional||[]).concat(g.advanced)),m},a=function(g,m){if(t.version>=61)return m(g);if(g=JSON.parse(JSON.stringify(g)),g&&Ls(g.audio)==="object"){var v=function(T,M,$){M in T&&!($ in T)&&(T[$]=T[M],delete T[M])};g=JSON.parse(JSON.stringify(g)),v(g.audio,"autoGainControl","googAutoGainControl"),v(g.audio,"noiseSuppression","googNoiseSuppression"),g.audio=s(g.audio)}if(g&&Ls(g.video)==="object"){var y=g.video.facingMode;y=y&&(Ls(y)==="object"?y:{ideal:y});var _=t.version<66;if(y&&(y.exact==="user"||y.exact==="environment"||y.ideal==="user"||y.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!_)){delete g.video.facingMode;var b;if(y.exact==="environment"||y.ideal==="environment"?b=["back","rear"]:(y.exact==="user"||y.ideal==="user")&&(b=["front"]),b)return n.mediaDevices.enumerateDevices().then(function(T){T=T.filter(function($){return $.kind==="videoinput"});var M=T.find(function($){return b.some(function(Z){return $.label.toLowerCase().includes(Z)})});return!M&&T.length&&b.includes("back")&&(M=T[T.length-1]),M&&(g.video.deviceId=y.exact?{exact:M.deviceId}:{ideal:M.deviceId}),g.video=s(g.video),T1("chrome: "+JSON.stringify(g)),m(g)})}g.video=s(g.video)}return T1("chrome: "+JSON.stringify(g)),m(g)},l=function(g){return t.version>=64?g:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[g.name]||g.name,message:g.message,constraint:g.constraint||g.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},d=function(g,m,v){a(g,function(y){n.webkitGetUserMedia(y,m,function(_){v&&v(l(_))})})};if(n.getUserMedia=d.bind(n),n.mediaDevices.getUserMedia){var h=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(g){return a(g,function(m){return h(m).then(function(v){if(m.audio&&!v.getAudioTracks().length||m.video&&!v.getVideoTracks().length)throw v.getTracks().forEach(function(y){y.stop()}),new DOMException("","NotFoundError");return v},function(v){return Promise.reject(l(v))})})}}}}var Dp={};Object.defineProperty(Dp,"__esModule",{value:!0});var vE=Dp.shimGetUserMedia=yE,pE=wE(ti);function kp(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(kp=function(s){return s?n:t})(e)}function wE(e,t){if(e.__esModule)return e;if(e===null||va(e)!=="object"&&typeof e!="function")return{default:e};var n=kp(t);if(n&&n.has(e))return n.get(e);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var d=a?Object.getOwnPropertyDescriptor(e,l):null;d&&(d.get||d.set)?Object.defineProperty(s,l,d):s[l]=e[l]}return s.default=e,n&&n.set(e,s),s}function va(e){return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},va(e)}function yE(e,t){var n=e&&e.navigator,s=e&&e.MediaStreamTrack;if(n.getUserMedia=function(g,m,v){pE.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(g).then(m,v)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var a=function(g,m,v){m in g&&!(v in g)&&(g[v]=g[m],delete g[m])},l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(g){return va(g)==="object"&&va(g.audio)==="object"&&(g=JSON.parse(JSON.stringify(g)),a(g.audio,"autoGainControl","mozAutoGainControl"),a(g.audio,"noiseSuppression","mozNoiseSuppression")),l(g)},s&&s.prototype.getSettings){var d=s.prototype.getSettings;s.prototype.getSettings=function(){var g=d.apply(this,arguments);return a(g,"mozAutoGainControl","autoGainControl"),a(g,"mozNoiseSuppression","noiseSuppression"),g}}if(s&&s.prototype.applyConstraints){var h=s.prototype.applyConstraints;s.prototype.applyConstraints=function(g){return this.kind==="audio"&&va(g)==="object"&&(g=JSON.parse(JSON.stringify(g)),a(g,"autoGainControl","mozAutoGainControl"),a(g,"noiseSuppression","mozNoiseSuppression")),h.apply(this,[g])}}}}var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.shimAudioContext=OE;Ki.shimCallbacksAPI=SE;Ki.shimConstraints=Np;Ki.shimCreateOfferLegacy=IE;var xE=Ki.shimGetUserMedia=EE;Ki.shimLocalStreamsAPI=_E;Ki.shimRTCIceServerUrls=AE;Ki.shimRemoteStreamsAPI=CE;Ki.shimTrackEventTransceiver=TE;var Rp=bE(ti);function Mp(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Mp=function(s){return s?n:t})(e)}function bE(e,t){if(e.__esModule)return e;if(e===null||Hs(e)!=="object"&&typeof e!="function")return{default:e};var n=Mp(t);if(n&&n.has(e))return n.get(e);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var d=a?Object.getOwnPropertyDescriptor(e,l):null;d&&(d.get||d.set)?Object.defineProperty(s,l,d):s[l]=e[l]}return s.default=e,n&&n.set(e,s),s}function Hs(e){return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function _E(e){if(!(Hs(e)!=="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(n){var s=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(function(a){return t.call(s,a,n)}),n.getVideoTracks().forEach(function(a){return t.call(s,a,n)})},e.RTCPeerConnection.prototype.addTrack=function(n){for(var s=this,a=arguments.length,l=new Array(a>1?a-1:0),d=1;d<a;d++)l[d-1]=arguments[d];return l&&l.forEach(function(h){s._localStreams?s._localStreams.includes(h)||s._localStreams.push(h):s._localStreams=[h]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){var s=this;this._localStreams||(this._localStreams=[]);var a=this._localStreams.indexOf(n);if(a!==-1){this._localStreams.splice(a,1);var l=n.getTracks();this.getSenders().forEach(function(d){l.includes(d.track)&&s.removeTrack(d)})}})}}function CE(e){if(!(Hs(e)!=="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(n){var s=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(function(l){if(s._remoteStreams||(s._remoteStreams=[]),!s._remoteStreams.includes(l)){s._remoteStreams.push(l);var d=new Event("addstream");d.stream=l,s.dispatchEvent(d)}})})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(function(a){if(n._remoteStreams||(n._remoteStreams=[]),!(n._remoteStreams.indexOf(a)>=0)){n._remoteStreams.push(a);var l=new Event("addstream");l.stream=a,n.dispatchEvent(l)}})}),t.apply(n,arguments)}}}function SE(e){if(!(Hs(e)!=="object"||!e.RTCPeerConnection)){var t=e.RTCPeerConnection.prototype,n=t.createOffer,s=t.createAnswer,a=t.setLocalDescription,l=t.setRemoteDescription,d=t.addIceCandidate;t.createOffer=function(g,m){var v=arguments.length>=2?arguments[2]:arguments[0],y=n.apply(this,[v]);return m?(y.then(g,m),Promise.resolve()):y},t.createAnswer=function(g,m){var v=arguments.length>=2?arguments[2]:arguments[0],y=s.apply(this,[v]);return m?(y.then(g,m),Promise.resolve()):y};var h=function(g,m,v){var y=a.apply(this,[g]);return v?(y.then(m,v),Promise.resolve()):y};t.setLocalDescription=h,h=function(g,m,v){var y=l.apply(this,[g]);return v?(y.then(m,v),Promise.resolve()):y},t.setRemoteDescription=h,h=function(g,m,v){var y=d.apply(this,[g]);return v?(y.then(m,v),Promise.resolve()):y},t.addIceCandidate=h}}function EE(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,s=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(a){return s(Np(a))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(a,l,d){t.mediaDevices.getUserMedia(a).then(l,d)}.bind(t))}function Np(e){return e&&e.video!==void 0?Object.assign({},e,{video:Rp.compactObject(e.video)}):e}function AE(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(n,s){if(n&&n.iceServers){for(var a=[],l=0;l<n.iceServers.length;l++){var d=n.iceServers[l];d.urls===void 0&&d.url?(Rp.deprecated("RTCIceServer.url","RTCIceServer.urls"),d=JSON.parse(JSON.stringify(d)),d.urls=d.url,delete d.url,a.push(d)):a.push(n.iceServers[l])}n.iceServers=a}return new t(n,s)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function TE(e){Hs(e)==="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function IE(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);var s=this.getTransceivers().find(function(l){return l.receiver.track.kind==="audio"});n.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):n.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);var a=this.getTransceivers().find(function(l){return l.receiver.track.kind==="video"});n.offerToReceiveVideo===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):n.offerToReceiveVideo===!0&&!a&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function OE(e){Hs(e)!=="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const DE=e=>{let t=!1,n;return(...s)=>(t||(n=e(s),t=!0),n)};function Bi(e,t){if(e===!1)throw new Error(t!=null?t:"assertion failure")}function I1(e){throw new Error("this code should be unreachable")}const kE=DE(()=>{const e=tE(window);switch(e.browser){case"chrome":fE(window,e);break;case"firefox":vE(window,e);break;case"safari":xE(window,e);break;default:throw new _p}});let pa=Promise.resolve({type:"stop",data:{}});async function O1(e,t,n){var s,a,l;if(console.debug("[vue-qrcode-reader] starting camera with constraints: ",JSON.stringify(t)),window.isSecureContext!==!0)throw new Z3;if(((s=navigator==null?void 0:navigator.mediaDevices)==null?void 0:s.getUserMedia)===void 0)throw new _p;kE(),console.debug("[vue-qrcode-reader] calling getUserMedia");const d=await navigator.mediaDevices.getUserMedia({audio:!1,video:t});e.srcObject!==void 0?e.srcObject=d:e.mozSrcObject!==void 0?e.mozSrcObject=d:window.URL.createObjectURL?e.src=window.URL.createObjectURL(d):window.webkitURL?e.src=window.webkitURL.createObjectURL(d):e.src=d.id,e.play(),console.debug("[vue-qrcode-reader] waiting for video element to load"),await Promise.race([bp(e,"loadeddata"),E1(6e3).then(()=>{throw new Q3})]),console.debug("[vue-qrcode-reader] video element loaded"),await E1(500);const[h]=d.getVideoTracks(),g=(l=(a=h==null?void 0:h.getCapabilities)==null?void 0:a.call(h))!=null?l:{};let m=!1;return n&&g.torch&&(await h.applyConstraints({advanced:[{torch:!0}]}),m=!0),console.debug("[vue-qrcode-reader] camera ready"),{type:"start",data:{videoEl:e,stream:d,capabilities:g,constraints:t,isTorchOn:m}}}async function RE(e,{constraints:t,torch:n,restart:s=!1}){pa=pa.then(l=>{if(l.type==="start"){const{data:{videoEl:d,stream:h,constraints:g,isTorchOn:m}}=l;return!s&&e===d&&t===g&&n===m?l:Pp(d,h,m).then(()=>O1(e,t,n))}else if(l.type==="stop"||l.type==="failed")return O1(e,t,n);I1()}).catch(l=>(console.debug(`[vue-qrcode-reader] starting camera failed with "${l}"`),{type:"failed",error:l}));const a=await pa;if(a.type==="stop")throw new Error("Something went wrong with the camera task queue (start task).");if(a.type==="failed")throw a.error;if(a.type==="start")return a.data.capabilities;I1()}async function Pp(e,t,n){console.debug("[vue-qrcode-reader] stopping camera"),e.src="",e.srcObject=null,e.load(),await bp(e,"error");for(const s of t.getTracks())n!=null||await s.applyConstraints({advanced:[{torch:!1}]}),t.removeTrack(s),s.stop();return{type:"stop",data:{}}}async function gu(){if(pa=pa.then(e=>{if(e.type==="stop"||e.type==="failed")return e;const{data:{videoEl:t,stream:n,isTorchOn:s}}=e;return Pp(t,n,s)}),(await pa).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")}const ME=Gs({__name:"QrcodeStream",props:{constraints:{default:()=>({facingMode:"environment"})},formats:{default:()=>["qr_code"]},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function,default:void 0}},emits:["detect","camera-on","camera-off","error"],setup(e,{emit:t}){const n=e,s=t,a=Pe(n.constraints),l=Pe(n.formats);bt(()=>n.constraints,(D,C)=>{JSON.stringify(D)!==JSON.stringify(C)&&(a.value=D)},{deep:!0}),bt(()=>n.formats,(D,C)=>{JSON.stringify(D)!==JSON.stringify(C)&&(l.value=D)},{deep:!0});const d=Pe(),h=Pe(),g=Pe(),m=Pe(!1),v=Pe(!1);$n(()=>{v.value=!0}),Ia(()=>{gu()});const y=G(()=>({torch:n.torch,constraints:a.value,shouldStream:v.value&&!n.paused}));bt(y,async D=>{const C=g.value;Bi(C!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus video element should always be defined.");const L=d.value;Bi(L!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus canvas should always be defined.");const K=L.getContext("2d");if(Bi(K!==null,"if cavnas is defined, canvas 2d context should also be non-null"),D.shouldStream){gu(),m.value=!1;try{const N=await RE(C,D);v.value?(m.value=!0,s("camera-on",N)):await gu()}catch(N){s("error",N)}}else L.width=C.videoWidth,L.height=C.videoHeight,K.drawImage(C,0,0,C.videoWidth,C.videoHeight),gu(),m.value=!1,s("camera-off")},{deep:!0}),bt(l,async D=>{v.value&&await Sp(D)});const _=G(()=>y.value.shouldStream&&m.value);bt(_,D=>{if(D){Bi(d.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus pause frame canvas is defined"),b(d.value),Bi(h.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus tracking canvas is defined"),b(h.value);const C=()=>n.track===void 0?500:40;Bi(g.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus video element is defined"),eE(g.value,{detectHandler:L=>s("detect",L),formats:l.value,locateHandler:T,minDelay:C()})}});const b=D=>{const C=D.getContext("2d");Bi(C!==null,"canvas 2d context should always be non-null"),C.clearRect(0,0,D.width,D.height)},T=D=>{const C=h.value;Bi(C!==void 0,"onLocate handler should only be called when component is mounted. Thus tracking canvas is always defined.");const L=g.value;if(Bi(L!==void 0,"onLocate handler should only be called when component is mounted. Thus video element is always defined."),D.length===0||n.track===void 0)b(C);else{const K=L.offsetWidth,N=L.offsetHeight,J=L.videoWidth,B=L.videoHeight,de=Math.max(K/J,N/B),me=J*de,q=B*de,be=me/J,ne=q/B,Q=(K-me)/2,Ne=(N-q)/2,Ce=({x:he,y:se})=>({x:Math.floor(he*be),y:Math.floor(se*ne)}),De=({x:he,y:se})=>({x:Math.floor(he+Q),y:Math.floor(se+Ne)}),tt=D.map(he=>{const{boundingBox:se,cornerPoints:Je}=he,{x:ct,y:mt}=De(Ce({x:se.x,y:se.y})),{x:ge,y:ue}=Ce({x:se.width,y:se.height});return{...he,cornerPoints:Je.map(Be=>De(Ce(Be))),boundingBox:DOMRectReadOnly.fromRect({x:ct,y:mt,width:ge,height:ue})}});C.width=L.offsetWidth,C.height=L.offsetHeight;const ht=C.getContext("2d");Bi(ht!==null,"canvas 2d context should always be non-null"),n.track(tt,ht)}},M={width:"100%",height:"100%",position:"relative","z-index":"0"},$={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},Z={width:"100%",height:"100%","object-fit":"cover"},j=G(()=>_.value?Z:{...Z,visibility:"hidden",position:"absolute"});return(D,C)=>(Ae(),it("div",{style:M},[te("video",{ref_key:"videoRef",ref:g,style:qs(j.value),autoplay:"",muted:"",playsinline:""},null,4),li(te("canvas",{id:"qrcode-stream-pause-frame",ref_key:"pauseFrameRef",ref:d,style:Z},null,512),[[Zy,!_.value]]),te("canvas",{id:"qrcode-stream-tracking-layer",ref_key:"trackingLayerRef",ref:h,style:$},null,512),te("div",{style:$},[ny(D.$slots,"default")])]))}});function NE(e,t){for(const n of e){const[s,...a]=n.cornerPoints;t.strokeStyle="red",t.beginPath(),t.moveTo(s.x,s.y);for(const{x:l,y:d}of a)t.lineTo(l,d);t.lineTo(s.x,s.y),t.closePath(),t.stroke()}}const PE={paintOutline:NE},LE={class:"flex items-center justify-center p-5"},D1={__name:"ScanQrComponent",props:["height","detectFunc","errorFunc","cameraOnFunc"],setup(e){const t=[{text:"outline",value:PE.paintOutline}],n=Pe(t[0]);return(s,a)=>(Ae(),it("div",LE,[U(k(ME),{class:"full-width",style:qs({height:`${e.height}px`}),track:n.value.value,onError:e.errorFunc,onDetect:e.detectFunc,onCameraOn:e.cameraOnFunc},null,8,["style","track","onError","onDetect","onCameraOn"]),a[0]||(a[0]=te("div",{class:"text-center q-mt-lg text-bold text-grey-7"}," VUI L\xD2NG QU\xC9T M\xC3 QR CODE ",-1))]))}};var gr;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(gr||(gr={}));gr.QR_CODE,gr.AZTEC,gr.CODABAR,gr.CODE_39,gr.CODE_93,gr.CODE_128,gr.DATA_MATRIX,gr.MAXICODE,gr.ITF,gr.EAN_13,gr.EAN_8,gr.PDF_417,gr.RSS_14,gr.RSS_EXPANDED,gr.UPC_A,gr.UPC_E,gr.UPC_EAN_EXTENSION;var k1;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(k1||(k1={}));var Zu;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Zu||(Zu={}));var BE=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Zu.SCAN_TYPE_CAMERA,Zu.SCAN_TYPE_FILE],e}(),R1;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(R1||(R1={}));var M1={exports:{}};(function(e,t){(function(n,s){s(t)})(Or,function(n){function s(I){return I==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,r){I.__proto__=r}||function(I,r){for(var i in r)r.hasOwnProperty(i)&&(I[i]=r[i])};function l(I,r){a(I,r);function i(){this.constructor=I}I.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}function d(I,r){var i=Object.setPrototypeOf;i?i(I,r):I.__proto__=r}function h(I,r){r===void 0&&(r=I.constructor);var i=Error.captureStackTrace;i&&i(I,r)}var g=function(I){l(r,I);function r(i){var o=this.constructor,u=I.call(this,i)||this;return Object.defineProperty(u,"name",{value:o.name,enumerable:!1}),d(u,o.prototype),h(u),u}return r}(Error);class m extends g{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}m.kind="Exception";class v extends m{}v.kind="ArgumentException";class y extends m{}y.kind="IllegalArgumentException";class _{constructor(r){if(this.binarizer=r,r===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,i){return this.binarizer.getBlackRow(r,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,i,o,u){const c=this.binarizer.getLuminanceSource().crop(r,i,o,u);return new _(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class b extends m{static getChecksumInstance(){return new b}}b.kind="ChecksumException";class T{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(r,i,o,u,c){for(;c--;)o[u++]=r[i++]}static currentTimeMillis(){return Date.now()}}class $ extends m{}$.kind="IndexOutOfBoundsException";class Z extends ${constructor(r=void 0,i=void 0){super(i),this.index=r,this.message=i}}Z.kind="ArrayIndexOutOfBoundsException";class j{static fill(r,i){for(let o=0,u=r.length;o<u;o++)r[o]=i}static fillWithin(r,i,o,u){j.rangeCheck(r.length,i,o);for(let c=i;c<o;c++)r[c]=u}static rangeCheck(r,i,o){if(i>o)throw new y("fromIndex("+i+") > toIndex("+o+")");if(i<0)throw new Z(i);if(o>r)throw new Z(o)}static asList(...r){return r}static create(r,i,o){return Array.from({length:r}).map(c=>Array.from({length:i}).fill(o))}static createInt32Array(r,i,o){return Array.from({length:r}).map(c=>Int32Array.from({length:i}).fill(o))}static equals(r,i){if(!r||!i||!r.length||!i.length||r.length!==i.length)return!1;for(let o=0,u=r.length;o<u;o++)if(r[o]!==i[o])return!1;return!0}static hashCode(r){if(r===null)return 0;let i=1;for(const o of r)i=31*i+o;return i}static fillUint8Array(r,i){for(let o=0;o!==r.length;o++)r[o]=i}static copyOf(r,i){return r.slice(0,i)}static copyOfUint8Array(r,i){if(r.length<=i){const o=new Uint8Array(i);return o.set(r),o}return r.slice(0,i)}static copyOfRange(r,i,o){const u=o-i,c=new Int32Array(u);return M.arraycopy(r,i,c,0,u),c}static binarySearch(r,i,o){o===void 0&&(o=j.numberComparator);let u=0,c=r.length-1;for(;u<=c;){const f=c+u>>1,p=o(i,r[f]);if(p>0)u=f+1;else if(p<0)c=f-1;else return f}return-u-1}static numberComparator(r,i){return r-i}}class D{static numberOfTrailingZeros(r){let i;if(r===0)return 32;let o=31;return i=r<<16,i!==0&&(o-=16,r=i),i=r<<8,i!==0&&(o-=8,r=i),i=r<<4,i!==0&&(o-=4,r=i),i=r<<2,i!==0&&(o-=2,r=i),o-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let i=1;return r>>>16===0&&(i+=16,r<<=16),r>>>24===0&&(i+=8,r<<=8),r>>>28===0&&(i+=4,r<<=4),r>>>30===0&&(i+=2,r<<=2),i-=r>>>31,i}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,i){return Math.trunc(r/i)}static parseInt(r,i=void 0){return parseInt(r,i)}}D.MIN_VALUE_32_BITS=-2147483648,D.MAX_VALUE=Number.MAX_SAFE_INTEGER;class C{constructor(r,i){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,i==null?this.bits=C.makeArray(r):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const i=C.makeArray(r);M.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const i=this.size;if(r>=i)return i;const o=this.bits;let u=Math.floor(r/32),c=o[u];c&=~((1<<(r&31))-1);const f=o.length;for(;c===0;){if(++u===f)return i;c=o[u]}const p=u*32+D.numberOfTrailingZeros(c);return p>i?i:p}getNextUnset(r){const i=this.size;if(r>=i)return i;const o=this.bits;let u=Math.floor(r/32),c=~o[u];c&=~((1<<(r&31))-1);const f=o.length;for(;c===0;){if(++u===f)return i;c=~o[u]}const p=u*32+D.numberOfTrailingZeros(c);return p>i?i:p}setBulk(r,i){this.bits[Math.floor(r/32)]=i}setRange(r,i){if(i<r||r<0||i>this.size)throw new y;if(i===r)return;i--;const o=Math.floor(r/32),u=Math.floor(i/32),c=this.bits;for(let f=o;f<=u;f++){const p=f>o?0:r&31,w=f<u?31:i&31,x=(2<<w)-(1<<p);c[f]|=x}}clear(){const r=this.bits.length,i=this.bits;for(let o=0;o<r;o++)i[o]=0}isRange(r,i,o){if(i<r||r<0||i>this.size)throw new y;if(i===r)return!0;i--;const u=Math.floor(r/32),c=Math.floor(i/32),f=this.bits;for(let p=u;p<=c;p++){const w=p>u?0:r&31,x=p<c?31:i&31,A=(2<<x)-(1<<w)&4294967295;if((f[p]&A)!==(o?A:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,i){if(i<0||i>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let o=i;o>0;o--)this.appendBit((r>>o-1&1)===1)}appendBitArray(r){const i=r.size;this.ensureCapacity(this.size+i);for(let o=0;o<i;o++)this.appendBit(r.get(o))}xor(r){if(this.size!==r.size)throw new y("Sizes don't match");const i=this.bits;for(let o=0,u=i.length;o<u;o++)i[o]^=r.bits[o]}toBytes(r,i,o,u){for(let c=0;c<u;c++){let f=0;for(let p=0;p<8;p++)this.get(r)&&(f|=1<<7-p),r++;i[o+c]=f}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),o=i+1,u=this.bits;for(let c=0;c<o;c++){let f=u[c];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,r[i-c]=f}if(this.size!==o*32){const c=o*32-this.size;let f=r[0]>>>c;for(let p=1;p<o;p++){const w=r[p];f|=w<<32-c,r[p-1]=f,f=w>>>c}r[o-1]=f}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof C))return!1;const i=r;return this.size===i.size&&j.equals(this.bits,i.bits)}hashCode(){return 31*this.size+j.hashCode(this.bits)}toString(){let r="";for(let i=0,o=this.size;i<o;i++)(i&7)===0&&(r+=" "),r+=this.get(i)?"X":".";return r}clone(){return new C(this.size,this.bits.slice())}}var L;(function(I){I[I.OTHER=0]="OTHER",I[I.PURE_BARCODE=1]="PURE_BARCODE",I[I.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",I[I.TRY_HARDER=3]="TRY_HARDER",I[I.CHARACTER_SET=4]="CHARACTER_SET",I[I.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",I[I.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",I[I.ASSUME_GS1=7]="ASSUME_GS1",I[I.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",I[I.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",I[I.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(L||(L={}));var K=L;class N extends m{static getFormatInstance(){return new N}}N.kind="FormatException";var J;(function(I){I[I.Cp437=0]="Cp437",I[I.ISO8859_1=1]="ISO8859_1",I[I.ISO8859_2=2]="ISO8859_2",I[I.ISO8859_3=3]="ISO8859_3",I[I.ISO8859_4=4]="ISO8859_4",I[I.ISO8859_5=5]="ISO8859_5",I[I.ISO8859_6=6]="ISO8859_6",I[I.ISO8859_7=7]="ISO8859_7",I[I.ISO8859_8=8]="ISO8859_8",I[I.ISO8859_9=9]="ISO8859_9",I[I.ISO8859_10=10]="ISO8859_10",I[I.ISO8859_11=11]="ISO8859_11",I[I.ISO8859_13=12]="ISO8859_13",I[I.ISO8859_14=13]="ISO8859_14",I[I.ISO8859_15=14]="ISO8859_15",I[I.ISO8859_16=15]="ISO8859_16",I[I.SJIS=16]="SJIS",I[I.Cp1250=17]="Cp1250",I[I.Cp1251=18]="Cp1251",I[I.Cp1252=19]="Cp1252",I[I.Cp1256=20]="Cp1256",I[I.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",I[I.UTF8=22]="UTF8",I[I.ASCII=23]="ASCII",I[I.Big5=24]="Big5",I[I.GB18030=25]="GB18030",I[I.EUC_KR=26]="EUC_KR"})(J||(J={}));class B{constructor(r,i,o,...u){this.valueIdentifier=r,this.name=o,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=u,B.VALUE_IDENTIFIER_TO_ECI.set(r,this),B.NAME_TO_ECI.set(o,this);const c=this.values;for(let f=0,p=c.length;f!==p;f++){const w=c[f];B.VALUES_TO_ECI.set(w,this)}for(const f of u)B.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new N("incorect value");const i=B.VALUES_TO_ECI.get(r);if(i===void 0)throw new N("incorect value");return i}static getCharacterSetECIByName(r){const i=B.NAME_TO_ECI.get(r);if(i===void 0)throw new N("incorect value");return i}equals(r){if(!(r instanceof B))return!1;const i=r;return this.getName()===i.getName()}}B.VALUE_IDENTIFIER_TO_ECI=new Map,B.VALUES_TO_ECI=new Map,B.NAME_TO_ECI=new Map,B.Cp437=new B(J.Cp437,Int32Array.from([0,2]),"Cp437"),B.ISO8859_1=new B(J.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),B.ISO8859_2=new B(J.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),B.ISO8859_3=new B(J.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),B.ISO8859_4=new B(J.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),B.ISO8859_5=new B(J.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),B.ISO8859_6=new B(J.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),B.ISO8859_7=new B(J.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),B.ISO8859_8=new B(J.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),B.ISO8859_9=new B(J.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),B.ISO8859_10=new B(J.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),B.ISO8859_11=new B(J.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),B.ISO8859_13=new B(J.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),B.ISO8859_14=new B(J.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),B.ISO8859_15=new B(J.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),B.ISO8859_16=new B(J.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),B.SJIS=new B(J.SJIS,20,"SJIS","Shift_JIS"),B.Cp1250=new B(J.Cp1250,21,"Cp1250","windows-1250"),B.Cp1251=new B(J.Cp1251,22,"Cp1251","windows-1251"),B.Cp1252=new B(J.Cp1252,23,"Cp1252","windows-1252"),B.Cp1256=new B(J.Cp1256,24,"Cp1256","windows-1256"),B.UnicodeBigUnmarked=new B(J.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),B.UTF8=new B(J.UTF8,26,"UTF8","UTF-8"),B.ASCII=new B(J.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),B.Big5=new B(J.Big5,28,"Big5"),B.GB18030=new B(J.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),B.EUC_KR=new B(J.EUC_KR,30,"EUC_KR","EUC-KR");class de extends m{}de.kind="UnsupportedOperationException";class me{static decode(r,i){const o=this.encodingName(i);return this.customDecoder?this.customDecoder(r,o):typeof TextDecoder=="undefined"||this.shouldDecodeOnFallback(o)?this.decodeFallback(r,o):new TextDecoder(o).decode(r)}static shouldDecodeOnFallback(r){return!me.isBrowser()&&r==="ISO-8859-1"}static encode(r,i){const o=this.encodingName(i);return this.customEncoder?this.customEncoder(r,o):typeof TextEncoder=="undefined"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window!="undefined"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof B?r:B.getCharacterSetECIByName(r)}static decodeFallback(r,i){const o=this.encodingCharacterSet(i);if(me.isDecodeFallbackSupported(o)){let u="";for(let c=0,f=r.length;c<f;c++){let p=r[c].toString(16);p.length<2&&(p="0"+p),u+="%"+p}return decodeURIComponent(u)}if(o.equals(B.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new de(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(B.UTF8)||r.equals(B.ISO8859_1)||r.equals(B.ASCII)}static encodeFallback(r){const o=btoa(unescape(encodeURIComponent(r))).split(""),u=[];for(let c=0;c<o.length;c++)u.push(o[c].charCodeAt(0));return new Uint8Array(u)}}class q{static castAsNonUtf8Char(r,i=null){const o=i?i.getName():this.ISO88591;return me.decode(new Uint8Array([r]),o)}static guessEncoding(r,i){if(i!=null&&i.get(K.CHARACTER_SET)!==void 0)return i.get(K.CHARACTER_SET).toString();const o=r.length;let u=!0,c=!0,f=!0,p=0,w=0,x=0,A=0,O=0,P=0,W=0,re=0,oe=0,pe=0,Te=0;const We=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let Ke=0;Ke<o&&(u||c||f);Ke++){const je=r[Ke]&255;f&&(p>0?(je&128)===0?f=!1:p--:(je&128)!==0&&((je&64)===0?f=!1:(p++,(je&32)===0?w++:(p++,(je&16)===0?x++:(p++,(je&8)===0?A++:f=!1))))),u&&(je>127&&je<160?u=!1:je>159&&(je<192||je===215||je===247)&&Te++),c&&(O>0?je<64||je===127||je>252?c=!1:O--:je===128||je===160||je>239?c=!1:je>160&&je<224?(P++,re=0,W++,W>oe&&(oe=W)):je>127?(O++,W=0,re++,re>pe&&(pe=re)):(W=0,re=0))}return f&&p>0&&(f=!1),c&&O>0&&(c=!1),f&&(We||w+x+A>0)?q.UTF8:c&&(q.ASSUME_SHIFT_JIS||oe>=3||pe>=3)?q.SHIFT_JIS:u&&c?oe===2&&P===2||Te*10>=o?q.SHIFT_JIS:q.ISO88591:u?q.ISO88591:c?q.SHIFT_JIS:f?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(r,...i){let o=-1;function u(f,p,w,x,A,O){if(f==="%%")return"%";if(i[++o]===void 0)return;f=x?parseInt(x.substr(1)):void 0;let P=A?parseInt(A.substr(1)):void 0,W;switch(O){case"s":W=i[o];break;case"c":W=i[o][0];break;case"f":W=parseFloat(i[o]).toFixed(f);break;case"p":W=parseFloat(i[o]).toPrecision(f);break;case"e":W=parseFloat(i[o]).toExponential(f);break;case"x":W=parseInt(i[o]).toString(P||16);break;case"d":W=parseFloat(parseInt(i[o],P||10).toPrecision(f)).toFixed(0);break}W=typeof W=="object"?JSON.stringify(W):(+W).toString(P);let re=parseInt(w),oe=w&&w[0]+""=="0"?"0":" ";for(;W.length<re;)W=p!==void 0?W+oe:oe+W;return W}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(c,u)}static getBytes(r,i){return me.encode(r,i)}static getCharCode(r,i=0){return r.charCodeAt(i)}static getCharAt(r){return String.fromCharCode(r)}}q.SHIFT_JIS=B.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=B.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=B.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class be{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=q.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,i,o){for(let u=i;i<i+o;u++)this.append(r[u]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+1)}substring(r,i){return this.value.substring(r,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+i.length)}}class ne{constructor(r,i,o,u){if(this.width=r,this.height=i,this.rowSize=o,this.bits=u,i==null&&(i=r),this.height=i,r<1||i<1)throw new y("Both dimensions must be greater than 0");o==null&&(o=Math.floor((r+31)/32)),this.rowSize=o,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const i=r.length,o=r[0].length,u=new ne(o,i);for(let c=0;c<i;c++){const f=r[c];for(let p=0;p<o;p++)f[p]&&u.set(p,c)}return u}static parseFromString(r,i,o){if(r===null)throw new y("stringRepresentation cannot be null");const u=new Array(r.length);let c=0,f=0,p=-1,w=0,x=0;for(;x<r.length;)if(r.charAt(x)===`
`||r.charAt(x)==="\r"){if(c>f){if(p===-1)p=c-f;else if(c-f!==p)throw new y("row lengths do not match");f=c,w++}x++}else if(r.substring(x,x+i.length)===i)x+=i.length,u[c]=!0,c++;else if(r.substring(x,x+o.length)===o)x+=o.length,u[c]=!1,c++;else throw new y("illegal character encountered: "+r.substring(x));if(c>f){if(p===-1)p=c-f;else if(c-f!==p)throw new y("row lengths do not match");w++}const A=new ne(p,w);for(let O=0;O<c;O++)u[O]&&A.set(Math.floor(O%p),Math.floor(O/p));return A}get(r,i){const o=i*this.rowSize+Math.floor(r/32);return(this.bits[o]>>>(r&31)&1)!==0}set(r,i){const o=i*this.rowSize+Math.floor(r/32);this.bits[o]|=1<<(r&31)&4294967295}unset(r,i){const o=i*this.rowSize+Math.floor(r/32);this.bits[o]&=~(1<<(r&31)&4294967295)}flip(r,i){const o=i*this.rowSize+Math.floor(r/32);this.bits[o]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new y("input matrix dimensions do not match");const i=new C(Math.floor(this.width/32)+1),o=this.rowSize,u=this.bits;for(let c=0,f=this.height;c<f;c++){const p=c*o,w=r.getRow(c,i).getBitArray();for(let x=0;x<o;x++)u[p+x]^=w[x]}}clear(){const r=this.bits,i=r.length;for(let o=0;o<i;o++)r[o]=0}setRegion(r,i,o,u){if(i<0||r<0)throw new y("Left and top must be nonnegative");if(u<1||o<1)throw new y("Height and width must be at least 1");const c=r+o,f=i+u;if(f>this.height||c>this.width)throw new y("The region must fit inside the matrix");const p=this.rowSize,w=this.bits;for(let x=i;x<f;x++){const A=x*p;for(let O=r;O<c;O++)w[A+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(r,i){i==null||i.getSize()<this.width?i=new C(this.width):i.clear();const o=this.rowSize,u=this.bits,c=r*o;for(let f=0;f<o;f++)i.setBulk(f*32,u[c+f]);return i}setRow(r,i){M.arraycopy(i.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),i=this.getHeight();let o=new C(r),u=new C(r);for(let c=0,f=Math.floor((i+1)/2);c<f;c++)o=this.getRow(c,o),u=this.getRow(i-1-c,u),o.reverse(),u.reverse(),this.setRow(c,u),this.setRow(i-1-c,o)}getEnclosingRectangle(){const r=this.width,i=this.height,o=this.rowSize,u=this.bits;let c=r,f=i,p=-1,w=-1;for(let x=0;x<i;x++)for(let A=0;A<o;A++){const O=u[x*o+A];if(O!==0){if(x<f&&(f=x),x>w&&(w=x),A*32<c){let P=0;for(;(O<<31-P&4294967295)===0;)P++;A*32+P<c&&(c=A*32+P)}if(A*32+31>p){let P=31;for(;O>>>P===0;)P--;A*32+P>p&&(p=A*32+P)}}}return p<c||w<f?null:Int32Array.from([c,f,p-c+1,w-f+1])}getTopLeftOnBit(){const r=this.rowSize,i=this.bits;let o=0;for(;o<i.length&&i[o]===0;)o++;if(o===i.length)return null;const u=o/r;let c=o%r*32;const f=i[o];let p=0;for(;(f<<31-p&4294967295)===0;)p++;return c+=p,Int32Array.from([c,u])}getBottomRightOnBit(){const r=this.rowSize,i=this.bits;let o=i.length-1;for(;o>=0&&i[o]===0;)o--;if(o<0)return null;const u=Math.floor(o/r);let c=Math.floor(o%r)*32;const f=i[o];let p=31;for(;f>>>p===0;)p--;return c+=p,Int32Array.from([c,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof ne))return!1;const i=r;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&j.equals(this.bits,i.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+j.hashCode(this.bits),r}toString(r="X ",i="  ",o=`
`){return this.buildToString(r,i,o)}buildToString(r,i,o){let u=new be;for(let c=0,f=this.height;c<f;c++){for(let p=0,w=this.width;p<w;p++)u.append(this.get(p,c)?r:i);u.append(o)}return u.toString()}clone(){return new ne(this.width,this.height,this.rowSize,this.bits.slice())}}class Q extends m{static getNotFoundInstance(){return new Q}}Q.kind="NotFoundException";class Ne extends T{constructor(r){super(r),this.luminances=Ne.EMPTY,this.buckets=new Int32Array(Ne.LUMINANCE_BUCKETS)}getBlackRow(r,i){const o=this.getLuminanceSource(),u=o.getWidth();i==null||i.getSize()<u?i=new C(u):i.clear(),this.initArrays(u);const c=o.getRow(r,this.luminances),f=this.buckets;for(let w=0;w<u;w++)f[(c[w]&255)>>Ne.LUMINANCE_SHIFT]++;const p=Ne.estimateBlackPoint(f);if(u<3)for(let w=0;w<u;w++)(c[w]&255)<p&&i.set(w);else{let w=c[0]&255,x=c[1]&255;for(let A=1;A<u-1;A++){const O=c[A+1]&255;(x*4-w-O)/2<p&&i.set(A),w=x,x=O}}return i}getBlackMatrix(){const r=this.getLuminanceSource(),i=r.getWidth(),o=r.getHeight(),u=new ne(i,o);this.initArrays(i);const c=this.buckets;for(let w=1;w<5;w++){const x=Math.floor(o*w/5),A=r.getRow(x,this.luminances),O=Math.floor(i*4/5);for(let P=Math.floor(i/5);P<O;P++){const W=A[P]&255;c[W>>Ne.LUMINANCE_SHIFT]++}}const f=Ne.estimateBlackPoint(c),p=r.getMatrix();for(let w=0;w<o;w++){const x=w*i;for(let A=0;A<i;A++)(p[x+A]&255)<f&&u.set(A,w)}return u}createBinarizer(r){return new Ne(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const i=this.buckets;for(let o=0;o<Ne.LUMINANCE_BUCKETS;o++)i[o]=0}static estimateBlackPoint(r){const i=r.length;let o=0,u=0,c=0;for(let A=0;A<i;A++)r[A]>c&&(u=A,c=r[A]),r[A]>o&&(o=r[A]);let f=0,p=0;for(let A=0;A<i;A++){const O=A-u,P=r[A]*O*O;P>p&&(f=A,p=P)}if(u>f){const A=u;u=f,f=A}if(f-u<=i/16)throw new Q;let w=f-1,x=-1;for(let A=f-1;A>u;A--){const O=A-u,P=O*O*(f-A)*(o-r[A]);P>x&&(w=A,x=P)}return w<<Ne.LUMINANCE_SHIFT}}Ne.LUMINANCE_BITS=5,Ne.LUMINANCE_SHIFT=8-Ne.LUMINANCE_BITS,Ne.LUMINANCE_BUCKETS=1<<Ne.LUMINANCE_BITS,Ne.EMPTY=Uint8ClampedArray.from([0]);class Ce extends Ne{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),i=r.getWidth(),o=r.getHeight();if(i>=Ce.MINIMUM_DIMENSION&&o>=Ce.MINIMUM_DIMENSION){const u=r.getMatrix();let c=i>>Ce.BLOCK_SIZE_POWER;(i&Ce.BLOCK_SIZE_MASK)!==0&&c++;let f=o>>Ce.BLOCK_SIZE_POWER;(o&Ce.BLOCK_SIZE_MASK)!==0&&f++;const p=Ce.calculateBlackPoints(u,c,f,i,o),w=new ne(i,o);Ce.calculateThresholdForBlock(u,c,f,i,o,p,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new Ce(r)}static calculateThresholdForBlock(r,i,o,u,c,f,p){const w=c-Ce.BLOCK_SIZE,x=u-Ce.BLOCK_SIZE;for(let A=0;A<o;A++){let O=A<<Ce.BLOCK_SIZE_POWER;O>w&&(O=w);const P=Ce.cap(A,2,o-3);for(let W=0;W<i;W++){let re=W<<Ce.BLOCK_SIZE_POWER;re>x&&(re=x);const oe=Ce.cap(W,2,i-3);let pe=0;for(let We=-2;We<=2;We++){const Ke=f[P+We];pe+=Ke[oe-2]+Ke[oe-1]+Ke[oe]+Ke[oe+1]+Ke[oe+2]}const Te=pe/25;Ce.thresholdBlock(r,re,O,Te,u,p)}}}static cap(r,i,o){return r<i?i:r>o?o:r}static thresholdBlock(r,i,o,u,c,f){for(let p=0,w=o*c+i;p<Ce.BLOCK_SIZE;p++,w+=c)for(let x=0;x<Ce.BLOCK_SIZE;x++)(r[w+x]&255)<=u&&f.set(i+x,o+p)}static calculateBlackPoints(r,i,o,u,c){const f=c-Ce.BLOCK_SIZE,p=u-Ce.BLOCK_SIZE,w=new Array(o);for(let x=0;x<o;x++){w[x]=new Int32Array(i);let A=x<<Ce.BLOCK_SIZE_POWER;A>f&&(A=f);for(let O=0;O<i;O++){let P=O<<Ce.BLOCK_SIZE_POWER;P>p&&(P=p);let W=0,re=255,oe=0;for(let Te=0,We=A*u+P;Te<Ce.BLOCK_SIZE;Te++,We+=u){for(let Ke=0;Ke<Ce.BLOCK_SIZE;Ke++){const je=r[We+Ke]&255;W+=je,je<re&&(re=je),je>oe&&(oe=je)}if(oe-re>Ce.MIN_DYNAMIC_RANGE)for(Te++,We+=u;Te<Ce.BLOCK_SIZE;Te++,We+=u)for(let Ke=0;Ke<Ce.BLOCK_SIZE;Ke++)W+=r[We+Ke]&255}let pe=W>>Ce.BLOCK_SIZE_POWER*2;if(oe-re<=Ce.MIN_DYNAMIC_RANGE&&(pe=re/2,x>0&&O>0)){const Te=(w[x-1][O]+2*w[x][O-1]+w[x-1][O-1])/4;re<Te&&(pe=Te)}w[x][O]=pe}}return w}}Ce.BLOCK_SIZE_POWER=3,Ce.BLOCK_SIZE=1<<Ce.BLOCK_SIZE_POWER,Ce.BLOCK_SIZE_MASK=Ce.BLOCK_SIZE-1,Ce.MINIMUM_DIMENSION=Ce.BLOCK_SIZE*5,Ce.MIN_DYNAMIC_RANGE=24;class De{constructor(r,i){this.width=r,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,i,o,u){throw new de("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new de("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new de("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let i=new be;for(let o=0;o<this.height;o++){const u=this.getRow(o,r);for(let c=0;c<this.width;c++){const f=u[c]&255;let p;f<64?p="#":f<128?p="+":f<192?p=".":p=" ",i.append(p)}i.append(`
`)}return i.toString()}}class tt extends De{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,i){const o=this.delegate.getRow(r,i),u=this.getWidth();for(let c=0;c<u;c++)o[c]=255-(o[c]&255);return o}getMatrix(){const r=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(i);for(let u=0;u<i;u++)o[u]=255-(r[u]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(r,i,o,u){return new tt(this.delegate.crop(r,i,o,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new tt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new tt(this.delegate.rotateCounterClockwise45())}}class ht extends De{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=ht.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const i=r.getContext("2d").getImageData(0,0,r.width,r.height);return ht.toGrayscaleBuffer(i.data,r.width,r.height)}static toGrayscaleBuffer(r,i,o){const u=new Uint8ClampedArray(i*o);for(let c=0,f=0,p=r.length;c<p;c+=4,f++){let w;if(r[c+3]===0)w=255;else{const A=r[c],O=r[c+1],P=r[c+2];w=306*A+601*O+117*P+512>>10}u[f]=w}return u}getRow(r,i){if(r<0||r>=this.getHeight())throw new y("Requested row is outside the image: "+r);const o=this.getWidth(),u=r*o;return i===null?i=this.buffer.slice(u,u+o):(i.length<o&&(i=new Uint8ClampedArray(o)),i.set(this.buffer.slice(u,u+o))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,i,o,u){return super.crop(r,i,o,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const i=this.getTempCanvasElement(),o=i.getContext("2d"),u=r*ht.DEGREE_TO_RADIANS,c=this.canvas.width,f=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(u))*c+Math.abs(Math.sin(u))*f),w=Math.ceil(Math.abs(Math.sin(u))*c+Math.abs(Math.cos(u))*f);return i.width=p,i.height=w,o.translate(p/2,w/2),o.rotate(u),o.drawImage(this.canvas,c/-2,f/-2),this.buffer=ht.makeBufferFromCanvasImageData(i),this}invert(){return new tt(this)}}ht.DEGREE_TO_RADIANS=Math.PI/180;class he{constructor(r,i,o){this.deviceId=r,this.label=i,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var se=(globalThis||Or||self||window||void 0)&&(globalThis||Or||self||window||void 0).__awaiter||function(I,r,i,o){function u(c){return c instanceof i?c:new i(function(f){f(c)})}return new(i||(i=Promise))(function(c,f){function p(A){try{x(o.next(A))}catch(O){f(O)}}function w(A){try{x(o.throw(A))}catch(O){f(O)}}function x(A){A.done?c(A.value):u(A.value).then(p,w)}x((o=o.apply(I,r||[])).next())})};class Je{constructor(r,i=500,o){this.reader=r,this.timeBetweenScansMillis=i,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator!="undefined"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return se(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const o of r){const u=o.kind==="video"?"videoinput":o.kind;if(u!=="videoinput")continue;const c=o.deviceId||o.id,f=o.label||`Video device ${i.length+1}`,p=o.groupId,w={deviceId:c,label:f,kind:u,groupId:p};i.push(w)}return i})}getVideoInputDevices(){return se(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new he(i.deviceId,i.label))})}findDeviceById(r){return se(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(o=>o.deviceId===r):null})}decodeFromInputVideoDevice(r,i){return se(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,i)})}decodeOnceFromVideoDevice(r,i){return se(this,void 0,void 0,function*(){this.reset();let o;r?o={deviceId:{exact:r}}:o={facingMode:"environment"};const u={video:o};return yield this.decodeOnceFromConstraints(u,i)})}decodeOnceFromConstraints(r,i){return se(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(o,i)})}decodeOnceFromStream(r,i){return se(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(r,i);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(r,i,o){return se(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,i,o)})}decodeFromVideoDevice(r,i,o){return se(this,void 0,void 0,function*(){let u;r?u={deviceId:{exact:r}}:u={facingMode:"environment"};const c={video:u};return yield this.decodeFromConstraints(c,i,o)})}decodeFromConstraints(r,i,o){return se(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(u,i,o)})}decodeFromStream(r,i,o){return se(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(r,i);return yield this.decodeContinuously(u,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,i){return se(this,void 0,void 0,function*(){const o=this.prepareVideoElement(i);return this.addVideoSource(o,r),this.videoElement=o,this.stream=r,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(r){return new Promise((i,o)=>this.playVideoOnLoad(r,()=>i()))}playVideoOnLoad(r,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",i),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return se(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,i){const o=document.getElementById(r);if(!o)throw new v(`element with id '${r}' not found`);if(o.nodeName.toLowerCase()!==i.toLowerCase())throw new v(`element with id '${r}' must be an ${i} element`);return o}decodeFromImage(r,i){if(!r&&!i)throw new v("either imageElement with a src set or an url must be provided");return i&&!r?this.decodeFromImageUrl(i):this.decodeFromImageElement(r)}decodeFromVideo(r,i){if(!r&&!i)throw new v("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,i,o){if(r===void 0&&i===void 0)throw new v("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrlContinuously(i,o):this.decodeFromVideoElementContinuously(r,o)}decodeFromImageElement(r){if(!r)throw new v("An image element must be provided.");this.reset();const i=this.prepareImageElement(r);this.imageElement=i;let o;return this.isImageLoaded(i)?o=this.decodeOnce(i,!1,!0):o=this._decodeOnLoadImage(i),o}decodeFromVideoElement(r){const i=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(r,i){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(o,i)}_decodeFromVideoElementSetup(r){if(!r)throw new v("A video element must be provided.");this.reset();const i=this.prepareVideoElement(r);return this.videoElement=i,i}decodeFromImageUrl(r){if(!r)throw new v("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const o=this._decodeOnLoadImage(i);return i.src=r,o}decodeFromVideoUrl(r){if(!r)throw new v("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElement(i);return i.src=r,o}decodeFromVideoUrlContinuously(r,i){if(!r)throw new v("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(o,i);return o.src=r,u}_decodeOnLoadImage(r){return new Promise((i,o)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(i,o),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return se(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,i){return se(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,i)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let i;return typeof r=="undefined"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(i=r),i}prepareVideoElement(r){let i;return!r&&typeof document!="undefined"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(i=r),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(r,i=!0,o=!0){this._stopAsyncDecode=!1;const u=(c,f)=>{if(this._stopAsyncDecode){f(new Q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const p=this.decode(r);c(p)}catch(p){const w=i&&p instanceof Q,A=(p instanceof b||p instanceof N)&&o;if(w||A)return setTimeout(u,this._timeBetweenDecodingAttempts,c,f);f(p)}};return new Promise((c,f)=>u(c,f))}decodeContinuously(r,i){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(r);i(u,null),setTimeout(o,this.timeBetweenScansMillis)}catch(u){i(null,u);const c=u instanceof b||u instanceof N,f=u instanceof Q;(c||f)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(r){const i=this.createBinaryBitmap(r);return this.decodeBitmap(i)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,i,o){i||(i={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(r,i,o=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const i=this.getCaptureCanvas(r),o=new ht(i),u=new Ce(o);return new _(u)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const i=this.createCaptureCanvas(r);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document=="undefined")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let o,u;return typeof r!="undefined"&&(r instanceof HTMLVideoElement?(o=r.videoWidth,u=r.videoHeight):r instanceof HTMLImageElement&&(o=r.naturalWidth||r.width,u=r.naturalHeight||r.height)),i.style.width=o+"px",i.style.height=u+"px",i.width=o,i.height=u,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){!this.videoElement||(typeof this.videoEndedListener!="undefined"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener!="undefined"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener!="undefined"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){!this.imageElement||(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,i){try{r.srcObject=i}catch{r.src=URL.createObjectURL(i)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class ct{constructor(r,i,o=i==null?0:8*i.length,u,c,f=M.currentTimeMillis()){this.text=r,this.rawBytes=i,this.numBits=o,this.resultPoints=u,this.format=c,this.timestamp=f,this.text=r,this.rawBytes=i,o==null?this.numBits=i==null?0:8*i.length:this.numBits=o,this.resultPoints=u,this.format=c,this.resultMetadata=null,f==null?this.timestamp=M.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,i)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const i=this.resultPoints;if(i===null)this.resultPoints=r;else if(r!==null&&r.length>0){const o=new Array(i.length+r.length);M.arraycopy(i,0,o,0,i.length),M.arraycopy(r,0,o,i.length,r.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var mt;(function(I){I[I.AZTEC=0]="AZTEC",I[I.CODABAR=1]="CODABAR",I[I.CODE_39=2]="CODE_39",I[I.CODE_93=3]="CODE_93",I[I.CODE_128=4]="CODE_128",I[I.DATA_MATRIX=5]="DATA_MATRIX",I[I.EAN_8=6]="EAN_8",I[I.EAN_13=7]="EAN_13",I[I.ITF=8]="ITF",I[I.MAXICODE=9]="MAXICODE",I[I.PDF_417=10]="PDF_417",I[I.QR_CODE=11]="QR_CODE",I[I.RSS_14=12]="RSS_14",I[I.RSS_EXPANDED=13]="RSS_EXPANDED",I[I.UPC_A=14]="UPC_A",I[I.UPC_E=15]="UPC_E",I[I.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(mt||(mt={}));var ge=mt,ue;(function(I){I[I.OTHER=0]="OTHER",I[I.ORIENTATION=1]="ORIENTATION",I[I.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",I[I.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",I[I.ISSUE_NUMBER=4]="ISSUE_NUMBER",I[I.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",I[I.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",I[I.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",I[I.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",I[I.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",I[I.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ue||(ue={}));var Be=ue;class ve{constructor(r,i,o,u,c=-1,f=-1){this.rawBytes=r,this.text=i,this.byteSegments=o,this.ecLevel=u,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=f,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ge{exp(r){return this.expTable[r]}log(r){if(r===0)throw new y;return this.logTable[r]}static addOrSubtract(r,i){return r^i}}class st{constructor(r,i){if(i.length===0)throw new y;this.field=r;const o=i.length;if(o>1&&i[0]===0){let u=1;for(;u<o&&i[u]===0;)u++;u===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-u),M.arraycopy(i,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const i=this.coefficients;let o;if(r===1){o=0;for(let f=0,p=i.length;f!==p;f++){const w=i[f];o=Ge.addOrSubtract(o,w)}return o}o=i[0];const u=i.length,c=this.field;for(let f=1;f<u;f++)o=Ge.addOrSubtract(c.multiply(r,o),i[f]);return o}addOrSubtract(r){if(!this.field.equals(r.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,o=r.coefficients;if(i.length>o.length){const f=i;i=o,o=f}let u=new Int32Array(o.length);const c=o.length-i.length;M.arraycopy(o,0,u,0,c);for(let f=c;f<o.length;f++)u[f]=Ge.addOrSubtract(i[f-c],o[f]);return new st(this.field,u)}multiply(r){if(!this.field.equals(r.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const i=this.coefficients,o=i.length,u=r.coefficients,c=u.length,f=new Int32Array(o+c-1),p=this.field;for(let w=0;w<o;w++){const x=i[w];for(let A=0;A<c;A++)f[w+A]=Ge.addOrSubtract(f[w+A],p.multiply(x,u[A]))}return new st(p,f)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const i=this.coefficients.length,o=this.field,u=new Int32Array(i),c=this.coefficients;for(let f=0;f<i;f++)u[f]=o.multiply(c[f],r);return new st(o,u)}multiplyByMonomial(r,i){if(r<0)throw new y;if(i===0)return this.field.getZero();const o=this.coefficients,u=o.length,c=new Int32Array(u+r),f=this.field;for(let p=0;p<u;p++)c[p]=f.multiply(o[p],i);return new st(f,c)}divide(r){if(!this.field.equals(r.field))throw new y("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new y("Divide by 0");const i=this.field;let o=i.getZero(),u=this;const c=r.getCoefficient(r.getDegree()),f=i.inverse(c);for(;u.getDegree()>=r.getDegree()&&!u.isZero();){const p=u.getDegree()-r.getDegree(),w=i.multiply(u.getCoefficient(u.getDegree()),f),x=r.multiplyByMonomial(p,w),A=i.buildMonomial(p,w);o=o.addOrSubtract(A),u=u.addOrSubtract(x)}return[o,u]}toString(){let r="";for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);if(o!==0){if(o<0?(r+=" - ",o=-o):r.length>0&&(r+=" + "),i===0||o!==1){const u=this.field.log(o);u===0?r+="1":u===1?r+="a":(r+="a^",r+=u)}i!==0&&(i===1?r+="x":(r+="x^",r+=i))}}return r}}class wt extends m{}wt.kind="ArithmeticException";class F extends Ge{constructor(r,i,o){super(),this.primitive=r,this.size=i,this.generatorBase=o;const u=new Int32Array(i);let c=1;for(let p=0;p<i;p++)u[p]=c,c*=2,c>=i&&(c^=r,c&=i-1);this.expTable=u;const f=new Int32Array(i);for(let p=0;p<i-1;p++)f[u[p]]=p;this.logTable=f,this.zero=new st(this,Int32Array.from([0])),this.one=new st(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new y;if(i===0)return this.zero;const o=new Int32Array(r+1);return o[0]=i,new st(this,o)}inverse(r){if(r===0)throw new wt;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+D.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}F.AZTEC_DATA_12=new F(4201,4096,1),F.AZTEC_DATA_10=new F(1033,1024,1),F.AZTEC_DATA_6=new F(67,64,1),F.AZTEC_PARAM=new F(19,16,1),F.QR_CODE_FIELD_256=new F(285,256,0),F.DATA_MATRIX_FIELD_256=new F(301,256,1),F.AZTEC_DATA_8=F.DATA_MATRIX_FIELD_256,F.MAXICODE_FIELD_64=F.AZTEC_DATA_6;class Y extends m{}Y.kind="ReedSolomonException";class fe extends m{}fe.kind="IllegalStateException";class Fe{constructor(r){this.field=r}decode(r,i){const o=this.field,u=new st(o,r),c=new Int32Array(i);let f=!0;for(let W=0;W<i;W++){const re=u.evaluateAt(o.exp(W+o.getGeneratorBase()));c[c.length-1-W]=re,re!==0&&(f=!1)}if(f)return;const p=new st(o,c),w=this.runEuclideanAlgorithm(o.buildMonomial(i,1),p,i),x=w[0],A=w[1],O=this.findErrorLocations(x),P=this.findErrorMagnitudes(A,O);for(let W=0;W<O.length;W++){const re=r.length-1-o.log(O[W]);if(re<0)throw new Y("Bad error location");r[re]=F.addOrSubtract(r[re],P[W])}}runEuclideanAlgorithm(r,i,o){if(r.getDegree()<i.getDegree()){const W=r;r=i,i=W}const u=this.field;let c=r,f=i,p=u.getZero(),w=u.getOne();for(;f.getDegree()>=(o/2|0);){let W=c,re=p;if(c=f,p=w,c.isZero())throw new Y("r_{i-1} was zero");f=W;let oe=u.getZero();const pe=c.getCoefficient(c.getDegree()),Te=u.inverse(pe);for(;f.getDegree()>=c.getDegree()&&!f.isZero();){const We=f.getDegree()-c.getDegree(),Ke=u.multiply(f.getCoefficient(f.getDegree()),Te);oe=oe.addOrSubtract(u.buildMonomial(We,Ke)),f=f.addOrSubtract(c.multiplyByMonomial(We,Ke))}if(w=oe.multiply(p).addOrSubtract(re),f.getDegree()>=c.getDegree())throw new fe("Division algorithm failed to reduce polynomial?")}const x=w.getCoefficient(0);if(x===0)throw new Y("sigmaTilde(0) was zero");const A=u.inverse(x),O=w.multiplyScalar(A),P=f.multiplyScalar(A);return[O,P]}findErrorLocations(r){const i=r.getDegree();if(i===1)return Int32Array.from([r.getCoefficient(1)]);const o=new Int32Array(i);let u=0;const c=this.field;for(let f=1;f<c.getSize()&&u<i;f++)r.evaluateAt(f)===0&&(o[u]=c.inverse(f),u++);if(u!==i)throw new Y("Error locator degree does not match number of roots");return o}findErrorMagnitudes(r,i){const o=i.length,u=new Int32Array(o),c=this.field;for(let f=0;f<o;f++){const p=c.inverse(i[f]);let w=1;for(let x=0;x<o;x++)if(f!==x){const A=c.multiply(i[x],p),O=(A&1)===0?A|1:A&-2;w=c.multiply(w,O)}u[f]=c.multiply(r.evaluateAt(p),c.inverse(w)),c.getGeneratorBase()!==0&&(u[f]=c.multiply(u[f],p))}return u}}var _e;(function(I){I[I.UPPER=0]="UPPER",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.DIGIT=3]="DIGIT",I[I.PUNCT=4]="PUNCT",I[I.BINARY=5]="BINARY"})(_e||(_e={}));class ke{decode(r){this.ddata=r;let i=r.getBits(),o=this.extractBits(i),u=this.correctBits(o),c=ke.convertBoolArrayToByteArray(u),f=ke.getEncodedData(u),p=new ve(c,f,null,null);return p.setNumBits(u.length),p}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let i=r.length,o=_e.UPPER,u=_e.UPPER,c="",f=0;for(;f<i;)if(u===_e.BINARY){if(i-f<5)break;let p=ke.readCode(r,f,5);if(f+=5,p===0){if(i-f<11)break;p=ke.readCode(r,f,11)+31,f+=11}for(let w=0;w<p;w++){if(i-f<8){f=i;break}const x=ke.readCode(r,f,8);c+=q.castAsNonUtf8Char(x),f+=8}u=o}else{let p=u===_e.DIGIT?4:5;if(i-f<p)break;let w=ke.readCode(r,f,p);f+=p;let x=ke.getCharacter(u,w);x.startsWith("CTRL_")?(o=u,u=ke.getTable(x.charAt(5)),x.charAt(6)==="L"&&(o=u)):(c+=x,u=o)}return c}static getTable(r){switch(r){case"L":return _e.LOWER;case"P":return _e.PUNCT;case"M":return _e.MIXED;case"D":return _e.DIGIT;case"B":return _e.BINARY;case"U":default:return _e.UPPER}}static getCharacter(r,i){switch(r){case _e.UPPER:return ke.UPPER_TABLE[i];case _e.LOWER:return ke.LOWER_TABLE[i];case _e.MIXED:return ke.MIXED_TABLE[i];case _e.PUNCT:return ke.PUNCT_TABLE[i];case _e.DIGIT:return ke.DIGIT_TABLE[i];default:throw new fe("Bad table")}}correctBits(r){let i,o;this.ddata.getNbLayers()<=2?(o=6,i=F.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,i=F.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,i=F.AZTEC_DATA_10):(o=12,i=F.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),c=r.length/o;if(c<u)throw new N;let f=r.length%o,p=new Int32Array(c);for(let P=0;P<c;P++,f+=o)p[P]=ke.readCode(r,f,o);try{new Fe(i).decode(p,c-u)}catch(P){throw new N(P)}let w=(1<<o)-1,x=0;for(let P=0;P<u;P++){let W=p[P];if(W===0||W===w)throw new N;(W===1||W===w-1)&&x++}let A=new Array(u*o-x),O=0;for(let P=0;P<u;P++){let W=p[P];if(W===1||W===w-1)A.fill(W>1,O,O+o-1),O+=o-1;else for(let re=o-1;re>=0;--re)A[O++]=(W&1<<re)!==0}return A}extractBits(r){let i=this.ddata.isCompact(),o=this.ddata.getNbLayers(),u=(i?11:14)+o*4,c=new Int32Array(u),f=new Array(this.totalBitsInLayer(o,i));if(i)for(let p=0;p<c.length;p++)c[p]=p;else{let p=u+1+2*D.truncDivision(D.truncDivision(u,2)-1,15),w=u/2,x=D.truncDivision(p,2);for(let A=0;A<w;A++){let O=A+D.truncDivision(A,15);c[w-A-1]=x-O-1,c[w+A]=x+O+1}}for(let p=0,w=0;p<o;p++){let x=(o-p)*4+(i?9:12),A=p*2,O=u-1-A;for(let P=0;P<x;P++){let W=P*2;for(let re=0;re<2;re++)f[w+W+re]=r.get(c[A+re],c[A+P]),f[w+2*x+W+re]=r.get(c[A+P],c[O-re]),f[w+4*x+W+re]=r.get(c[O-re],c[O-P]),f[w+6*x+W+re]=r.get(c[O-P],c[A+re])}w+=x*8}return f}static readCode(r,i,o){let u=0;for(let c=i;c<i+o;c++)u<<=1,r[c]&&(u|=1);return u}static readByte(r,i){let o=r.length-i;return o>=8?ke.readCode(r,i,8):ke.readCode(r,i,o)<<8-o}static convertBoolArrayToByteArray(r){let i=new Uint8Array((r.length+7)/8);for(let o=0;o<i.length;o++)i[o]=ke.readByte(r,8*o);return i}totalBitsInLayer(r,i){return((i?88:112)+16*r)*r}}ke.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ke.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ke.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ke.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ke.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ve{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,i,o,u){const c=r-o,f=i-u;return Math.sqrt(c*c+f*f)}static sum(r){let i=0;for(let o=0,u=r.length;o!==u;o++)i+=r[o];return i}}class ze{static floatToIntBits(r){return r}}ze.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ye{constructor(r,i){this.x=r,this.y=i}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof ye){const i=r;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*ze.floatToIntBits(this.x)+ze.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const i=this.distance(r[0],r[1]),o=this.distance(r[1],r[2]),u=this.distance(r[0],r[2]);let c,f,p;if(o>=i&&o>=u?(f=r[0],c=r[1],p=r[2]):u>=o&&u>=i?(f=r[1],c=r[0],p=r[2]):(f=r[2],c=r[0],p=r[1]),this.crossProductZ(c,f,p)<0){const w=c;c=p,p=w}r[0]=c,r[1]=f,r[2]=p}static distance(r,i){return Ve.distance(r.x,r.y,i.x,i.y)}static crossProductZ(r,i,o){const u=i.x,c=i.y;return(o.x-u)*(r.y-c)-(o.y-c)*(r.x-u)}}class ce{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class $e extends ce{constructor(r,i,o,u,c){super(r,i),this.compact=o,this.nbDatablocks=u,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Le{constructor(r,i,o,u){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),i==null&&(i=Le.INIT_SIZE),o==null&&(o=r.getWidth()/2|0),u==null&&(u=r.getHeight()/2|0);const c=i/2|0;if(this.leftInit=o-c,this.rightInit=o+c,this.upInit=u-c,this.downInit=u+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Q}detect(){let r=this.leftInit,i=this.rightInit,o=this.upInit,u=this.downInit,c=!1,f=!0,p=!1,w=!1,x=!1,A=!1,O=!1;const P=this.width,W=this.height;for(;f;){f=!1;let re=!0;for(;(re||!w)&&i<P;)re=this.containsBlackPoint(o,u,i,!1),re?(i++,f=!0,w=!0):w||i++;if(i>=P){c=!0;break}let oe=!0;for(;(oe||!x)&&u<W;)oe=this.containsBlackPoint(r,i,u,!0),oe?(u++,f=!0,x=!0):x||u++;if(u>=W){c=!0;break}let pe=!0;for(;(pe||!A)&&r>=0;)pe=this.containsBlackPoint(o,u,r,!1),pe?(r--,f=!0,A=!0):A||r--;if(r<0){c=!0;break}let Te=!0;for(;(Te||!O)&&o>=0;)Te=this.containsBlackPoint(r,i,o,!0),Te?(o--,f=!0,O=!0):O||o--;if(o<0){c=!0;break}f&&(p=!0)}if(!c&&p){const re=i-r;let oe=null;for(let Ke=1;oe===null&&Ke<re;Ke++)oe=this.getBlackPointOnSegment(r,u-Ke,r+Ke,u);if(oe==null)throw new Q;let pe=null;for(let Ke=1;pe===null&&Ke<re;Ke++)pe=this.getBlackPointOnSegment(r,o+Ke,r+Ke,o);if(pe==null)throw new Q;let Te=null;for(let Ke=1;Te===null&&Ke<re;Ke++)Te=this.getBlackPointOnSegment(i,o+Ke,i-Ke,o);if(Te==null)throw new Q;let We=null;for(let Ke=1;We===null&&Ke<re;Ke++)We=this.getBlackPointOnSegment(i,u-Ke,i-Ke,u);if(We==null)throw new Q;return this.centerEdges(We,oe,Te,pe)}else throw new Q}getBlackPointOnSegment(r,i,o,u){const c=Ve.round(Ve.distance(r,i,o,u)),f=(o-r)/c,p=(u-i)/c,w=this.image;for(let x=0;x<c;x++){const A=Ve.round(r+x*f),O=Ve.round(i+x*p);if(w.get(A,O))return new ye(A,O)}return null}centerEdges(r,i,o,u){const c=r.getX(),f=r.getY(),p=i.getX(),w=i.getY(),x=o.getX(),A=o.getY(),O=u.getX(),P=u.getY(),W=Le.CORR;return c<this.width/2?[new ye(O-W,P+W),new ye(p+W,w+W),new ye(x-W,A-W),new ye(c+W,f-W)]:[new ye(O+W,P+W),new ye(p+W,w-W),new ye(x-W,A+W),new ye(c-W,f-W)]}containsBlackPoint(r,i,o,u){const c=this.image;if(u){for(let f=r;f<=i;f++)if(c.get(f,o))return!0}else for(let f=r;f<=i;f++)if(c.get(o,f))return!0;return!1}}Le.INIT_SIZE=10,Le.CORR=1;class et{static checkAndNudgePoints(r,i){const o=r.getWidth(),u=r.getHeight();let c=!0;for(let f=0;f<i.length&&c;f+=2){const p=Math.floor(i[f]),w=Math.floor(i[f+1]);if(p<-1||p>o||w<-1||w>u)throw new Q;c=!1,p===-1?(i[f]=0,c=!0):p===o&&(i[f]=o-1,c=!0),w===-1?(i[f+1]=0,c=!0):w===u&&(i[f+1]=u-1,c=!0)}c=!0;for(let f=i.length-2;f>=0&&c;f-=2){const p=Math.floor(i[f]),w=Math.floor(i[f+1]);if(p<-1||p>o||w<-1||w>u)throw new Q;c=!1,p===-1?(i[f]=0,c=!0):p===o&&(i[f]=o-1,c=!0),w===-1?(i[f+1]=0,c=!0):w===u&&(i[f+1]=u-1,c=!0)}}}class Qe{constructor(r,i,o,u,c,f,p,w,x){this.a11=r,this.a21=i,this.a31=o,this.a12=u,this.a22=c,this.a32=f,this.a13=p,this.a23=w,this.a33=x}static quadrilateralToQuadrilateral(r,i,o,u,c,f,p,w,x,A,O,P,W,re,oe,pe){const Te=Qe.quadrilateralToSquare(r,i,o,u,c,f,p,w);return Qe.squareToQuadrilateral(x,A,O,P,W,re,oe,pe).times(Te)}transformPoints(r){const i=r.length,o=this.a11,u=this.a12,c=this.a13,f=this.a21,p=this.a22,w=this.a23,x=this.a31,A=this.a32,O=this.a33;for(let P=0;P<i;P+=2){const W=r[P],re=r[P+1],oe=c*W+w*re+O;r[P]=(o*W+f*re+x)/oe,r[P+1]=(u*W+p*re+A)/oe}}transformPointsWithValues(r,i){const o=this.a11,u=this.a12,c=this.a13,f=this.a21,p=this.a22,w=this.a23,x=this.a31,A=this.a32,O=this.a33,P=r.length;for(let W=0;W<P;W++){const re=r[W],oe=i[W],pe=c*re+w*oe+O;r[W]=(o*re+f*oe+x)/pe,i[W]=(u*re+p*oe+A)/pe}}static squareToQuadrilateral(r,i,o,u,c,f,p,w){const x=r-o+c-p,A=i-u+f-w;if(x===0&&A===0)return new Qe(o-r,c-o,r,u-i,f-u,i,0,0,1);{const O=o-c,P=p-c,W=u-f,re=w-f,oe=O*re-P*W,pe=(x*re-P*A)/oe,Te=(O*A-x*W)/oe;return new Qe(o-r+pe*o,p-r+Te*p,r,u-i+pe*u,w-i+Te*w,i,pe,Te,1)}}static quadrilateralToSquare(r,i,o,u,c,f,p,w){return Qe.squareToQuadrilateral(r,i,o,u,c,f,p,w).buildAdjoint()}buildAdjoint(){return new Qe(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new Qe(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class at extends et{sampleGrid(r,i,o,u,c,f,p,w,x,A,O,P,W,re,oe,pe,Te,We,Ke){const je=Qe.quadrilateralToQuadrilateral(u,c,f,p,w,x,A,O,P,W,re,oe,pe,Te,We,Ke);return this.sampleGridWithTransform(r,i,o,je)}sampleGridWithTransform(r,i,o,u){if(i<=0||o<=0)throw new Q;const c=new ne(i,o),f=new Float32Array(2*i);for(let p=0;p<o;p++){const w=f.length,x=p+.5;for(let A=0;A<w;A+=2)f[A]=A/2+.5,f[A+1]=x;u.transformPoints(f),et.checkAndNudgePoints(r,f);try{for(let A=0;A<w;A+=2)r.get(Math.floor(f[A]),Math.floor(f[A+1]))&&c.set(A/2,p)}catch{throw new Q}}return c}}class ot{static setGridSampler(r){ot.gridSampler=r}static getInstance(){return ot.gridSampler}}ot.gridSampler=new at;class lt{constructor(r,i){this.x=r,this.y=i}toResultPoint(){return new ye(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Vt{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let i=this.getMatrixCenter(),o=this.getBullsEyeCorners(i);if(r){let f=o[0];o[0]=o[2],o[2]=f}this.extractParameters(o);let u=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),c=this.getMatrixCornerPoints(o);return new $e(u,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new Q;let i=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(r[0],r[1],i),this.sampleLine(r[1],r[2],i),this.sampleLine(r[2],r[3],i),this.sampleLine(r[3],r[0],i)]);this.shift=this.getRotation(o,i);let u=0;for(let f=0;f<4;f++){let p=o[(this.shift+f)%4];this.compact?(u<<=7,u+=p>>1&127):(u<<=10,u+=(p>>2&31<<5)+(p>>1&31))}let c=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(r,i){let o=0;r.forEach((u,c,f)=>{let p=(u>>i-2<<1)+(u&1);o=(o<<3)+p}),o=((o&1)<<11)+(o>>1);for(let u=0;u<4;u++)if(D.bitCount(o^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new Q}getCorrectedParameterData(r,i){let o,u;i?(o=7,u=2):(o=10,u=4);let c=o-u,f=new Int32Array(o);for(let w=o-1;w>=0;--w)f[w]=r&15,r>>=4;try{new Fe(F.AZTEC_PARAM).decode(f,c)}catch{throw new Q}let p=0;for(let w=0;w<u;w++)p=(p<<4)+f[w];return p}getBullsEyeCorners(r){let i=r,o=r,u=r,c=r,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(i,f,1,-1),P=this.getFirstDifferent(o,f,1,1),W=this.getFirstDifferent(u,f,-1,1),re=this.getFirstDifferent(c,f,-1,-1);if(this.nbCenterLayers>2){let oe=this.distancePoint(re,O)*this.nbCenterLayers/(this.distancePoint(c,i)*(this.nbCenterLayers+2));if(oe<.75||oe>1.25||!this.isWhiteOrBlackRectangle(O,P,W,re))break}i=O,o=P,u=W,c=re,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Q;this.compact=this.nbCenterLayers===5;let p=new ye(i.getX()+.5,i.getY()-.5),w=new ye(o.getX()+.5,o.getY()+.5),x=new ye(u.getX()-.5,u.getY()+.5),A=new ye(c.getX()-.5,c.getY()-.5);return this.expandSquare([p,w,x,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,i,o,u;try{let p=new Le(this.image).detect();r=p[0],i=p[1],o=p[2],u=p[3]}catch{let w=this.image.getWidth()/2,x=this.image.getHeight()/2;r=this.getFirstDifferent(new lt(w+7,x-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new lt(w+7,x+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new lt(w-7,x+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new lt(w-7,x-7),!1,-1,-1).toResultPoint()}let c=Ve.round((r.getX()+u.getX()+i.getX()+o.getX())/4),f=Ve.round((r.getY()+u.getY()+i.getY()+o.getY())/4);try{let p=new Le(this.image,15,c,f).detect();r=p[0],i=p[1],o=p[2],u=p[3]}catch{r=this.getFirstDifferent(new lt(c+7,f-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new lt(c+7,f+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new lt(c-7,f+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new lt(c-7,f-7),!1,-1,-1).toResultPoint()}return c=Ve.round((r.getX()+u.getX()+i.getX()+o.getX())/4),f=Ve.round((r.getY()+u.getY()+i.getY()+o.getY())/4),new lt(c,f)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,i,o,u,c){let f=ot.getInstance(),p=this.getDimension(),w=p/2-this.nbCenterLayers,x=p/2+this.nbCenterLayers;return f.sampleGrid(r,p,p,w,w,x,w,x,x,w,x,i.getX(),i.getY(),o.getX(),o.getY(),u.getX(),u.getY(),c.getX(),c.getY())}sampleLine(r,i,o){let u=0,c=this.distanceResultPoint(r,i),f=c/o,p=r.getX(),w=r.getY(),x=f*(i.getX()-r.getX())/c,A=f*(i.getY()-r.getY())/c;for(let O=0;O<o;O++)this.image.get(Ve.round(p+O*x),Ve.round(w+O*A))&&(u|=1<<o-O-1);return u}isWhiteOrBlackRectangle(r,i,o,u){let c=3;r=new lt(r.getX()-c,r.getY()+c),i=new lt(i.getX()-c,i.getY()-c),o=new lt(o.getX()+c,o.getY()-c),u=new lt(u.getX()+c,u.getY()+c);let f=this.getColor(u,r);if(f===0)return!1;let p=this.getColor(r,i);return p!==f||(p=this.getColor(i,o),p!==f)?!1:(p=this.getColor(o,u),p===f)}getColor(r,i){let o=this.distancePoint(r,i),u=(i.getX()-r.getX())/o,c=(i.getY()-r.getY())/o,f=0,p=r.getX(),w=r.getY(),x=this.image.get(r.getX(),r.getY()),A=Math.ceil(o);for(let P=0;P<A;P++)p+=u,w+=c,this.image.get(Ve.round(p),Ve.round(w))!==x&&f++;let O=f/o;return O>.1&&O<.9?0:O<=.1===x?1:-1}getFirstDifferent(r,i,o,u){let c=r.getX()+o,f=r.getY()+u;for(;this.isValid(c,f)&&this.image.get(c,f)===i;)c+=o,f+=u;for(c-=o,f-=u;this.isValid(c,f)&&this.image.get(c,f)===i;)c+=o;for(c-=o;this.isValid(c,f)&&this.image.get(c,f)===i;)f+=u;return f-=u,new lt(c,f)}expandSquare(r,i,o){let u=o/(2*i),c=r[0].getX()-r[2].getX(),f=r[0].getY()-r[2].getY(),p=(r[0].getX()+r[2].getX())/2,w=(r[0].getY()+r[2].getY())/2,x=new ye(p+u*c,w+u*f),A=new ye(p-u*c,w-u*f);c=r[1].getX()-r[3].getX(),f=r[1].getY()-r[3].getY(),p=(r[1].getX()+r[3].getX())/2,w=(r[1].getY()+r[3].getY())/2;let O=new ye(p+u*c,w+u*f),P=new ye(p-u*c,w-u*f);return[x,O,A,P]}isValid(r,i){return r>=0&&r<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(r){let i=Ve.round(r.getX()),o=Ve.round(r.getY());return this.isValid(i,o)}distancePoint(r,i){return Ve.distance(r.getX(),r.getY(),i.getX(),i.getY())}distanceResultPoint(r,i){return Ve.distance(r.getX(),r.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(D.truncDivision(this.nbLayers-4,8)+1)+15}}class Xt{decode(r,i=null){let o=null,u=new Vt(r.getBlackMatrix()),c=null,f=null;try{let A=u.detectMirror(!1);c=A.getPoints(),this.reportFoundResultPoints(i,c),f=new ke().decode(A)}catch(A){o=A}if(f==null)try{let A=u.detectMirror(!0);c=A.getPoints(),this.reportFoundResultPoints(i,c),f=new ke().decode(A)}catch(A){throw o!=null?o:A}let p=new ct(f.getText(),f.getRawBytes(),f.getNumBits(),c,ge.AZTEC,M.currentTimeMillis()),w=f.getByteSegments();w!=null&&p.putMetadata(Be.BYTE_SEGMENTS,w);let x=f.getECLevel();return x!=null&&p.putMetadata(Be.ERROR_CORRECTION_LEVEL,x),p}reportFoundResultPoints(r,i){if(r!=null){let o=r.get(K.NEED_RESULT_POINT_CALLBACK);o!=null&&i.forEach((u,c,f)=>{o.foundPossibleResultPoint(u)})}}reset(){}}class In extends Je{constructor(r=500){super(new Xt,r)}}class Dt{decode(r,i){try{return this.doDecode(r,i)}catch{if(i&&i.get(K.TRY_HARDER)===!0&&r.isRotateSupported()){const c=r.rotateCounterClockwise(),f=this.doDecode(c,i),p=f.getResultMetadata();let w=270;p!==null&&p.get(Be.ORIENTATION)===!0&&(w=w+p.get(Be.ORIENTATION)%360),f.putMetadata(Be.ORIENTATION,w);const x=f.getResultPoints();if(x!==null){const A=c.getHeight();for(let O=0;O<x.length;O++)x[O]=new ye(A-x[O].getY()-1,x[O].getX())}return f}else throw new Q}}reset(){}doDecode(r,i){const o=r.getWidth(),u=r.getHeight();let c=new C(o);const f=i&&i.get(K.TRY_HARDER)===!0,p=Math.max(1,u>>(f?8:5));let w;f?w=u:w=15;const x=Math.trunc(u/2);for(let A=0;A<w;A++){const O=Math.trunc((A+1)/2),P=(A&1)===0,W=x+p*(P?O:-O);if(W<0||W>=u)break;try{c=r.getBlackRow(W,c)}catch{continue}for(let re=0;re<2;re++){if(re===1&&(c.reverse(),i&&i.get(K.NEED_RESULT_POINT_CALLBACK)===!0)){const oe=new Map;i.forEach((pe,Te)=>oe.set(Te,pe)),oe.delete(K.NEED_RESULT_POINT_CALLBACK),i=oe}try{const oe=this.decodeRow(W,c,i);if(re===1){oe.putMetadata(Be.ORIENTATION,180);const pe=oe.getResultPoints();pe!==null&&(pe[0]=new ye(o-pe[0].getX()-1,pe[0].getY()),pe[1]=new ye(o-pe[1].getX()-1,pe[1].getY()))}return oe}catch{}}}throw new Q}static recordPattern(r,i,o){const u=o.length;for(let x=0;x<u;x++)o[x]=0;const c=r.getSize();if(i>=c)throw new Q;let f=!r.get(i),p=0,w=i;for(;w<c;){if(r.get(w)!==f)o[p]++;else{if(++p===u)break;o[p]=1,f=!f}w++}if(!(p===u||p===u-1&&w===c))throw new Q}static recordPatternInReverse(r,i,o){let u=o.length,c=r.get(i);for(;i>0&&u>=0;)r.get(--i)!==c&&(u--,c=!c);if(u>=0)throw new Q;Dt.recordPattern(r,i+1,o)}static patternMatchVariance(r,i,o){const u=r.length;let c=0,f=0;for(let x=0;x<u;x++)c+=r[x],f+=i[x];if(c<f)return Number.POSITIVE_INFINITY;const p=c/f;o*=p;let w=0;for(let x=0;x<u;x++){const A=r[x],O=i[x]*p,P=A>O?A-O:O-A;if(P>o)return Number.POSITIVE_INFINITY;w+=P}return w/c}}class Ue extends Dt{static findStartPattern(r){const i=r.getSize(),o=r.getNextSet(0);let u=0,c=Int32Array.from([0,0,0,0,0,0]),f=o,p=!1;const w=6;for(let x=o;x<i;x++)if(r.get(x)!==p)c[u]++;else{if(u===w-1){let A=Ue.MAX_AVG_VARIANCE,O=-1;for(let P=Ue.CODE_START_A;P<=Ue.CODE_START_C;P++){const W=Dt.patternMatchVariance(c,Ue.CODE_PATTERNS[P],Ue.MAX_INDIVIDUAL_VARIANCE);W<A&&(A=W,O=P)}if(O>=0&&r.isRange(Math.max(0,f-(x-f)/2),f,!1))return Int32Array.from([f,x,O]);f+=c[0]+c[1],c=c.slice(2,c.length-1),c[u-1]=0,c[u]=0,u--}else u++;c[u]=1,p=!p}throw new Q}static decodeCode(r,i,o){Dt.recordPattern(r,o,i);let u=Ue.MAX_AVG_VARIANCE,c=-1;for(let f=0;f<Ue.CODE_PATTERNS.length;f++){const p=Ue.CODE_PATTERNS[f],w=this.patternMatchVariance(i,p,Ue.MAX_INDIVIDUAL_VARIANCE);w<u&&(u=w,c=f)}if(c>=0)return c;throw new Q}decodeRow(r,i,o){const u=o&&o.get(K.ASSUME_GS1)===!0,c=Ue.findStartPattern(i),f=c[2];let p=0;const w=new Uint8Array(20);w[p++]=f;let x;switch(f){case Ue.CODE_START_A:x=Ue.CODE_CODE_A;break;case Ue.CODE_START_B:x=Ue.CODE_CODE_B;break;case Ue.CODE_START_C:x=Ue.CODE_CODE_C;break;default:throw new N}let A=!1,O=!1,P="",W=c[0],re=c[1];const oe=Int32Array.from([0,0,0,0,0,0]);let pe=0,Te=0,We=f,Ke=0,je=!0,nn=!1,kt=!1;for(;!A;){const Se=O;switch(O=!1,pe=Te,Te=Ue.decodeCode(i,oe,re),w[p++]=Te,Te!==Ue.CODE_STOP&&(je=!0),Te!==Ue.CODE_STOP&&(Ke++,We+=Ke*Te),W=re,re+=oe.reduce((Ie,qe)=>Ie+qe,0),Te){case Ue.CODE_START_A:case Ue.CODE_START_B:case Ue.CODE_START_C:throw new N}switch(x){case Ue.CODE_CODE_A:if(Te<64)kt===nn?P+=String.fromCharCode(" ".charCodeAt(0)+Te):P+=String.fromCharCode(" ".charCodeAt(0)+Te+128),kt=!1;else if(Te<96)kt===nn?P+=String.fromCharCode(Te-64):P+=String.fromCharCode(Te+64),kt=!1;else switch(Te!==Ue.CODE_STOP&&(je=!1),Te){case Ue.CODE_FNC_1:u&&(P.length===0?P+="]C1":P+=String.fromCharCode(29));break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_A:!nn&&kt?(nn=!0,kt=!1):nn&&kt?(nn=!1,kt=!1):kt=!0;break;case Ue.CODE_SHIFT:O=!0,x=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_B:x=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_C:x=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:A=!0;break}break;case Ue.CODE_CODE_B:if(Te<96)kt===nn?P+=String.fromCharCode(" ".charCodeAt(0)+Te):P+=String.fromCharCode(" ".charCodeAt(0)+Te+128),kt=!1;else switch(Te!==Ue.CODE_STOP&&(je=!1),Te){case Ue.CODE_FNC_1:u&&(P.length===0?P+="]C1":P+=String.fromCharCode(29));break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_B:!nn&&kt?(nn=!0,kt=!1):nn&&kt?(nn=!1,kt=!1):kt=!0;break;case Ue.CODE_SHIFT:O=!0,x=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_A:x=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_C:x=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:A=!0;break}break;case Ue.CODE_CODE_C:if(Te<100)Te<10&&(P+="0"),P+=Te;else switch(Te!==Ue.CODE_STOP&&(je=!1),Te){case Ue.CODE_FNC_1:u&&(P.length===0?P+="]C1":P+=String.fromCharCode(29));break;case Ue.CODE_CODE_A:x=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_B:x=Ue.CODE_CODE_B;break;case Ue.CODE_STOP:A=!0;break}break}Se&&(x=x===Ue.CODE_CODE_A?Ue.CODE_CODE_B:Ue.CODE_CODE_A)}const Tr=re-W;if(re=i.getNextUnset(re),!i.isRange(re,Math.min(i.getSize(),re+(re-W)/2),!1))throw new Q;if(We-=Ke*pe,We%103!==pe)throw new b;const S=P.length;if(S===0)throw new Q;S>0&&je&&(x===Ue.CODE_CODE_C?P=P.substring(0,S-2):P=P.substring(0,S-1));const E=(c[1]+c[0])/2,R=W+Tr/2,V=w.length,ae=new Uint8Array(V);for(let Se=0;Se<V;Se++)ae[Se]=w[Se];const we=[new ye(E,r),new ye(R,r)];return new ct(P,ae,0,we,ge.CODE_128,new Date().getTime())}}Ue.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ue.MAX_AVG_VARIANCE=.25,Ue.MAX_INDIVIDUAL_VARIANCE=.7,Ue.CODE_SHIFT=98,Ue.CODE_CODE_C=99,Ue.CODE_CODE_B=100,Ue.CODE_CODE_A=101,Ue.CODE_FNC_1=102,Ue.CODE_FNC_2=97,Ue.CODE_FNC_3=96,Ue.CODE_FNC_4_A=101,Ue.CODE_FNC_4_B=100,Ue.CODE_START_A=103,Ue.CODE_START_B=104,Ue.CODE_START_C=105,Ue.CODE_STOP=106;class Jt extends Dt{constructor(r=!1,i=!1){super(),this.usingCheckDigit=r,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,i,o){let u=this.counters;u.fill(0),this.decodeRowResult="";let c=Jt.findAsteriskPattern(i,u),f=i.getNextSet(c[1]),p=i.getSize(),w,x;do{Jt.recordPattern(i,f,u);let oe=Jt.toNarrowWidePattern(u);if(oe<0)throw new Q;w=Jt.patternToChar(oe),this.decodeRowResult+=w,x=f;for(let pe of u)f+=pe;f=i.getNextSet(f)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let A=0;for(let oe of u)A+=oe;let O=f-x-A;if(f!==p&&O*2<A)throw new Q;if(this.usingCheckDigit){let oe=this.decodeRowResult.length-1,pe=0;for(let Te=0;Te<oe;Te++)pe+=Jt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Te));if(this.decodeRowResult.charAt(oe)!==Jt.ALPHABET_STRING.charAt(pe%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,oe)}if(this.decodeRowResult.length===0)throw new Q;let P;this.extendedMode?P=Jt.decodeExtended(this.decodeRowResult):P=this.decodeRowResult;let W=(c[1]+c[0])/2,re=x+A/2;return new ct(P,null,0,[new ye(W,r),new ye(re,r)],ge.CODE_39,new Date().getTime())}static findAsteriskPattern(r,i){let o=r.getSize(),u=r.getNextSet(0),c=0,f=u,p=!1,w=i.length;for(let x=u;x<o;x++)if(r.get(x)!==p)i[c]++;else{if(c===w-1){if(this.toNarrowWidePattern(i)===Jt.ASTERISK_ENCODING&&r.isRange(Math.max(0,f-Math.floor((x-f)/2)),f,!1))return[f,x];f+=i[0]+i[1],i.copyWithin(0,2,2+c-1),i[c-1]=0,i[c]=0,c--}else c++;i[c]=1,p=!p}throw new Q}static toNarrowWidePattern(r){let i=r.length,o=0,u;do{let c=2147483647;for(let w of r)w<c&&w>o&&(c=w);o=c,u=0;let f=0,p=0;for(let w=0;w<i;w++){let x=r[w];x>o&&(p|=1<<i-1-w,u++,f+=x)}if(u===3){for(let w=0;w<i&&u>0;w++){let x=r[w];if(x>o&&(u--,x*2>=f))return-1}return p}}while(u>3);return-1}static patternToChar(r){for(let i=0;i<Jt.CHARACTER_ENCODINGS.length;i++)if(Jt.CHARACTER_ENCODINGS[i]===r)return Jt.ALPHABET_STRING.charAt(i);if(r===Jt.ASTERISK_ENCODING)return"*";throw new Q}static decodeExtended(r){let i=r.length,o="";for(let u=0;u<i;u++){let c=r.charAt(u);if(c==="+"||c==="$"||c==="%"||c==="/"){let f=r.charAt(u+1),p="\0";switch(c){case"+":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)+32);else throw new N;break;case"$":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)-64);else throw new N;break;case"%":if(f>="A"&&f<="E")p=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")p=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")p=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")p="\0";else if(f==="V")p="@";else if(f==="W")p="`";else if(f==="X"||f==="Y"||f==="Z")p="\x7F";else throw new N;break;case"/":if(f>="A"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")p=":";else throw new N;break}o+=p,u++}else o+=c}return o}}Jt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Jt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Jt.ASTERISK_ENCODING=148;class Ot extends Dt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,i,o){let u=this.decodeStart(i),c=this.decodeEnd(i),f=new be;Ot.decodeMiddle(i,u[1],c[0],f);let p=f.toString(),w=null;o!=null&&(w=o.get(K.ALLOWED_LENGTHS)),w==null&&(w=Ot.DEFAULT_ALLOWED_LENGTHS);let x=p.length,A=!1,O=0;for(let re of w){if(x===re){A=!0;break}re>O&&(O=re)}if(!A&&x>O&&(A=!0),!A)throw new N;const P=[new ye(u[1],r),new ye(c[0],r)];return new ct(p,null,0,P,ge.ITF,new Date().getTime())}static decodeMiddle(r,i,o,u){let c=new Int32Array(10),f=new Int32Array(5),p=new Int32Array(5);for(c.fill(0),f.fill(0),p.fill(0);i<o;){Dt.recordPattern(r,i,c);for(let x=0;x<5;x++){let A=2*x;f[x]=c[A],p[x]=c[A+1]}let w=Ot.decodeDigit(f);u.append(w.toString()),w=this.decodeDigit(p),u.append(w.toString()),c.forEach(function(x){i+=x})}}decodeStart(r){let i=Ot.skipWhiteSpace(r),o=Ot.findGuardPattern(r,i,Ot.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(r,o[0]),o}validateQuietZone(r,i){let o=this.narrowLineWidth*10;o=o<i?o:i;for(let u=i-1;o>0&&u>=0&&!r.get(u);u--)o--;if(o!==0)throw new Q}static skipWhiteSpace(r){const i=r.getSize(),o=r.getNextSet(0);if(o===i)throw new Q;return o}decodeEnd(r){r.reverse();try{let i=Ot.skipWhiteSpace(r),o;try{o=Ot.findGuardPattern(r,i,Ot.END_PATTERN_REVERSED[0])}catch(c){c instanceof Q&&(o=Ot.findGuardPattern(r,i,Ot.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,o[0]);let u=o[0];return o[0]=r.getSize()-o[1],o[1]=r.getSize()-u,o}finally{r.reverse()}}static findGuardPattern(r,i,o){let u=o.length,c=new Int32Array(u),f=r.getSize(),p=!1,w=0,x=i;c.fill(0);for(let A=i;A<f;A++)if(r.get(A)!==p)c[w]++;else{if(w===u-1){if(Dt.patternMatchVariance(c,o,Ot.MAX_INDIVIDUAL_VARIANCE)<Ot.MAX_AVG_VARIANCE)return[x,A];x+=c[0]+c[1],M.arraycopy(c,2,c,0,w-1),c[w-1]=0,c[w]=0,w--}else w++;c[w]=1,p=!p}throw new Q}static decodeDigit(r){let i=Ot.MAX_AVG_VARIANCE,o=-1,u=Ot.PATTERNS.length;for(let c=0;c<u;c++){let f=Ot.PATTERNS[c],p=Dt.patternMatchVariance(r,f,Ot.MAX_INDIVIDUAL_VARIANCE);p<i?(i=p,o=c):p===i&&(o=-1)}if(o>=0)return o%10;throw new Q}}Ot.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ot.MAX_AVG_VARIANCE=.38,Ot.MAX_INDIVIDUAL_VARIANCE=.5,Ot.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ot.START_PATTERN=Int32Array.from([1,1,1,1]),Ot.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Mt extends Dt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let i=!1,o,u=0,c=Int32Array.from([0,0,0]);for(;!i;){c=Int32Array.from([0,0,0]),o=Mt.findGuardPattern(r,u,!1,this.START_END_PATTERN,c);let f=o[0];u=o[1];let p=f-(u-f);p>=0&&(i=r.isRange(p,f,!1))}return o}static checkChecksum(r){return Mt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let o=parseInt(r.charAt(i-1),10);return Mt.getStandardUPCEANChecksum(r.substring(0,i-1))===o}static getStandardUPCEANChecksum(r){let i=r.length,o=0;for(let u=i-1;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(c<0||c>9)throw new N;o+=c}o*=3;for(let u=i-2;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(c<0||c>9)throw new N;o+=c}return(1e3-o)%10}static decodeEnd(r,i){return Mt.findGuardPattern(r,i,!1,Mt.START_END_PATTERN,new Int32Array(Mt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,i,o,u){return this.findGuardPattern(r,i,o,u,new Int32Array(u.length))}static findGuardPattern(r,i,o,u,c){let f=r.getSize();i=o?r.getNextUnset(i):r.getNextSet(i);let p=0,w=i,x=u.length,A=o;for(let O=i;O<f;O++)if(r.get(O)!==A)c[p]++;else{if(p===x-1){if(Dt.patternMatchVariance(c,u,Mt.MAX_INDIVIDUAL_VARIANCE)<Mt.MAX_AVG_VARIANCE)return Int32Array.from([w,O]);w+=c[0]+c[1];let P=c.slice(2,c.length-1);for(let W=0;W<p-1;W++)c[W]=P[W];c[p-1]=0,c[p]=0,p--}else p++;c[p]=1,A=!A}throw new Q}static decodeDigit(r,i,o,u){this.recordPattern(r,o,i);let c=this.MAX_AVG_VARIANCE,f=-1,p=u.length;for(let w=0;w<p;w++){let x=u[w],A=Dt.patternMatchVariance(i,x,Mt.MAX_INDIVIDUAL_VARIANCE);A<c&&(c=A,f=w)}if(f>=0)return f;throw new Q}}Mt.MAX_AVG_VARIANCE=.48,Mt.MAX_INDIVIDUAL_VARIANCE=.7,Mt.START_END_PATTERN=Int32Array.from([1,1,1]),Mt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Mt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Mt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Xn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,o){let u=this.decodeRowStringBuffer,c=this.decodeMiddle(i,o,u),f=u.toString(),p=Xn.parseExtensionString(f),w=[new ye((o[0]+o[1])/2,r),new ye(c,r)],x=new ct(f,null,0,w,ge.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&x.putAllMetadata(p),x}decodeMiddle(r,i,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=i[1],p=0;for(let x=0;x<5&&f<c;x++){let A=Mt.decodeDigit(r,u,f,Mt.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+A%10);for(let O of u)f+=O;A>=10&&(p|=1<<4-x),x!==4&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(o.length!==5)throw new Q;let w=this.determineCheckDigit(p);if(Xn.extensionChecksum(o.toString())!==w)throw new Q;return f}static extensionChecksum(r){let i=r.length,o=0;for(let u=i-2;u>=0;u-=2)o+=r.charAt(u).charCodeAt(0)-"0".charCodeAt(0);o*=3;for(let u=i-1;u>=0;u-=2)o+=r.charAt(u).charCodeAt(0)-"0".charCodeAt(0);return o*=3,o%10}determineCheckDigit(r){for(let i=0;i<10;i++)if(r===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new Q}static parseExtensionString(r){if(r.length!==5)return null;let i=Xn.parseExtension5String(r);return i==null?null:new Map([[Be.SUGGESTED_PRICE,i]])}static parseExtension5String(r){let i;switch(r.charAt(0)){case"0":i="\xA3";break;case"5":i="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let o=parseInt(r.substring(1)),u=(o/100).toString(),c=o%100,f=c<10?"0"+c:c.toString();return i+u+"."+f}}class xn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,o){let u=this.decodeRowStringBuffer,c=this.decodeMiddle(i,o,u),f=u.toString(),p=xn.parseExtensionString(f),w=[new ye((o[0]+o[1])/2,r),new ye(c,r)],x=new ct(f,null,0,w,ge.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&x.putAllMetadata(p),x}decodeMiddle(r,i,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=i[1],p=0;for(let w=0;w<2&&f<c;w++){let x=Mt.decodeDigit(r,u,f,Mt.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+x%10);for(let A of u)f+=A;x>=10&&(p|=1<<1-w),w!==1&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(o.length!==2)throw new Q;if(parseInt(o.toString())%4!==p)throw new Q;return f}static parseExtensionString(r){return r.length!==2?null:new Map([[Be.ISSUE_NUMBER,parseInt(r)]])}}class Ar{static decodeRow(r,i,o){let u=Mt.findGuardPattern(i,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Xn().decodeRow(r,i,u)}catch{return new xn().decodeRow(r,i,u)}}}Ar.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ft extends Mt{constructor(){super(),this.decodeRowStringBuffer="",ft.L_AND_G_PATTERNS=ft.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let i=ft.L_PATTERNS[r-10],o=new Int32Array(i.length);for(let u=0;u<i.length;u++)o[u]=i[i.length-u-1];ft.L_AND_G_PATTERNS[r]=o}}decodeRow(r,i,o){let u=ft.findStartGuardPattern(i),c=o==null?null:o.get(K.NEED_RESULT_POINT_CALLBACK);if(c!=null){const je=new ye((u[0]+u[1])/2,r);c.foundPossibleResultPoint(je)}let f=this.decodeMiddle(i,u,this.decodeRowStringBuffer),p=f.rowOffset,w=f.resultString;if(c!=null){const je=new ye(p,r);c.foundPossibleResultPoint(je)}let x=this.decodeEnd(i,p);if(c!=null){const je=new ye((x[0]+x[1])/2,r);c.foundPossibleResultPoint(je)}let A=x[1],O=A+(A-x[0]);if(O>=i.getSize()||!i.isRange(A,O,!1))throw new Q;let P=w.toString();if(P.length<8)throw new N;if(!ft.checkChecksum(P))throw new b;let W=(u[1]+u[0])/2,re=(x[1]+x[0])/2,oe=this.getBarcodeFormat(),pe=[new ye(W,r),new ye(re,r)],Te=new ct(P,null,0,pe,oe,new Date().getTime()),We=0;try{let je=Ar.decodeRow(r,i,x[1]);Te.putMetadata(Be.UPC_EAN_EXTENSION,je.getText()),Te.putAllMetadata(je.getResultMetadata()),Te.addResultPoints(je.getResultPoints()),We=je.getText().length}catch{}let Ke=o==null?null:o.get(K.ALLOWED_EAN_EXTENSIONS);if(Ke!=null){let je=!1;for(let nn in Ke)if(We.toString()===nn){je=!0;break}if(!je)throw new Q}return Te}decodeEnd(r,i){return ft.findGuardPattern(r,i,!1,ft.START_END_PATTERN,new Int32Array(ft.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return ft.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let o=parseInt(r.charAt(i-1),10);return ft.getStandardUPCEANChecksum(r.substring(0,i-1))===o}static getStandardUPCEANChecksum(r){let i=r.length,o=0;for(let u=i-1;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(c<0||c>9)throw new N;o+=c}o*=3;for(let u=i-2;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(c<0||c>9)throw new N;o+=c}return(1e3-o)%10}}class yr extends ft{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,i,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=i[1],p=0;for(let x=0;x<6&&f<c;x++){let A=ft.decodeDigit(r,u,f,ft.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+A%10);for(let O of u)f+=O;A>=10&&(p|=1<<5-x)}o=yr.determineFirstDigit(o,p),f=ft.findGuardPattern(r,f,!0,ft.MIDDLE_PATTERN,new Int32Array(ft.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&f<c;x++){let A=ft.decodeDigit(r,u,f,ft.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+A);for(let O of u)f+=O}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return ge.EAN_13}static determineFirstDigit(r,i){for(let o=0;o<10;o++)if(i===this.FIRST_DIGIT_ENCODINGS[o])return r=String.fromCharCode("0".charCodeAt(0)+o)+r,r;throw new Q}}yr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class tr extends ft{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,i,o){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=i[1];for(let w=0;w<4&&f<c;w++){let x=ft.decodeDigit(r,u,f,ft.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+x);for(let A of u)f+=A}f=ft.findGuardPattern(r,f,!0,ft.MIDDLE_PATTERN,new Int32Array(ft.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&f<c;w++){let x=ft.decodeDigit(r,u,f,ft.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+x);for(let A of u)f+=A}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return ge.EAN_8}}class or extends ft{constructor(){super(...arguments),this.ean13Reader=new yr}getBarcodeFormat(){return ge.UPC_A}decode(r,i){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,i,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,i,o))}decodeMiddle(r,i,o){return this.ean13Reader.decodeMiddle(r,i,o)}maybeReturnResult(r){let i=r.getText();if(i.charAt(0)==="0"){let o=new ct(i.substring(1),null,null,r.getResultPoints(),ge.UPC_A);return r.getResultMetadata()!=null&&o.putAllMetadata(r.getResultMetadata()),o}else throw new Q}reset(){this.ean13Reader.reset()}}class ar extends ft{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,i,o){const u=this.decodeMiddleCounters.map(x=>x);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const c=r.getSize();let f=i[1],p=0;for(let x=0;x<6&&f<c;x++){const A=ar.decodeDigit(r,u,f,ar.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+A%10);for(let O of u)f+=O;A>=10&&(p|=1<<5-x)}let w=ar.determineNumSysAndCheckDigit(o,p);return{rowOffset:f,resultString:w}}decodeEnd(r,i){return ar.findGuardPatternWithoutCounters(r,i,!0,ar.MIDDLE_END_PATTERN)}checkChecksum(r){return ft.checkChecksum(ar.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,i){for(let o=0;o<=1;o++)for(let u=0;u<10;u++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][u]){let c=String.fromCharCode("0".charCodeAt(0)+o),f=String.fromCharCode("0".charCodeAt(0)+u);return c+r+f}throw Q.getNotFoundInstance()}getBarcodeFormat(){return ge.UPC_E}static convertUPCEtoUPCA(r){const i=r.slice(1,7).split("").map(c=>c.charCodeAt(0)),o=new be;o.append(r.charAt(0));let u=i[5];switch(u){case 0:case 1:case 2:o.appendChars(i,0,2),o.append(u),o.append("0000"),o.appendChars(i,2,3);break;case 3:o.appendChars(i,0,3),o.append("00000"),o.appendChars(i,3,2);break;case 4:o.appendChars(i,0,4),o.append("00000"),o.append(i[4]);break;default:o.appendChars(i,0,5),o.append("0000"),o.append(u);break}return r.length>=8&&o.append(r.charAt(7)),o.toString()}}ar.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ar.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class di extends Dt{constructor(r){super();let i=r==null?null:r.get(K.POSSIBLE_FORMATS),o=[];s(i)?(o.push(new yr),o.push(new or),o.push(new tr),o.push(new ar)):(i.indexOf(ge.EAN_13)>-1&&o.push(new yr),i.indexOf(ge.UPC_A)>-1&&o.push(new or),i.indexOf(ge.EAN_8)>-1&&o.push(new tr),i.indexOf(ge.UPC_E)>-1&&o.push(new ar)),this.readers=o}decodeRow(r,i,o){for(let u of this.readers)try{const c=u.decodeRow(r,i,o),f=c.getBarcodeFormat()===ge.EAN_13&&c.getText().charAt(0)==="0",p=o==null?null:o.get(K.POSSIBLE_FORMATS),w=p==null||p.includes(ge.UPC_A);if(f&&w){const x=c.getRawBytes(),A=new ct(c.getText().substring(1),x,x?x.length:null,c.getResultPoints(),ge.UPC_A);return A.putAllMetadata(c.getResultMetadata()),A}return c}catch{}throw new Q}reset(){for(let r of this.readers)r.reset()}}class dn extends Dt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,i){for(let o=0;o<i.length;o++)if(Dt.patternMatchVariance(r,i[o],dn.MAX_INDIVIDUAL_VARIANCE)<dn.MAX_AVG_VARIANCE)return o;throw new Q}static count(r){return Ve.sum(new Int32Array(r))}static increment(r,i){let o=0,u=i[0];for(let c=1;c<r.length;c++)i[c]>u&&(u=i[c],o=c);r[o]++}static decrement(r,i){let o=0,u=i[0];for(let c=1;c<r.length;c++)i[c]<u&&(u=i[c],o=c);r[o]--}static isFinderPattern(r){let i=r[0]+r[1],o=i+r[2]+r[3],u=i/o;if(u>=dn.MIN_FINDER_PATTERN_RATIO&&u<=dn.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let p of r)p>f&&(f=p),p<c&&(c=p);return f<10*c}return!1}}dn.MAX_AVG_VARIANCE=.2,dn.MAX_INDIVIDUAL_VARIANCE=.45,dn.MIN_FINDER_PATTERN_RATIO=9.5/12,dn.MAX_FINDER_PATTERN_RATIO=12.5/14;class lr{constructor(r,i){this.value=r,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof lr))return!1;const i=r;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class wi{constructor(r,i,o,u,c){this.value=r,this.startEnd=i,this.value=r,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new ye(o,c)),this.resultPoints.push(new ye(u,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof wi))return!1;const i=r;return this.value===i.value}hashCode(){return this.value}}class kr{constructor(){}static getRSSvalue(r,i,o){let u=0;for(let w of r)u+=w;let c=0,f=0,p=r.length;for(let w=0;w<p-1;w++){let x;for(x=1,f|=1<<w;x<r[w];x++,f&=~(1<<w)){let A=kr.combins(u-x-1,p-w-2);if(o&&f===0&&u-x-(p-w-1)>=p-w-1&&(A-=kr.combins(u-x-(p-w),p-w-2)),p-w-1>1){let O=0;for(let P=u-x-(p-w-2);P>i;P--)O+=kr.combins(u-x-P-1,p-w-3);A-=O*(p-1-w)}else u-x>i&&A--;c+=A}u-=x}return c}static combins(r,i){let o,u;r-i>i?(u=i,o=r-i):(u=r-i,o=i);let c=1,f=1;for(let p=r;p>o;p--)c*=p,f<=u&&(c/=f,f++);for(;f<=u;)c/=f,f++;return c}}class X{static buildBitArray(r){let i=r.length*2-1;r[r.length-1].getRightChar()==null&&(i-=1);let o=12*i,u=new C(o),c=0,p=r[0].getRightChar().getValue();for(let w=11;w>=0;--w)(p&1<<w)!=0&&u.set(c),c++;for(let w=1;w<r.length;++w){let x=r[w],A=x.getLeftChar().getValue();for(let O=11;O>=0;--O)(A&1<<O)!=0&&u.set(c),c++;if(x.getRightChar()!=null){let O=x.getRightChar().getValue();for(let P=11;P>=0;--P)(O&1<<P)!=0&&u.set(c),c++}}return u}}class le{constructor(r,i){i?this.decodedInformation=null:(this.finished=r,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Re{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class Ye extends Re{constructor(r,i){super(r),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Ye.FNC1}}Ye.FNC1="$";class rt extends Re{constructor(r,i,o){super(r),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Et extends Re{constructor(r,i,o){if(super(r),i<0||i>10||o<0||o>10)throw new N;this.firstDigit=i,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Et.FNC1}isSecondDigitFNC1(){return this.secondDigit===Et.FNC1}isAnyFNC1(){return this.firstDigit===Et.FNC1||this.secondDigit===Et.FNC1}}Et.FNC1=10;class Me{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new Q;let i=r.substring(0,2);for(let c of Me.TWO_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(2,c[2],r):Me.processFixedAI(2,c[1],r);if(r.length<3)throw new Q;let o=r.substring(0,3);for(let c of Me.THREE_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(3,c[2],r):Me.processFixedAI(3,c[1],r);for(let c of Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,c[2],r):Me.processFixedAI(4,c[1],r);if(r.length<4)throw new Q;let u=r.substring(0,4);for(let c of Me.FOUR_DIGIT_DATA_LENGTH)if(c[0]===u)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,c[2],r):Me.processFixedAI(4,c[1],r);throw new Q}static processFixedAI(r,i,o){if(o.length<r)throw new Q;let u=o.substring(0,r);if(o.length<r+i)throw new Q;let c=o.substring(r,r+i),f=o.substring(r+i),p="("+u+")"+c,w=Me.parseFieldsInGeneralPurpose(f);return w==null?p:p+w}static processVariableAI(r,i,o){let u=o.substring(0,r),c;o.length<r+i?c=o.length:c=r+i;let f=o.substring(r,c),p=o.substring(c),w="("+u+")"+f,x=Me.parseFieldsInGeneralPurpose(p);return x==null?w:w+x}}Me.VARIABLE_LENGTH=[],Me.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Me.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Me.VARIABLE_LENGTH,20],["22",Me.VARIABLE_LENGTH,29],["30",Me.VARIABLE_LENGTH,8],["37",Me.VARIABLE_LENGTH,8],["90",Me.VARIABLE_LENGTH,30],["91",Me.VARIABLE_LENGTH,30],["92",Me.VARIABLE_LENGTH,30],["93",Me.VARIABLE_LENGTH,30],["94",Me.VARIABLE_LENGTH,30],["95",Me.VARIABLE_LENGTH,30],["96",Me.VARIABLE_LENGTH,30],["97",Me.VARIABLE_LENGTH,3],["98",Me.VARIABLE_LENGTH,30],["99",Me.VARIABLE_LENGTH,30]],Me.THREE_DIGIT_DATA_LENGTH=[["240",Me.VARIABLE_LENGTH,30],["241",Me.VARIABLE_LENGTH,30],["242",Me.VARIABLE_LENGTH,6],["250",Me.VARIABLE_LENGTH,30],["251",Me.VARIABLE_LENGTH,30],["253",Me.VARIABLE_LENGTH,17],["254",Me.VARIABLE_LENGTH,20],["400",Me.VARIABLE_LENGTH,30],["401",Me.VARIABLE_LENGTH,30],["402",17],["403",Me.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Me.VARIABLE_LENGTH,20],["421",Me.VARIABLE_LENGTH,15],["422",3],["423",Me.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Me.VARIABLE_LENGTH,15],["391",Me.VARIABLE_LENGTH,18],["392",Me.VARIABLE_LENGTH,15],["393",Me.VARIABLE_LENGTH,18],["703",Me.VARIABLE_LENGTH,30]],Me.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Me.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Me.VARIABLE_LENGTH,20],["8003",Me.VARIABLE_LENGTH,30],["8004",Me.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Me.VARIABLE_LENGTH,30],["8008",Me.VARIABLE_LENGTH,12],["8018",18],["8020",Me.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Me.VARIABLE_LENGTH,70],["8200",Me.VARIABLE_LENGTH,70]];class vt{constructor(r){this.buffer=new be,this.information=r}decodeAllCodes(r,i){let o=i,u=null;do{let c=this.decodeGeneralPurposeField(o,u),f=Me.parseFieldsInGeneralPurpose(c.getNewString());if(f!=null&&r.append(f),c.isRemaining()?u=""+c.getRemainingValue():u=null,o===c.getNewPosition())break;o=c.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let i=r;i<r+3;++i)if(this.information.get(i))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(r,4);return c===0?new Et(this.information.getSize(),Et.FNC1,Et.FNC1):new Et(this.information.getSize(),c-1,Et.FNC1)}let i=this.extractNumericValueFromBitArray(r,7),o=(i-8)/11,u=(i-8)%11;return new Et(r+7,o,u)}extractNumericValueFromBitArray(r,i){return vt.extractNumericValueFromBitArray(this.information,r,i)}static extractNumericValueFromBitArray(r,i,o){let u=0;for(let c=0;c<o;++c)r.get(i+c)&&(u|=1<<o-c-1);return u}decodeGeneralPurposeField(r,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(r);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new rt(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new rt(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,i;do{let o=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),r=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),r=i.isFinished()):(i=this.parseNumericBlock(),r=i.isFinished()),!(o!==this.current.getPosition())&&!r)break}while(!r);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let i;return r.isSecondDigitFNC1()?i=new rt(this.current.getPosition(),this.buffer.toString()):i=new rt(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new le(!0,i)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let i=new rt(this.current.getPosition(),this.buffer.toString());return new le(!0,i)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new le(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new rt(this.current.getPosition(),this.buffer.toString());return new le(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new le(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new rt(this.current.getPosition(),this.buffer.toString());return new le(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new le(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<116)return!0;if(r+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(r,8);return u>=232&&u<253}decodeIsoIec646(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new Ye(r+5,Ye.FNC1);if(i>=5&&i<15)return new Ye(r+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<90)return new Ye(r+7,""+(o+1));if(o>=90&&o<116)return new Ye(r+7,""+(o+7));let u=this.extractNumericValueFromBitArray(r,8),c;switch(u){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new N}return new Ye(r+8,c)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,6);return o>=16&&o<63}decodeAlphanumeric(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new Ye(r+5,Ye.FNC1);if(i>=5&&i<15)return new Ye(r+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(r,6);if(o>=32&&o<58)return new Ye(r+6,""+(o+33));let u;switch(o){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new fe("Decoding invalid alphanumeric value: "+o)}return new Ye(r+6,u)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<5&&i+r<this.information.getSize();++i)if(i===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+i))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let i=r;i<r+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<4&&i+r<this.information.getSize();++i)if(this.information.get(r+i))return!1;return!0}}class en{constructor(r){this.information=r,this.generalDecoder=new vt(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class fn extends en{constructor(r){super(r)}encodeCompressedGtin(r,i){r.append("(01)");let o=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,i,o)}encodeCompressedGtinWithoutAI(r,i,o){for(let u=0;u<4;++u){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*u,10);c/100===0&&r.append("0"),c/10===0&&r.append("0"),r.append(c)}fn.appendCheckDigit(r,o)}static appendCheckDigit(r,i){let o=0;for(let u=0;u<13;u++){let c=r.charAt(u+i).charCodeAt(0)-"0".charCodeAt(0);o+=(u&1)===0?3*c:c}o=10-o%10,o===10&&(o=0),r.append(o)}}fn.GTIN_SIZE=40;class ur extends fn{constructor(r){super(r)}parseInformation(){let r=new be;r.append("(01)");let i=r.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(ur.HEADER_SIZE,4);return r.append(o),this.encodeCompressedGtinWithoutAI(r,ur.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(r,ur.HEADER_SIZE+44)}}ur.HEADER_SIZE=1+1+2;class Di extends en{constructor(r){super(r)}parseInformation(){let r=new be;return this.getGeneralDecoder().decodeAllCodes(r,Di.HEADER_SIZE)}}Di.HEADER_SIZE=2+1+2;class ms extends fn{constructor(r){super(r)}encodeCompressedWeight(r,i,o){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i,o);this.addWeightCode(r,u);let c=this.checkWeight(u),f=1e5;for(let p=0;p<5;++p)c/f===0&&r.append("0"),f/=10;r.append(c)}}class xr extends ms{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=xr.HEADER_SIZE+ms.GTIN_SIZE+xr.WEIGHT_SIZE)throw new Q;let r=new be;return this.encodeCompressedGtin(r,xr.HEADER_SIZE),this.encodeCompressedWeight(r,xr.HEADER_SIZE+ms.GTIN_SIZE,xr.WEIGHT_SIZE),r.toString()}}xr.HEADER_SIZE=4+1,xr.WEIGHT_SIZE=15;class No extends xr{constructor(r){super(r)}addWeightCode(r,i){r.append("(3103)")}checkWeight(r){return r}}class ki extends xr{constructor(r){super(r)}addWeightCode(r,i){i<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class Vr extends fn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<Vr.HEADER_SIZE+fn.GTIN_SIZE)throw new Q;let r=new be;this.encodeCompressedGtin(r,Vr.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Vr.HEADER_SIZE+fn.GTIN_SIZE,Vr.LAST_DIGIT_SIZE);r.append("(392"),r.append(i),r.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Vr.HEADER_SIZE+fn.GTIN_SIZE+Vr.LAST_DIGIT_SIZE,null);return r.append(o.getNewString()),r.toString()}}Vr.HEADER_SIZE=5+1+2,Vr.LAST_DIGIT_SIZE=2;class ee extends fn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<ee.HEADER_SIZE+fn.GTIN_SIZE)throw new Q;let r=new be;this.encodeCompressedGtin(r,ee.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(ee.HEADER_SIZE+fn.GTIN_SIZE,ee.LAST_DIGIT_SIZE);r.append("(393"),r.append(i),r.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(ee.HEADER_SIZE+fn.GTIN_SIZE+ee.LAST_DIGIT_SIZE,ee.FIRST_THREE_DIGITS_SIZE);o/100==0&&r.append("0"),o/10==0&&r.append("0"),r.append(o);let u=this.getGeneralDecoder().decodeGeneralPurposeField(ee.HEADER_SIZE+fn.GTIN_SIZE+ee.LAST_DIGIT_SIZE+ee.FIRST_THREE_DIGITS_SIZE,null);return r.append(u.getNewString()),r.toString()}}ee.HEADER_SIZE=5+1+2,ee.LAST_DIGIT_SIZE=2,ee.FIRST_THREE_DIGITS_SIZE=10;class He extends ms{constructor(r,i,o){super(r),this.dateCode=o,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=He.HEADER_SIZE+He.GTIN_SIZE+He.WEIGHT_SIZE+He.DATE_SIZE)throw new Q;let r=new be;return this.encodeCompressedGtin(r,He.HEADER_SIZE),this.encodeCompressedWeight(r,He.HEADER_SIZE+He.GTIN_SIZE,He.WEIGHT_SIZE),this.encodeCompressedDate(r,He.HEADER_SIZE+He.GTIN_SIZE+He.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i,He.DATE_SIZE);if(o==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let u=o%32;o/=32;let c=o%12+1;o/=12;let f=o;f/10==0&&r.append("0"),r.append(f),c/10==0&&r.append("0"),r.append(c),u/10==0&&r.append("0"),r.append(u)}addWeightCode(r,i){r.append("("),r.append(this.firstAIdigits),r.append(i/1e5),r.append(")")}checkWeight(r){return r%1e5}}He.HEADER_SIZE=7+1,He.WEIGHT_SIZE=20,He.DATE_SIZE=16;function dt(I){try{if(I.get(1))return new ur(I);if(!I.get(2))return new Di(I);switch(vt.extractNumericValueFromBitArray(I,1,4)){case 4:return new No(I);case 5:return new ki(I)}switch(vt.extractNumericValueFromBitArray(I,1,5)){case 12:return new Vr(I);case 13:return new ee(I)}switch(vt.extractNumericValueFromBitArray(I,1,7)){case 56:return new He(I,"310","11");case 57:return new He(I,"320","11");case 58:return new He(I,"310","13");case 59:return new He(I,"320","13");case 60:return new He(I,"310","15");case 61:return new He(I,"320","15");case 62:return new He(I,"310","17");case 63:return new He(I,"320","17")}}catch(r){throw console.log(r),new fe("unknown decoder: "+I)}}class At{constructor(r,i,o,u){this.leftchar=r,this.rightchar=i,this.finderpattern=o,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,i){return r instanceof At?At.equalsOrNull(r.leftchar,i.leftchar)&&At.equalsOrNull(r.rightchar,i.rightchar)&&At.equalsOrNull(r.finderpattern,i.finderpattern):!1}static equalsOrNull(r,i){return r===null?i===null:At.equals(r,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class un{constructor(r,i,o){this.pairs=r,this.rowNumber=i,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,i){return r instanceof un?this.checkEqualitity(r,i)&&r.wasReversed===i.wasReversed:!1}checkEqualitity(r,i){if(!r||!i)return;let o;return r.forEach((u,c)=>{i.forEach(f=>{u.getLeftChar().getValue()===f.getLeftChar().getValue()&&u.getRightChar().getValue()===f.getRightChar().getValue()&&u.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(o=!0)})}),o}}class Oe extends dn{constructor(r){super(...arguments),this.pairs=new Array(Oe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,i,o){this.pairs.length=0,this.startFromEven=!1;try{return Oe.constructResult(this.decodeRow2pairs(r,i))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,Oe.constructResult(this.decodeRow2pairs(r,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,i){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,r))}catch(c){if(c instanceof Q){if(!this.pairs.length)throw new Q;o=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(r,!1),u){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new Q}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return r&&(this.rows=this.rows.reverse()),i}checkRows(r,i){for(let o=i;o<this.rows.length;o++){let u=this.rows[o];this.pairs.length=0;for(let f of r)this.pairs.push(f.getPairs());if(this.pairs.push(u.getPairs()),!Oe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(r);c.push(u);try{return this.checkRows(c,o+1)}catch(f){this.verbose&&console.log(f)}}throw new Q}static isValidSequence(r){for(let i of Oe.FINDER_PATTERN_SEQUENCES){if(r.length>i.length)continue;let o=!0;for(let u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!=i[u]){o=!1;break}if(o)return!0}return!1}storeRow(r,i){let o=0,u=!1,c=!1;for(;o<this.rows.length;){let f=this.rows[o];if(f.getRowNumber()>r){c=f.isEquivalent(this.pairs);break}u=f.isEquivalent(this.pairs),o++}c||u||Oe.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new un(this.pairs,r,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,i){for(let o of i)if(o.getPairs().length!==r.length){for(let u of o.getPairs())for(let c of r)if(At.equals(u,c))break}}static isPartialRow(r,i){for(let o of i){let u=!0;for(let c of r){let f=!1;for(let p of o.getPairs())if(c.equals(p)){f=!0;break}if(!f){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(r){let i=X.buildBitArray(r),u=dt(i).parseInformation(),c=r[0].getFinderPattern().getResultPoints(),f=r[r.length-1].getFinderPattern().getResultPoints(),p=[c[0],c[1],f[0],f[1]];return new ct(u,null,null,p,ge.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),i=r.getLeftChar(),o=r.getRightChar();if(o==null)return!1;let u=o.getChecksumPortion(),c=2;for(let p=1;p<this.pairs.size();++p){let w=this.pairs.get(p);u+=w.getLeftChar().getChecksumPortion(),c++;let x=w.getRightChar();x!=null&&(u+=x.getChecksumPortion(),c++)}return u%=211,211*(c-4)+u==i.getValue()}static getNextSecondBar(r,i){let o;return r.get(i)?(o=r.getNextUnset(i),o=r.getNextSet(o)):(o=r.getNextSet(i),o=r.getNextUnset(o)),o}retrieveNextPair(r,i,o){let u=i.length%2==0;this.startFromEven&&(u=!u);let c,f=!0,p=-1;do this.findNextPair(r,i,p),c=this.parseFoundFinderPattern(r,o,u),c==null?p=Oe.getNextSecondBar(r,this.startEnd[0]):f=!1;while(f);let w=this.decodeDataCharacter(r,c,u,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new Q;let x;try{x=this.decodeDataCharacter(r,c,u,!1)}catch(A){x=null,this.verbose&&console.log(A)}return new At(w,x,c,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,i,o){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f;o>=0?f=o:this.isEmptyPair(i)?f=0:f=i[i.length-1].getFinderPattern().getStartEnd()[1];let p=i.length%2!=0;this.startFromEven&&(p=!p);let w=!1;for(;f<c&&(w=!r.get(f),!!w);)f++;let x=0,A=f;for(let O=f;O<c;O++)if(r.get(O)!=w)u[x]++;else{if(x==3){if(p&&Oe.reverseCounters(u),Oe.isFinderPattern(u)){this.startEnd[0]=A,this.startEnd[1]=O;return}p&&Oe.reverseCounters(u),A+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,x--}else x++;u[x]=1,w=!w}throw new Q}static reverseCounters(r){let i=r.length;for(let o=0;o<i/2;++o){let u=r[o];r[o]=r[i-o-1],r[i-o-1]=u}}parseFoundFinderPattern(r,i,o){let u,c,f;if(o){let x=this.startEnd[0]-1;for(;x>=0&&!r.get(x);)x--;x++,u=this.startEnd[0]-x,c=x,f=this.startEnd[1]}else c=this.startEnd[0],f=r.getNextUnset(this.startEnd[1]+1),u=f-this.startEnd[1];let p=this.getDecodeFinderCounters();M.arraycopy(p,0,p,1,p.length-1),p[0]=u;let w;try{w=this.parseFinderValue(p,Oe.FINDER_PATTERNS)}catch{return null}return new wi(w,[c,f],c,f,i)}decodeDataCharacter(r,i,o,u){let c=this.getDataCharacterCounters();for(let R=0;R<c.length;R++)c[R]=0;if(u)Oe.recordPatternInReverse(r,i.getStartEnd()[0],c);else{Oe.recordPattern(r,i.getStartEnd()[1],c);for(let R=0,V=c.length-1;R<V;R++,V--){let ae=c[R];c[R]=c[V],c[V]=ae}}let f=17,p=Ve.sum(new Int32Array(c))/f,w=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(p-w)/w>.3)throw new Q;let x=this.getOddCounts(),A=this.getEvenCounts(),O=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(let R=0;R<c.length;R++){let V=1*c[R]/p,ae=V+.5;if(ae<1){if(V<.3)throw new Q;ae=1}else if(ae>8){if(V>8.7)throw new Q;ae=8}let we=R/2;(R&1)==0?(x[we]=ae,O[we]=V-ae):(A[we]=ae,P[we]=V-ae)}this.adjustOddEvenCounts(f);let W=4*i.getValue()+(o?0:2)+(u?0:1)-1,re=0,oe=0;for(let R=x.length-1;R>=0;R--){if(Oe.isNotA1left(i,o,u)){let V=Oe.WEIGHTS[W][2*R];oe+=x[R]*V}re+=x[R]}let pe=0;for(let R=A.length-1;R>=0;R--)if(Oe.isNotA1left(i,o,u)){let V=Oe.WEIGHTS[W][2*R+1];pe+=A[R]*V}let Te=oe+pe;if((re&1)!=0||re>13||re<4)throw new Q;let We=(13-re)/2,Ke=Oe.SYMBOL_WIDEST[We],je=9-Ke,nn=kr.getRSSvalue(x,Ke,!0),kt=kr.getRSSvalue(A,je,!1),Tr=Oe.EVEN_TOTAL_SUBSET[We],S=Oe.GSUM[We],E=nn*Tr+kt+S;return new lr(E,Te)}static isNotA1left(r,i,o){return!(r.getValue()==0&&i&&o)}adjustOddEvenCounts(r){let i=Ve.sum(new Int32Array(this.getOddCounts())),o=Ve.sum(new Int32Array(this.getEvenCounts())),u=!1,c=!1;i>13?c=!0:i<4&&(u=!0);let f=!1,p=!1;o>13?p=!0:o<4&&(f=!0);let w=i+o-r,x=(i&1)==1,A=(o&1)==0;if(w==1)if(x){if(A)throw new Q;c=!0}else{if(!A)throw new Q;p=!0}else if(w==-1)if(x){if(A)throw new Q;u=!0}else{if(!A)throw new Q;f=!0}else if(w==0){if(x){if(!A)throw new Q;i<o?(u=!0,p=!0):(c=!0,f=!0)}else if(A)throw new Q}else throw new Q;if(u){if(c)throw new Q;Oe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Oe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(p)throw new Q;Oe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&Oe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Oe.SYMBOL_WIDEST=[7,5,4,3,1],Oe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Oe.GSUM=[0,348,1388,2948,3988],Oe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Oe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Oe.FINDER_PAT_A=0,Oe.FINDER_PAT_B=1,Oe.FINDER_PAT_C=2,Oe.FINDER_PAT_D=3,Oe.FINDER_PAT_E=4,Oe.FINDER_PAT_F=5,Oe.FINDER_PATTERN_SEQUENCES=[[Oe.FINDER_PAT_A,Oe.FINDER_PAT_A],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_B,Oe.FINDER_PAT_B],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_C,Oe.FINDER_PAT_B,Oe.FINDER_PAT_D],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_E,Oe.FINDER_PAT_B,Oe.FINDER_PAT_D,Oe.FINDER_PAT_C],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_E,Oe.FINDER_PAT_B,Oe.FINDER_PAT_D,Oe.FINDER_PAT_D,Oe.FINDER_PAT_F],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_E,Oe.FINDER_PAT_B,Oe.FINDER_PAT_D,Oe.FINDER_PAT_E,Oe.FINDER_PAT_F,Oe.FINDER_PAT_F],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_A,Oe.FINDER_PAT_B,Oe.FINDER_PAT_B,Oe.FINDER_PAT_C,Oe.FINDER_PAT_C,Oe.FINDER_PAT_D,Oe.FINDER_PAT_D],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_A,Oe.FINDER_PAT_B,Oe.FINDER_PAT_B,Oe.FINDER_PAT_C,Oe.FINDER_PAT_C,Oe.FINDER_PAT_D,Oe.FINDER_PAT_E,Oe.FINDER_PAT_E],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_A,Oe.FINDER_PAT_B,Oe.FINDER_PAT_B,Oe.FINDER_PAT_C,Oe.FINDER_PAT_C,Oe.FINDER_PAT_D,Oe.FINDER_PAT_E,Oe.FINDER_PAT_F,Oe.FINDER_PAT_F],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_A,Oe.FINDER_PAT_B,Oe.FINDER_PAT_B,Oe.FINDER_PAT_C,Oe.FINDER_PAT_D,Oe.FINDER_PAT_D,Oe.FINDER_PAT_E,Oe.FINDER_PAT_E,Oe.FINDER_PAT_F,Oe.FINDER_PAT_F]],Oe.MAX_PAIRS=11;class Kn extends lr{constructor(r,i,o){super(r,i),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Nt extends dn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,i,o){const u=this.decodePair(i,!1,r,o);Nt.addOrTally(this.possibleLeftPairs,u),i.reverse();let c=this.decodePair(i,!0,r,o);Nt.addOrTally(this.possibleRightPairs,c),i.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let p of this.possibleRightPairs)if(p.getCount()>1&&Nt.checkChecksum(f,p))return Nt.constructResult(f,p)}throw new Q}static addOrTally(r,i){if(i==null)return;let o=!1;for(let u of r)if(u.getValue()===i.getValue()){u.incrementCount(),o=!0;break}o||r.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,i){let o=4537077*r.getValue()+i.getValue(),u=new String(o).toString(),c=new be;for(let x=13-u.length;x>0;x--)c.append("0");c.append(u);let f=0;for(let x=0;x<13;x++){let A=c.charAt(x).charCodeAt(0)-"0".charCodeAt(0);f+=(x&1)===0?3*A:A}f=10-f%10,f===10&&(f=0),c.append(f.toString());let p=r.getFinderPattern().getResultPoints(),w=i.getFinderPattern().getResultPoints();return new ct(c.toString(),null,0,[p[0],p[1],w[0],w[1]],ge.RSS_14,new Date().getTime())}static checkChecksum(r,i){let o=(r.getChecksumPortion()+16*i.getChecksumPortion())%79,u=9*r.getFinderPattern().getValue()+i.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,o===u}decodePair(r,i,o,u){try{let c=this.findFinderPattern(r,i),f=this.parseFoundFinderPattern(r,o,i,c),p=u==null?null:u.get(K.NEED_RESULT_POINT_CALLBACK);if(p!=null){let A=(c[0]+c[1])/2;i&&(A=r.getSize()-1-A),p.foundPossibleResultPoint(new ye(A,o))}let w=this.decodeDataCharacter(r,f,!0),x=this.decodeDataCharacter(r,f,!1);return new Kn(1597*w.getValue()+x.getValue(),w.getChecksumPortion()+4*x.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(r,i,o){let u=this.getDataCharacterCounters();for(let pe=0;pe<u.length;pe++)u[pe]=0;if(o)Dt.recordPatternInReverse(r,i.getStartEnd()[0],u);else{Dt.recordPattern(r,i.getStartEnd()[1]+1,u);for(let pe=0,Te=u.length-1;pe<Te;pe++,Te--){let We=u[pe];u[pe]=u[Te],u[Te]=We}}let c=o?16:15,f=Ve.sum(new Int32Array(u))/c,p=this.getOddCounts(),w=this.getEvenCounts(),x=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let pe=0;pe<u.length;pe++){let Te=u[pe]/f,We=Math.floor(Te+.5);We<1?We=1:We>8&&(We=8);let Ke=Math.floor(pe/2);(pe&1)===0?(p[Ke]=We,x[Ke]=Te-We):(w[Ke]=We,A[Ke]=Te-We)}this.adjustOddEvenCounts(o,c);let O=0,P=0;for(let pe=p.length-1;pe>=0;pe--)P*=9,P+=p[pe],O+=p[pe];let W=0,re=0;for(let pe=w.length-1;pe>=0;pe--)W*=9,W+=w[pe],re+=w[pe];let oe=P+3*W;if(o){if((O&1)!==0||O>12||O<4)throw new Q;let pe=(12-O)/2,Te=Nt.OUTSIDE_ODD_WIDEST[pe],We=9-Te,Ke=kr.getRSSvalue(p,Te,!1),je=kr.getRSSvalue(w,We,!0),nn=Nt.OUTSIDE_EVEN_TOTAL_SUBSET[pe],kt=Nt.OUTSIDE_GSUM[pe];return new lr(Ke*nn+je+kt,oe)}else{if((re&1)!==0||re>10||re<4)throw new Q;let pe=(10-re)/2,Te=Nt.INSIDE_ODD_WIDEST[pe],We=9-Te,Ke=kr.getRSSvalue(p,Te,!0),je=kr.getRSSvalue(w,We,!1),nn=Nt.INSIDE_ODD_TOTAL_SUBSET[pe],kt=Nt.INSIDE_GSUM[pe];return new lr(je*nn+Ke+kt,oe)}}findFinderPattern(r,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=r.getSize(),c=!1,f=0;for(;f<u&&(c=!r.get(f),i!==c);)f++;let p=0,w=f;for(let x=f;x<u;x++)if(r.get(x)!==c)o[p]++;else{if(p===3){if(dn.isFinderPattern(o))return[w,x];w+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,p--}else p++;o[p]=1,c=!c}throw new Q}parseFoundFinderPattern(r,i,o,u){let c=r.get(u[0]),f=u[0]-1;for(;f>=0&&c!==r.get(f);)f--;f++;const p=u[0]-f,w=this.getDecodeFinderCounters(),x=new Int32Array(w.length);M.arraycopy(w,0,x,1,w.length-1),x[0]=p;const A=this.parseFinderValue(x,Nt.FINDER_PATTERNS);let O=f,P=u[1];return o&&(O=r.getSize()-1-O,P=r.getSize()-1-P),new wi(A,[f,u[1]],O,P,i)}adjustOddEvenCounts(r,i){let o=Ve.sum(new Int32Array(this.getOddCounts())),u=Ve.sum(new Int32Array(this.getEvenCounts())),c=!1,f=!1,p=!1,w=!1;r?(o>12?f=!0:o<4&&(c=!0),u>12?w=!0:u<4&&(p=!0)):(o>11?f=!0:o<5&&(c=!0),u>10?w=!0:u<4&&(p=!0));let x=o+u-i,A=(o&1)===(r?1:0),O=(u&1)===1;if(x===1)if(A){if(O)throw new Q;f=!0}else{if(!O)throw new Q;w=!0}else if(x===-1)if(A){if(O)throw new Q;c=!0}else{if(!O)throw new Q;p=!0}else if(x===0){if(A){if(!O)throw new Q;o<u?(c=!0,w=!0):(f=!0,p=!0)}else if(O)throw new Q}else throw new Q;if(c){if(f)throw new Q;dn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&dn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(w)throw new Q;dn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&dn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Nt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Nt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Nt.OUTSIDE_GSUM=[0,161,961,2015,2715],Nt.INSIDE_GSUM=[0,336,1036,1516],Nt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Nt.INSIDE_ODD_WIDEST=[2,4,6,8],Nt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Gr extends Dt{constructor(r,i){super(),this.readers=[],this.verbose=i===!0;const o=r?r.get(K.POSSIBLE_FORMATS):null,u=r&&r.get(K.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(ge.EAN_13)||o.includes(ge.UPC_A)||o.includes(ge.EAN_8)||o.includes(ge.UPC_E))&&this.readers.push(new di(r)),o.includes(ge.CODE_39)&&this.readers.push(new Jt(u)),o.includes(ge.CODE_128)&&this.readers.push(new Ue),o.includes(ge.ITF)&&this.readers.push(new Ot),o.includes(ge.RSS_14)&&this.readers.push(new Nt),o.includes(ge.RSS_EXPANDED)&&this.readers.push(new Oe(this.verbose))):(this.readers.push(new di(r)),this.readers.push(new Jt),this.readers.push(new di(r)),this.readers.push(new Ue),this.readers.push(new Ot),this.readers.push(new Nt),this.readers.push(new Oe(this.verbose)))}decodeRow(r,i,o){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(r,i,o)}catch{}throw new Q}reset(){this.readers.forEach(r=>r.reset())}}class Tc extends Je{constructor(r=500,i){super(new Gr(i),r,i)}}class cn{constructor(r,i,o){this.ecCodewords=r,this.ecBlocks=[i],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class an{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class tn{constructor(r,i,o,u,c,f){this.versionNumber=r,this.symbolSizeRows=i,this.symbolSizeColumns=o,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=c,this.ecBlocks=f;let p=0;const w=f.getECCodewords(),x=f.getECBlocks();for(let A of x)p+=A.getCount()*(A.getDataCodewords()+w);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,i){if((r&1)!==0||(i&1)!==0)throw new N;for(let o of tn.VERSIONS)if(o.symbolSizeRows===r&&o.symbolSizeColumns===i)return o;throw new N}toString(){return""+this.versionNumber}static buildVersions(){return[new tn(1,10,10,8,8,new cn(5,new an(1,3))),new tn(2,12,12,10,10,new cn(7,new an(1,5))),new tn(3,14,14,12,12,new cn(10,new an(1,8))),new tn(4,16,16,14,14,new cn(12,new an(1,12))),new tn(5,18,18,16,16,new cn(14,new an(1,18))),new tn(6,20,20,18,18,new cn(18,new an(1,22))),new tn(7,22,22,20,20,new cn(20,new an(1,30))),new tn(8,24,24,22,22,new cn(24,new an(1,36))),new tn(9,26,26,24,24,new cn(28,new an(1,44))),new tn(10,32,32,14,14,new cn(36,new an(1,62))),new tn(11,36,36,16,16,new cn(42,new an(1,86))),new tn(12,40,40,18,18,new cn(48,new an(1,114))),new tn(13,44,44,20,20,new cn(56,new an(1,144))),new tn(14,48,48,22,22,new cn(68,new an(1,174))),new tn(15,52,52,24,24,new cn(42,new an(2,102))),new tn(16,64,64,14,14,new cn(56,new an(2,140))),new tn(17,72,72,16,16,new cn(36,new an(4,92))),new tn(18,80,80,18,18,new cn(48,new an(4,114))),new tn(19,88,88,20,20,new cn(56,new an(4,144))),new tn(20,96,96,22,22,new cn(68,new an(4,174))),new tn(21,104,104,24,24,new cn(56,new an(6,136))),new tn(22,120,120,18,18,new cn(68,new an(6,175))),new tn(23,132,132,20,20,new cn(62,new an(8,163))),new tn(24,144,144,22,22,new cn(62,new an(8,156),new an(2,155))),new tn(25,8,18,6,16,new cn(7,new an(1,5))),new tn(26,8,32,6,14,new cn(11,new an(1,10))),new tn(27,12,26,10,24,new cn(14,new an(1,16))),new tn(28,12,36,10,16,new cn(18,new an(1,22))),new tn(29,16,36,14,16,new cn(24,new an(1,32))),new tn(30,16,48,14,22,new cn(28,new an(1,49)))]}}tn.VERSIONS=tn.buildVersions();class Na{constructor(r){const i=r.getHeight();if(i<8||i>144||(i&1)!==0)throw new N;this.version=Na.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new ne(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const i=r.getHeight(),o=r.getWidth();return tn.getVersionForDimensions(i,o)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let i=0,o=4,u=0;const c=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let p=!1,w=!1,x=!1,A=!1;do if(o===c&&u===0&&!p)r[i++]=this.readCorner1(c,f)&255,o-=2,u+=2,p=!0;else if(o===c-2&&u===0&&(f&3)!==0&&!w)r[i++]=this.readCorner2(c,f)&255,o-=2,u+=2,w=!0;else if(o===c+4&&u===2&&(f&7)===0&&!x)r[i++]=this.readCorner3(c,f)&255,o-=2,u+=2,x=!0;else if(o===c-2&&u===0&&(f&7)===4&&!A)r[i++]=this.readCorner4(c,f)&255,o-=2,u+=2,A=!0;else{do o<c&&u>=0&&!this.readMappingMatrix.get(u,o)&&(r[i++]=this.readUtah(o,u,c,f)&255),o-=2,u+=2;while(o>=0&&u<f);o+=1,u+=3;do o>=0&&u<f&&!this.readMappingMatrix.get(u,o)&&(r[i++]=this.readUtah(o,u,c,f)&255),o+=2,u-=2;while(o<c&&u>=0);o+=3,u+=1}while(o<c||u<f);if(i!==this.version.getTotalCodewords())throw new N;return r}readModule(r,i,o,u){return r<0&&(r+=o,i+=4-(o+4&7)),i<0&&(i+=u,r+=4-(u+4&7)),this.readMappingMatrix.set(i,r),this.mappingBitMatrix.get(i,r)}readUtah(r,i,o,u){let c=0;return this.readModule(r-2,i-2,o,u)&&(c|=1),c<<=1,this.readModule(r-2,i-1,o,u)&&(c|=1),c<<=1,this.readModule(r-1,i-2,o,u)&&(c|=1),c<<=1,this.readModule(r-1,i-1,o,u)&&(c|=1),c<<=1,this.readModule(r-1,i,o,u)&&(c|=1),c<<=1,this.readModule(r,i-2,o,u)&&(c|=1),c<<=1,this.readModule(r,i-1,o,u)&&(c|=1),c<<=1,this.readModule(r,i,o,u)&&(c|=1),c}readCorner1(r,i){let o=0;return this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,1,r,i)&&(o|=1),o<<=1,this.readModule(r-1,2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o<<=1,this.readModule(2,i-1,r,i)&&(o|=1),o<<=1,this.readModule(3,i-1,r,i)&&(o|=1),o}readCorner2(r,i){let o=0;return this.readModule(r-3,0,r,i)&&(o|=1),o<<=1,this.readModule(r-2,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(0,i-4,r,i)&&(o|=1),o<<=1,this.readModule(0,i-3,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o}readCorner3(r,i){let o=0;return this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,i-1,r,i)&&(o|=1),o<<=1,this.readModule(0,i-3,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-3,r,i)&&(o|=1),o<<=1,this.readModule(1,i-2,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o}readCorner4(r,i){let o=0;return this.readModule(r-3,0,r,i)&&(o|=1),o<<=1,this.readModule(r-2,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o<<=1,this.readModule(2,i-1,r,i)&&(o|=1),o<<=1,this.readModule(3,i-1,r,i)&&(o|=1),o}extractDataRegion(r){const i=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(r.getHeight()!==i)throw new y("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),f=i/u|0,p=o/c|0,w=f*u,x=p*c,A=new ne(x,w);for(let O=0;O<f;++O){const P=O*u;for(let W=0;W<p;++W){const re=W*c;for(let oe=0;oe<u;++oe){const pe=O*(u+2)+1+oe,Te=P+oe;for(let We=0;We<c;++We){const Ke=W*(c+2)+1+We;if(r.get(Ke,pe)){const je=re+We;A.set(je,Te)}}}}}return A}}class vs{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i){const o=i.getECBlocks();let u=0;const c=o.getECBlocks();for(let oe of c)u+=oe.getCount();const f=new Array(u);let p=0;for(let oe of c)for(let pe=0;pe<oe.getCount();pe++){const Te=oe.getDataCodewords(),We=o.getECCodewords()+Te;f[p++]=new vs(Te,new Uint8Array(We))}const x=f[0].codewords.length-o.getECCodewords(),A=x-1;let O=0;for(let oe=0;oe<A;oe++)for(let pe=0;pe<p;pe++)f[pe].codewords[oe]=r[O++];const P=i.getVersionNumber()===24,W=P?8:p;for(let oe=0;oe<W;oe++)f[oe].codewords[x-1]=r[O++];const re=f[0].codewords.length;for(let oe=x;oe<re;oe++)for(let pe=0;pe<p;pe++){const Te=P?(pe+8)%p:pe,We=P&&Te>7?oe-1:oe;f[Te].codewords[We]=r[O++]}if(O!==r.length)throw new y;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Po{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new y(""+r);let i=0,o=this.bitOffset,u=this.byteOffset;const c=this.bytes;if(o>0){const f=8-o,p=r<f?r:f,w=f-p,x=255>>8-p<<w;i=(c[u]&x)>>w,r-=p,o+=p,o===8&&(o=0,u++)}if(r>0){for(;r>=8;)i=i<<8|c[u]&255,u++,r-=8;if(r>0){const f=8-r,p=255>>f<<f;i=i<<r|(c[u]&p)>>f,o+=r}}return this.bitOffset=o,this.byteOffset=u,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Zn;(function(I){I[I.PAD_ENCODE=0]="PAD_ENCODE",I[I.ASCII_ENCODE=1]="ASCII_ENCODE",I[I.C40_ENCODE=2]="C40_ENCODE",I[I.TEXT_ENCODE=3]="TEXT_ENCODE",I[I.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",I[I.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",I[I.BASE256_ENCODE=6]="BASE256_ENCODE"})(Zn||(Zn={}));class ni{static decode(r){const i=new Po(r),o=new be,u=new be,c=new Array;let f=Zn.ASCII_ENCODE;do if(f===Zn.ASCII_ENCODE)f=this.decodeAsciiSegment(i,o,u);else{switch(f){case Zn.C40_ENCODE:this.decodeC40Segment(i,o);break;case Zn.TEXT_ENCODE:this.decodeTextSegment(i,o);break;case Zn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,o);break;case Zn.EDIFACT_ENCODE:this.decodeEdifactSegment(i,o);break;case Zn.BASE256_ENCODE:this.decodeBase256Segment(i,o,c);break;default:throw new N}f=Zn.ASCII_ENCODE}while(f!==Zn.PAD_ENCODE&&i.available()>0);return u.length()>0&&o.append(u.toString()),new ve(r,o.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(r,i,o){let u=!1;do{let c=r.readBits(8);if(c===0)throw new N;if(c<=128)return u&&(c+=128),i.append(String.fromCharCode(c-1)),Zn.ASCII_ENCODE;if(c===129)return Zn.PAD_ENCODE;if(c<=229){const f=c-130;f<10&&i.append("0"),i.append(""+f)}else switch(c){case 230:return Zn.C40_ENCODE;case 231:return Zn.BASE256_ENCODE;case 232:i.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:u=!0;break;case 236:i.append("[)>05"),o.insert(0,"");break;case 237:i.append("[)>06"),o.insert(0,"");break;case 238:return Zn.ANSIX12_ENCODE;case 239:return Zn.TEXT_ENCODE;case 240:return Zn.EDIFACT_ENCODE;case 241:break;default:if(c!==254||r.available()!==0)throw new N;break}}while(r.available()>0);return Zn.ASCII_ENCODE}static decodeC40Segment(r,i){let o=!1;const u=[];let c=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),u);for(let p=0;p<3;p++){const w=u[p];switch(c){case 0:if(w<3)c=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[w];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else throw new N;break;case 1:o?(i.append(String.fromCharCode(w+128)),o=!1):i.append(String.fromCharCode(w)),c=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[w];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else switch(w){case 27:i.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new N}c=0;break;case 3:o?(i.append(String.fromCharCode(w+224)),o=!1):i.append(String.fromCharCode(w+96)),c=0;break;default:throw new N}}}while(r.available()>0)}static decodeTextSegment(r,i){let o=!1,u=[],c=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),u);for(let p=0;p<3;p++){const w=u[p];switch(c){case 0:if(w<3)c=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[w];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else throw new N;break;case 1:o?(i.append(String.fromCharCode(w+128)),o=!1):i.append(String.fromCharCode(w)),c=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[w];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else switch(w){case 27:i.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new N}c=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[w];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x),c=0}else throw new N;break;default:throw new N}}}while(r.available()>0)}static decodeAnsiX12Segment(r,i){const o=[];do{if(r.available()===8)return;const u=r.readBits(8);if(u===254)return;this.parseTwoBytes(u,r.readBits(8),o);for(let c=0;c<3;c++){const f=o[c];switch(f){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(f<14)i.append(String.fromCharCode(f+44));else if(f<40)i.append(String.fromCharCode(f+51));else throw new N;break}}}while(r.available()>0)}static parseTwoBytes(r,i,o){let u=(r<<8)+i-1,c=Math.floor(u/1600);o[0]=c,u-=c*1600,c=Math.floor(u/40),o[1]=c,o[2]=u-c*40}static decodeEdifactSegment(r,i){do{if(r.available()<=16)return;for(let o=0;o<4;o++){let u=r.readBits(6);if(u===31){const c=8-r.getBitOffset();c!==8&&r.readBits(c);return}(u&32)===0&&(u|=64),i.append(String.fromCharCode(u))}}while(r.available()>0)}static decodeBase256Segment(r,i,o){let u=1+r.getByteOffset();const c=this.unrandomize255State(r.readBits(8),u++);let f;if(c===0?f=r.available()/8|0:c<250?f=c:f=250*(c-249)+this.unrandomize255State(r.readBits(8),u++),f<0)throw new N;const p=new Uint8Array(f);for(let w=0;w<f;w++){if(r.available()<8)throw new N;p[w]=this.unrandomize255State(r.readBits(8),u++)}o.push(p);try{i.append(me.decode(p,q.ISO88591))}catch(w){throw new fe("Platform does not support required encoding: "+w.message)}}static unrandomize255State(r,i){const o=149*i%255+1,u=r-o;return u>=0?u:u+256}}ni.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ni.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ni.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ni.TEXT_SHIFT2_SET_CHARS=ni.C40_SHIFT2_SET_CHARS,ni.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Hl{constructor(){this.rsDecoder=new Fe(F.DATA_MATRIX_FIELD_256)}decode(r){const i=new Na(r),o=i.getVersion(),u=i.readCodewords(),c=vs.getDataBlocks(u,o);let f=0;for(let x of c)f+=x.getNumDataCodewords();const p=new Uint8Array(f),w=c.length;for(let x=0;x<w;x++){const A=c[x],O=A.getCodewords(),P=A.getNumDataCodewords();this.correctErrors(O,P);for(let W=0;W<P;W++)p[W*w+x]=O[W]}return ni.decode(p)}correctErrors(r,i){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-i)}catch{throw new b}for(let u=0;u<i;u++)r[u]=o[u]}}class $t{constructor(r){this.image=r,this.rectangleDetector=new Le(this.image)}detect(){const r=this.rectangleDetector.detect();let i=this.detectSolid1(r);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new Q;i=this.shiftToModuleCenter(i);const o=i[0],u=i[1],c=i[2],f=i[3];let p=this.transitionsBetween(o,f)+1,w=this.transitionsBetween(c,f)+1;(p&1)===1&&(p+=1),(w&1)===1&&(w+=1),4*p<7*w&&4*w<7*p&&(p=w=Math.max(p,w));let x=$t.sampleGrid(this.image,o,u,c,f,p,w);return new ce(x,[o,u,c,f])}static shiftPoint(r,i,o){let u=(i.getX()-r.getX())/(o+1),c=(i.getY()-r.getY())/(o+1);return new ye(r.getX()+u,r.getY()+c)}static moveAway(r,i,o){let u=r.getX(),c=r.getY();return u<i?u-=1:u+=1,c<o?c-=1:c+=1,new ye(u,c)}detectSolid1(r){let i=r[0],o=r[1],u=r[3],c=r[2],f=this.transitionsBetween(i,o),p=this.transitionsBetween(o,u),w=this.transitionsBetween(u,c),x=this.transitionsBetween(c,i),A=f,O=[c,i,o,u];return A>p&&(A=p,O[0]=i,O[1]=o,O[2]=u,O[3]=c),A>w&&(A=w,O[0]=o,O[1]=u,O[2]=c,O[3]=i),A>x&&(O[0]=u,O[1]=c,O[2]=i,O[3]=o),O}detectSolid2(r){let i=r[0],o=r[1],u=r[2],c=r[3],f=this.transitionsBetween(i,c),p=$t.shiftPoint(o,u,(f+1)*4),w=$t.shiftPoint(u,o,(f+1)*4),x=this.transitionsBetween(p,i),A=this.transitionsBetween(w,c);return x<A?(r[0]=i,r[1]=o,r[2]=u,r[3]=c):(r[0]=o,r[1]=u,r[2]=c,r[3]=i),r}correctTopRight(r){let i=r[0],o=r[1],u=r[2],c=r[3],f=this.transitionsBetween(i,c),p=this.transitionsBetween(o,c),w=$t.shiftPoint(i,o,(p+1)*4),x=$t.shiftPoint(u,o,(f+1)*4);f=this.transitionsBetween(w,c),p=this.transitionsBetween(x,c);let A=new ye(c.getX()+(u.getX()-o.getX())/(f+1),c.getY()+(u.getY()-o.getY())/(f+1)),O=new ye(c.getX()+(i.getX()-o.getX())/(p+1),c.getY()+(i.getY()-o.getY())/(p+1));if(!this.isValid(A))return this.isValid(O)?O:null;if(!this.isValid(O))return A;let P=this.transitionsBetween(w,A)+this.transitionsBetween(x,A),W=this.transitionsBetween(w,O)+this.transitionsBetween(x,O);return P>W?A:O}shiftToModuleCenter(r){let i=r[0],o=r[1],u=r[2],c=r[3],f=this.transitionsBetween(i,c)+1,p=this.transitionsBetween(u,c)+1,w=$t.shiftPoint(i,o,p*4),x=$t.shiftPoint(u,o,f*4);f=this.transitionsBetween(w,c)+1,p=this.transitionsBetween(x,c)+1,(f&1)===1&&(f+=1),(p&1)===1&&(p+=1);let A=(i.getX()+o.getX()+u.getX()+c.getX())/4,O=(i.getY()+o.getY()+u.getY()+c.getY())/4;i=$t.moveAway(i,A,O),o=$t.moveAway(o,A,O),u=$t.moveAway(u,A,O),c=$t.moveAway(c,A,O);let P,W;return w=$t.shiftPoint(i,o,p*4),w=$t.shiftPoint(w,c,f*4),P=$t.shiftPoint(o,i,p*4),P=$t.shiftPoint(P,u,f*4),x=$t.shiftPoint(u,c,p*4),x=$t.shiftPoint(x,o,f*4),W=$t.shiftPoint(c,u,p*4),W=$t.shiftPoint(W,i,f*4),[w,P,x,W]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,i,o,u,c,f,p){return ot.getInstance().sampleGrid(r,f,p,.5,.5,f-.5,.5,f-.5,p-.5,.5,p-.5,i.getX(),i.getY(),c.getX(),c.getY(),u.getX(),u.getY(),o.getX(),o.getY())}transitionsBetween(r,i){let o=Math.trunc(r.getX()),u=Math.trunc(r.getY()),c=Math.trunc(i.getX()),f=Math.trunc(i.getY()),p=Math.abs(f-u)>Math.abs(c-o);if(p){let oe=o;o=u,u=oe,oe=c,c=f,f=oe}let w=Math.abs(c-o),x=Math.abs(f-u),A=-w/2,O=u<f?1:-1,P=o<c?1:-1,W=0,re=this.image.get(p?u:o,p?o:u);for(let oe=o,pe=u;oe!==c;oe+=P){let Te=this.image.get(p?pe:oe,p?oe:pe);if(Te!==re&&(W++,re=Te),A+=x,A>0){if(pe===f)break;pe+=O,A-=w}}return W}}class Ri{constructor(){this.decoder=new Hl}decode(r,i=null){let o,u;if(i!=null&&i.has(K.PURE_BARCODE)){const x=Ri.extractPureBits(r.getBlackMatrix());o=this.decoder.decode(x),u=Ri.NO_POINTS}else{const x=new $t(r.getBlackMatrix()).detect();o=this.decoder.decode(x.getBits()),u=x.getPoints()}const c=o.getRawBytes(),f=new ct(o.getText(),c,8*c.length,u,ge.DATA_MATRIX,M.currentTimeMillis()),p=o.getByteSegments();p!=null&&f.putMetadata(Be.BYTE_SEGMENTS,p);const w=o.getECLevel();return w!=null&&f.putMetadata(Be.ERROR_CORRECTION_LEVEL,w),f}reset(){}static extractPureBits(r){const i=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(i==null||o==null)throw new Q;const u=this.moduleSize(i,r);let c=i[1];const f=o[1];let p=i[0];const x=(o[0]-p+1)/u,A=(f-c+1)/u;if(x<=0||A<=0)throw new Q;const O=u/2;c+=O,p+=O;const P=new ne(x,A);for(let W=0;W<A;W++){const re=c+W*u;for(let oe=0;oe<x;oe++)r.get(p+oe*u,re)&&P.set(oe,W)}return P}static moduleSize(r,i){const o=i.getWidth();let u=r[0];const c=r[1];for(;u<o&&i.get(u,c);)u++;if(u===o)throw new Q;const f=u-r[0];if(f===0)throw new Q;return f}}Ri.NO_POINTS=[];class Ic extends Je{constructor(r=500){super(new Ri,r)}}var br;(function(I){I[I.L=0]="L",I[I.M=1]="M",I[I.Q=2]="Q",I[I.H=3]="H"})(br||(br={}));class bn{constructor(r,i,o){this.value=r,this.stringValue=i,this.bits=o,bn.FOR_BITS.set(o,this),bn.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return bn.L;case"M":return bn.M;case"Q":return bn.Q;case"H":return bn.H;default:throw new v(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof bn))return!1;const i=r;return this.value===i.value}static forBits(r){if(r<0||r>=bn.FOR_BITS.size)throw new y;return bn.FOR_BITS.get(r)}}bn.FOR_BITS=new Map,bn.FOR_VALUE=new Map,bn.L=new bn(br.L,"L",1),bn.M=new bn(br.M,"M",0),bn.Q=new bn(br.Q,"Q",3),bn.H=new bn(br.H,"H",2);class cr{constructor(r){this.errorCorrectionLevel=bn.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,i){return D.bitCount(r^i)}static decodeFormatInformation(r,i){const o=cr.doDecodeFormatInformation(r,i);return o!==null?o:cr.doDecodeFormatInformation(r^cr.FORMAT_INFO_MASK_QR,i^cr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,i){let o=Number.MAX_SAFE_INTEGER,u=0;for(const c of cr.FORMAT_INFO_DECODE_LOOKUP){const f=c[0];if(f===r||f===i)return new cr(c[1]);let p=cr.numBitsDiffering(r,f);p<o&&(u=c[1],o=p),r!==i&&(p=cr.numBitsDiffering(i,f),p<o&&(u=c[1],o=p))}return o<=3?new cr(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof cr))return!1;const i=r;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}cr.FORMAT_INFO_MASK_QR=21522,cr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class xe{constructor(r,...i){this.ecCodewordsPerBlock=r,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const i=this.ecBlocks;for(const o of i)r+=o.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class H{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class xt{constructor(r,i,...o){this.versionNumber=r,this.alignmentPatternCenters=i,this.ecBlocks=o;let u=0;const c=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();for(const p of f)u+=p.getCount()*(p.getDataCodewords()+c);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new N;try{return this.getVersionForNumber((r-17)/4)}catch{throw new N}}static getVersionForNumber(r){if(r<1||r>40)throw new y;return xt.VERSIONS[r-1]}static decodeVersionInformation(r){let i=Number.MAX_SAFE_INTEGER,o=0;for(let u=0;u<xt.VERSION_DECODE_INFO.length;u++){const c=xt.VERSION_DECODE_INFO[u];if(c===r)return xt.getVersionForNumber(u+7);const f=cr.numBitsDiffering(r,c);f<i&&(o=u+7,i=f)}return i<=3?xt.getVersionForNumber(o):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),i=new ne(r);i.setRegion(0,0,9,9),i.setRegion(r-8,0,8,9),i.setRegion(0,r-8,9,8);const o=this.alignmentPatternCenters.length;for(let u=0;u<o;u++){const c=this.alignmentPatternCenters[u]-2;for(let f=0;f<o;f++)u===0&&(f===0||f===o-1)||u===o-1&&f===0||i.setRegion(this.alignmentPatternCenters[f]-2,c,5,5)}return i.setRegion(6,9,1,r-17),i.setRegion(9,6,r-17,1),this.versionNumber>6&&(i.setRegion(r-11,0,3,6),i.setRegion(0,r-11,6,3)),i}toString(){return""+this.versionNumber}}xt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),xt.VERSIONS=[new xt(1,new Int32Array(0),new xe(7,new H(1,19)),new xe(10,new H(1,16)),new xe(13,new H(1,13)),new xe(17,new H(1,9))),new xt(2,Int32Array.from([6,18]),new xe(10,new H(1,34)),new xe(16,new H(1,28)),new xe(22,new H(1,22)),new xe(28,new H(1,16))),new xt(3,Int32Array.from([6,22]),new xe(15,new H(1,55)),new xe(26,new H(1,44)),new xe(18,new H(2,17)),new xe(22,new H(2,13))),new xt(4,Int32Array.from([6,26]),new xe(20,new H(1,80)),new xe(18,new H(2,32)),new xe(26,new H(2,24)),new xe(16,new H(4,9))),new xt(5,Int32Array.from([6,30]),new xe(26,new H(1,108)),new xe(24,new H(2,43)),new xe(18,new H(2,15),new H(2,16)),new xe(22,new H(2,11),new H(2,12))),new xt(6,Int32Array.from([6,34]),new xe(18,new H(2,68)),new xe(16,new H(4,27)),new xe(24,new H(4,19)),new xe(28,new H(4,15))),new xt(7,Int32Array.from([6,22,38]),new xe(20,new H(2,78)),new xe(18,new H(4,31)),new xe(18,new H(2,14),new H(4,15)),new xe(26,new H(4,13),new H(1,14))),new xt(8,Int32Array.from([6,24,42]),new xe(24,new H(2,97)),new xe(22,new H(2,38),new H(2,39)),new xe(22,new H(4,18),new H(2,19)),new xe(26,new H(4,14),new H(2,15))),new xt(9,Int32Array.from([6,26,46]),new xe(30,new H(2,116)),new xe(22,new H(3,36),new H(2,37)),new xe(20,new H(4,16),new H(4,17)),new xe(24,new H(4,12),new H(4,13))),new xt(10,Int32Array.from([6,28,50]),new xe(18,new H(2,68),new H(2,69)),new xe(26,new H(4,43),new H(1,44)),new xe(24,new H(6,19),new H(2,20)),new xe(28,new H(6,15),new H(2,16))),new xt(11,Int32Array.from([6,30,54]),new xe(20,new H(4,81)),new xe(30,new H(1,50),new H(4,51)),new xe(28,new H(4,22),new H(4,23)),new xe(24,new H(3,12),new H(8,13))),new xt(12,Int32Array.from([6,32,58]),new xe(24,new H(2,92),new H(2,93)),new xe(22,new H(6,36),new H(2,37)),new xe(26,new H(4,20),new H(6,21)),new xe(28,new H(7,14),new H(4,15))),new xt(13,Int32Array.from([6,34,62]),new xe(26,new H(4,107)),new xe(22,new H(8,37),new H(1,38)),new xe(24,new H(8,20),new H(4,21)),new xe(22,new H(12,11),new H(4,12))),new xt(14,Int32Array.from([6,26,46,66]),new xe(30,new H(3,115),new H(1,116)),new xe(24,new H(4,40),new H(5,41)),new xe(20,new H(11,16),new H(5,17)),new xe(24,new H(11,12),new H(5,13))),new xt(15,Int32Array.from([6,26,48,70]),new xe(22,new H(5,87),new H(1,88)),new xe(24,new H(5,41),new H(5,42)),new xe(30,new H(5,24),new H(7,25)),new xe(24,new H(11,12),new H(7,13))),new xt(16,Int32Array.from([6,26,50,74]),new xe(24,new H(5,98),new H(1,99)),new xe(28,new H(7,45),new H(3,46)),new xe(24,new H(15,19),new H(2,20)),new xe(30,new H(3,15),new H(13,16))),new xt(17,Int32Array.from([6,30,54,78]),new xe(28,new H(1,107),new H(5,108)),new xe(28,new H(10,46),new H(1,47)),new xe(28,new H(1,22),new H(15,23)),new xe(28,new H(2,14),new H(17,15))),new xt(18,Int32Array.from([6,30,56,82]),new xe(30,new H(5,120),new H(1,121)),new xe(26,new H(9,43),new H(4,44)),new xe(28,new H(17,22),new H(1,23)),new xe(28,new H(2,14),new H(19,15))),new xt(19,Int32Array.from([6,30,58,86]),new xe(28,new H(3,113),new H(4,114)),new xe(26,new H(3,44),new H(11,45)),new xe(26,new H(17,21),new H(4,22)),new xe(26,new H(9,13),new H(16,14))),new xt(20,Int32Array.from([6,34,62,90]),new xe(28,new H(3,107),new H(5,108)),new xe(26,new H(3,41),new H(13,42)),new xe(30,new H(15,24),new H(5,25)),new xe(28,new H(15,15),new H(10,16))),new xt(21,Int32Array.from([6,28,50,72,94]),new xe(28,new H(4,116),new H(4,117)),new xe(26,new H(17,42)),new xe(28,new H(17,22),new H(6,23)),new xe(30,new H(19,16),new H(6,17))),new xt(22,Int32Array.from([6,26,50,74,98]),new xe(28,new H(2,111),new H(7,112)),new xe(28,new H(17,46)),new xe(30,new H(7,24),new H(16,25)),new xe(24,new H(34,13))),new xt(23,Int32Array.from([6,30,54,78,102]),new xe(30,new H(4,121),new H(5,122)),new xe(28,new H(4,47),new H(14,48)),new xe(30,new H(11,24),new H(14,25)),new xe(30,new H(16,15),new H(14,16))),new xt(24,Int32Array.from([6,28,54,80,106]),new xe(30,new H(6,117),new H(4,118)),new xe(28,new H(6,45),new H(14,46)),new xe(30,new H(11,24),new H(16,25)),new xe(30,new H(30,16),new H(2,17))),new xt(25,Int32Array.from([6,32,58,84,110]),new xe(26,new H(8,106),new H(4,107)),new xe(28,new H(8,47),new H(13,48)),new xe(30,new H(7,24),new H(22,25)),new xe(30,new H(22,15),new H(13,16))),new xt(26,Int32Array.from([6,30,58,86,114]),new xe(28,new H(10,114),new H(2,115)),new xe(28,new H(19,46),new H(4,47)),new xe(28,new H(28,22),new H(6,23)),new xe(30,new H(33,16),new H(4,17))),new xt(27,Int32Array.from([6,34,62,90,118]),new xe(30,new H(8,122),new H(4,123)),new xe(28,new H(22,45),new H(3,46)),new xe(30,new H(8,23),new H(26,24)),new xe(30,new H(12,15),new H(28,16))),new xt(28,Int32Array.from([6,26,50,74,98,122]),new xe(30,new H(3,117),new H(10,118)),new xe(28,new H(3,45),new H(23,46)),new xe(30,new H(4,24),new H(31,25)),new xe(30,new H(11,15),new H(31,16))),new xt(29,Int32Array.from([6,30,54,78,102,126]),new xe(30,new H(7,116),new H(7,117)),new xe(28,new H(21,45),new H(7,46)),new xe(30,new H(1,23),new H(37,24)),new xe(30,new H(19,15),new H(26,16))),new xt(30,Int32Array.from([6,26,52,78,104,130]),new xe(30,new H(5,115),new H(10,116)),new xe(28,new H(19,47),new H(10,48)),new xe(30,new H(15,24),new H(25,25)),new xe(30,new H(23,15),new H(25,16))),new xt(31,Int32Array.from([6,30,56,82,108,134]),new xe(30,new H(13,115),new H(3,116)),new xe(28,new H(2,46),new H(29,47)),new xe(30,new H(42,24),new H(1,25)),new xe(30,new H(23,15),new H(28,16))),new xt(32,Int32Array.from([6,34,60,86,112,138]),new xe(30,new H(17,115)),new xe(28,new H(10,46),new H(23,47)),new xe(30,new H(10,24),new H(35,25)),new xe(30,new H(19,15),new H(35,16))),new xt(33,Int32Array.from([6,30,58,86,114,142]),new xe(30,new H(17,115),new H(1,116)),new xe(28,new H(14,46),new H(21,47)),new xe(30,new H(29,24),new H(19,25)),new xe(30,new H(11,15),new H(46,16))),new xt(34,Int32Array.from([6,34,62,90,118,146]),new xe(30,new H(13,115),new H(6,116)),new xe(28,new H(14,46),new H(23,47)),new xe(30,new H(44,24),new H(7,25)),new xe(30,new H(59,16),new H(1,17))),new xt(35,Int32Array.from([6,30,54,78,102,126,150]),new xe(30,new H(12,121),new H(7,122)),new xe(28,new H(12,47),new H(26,48)),new xe(30,new H(39,24),new H(14,25)),new xe(30,new H(22,15),new H(41,16))),new xt(36,Int32Array.from([6,24,50,76,102,128,154]),new xe(30,new H(6,121),new H(14,122)),new xe(28,new H(6,47),new H(34,48)),new xe(30,new H(46,24),new H(10,25)),new xe(30,new H(2,15),new H(64,16))),new xt(37,Int32Array.from([6,28,54,80,106,132,158]),new xe(30,new H(17,122),new H(4,123)),new xe(28,new H(29,46),new H(14,47)),new xe(30,new H(49,24),new H(10,25)),new xe(30,new H(24,15),new H(46,16))),new xt(38,Int32Array.from([6,32,58,84,110,136,162]),new xe(30,new H(4,122),new H(18,123)),new xe(28,new H(13,46),new H(32,47)),new xe(30,new H(48,24),new H(14,25)),new xe(30,new H(42,15),new H(32,16))),new xt(39,Int32Array.from([6,26,54,82,110,138,166]),new xe(30,new H(20,117),new H(4,118)),new xe(28,new H(40,47),new H(7,48)),new xe(30,new H(43,24),new H(22,25)),new xe(30,new H(10,15),new H(67,16))),new xt(40,Int32Array.from([6,30,58,86,114,142,170]),new xe(30,new H(19,118),new H(6,119)),new xe(28,new H(18,47),new H(31,48)),new xe(30,new H(34,24),new H(34,25)),new xe(30,new H(20,15),new H(61,16)))];var Hn;(function(I){I[I.DATA_MASK_000=0]="DATA_MASK_000",I[I.DATA_MASK_001=1]="DATA_MASK_001",I[I.DATA_MASK_010=2]="DATA_MASK_010",I[I.DATA_MASK_011=3]="DATA_MASK_011",I[I.DATA_MASK_100=4]="DATA_MASK_100",I[I.DATA_MASK_101=5]="DATA_MASK_101",I[I.DATA_MASK_110=6]="DATA_MASK_110",I[I.DATA_MASK_111=7]="DATA_MASK_111"})(Hn||(Hn={}));class Yr{constructor(r,i){this.value=r,this.isMasked=i}unmaskBitMatrix(r,i){for(let o=0;o<i;o++)for(let u=0;u<i;u++)this.isMasked(o,u)&&r.flip(u,o)}}Yr.values=new Map([[Hn.DATA_MASK_000,new Yr(Hn.DATA_MASK_000,(I,r)=>(I+r&1)===0)],[Hn.DATA_MASK_001,new Yr(Hn.DATA_MASK_001,(I,r)=>(I&1)===0)],[Hn.DATA_MASK_010,new Yr(Hn.DATA_MASK_010,(I,r)=>r%3===0)],[Hn.DATA_MASK_011,new Yr(Hn.DATA_MASK_011,(I,r)=>(I+r)%3===0)],[Hn.DATA_MASK_100,new Yr(Hn.DATA_MASK_100,(I,r)=>(Math.floor(I/2)+Math.floor(r/3)&1)===0)],[Hn.DATA_MASK_101,new Yr(Hn.DATA_MASK_101,(I,r)=>I*r%6===0)],[Hn.DATA_MASK_110,new Yr(Hn.DATA_MASK_110,(I,r)=>I*r%6<3)],[Hn.DATA_MASK_111,new Yr(Hn.DATA_MASK_111,(I,r)=>(I+r+I*r%3&1)===0)]]);class Pa{constructor(r){const i=r.getHeight();if(i<21||(i&3)!==1)throw new N;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let c=0;c<6;c++)r=this.copyBit(c,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let c=5;c>=0;c--)r=this.copyBit(8,c,r);const i=this.bitMatrix.getHeight();let o=0;const u=i-7;for(let c=i-1;c>=u;c--)o=this.copyBit(8,c,o);for(let c=i-8;c<i;c++)o=this.copyBit(c,8,o);if(this.parsedFormatInfo=cr.decodeFormatInformation(r,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new N}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),i=Math.floor((r-17)/4);if(i<=6)return xt.getVersionForNumber(i);let o=0;const u=r-11;for(let f=5;f>=0;f--)for(let p=r-9;p>=u;p--)o=this.copyBit(p,f,o);let c=xt.decodeVersionInformation(o);if(c!==null&&c.getDimensionForVersion()===r)return this.parsedVersion=c,c;o=0;for(let f=5;f>=0;f--)for(let p=r-9;p>=u;p--)o=this.copyBit(f,p,o);if(c=xt.decodeVersionInformation(o),c!==null&&c.getDimensionForVersion()===r)return this.parsedVersion=c,c;throw new N}copyBit(r,i,o){return(this.isMirror?this.bitMatrix.get(i,r):this.bitMatrix.get(r,i))?o<<1|1:o<<1}readCodewords(){const r=this.readFormatInformation(),i=this.readVersion(),o=Yr.values.get(r.getDataMask()),u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u);const c=i.buildFunctionPattern();let f=!0;const p=new Uint8Array(i.getTotalCodewords());let w=0,x=0,A=0;for(let O=u-1;O>0;O-=2){O===6&&O--;for(let P=0;P<u;P++){const W=f?u-1-P:P;for(let re=0;re<2;re++)c.get(O-re,W)||(A++,x<<=1,this.bitMatrix.get(O-re,W)&&(x|=1),A===8&&(p[w++]=x,A=0,x=0))}f=!f}if(w!==i.getTotalCodewords())throw new N;return p}remask(){if(this.parsedFormatInfo===null)return;const r=Yr.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let i=0,o=r.getWidth();i<o;i++)for(let u=i+1,c=r.getHeight();u<c;u++)r.get(i,u)!==r.get(u,i)&&(r.flip(u,i),r.flip(i,u))}}class La{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i,o){if(r.length!==i.getTotalCodewords())throw new y;const u=i.getECBlocksForLevel(o);let c=0;const f=u.getECBlocks();for(const re of f)c+=re.getCount();const p=new Array(c);let w=0;for(const re of f)for(let oe=0;oe<re.getCount();oe++){const pe=re.getDataCodewords(),Te=u.getECCodewordsPerBlock()+pe;p[w++]=new La(pe,new Uint8Array(Te))}const x=p[0].codewords.length;let A=p.length-1;for(;A>=0&&p[A].codewords.length!==x;)A--;A++;const O=x-u.getECCodewordsPerBlock();let P=0;for(let re=0;re<O;re++)for(let oe=0;oe<w;oe++)p[oe].codewords[re]=r[P++];for(let re=A;re<w;re++)p[re].codewords[O]=r[P++];const W=p[0].codewords.length;for(let re=O;re<W;re++)for(let oe=0;oe<w;oe++){const pe=oe<A?re:re+1;p[oe].codewords[pe]=r[P++]}return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var $r;(function(I){I[I.TERMINATOR=0]="TERMINATOR",I[I.NUMERIC=1]="NUMERIC",I[I.ALPHANUMERIC=2]="ALPHANUMERIC",I[I.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",I[I.BYTE=4]="BYTE",I[I.ECI=5]="ECI",I[I.KANJI=6]="KANJI",I[I.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",I[I.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",I[I.HANZI=9]="HANZI"})($r||($r={}));class _t{constructor(r,i,o,u){this.value=r,this.stringValue=i,this.characterCountBitsForVersions=o,this.bits=u,_t.FOR_BITS.set(u,this),_t.FOR_VALUE.set(r,this)}static forBits(r){const i=_t.FOR_BITS.get(r);if(i===void 0)throw new y;return i}getCharacterCountBits(r){const i=r.getVersionNumber();let o;return i<=9?o=0:i<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof _t))return!1;const i=r;return this.value===i.value}toString(){return this.stringValue}}_t.FOR_BITS=new Map,_t.FOR_VALUE=new Map,_t.TERMINATOR=new _t($r.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),_t.NUMERIC=new _t($r.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),_t.ALPHANUMERIC=new _t($r.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),_t.STRUCTURED_APPEND=new _t($r.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),_t.BYTE=new _t($r.BYTE,"BYTE",Int32Array.from([8,16,16]),4),_t.ECI=new _t($r.ECI,"ECI",Int32Array.from([0,0,0]),7),_t.KANJI=new _t($r.KANJI,"KANJI",Int32Array.from([8,10,12]),8),_t.FNC1_FIRST_POSITION=new _t($r.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),_t.FNC1_SECOND_POSITION=new _t($r.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),_t.HANZI=new _t($r.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class kn{static decode(r,i,o,u){const c=new Po(r);let f=new be;const p=new Array;let w=-1,x=-1;try{let A=null,O=!1,P;do{if(c.available()<4)P=_t.TERMINATOR;else{const W=c.readBits(4);P=_t.forBits(W)}switch(P){case _t.TERMINATOR:break;case _t.FNC1_FIRST_POSITION:case _t.FNC1_SECOND_POSITION:O=!0;break;case _t.STRUCTURED_APPEND:if(c.available()<16)throw new N;w=c.readBits(8),x=c.readBits(8);break;case _t.ECI:const W=kn.parseECIValue(c);if(A=B.getCharacterSetECIByValue(W),A===null)throw new N;break;case _t.HANZI:const re=c.readBits(4),oe=c.readBits(P.getCharacterCountBits(i));re===kn.GB2312_SUBSET&&kn.decodeHanziSegment(c,f,oe);break;default:const pe=c.readBits(P.getCharacterCountBits(i));switch(P){case _t.NUMERIC:kn.decodeNumericSegment(c,f,pe);break;case _t.ALPHANUMERIC:kn.decodeAlphanumericSegment(c,f,pe,O);break;case _t.BYTE:kn.decodeByteSegment(c,f,pe,A,p,u);break;case _t.KANJI:kn.decodeKanjiSegment(c,f,pe);break;default:throw new N}break}}while(P!==_t.TERMINATOR)}catch{throw new N}return new ve(r,f.toString(),p.length===0?null:p,o===null?null:o.toString(),w,x)}static decodeHanziSegment(r,i,o){if(o*13>r.available())throw new N;const u=new Uint8Array(2*o);let c=0;for(;o>0;){const f=r.readBits(13);let p=f/96<<8&4294967295|f%96;p<959?p+=41377:p+=42657,u[c]=p>>8&255,u[c+1]=p&255,c+=2,o--}try{i.append(me.decode(u,q.GB2312))}catch(f){throw new N(f)}}static decodeKanjiSegment(r,i,o){if(o*13>r.available())throw new N;const u=new Uint8Array(2*o);let c=0;for(;o>0;){const f=r.readBits(13);let p=f/192<<8&4294967295|f%192;p<7936?p+=33088:p+=49472,u[c]=p>>8,u[c+1]=p,c+=2,o--}try{i.append(me.decode(u,q.SHIFT_JIS))}catch(f){throw new N(f)}}static decodeByteSegment(r,i,o,u,c,f){if(8*o>r.available())throw new N;const p=new Uint8Array(o);for(let x=0;x<o;x++)p[x]=r.readBits(8);let w;u===null?w=q.guessEncoding(p,f):w=u.getName();try{i.append(me.decode(p,w))}catch(x){throw new N(x)}c.push(p)}static toAlphaNumericChar(r){if(r>=kn.ALPHANUMERIC_CHARS.length)throw new N;return kn.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,i,o,u){const c=i.length();for(;o>1;){if(r.available()<11)throw new N;const f=r.readBits(11);i.append(kn.toAlphaNumericChar(Math.floor(f/45))),i.append(kn.toAlphaNumericChar(f%45)),o-=2}if(o===1){if(r.available()<6)throw new N;i.append(kn.toAlphaNumericChar(r.readBits(6)))}if(u)for(let f=c;f<i.length();f++)i.charAt(f)==="%"&&(f<i.length()-1&&i.charAt(f+1)==="%"?i.deleteCharAt(f+1):i.setCharAt(f,String.fromCharCode(29)))}static decodeNumericSegment(r,i,o){for(;o>=3;){if(r.available()<10)throw new N;const u=r.readBits(10);if(u>=1e3)throw new N;i.append(kn.toAlphaNumericChar(Math.floor(u/100))),i.append(kn.toAlphaNumericChar(Math.floor(u/10)%10)),i.append(kn.toAlphaNumericChar(u%10)),o-=3}if(o===2){if(r.available()<7)throw new N;const u=r.readBits(7);if(u>=100)throw new N;i.append(kn.toAlphaNumericChar(Math.floor(u/10))),i.append(kn.toAlphaNumericChar(u%10))}else if(o===1){if(r.available()<4)throw new N;const u=r.readBits(4);if(u>=10)throw new N;i.append(kn.toAlphaNumericChar(u))}}static parseECIValue(r){const i=r.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const o=r.readBits(8);return(i&63)<<8&4294967295|o}if((i&224)===192){const o=r.readBits(16);return(i&31)<<16&4294967295|o}throw new N}}kn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",kn.GB2312_SUBSET=1;class Ba{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const i=r[0];r[0]=r[2],r[2]=i}}class Xr{constructor(){this.rsDecoder=new Fe(F.QR_CODE_FIELD_256)}decodeBooleanArray(r,i){return this.decodeBitMatrix(ne.parseFromBooleanArray(r),i)}decodeBitMatrix(r,i){const o=new Pa(r);let u=null;try{return this.decodeBitMatrixParser(o,i)}catch(c){u=c}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const c=this.decodeBitMatrixParser(o,i);return c.setOther(new Ba(!0)),c}catch(c){throw u!==null?u:c}}decodeBitMatrixParser(r,i){const o=r.readVersion(),u=r.readFormatInformation().getErrorCorrectionLevel(),c=r.readCodewords(),f=La.getDataBlocks(c,o,u);let p=0;for(const A of f)p+=A.getNumDataCodewords();const w=new Uint8Array(p);let x=0;for(const A of f){const O=A.getCodewords(),P=A.getNumDataCodewords();this.correctErrors(O,P);for(let W=0;W<P;W++)w[x++]=O[W]}return kn.decode(w,o,u,i)}correctErrors(r,i){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-i)}catch{throw new b}for(let u=0;u<i;u++)r[u]=o[u]}}class Ys extends ye{constructor(r,i,o){super(r,i),this.estimatedModuleSize=o}aboutEquals(r,i,o){if(Math.abs(i-this.getY())<=r&&Math.abs(o-this.getX())<=r){const u=Math.abs(r-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(r,i,o){const u=(this.getX()+i)/2,c=(this.getY()+r)/2,f=(this.estimatedModuleSize+o)/2;return new Ys(u,c,f)}}class Lo{constructor(r,i,o,u,c,f,p){this.image=r,this.startX=i,this.startY=o,this.width=u,this.height=c,this.moduleSize=f,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,i=this.height,o=this.width,u=r+o,c=this.startY+i/2,f=new Int32Array(3),p=this.image;for(let w=0;w<i;w++){const x=c+((w&1)===0?Math.floor((w+1)/2):-Math.floor((w+1)/2));f[0]=0,f[1]=0,f[2]=0;let A=r;for(;A<u&&!p.get(A,x);)A++;let O=0;for(;A<u;){if(p.get(A,x))if(O===1)f[1]++;else if(O===2){if(this.foundPatternCross(f)){const P=this.handlePossibleCenter(f,x,A);if(P!==null)return P}f[0]=f[2],f[1]=1,f[2]=0,O=1}else f[++O]++;else O===1&&O++,f[O]++;A++}if(this.foundPatternCross(f)){const P=this.handlePossibleCenter(f,x,u);if(P!==null)return P}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Q}static centerFromEnd(r,i){return i-r[2]-r[1]/2}foundPatternCross(r){const i=this.moduleSize,o=i/2;for(let u=0;u<3;u++)if(Math.abs(i-r[u])>=o)return!1;return!0}crossCheckVertical(r,i,o,u){const c=this.image,f=c.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let w=r;for(;w>=0&&c.get(i,w)&&p[1]<=o;)p[1]++,w--;if(w<0||p[1]>o)return NaN;for(;w>=0&&!c.get(i,w)&&p[0]<=o;)p[0]++,w--;if(p[0]>o)return NaN;for(w=r+1;w<f&&c.get(i,w)&&p[1]<=o;)p[1]++,w++;if(w===f||p[1]>o)return NaN;for(;w<f&&!c.get(i,w)&&p[2]<=o;)p[2]++,w++;if(p[2]>o)return NaN;const x=p[0]+p[1]+p[2];return 5*Math.abs(x-u)>=2*u?NaN:this.foundPatternCross(p)?Lo.centerFromEnd(p,w):NaN}handlePossibleCenter(r,i,o){const u=r[0]+r[1]+r[2],c=Lo.centerFromEnd(r,o),f=this.crossCheckVertical(i,c,2*r[1],u);if(!isNaN(f)){const p=(r[0]+r[1]+r[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(p,f,c))return x.combineEstimate(f,c,p);const w=new Ys(c,f,p);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class Fa extends ye{constructor(r,i,o,u){super(r,i),this.estimatedModuleSize=o,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,i,o){if(Math.abs(i-this.getY())<=r&&Math.abs(o-this.getX())<=r){const u=Math.abs(r-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(r,i,o){const u=this.count+1,c=(this.count*this.getX()+i)/u,f=(this.count*this.getY()+r)/u,p=(this.count*this.estimatedModuleSize+o)/u;return new Fa(c,f,p,u)}}class yi{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class nr{constructor(r,i){this.image=r,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const i=r!=null&&r.get(K.TRY_HARDER)!==void 0,o=r!=null&&r.get(K.PURE_BARCODE)!==void 0,u=this.image,c=u.getHeight(),f=u.getWidth();let p=Math.floor(3*c/(4*nr.MAX_MODULES));(p<nr.MIN_SKIP||i)&&(p=nr.MIN_SKIP);let w=!1;const x=new Int32Array(5);for(let O=p-1;O<c&&!w;O+=p){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let P=0;for(let W=0;W<f;W++)if(u.get(W,O))(P&1)===1&&P++,x[P]++;else if((P&1)===0)if(P===4)if(nr.foundPatternCross(x)){if(this.handlePossibleCenter(x,O,W,o)===!0)if(p=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const oe=this.findRowSkip();oe>x[2]&&(O+=oe-x[2]-p,W=f-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,P=3;continue}P=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,P=3;else x[++P]++;else x[P]++;nr.foundPatternCross(x)&&this.handlePossibleCenter(x,O,f,o)===!0&&(p=x[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const A=this.selectBestPatterns();return ye.orderBestPatterns(A),new yi(A)}static centerFromEnd(r,i){return i-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let i=0;for(let c=0;c<5;c++){const f=r[c];if(f===0)return!1;i+=f}if(i<7)return!1;const o=i/7,u=o/2;return Math.abs(o-r[0])<u&&Math.abs(o-r[1])<u&&Math.abs(3*o-r[2])<3*u&&Math.abs(o-r[3])<u&&Math.abs(o-r[4])<u}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,i,o,u){const c=this.getCrossCheckStateCount();let f=0;const p=this.image;for(;r>=f&&i>=f&&p.get(i-f,r-f);)c[2]++,f++;if(r<f||i<f)return!1;for(;r>=f&&i>=f&&!p.get(i-f,r-f)&&c[1]<=o;)c[1]++,f++;if(r<f||i<f||c[1]>o)return!1;for(;r>=f&&i>=f&&p.get(i-f,r-f)&&c[0]<=o;)c[0]++,f++;if(c[0]>o)return!1;const w=p.getHeight(),x=p.getWidth();for(f=1;r+f<w&&i+f<x&&p.get(i+f,r+f);)c[2]++,f++;if(r+f>=w||i+f>=x)return!1;for(;r+f<w&&i+f<x&&!p.get(i+f,r+f)&&c[3]<o;)c[3]++,f++;if(r+f>=w||i+f>=x||c[3]>=o)return!1;for(;r+f<w&&i+f<x&&p.get(i+f,r+f)&&c[4]<o;)c[4]++,f++;if(c[4]>=o)return!1;const A=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(A-u)<2*u&&nr.foundPatternCross(c)}crossCheckVertical(r,i,o,u){const c=this.image,f=c.getHeight(),p=this.getCrossCheckStateCount();let w=r;for(;w>=0&&c.get(i,w);)p[2]++,w--;if(w<0)return NaN;for(;w>=0&&!c.get(i,w)&&p[1]<=o;)p[1]++,w--;if(w<0||p[1]>o)return NaN;for(;w>=0&&c.get(i,w)&&p[0]<=o;)p[0]++,w--;if(p[0]>o)return NaN;for(w=r+1;w<f&&c.get(i,w);)p[2]++,w++;if(w===f)return NaN;for(;w<f&&!c.get(i,w)&&p[3]<o;)p[3]++,w++;if(w===f||p[3]>=o)return NaN;for(;w<f&&c.get(i,w)&&p[4]<o;)p[4]++,w++;if(p[4]>=o)return NaN;const x=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(x-u)>=2*u?NaN:nr.foundPatternCross(p)?nr.centerFromEnd(p,w):NaN}crossCheckHorizontal(r,i,o,u){const c=this.image,f=c.getWidth(),p=this.getCrossCheckStateCount();let w=r;for(;w>=0&&c.get(w,i);)p[2]++,w--;if(w<0)return NaN;for(;w>=0&&!c.get(w,i)&&p[1]<=o;)p[1]++,w--;if(w<0||p[1]>o)return NaN;for(;w>=0&&c.get(w,i)&&p[0]<=o;)p[0]++,w--;if(p[0]>o)return NaN;for(w=r+1;w<f&&c.get(w,i);)p[2]++,w++;if(w===f)return NaN;for(;w<f&&!c.get(w,i)&&p[3]<o;)p[3]++,w++;if(w===f||p[3]>=o)return NaN;for(;w<f&&c.get(w,i)&&p[4]<o;)p[4]++,w++;if(p[4]>=o)return NaN;const x=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(x-u)>=u?NaN:nr.foundPatternCross(p)?nr.centerFromEnd(p,w):NaN}handlePossibleCenter(r,i,o,u){const c=r[0]+r[1]+r[2]+r[3]+r[4];let f=nr.centerFromEnd(r,o),p=this.crossCheckVertical(i,Math.floor(f),r[2],c);if(!isNaN(p)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(p),r[2],c),!isNaN(f)&&(!u||this.crossCheckDiagonal(Math.floor(p),Math.floor(f),r[2],c)))){const w=c/7;let x=!1;const A=this.possibleCenters;for(let O=0,P=A.length;O<P;O++){const W=A[O];if(W.aboutEquals(w,p,f)){A[O]=W.combineEstimate(p,f,w),x=!0;break}}if(!x){const O=new Fa(f,p,w);A.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const o of this.possibleCenters)if(o.getCount()>=nr.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,i=0;const o=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=nr.CENTER_QUORUM&&(r++,i+=f.getEstimatedModuleSize());if(r<3)return!1;const u=i/o;let c=0;for(const f of this.possibleCenters)c+=Math.abs(f.getEstimatedModuleSize()-u);return c<=.05*i}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new Q;const i=this.possibleCenters;let o;if(r>3){let u=0,c=0;for(const w of this.possibleCenters){const x=w.getEstimatedModuleSize();u+=x,c+=x*x}o=u/r;let f=Math.sqrt(c/r-o*o);i.sort((w,x)=>{const A=Math.abs(x.getEstimatedModuleSize()-o),O=Math.abs(w.getEstimatedModuleSize()-o);return A<O?-1:A>O?1:0});const p=Math.max(.2*o,f);for(let w=0;w<i.length&&i.length>3;w++){const x=i[w];Math.abs(x.getEstimatedModuleSize()-o)>p&&(i.splice(w,1),w--)}}if(i.length>3){let u=0;for(const c of i)u+=c.getEstimatedModuleSize();o=u/i.length,i.sort((c,f)=>{if(f.getCount()===c.getCount()){const p=Math.abs(f.getEstimatedModuleSize()-o),w=Math.abs(c.getEstimatedModuleSize()-o);return p<w?1:p>w?-1:0}else return f.getCount()-c.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}nr.CENTER_QUORUM=2,nr.MIN_SKIP=3,nr.MAX_MODULES=57;class Xs{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(K.NEED_RESULT_POINT_CALLBACK);const o=new nr(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(o)}processFinderPatternInfo(r){const i=r.getTopLeft(),o=r.getTopRight(),u=r.getBottomLeft(),c=this.calculateModuleSize(i,o,u);if(c<1)throw new Q("No pattern found in proccess finder.");const f=Xs.computeDimension(i,o,u,c),p=xt.getProvisionalVersionForDimension(f),w=p.getDimensionForVersion()-7;let x=null;if(p.getAlignmentPatternCenters().length>0){const W=o.getX()-i.getX()+u.getX(),re=o.getY()-i.getY()+u.getY(),oe=1-3/w,pe=Math.floor(i.getX()+oe*(W-i.getX())),Te=Math.floor(i.getY()+oe*(re-i.getY()));for(let We=4;We<=16;We<<=1)try{x=this.findAlignmentInRegion(c,pe,Te,We);break}catch(Ke){if(!(Ke instanceof Q))throw Ke}}const A=Xs.createTransform(i,o,u,x,f),O=Xs.sampleGrid(this.image,A,f);let P;return x===null?P=[u,i,o]:P=[u,i,o,x],new ce(O,P)}static createTransform(r,i,o,u,c){const f=c-3.5;let p,w,x,A;return u!==null?(p=u.getX(),w=u.getY(),x=f-3,A=x):(p=i.getX()-r.getX()+o.getX(),w=i.getY()-r.getY()+o.getY(),x=f,A=f),Qe.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,x,A,3.5,f,r.getX(),r.getY(),i.getX(),i.getY(),p,w,o.getX(),o.getY())}static sampleGrid(r,i,o){return ot.getInstance().sampleGridWithTransform(r,o,o,i)}static computeDimension(r,i,o,u){const c=Ve.round(ye.distance(r,i)/u),f=Ve.round(ye.distance(r,o)/u);let p=Math.floor((c+f)/2)+7;switch(p&3){case 0:p++;break;case 2:p--;break;case 3:throw new Q("Dimensions could be not found.")}return p}calculateModuleSize(r,i,o){return(this.calculateModuleSizeOneWay(r,i)+this.calculateModuleSizeOneWay(r,o))/2}calculateModuleSizeOneWay(r,i){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(i.getX()),Math.floor(i.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(o)?u/7:isNaN(u)?o/7:(o+u)/14}sizeOfBlackWhiteBlackRunBothWays(r,i,o,u){let c=this.sizeOfBlackWhiteBlackRun(r,i,o,u),f=1,p=r-(o-r);p<0?(f=r/(r-p),p=0):p>=this.image.getWidth()&&(f=(this.image.getWidth()-1-r)/(p-r),p=this.image.getWidth()-1);let w=Math.floor(i-(u-i)*f);return f=1,w<0?(f=i/(i-w),w=0):w>=this.image.getHeight()&&(f=(this.image.getHeight()-1-i)/(w-i),w=this.image.getHeight()-1),p=Math.floor(r+(p-r)*f),c+=this.sizeOfBlackWhiteBlackRun(r,i,p,w),c-1}sizeOfBlackWhiteBlackRun(r,i,o,u){const c=Math.abs(u-i)>Math.abs(o-r);if(c){let W=r;r=i,i=W,W=o,o=u,u=W}const f=Math.abs(o-r),p=Math.abs(u-i);let w=-f/2;const x=r<o?1:-1,A=i<u?1:-1;let O=0;const P=o+x;for(let W=r,re=i;W!==P;W+=x){const oe=c?re:W,pe=c?W:re;if(O===1===this.image.get(oe,pe)){if(O===2)return Ve.distance(W,re,r,i);O++}if(w+=p,w>0){if(re===u)break;re+=A,w-=f}}return O===2?Ve.distance(o+x,u,r,i):NaN}findAlignmentInRegion(r,i,o,u){const c=Math.floor(u*r),f=Math.max(0,i-c),p=Math.min(this.image.getWidth()-1,i+c);if(p-f<r*3)throw new Q("Alignment top exceeds estimated module size.");const w=Math.max(0,o-c),x=Math.min(this.image.getHeight()-1,o+c);if(x-w<r*3)throw new Q("Alignment bottom exceeds estimated module size.");return new Lo(this.image,f,w,p-f,x-w,r,this.resultPointCallback).find()}}class Mi{constructor(){this.decoder=new Xr}getDecoder(){return this.decoder}decode(r,i){let o,u;if(i!=null&&i.get(K.PURE_BARCODE)!==void 0){const w=Mi.extractPureBits(r.getBlackMatrix());o=this.decoder.decodeBitMatrix(w,i),u=Mi.NO_POINTS}else{const w=new Xs(r.getBlackMatrix()).detect(i);o=this.decoder.decodeBitMatrix(w.getBits(),i),u=w.getPoints()}o.getOther()instanceof Ba&&o.getOther().applyMirroredCorrection(u);const c=new ct(o.getText(),o.getRawBytes(),void 0,u,ge.QR_CODE,void 0),f=o.getByteSegments();f!==null&&c.putMetadata(Be.BYTE_SEGMENTS,f);const p=o.getECLevel();return p!==null&&c.putMetadata(Be.ERROR_CORRECTION_LEVEL,p),o.hasStructuredAppend()&&(c.putMetadata(Be.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),c.putMetadata(Be.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),c}reset(){}static extractPureBits(r){const i=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(i===null||o===null)throw new Q;const u=this.moduleSize(i,r);let c=i[1],f=o[1],p=i[0],w=o[0];if(p>=w||c>=f)throw new Q;if(f-c!==w-p&&(w=p+(f-c),w>=r.getWidth()))throw new Q;const x=Math.round((w-p+1)/u),A=Math.round((f-c+1)/u);if(x<=0||A<=0)throw new Q;if(A!==x)throw new Q;const O=Math.floor(u/2);c+=O,p+=O;const P=p+Math.floor((x-1)*u)-w;if(P>0){if(P>O)throw new Q;p-=P}const W=c+Math.floor((A-1)*u)-f;if(W>0){if(W>O)throw new Q;c-=W}const re=new ne(x,A);for(let oe=0;oe<A;oe++){const pe=c+Math.floor(oe*u);for(let Te=0;Te<x;Te++)r.get(p+Math.floor(Te*u),pe)&&re.set(Te,oe)}return re}static moduleSize(r,i){const o=i.getHeight(),u=i.getWidth();let c=r[0],f=r[1],p=!0,w=0;for(;c<u&&f<o;){if(p!==i.get(c,f)){if(++w===5)break;p=!p}c++,f++}if(c===u||f===o)throw new Q;return(c-r[0])/7}}Mi.NO_POINTS=new Array;class Ct{PDF417Common(){}static getBitCountSum(r){return Ve.sum(r)}static toIntArray(r){if(r==null||!r.length)return Ct.EMPTY_INT_ARRAY;const i=new Int32Array(r.length);let o=0;for(const u of r)i[o++]=u;return i}static getCodeword(r){const i=j.binarySearch(Ct.SYMBOL_TABLE,r&262143);return i<0?-1:(Ct.CODEWORD_TABLE[i]-1)%Ct.NUMBER_OF_CODEWORDS}}Ct.NUMBER_OF_CODEWORDS=929,Ct.MAX_CODEWORDS_IN_BARCODE=Ct.NUMBER_OF_CODEWORDS-1,Ct.MIN_ROWS_IN_BARCODE=3,Ct.MAX_ROWS_IN_BARCODE=90,Ct.MODULES_IN_CODEWORD=17,Ct.MODULES_IN_STOP_PATTERN=18,Ct.BARS_IN_MODULE=8,Ct.EMPTY_INT_ARRAY=new Int32Array([]),Ct.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ct.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Oc{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class qt{static detectMultiple(r,i,o){let u=r.getBlackMatrix(),c=qt.detect(o,u);return c.length||(u=u.clone(),u.rotate180(),c=qt.detect(o,u)),new Oc(u,c)}static detect(r,i){const o=new Array;let u=0,c=0,f=!1;for(;u<i.getHeight();){const p=qt.findVertices(i,u,c);if(p[0]==null&&p[3]==null){if(!f)break;f=!1,c=0;for(const w of o)w[1]!=null&&(u=Math.trunc(Math.max(u,w[1].getY()))),w[3]!=null&&(u=Math.max(u,Math.trunc(w[3].getY())));u+=qt.ROW_STEP;continue}if(f=!0,o.push(p),!r)break;p[2]!=null?(c=Math.trunc(p[2].getX()),u=Math.trunc(p[2].getY())):(c=Math.trunc(p[4].getX()),u=Math.trunc(p[4].getY()))}return o}static findVertices(r,i,o){const u=r.getHeight(),c=r.getWidth(),f=new Array(8);return qt.copyToResult(f,qt.findRowsWithPattern(r,u,c,i,o,qt.START_PATTERN),qt.INDEXES_START_PATTERN),f[4]!=null&&(o=Math.trunc(f[4].getX()),i=Math.trunc(f[4].getY())),qt.copyToResult(f,qt.findRowsWithPattern(r,u,c,i,o,qt.STOP_PATTERN),qt.INDEXES_STOP_PATTERN),f}static copyToResult(r,i,o){for(let u=0;u<o.length;u++)r[o[u]]=i[u]}static findRowsWithPattern(r,i,o,u,c,f){const p=new Array(4);let w=!1;const x=new Int32Array(f.length);for(;u<i;u+=qt.ROW_STEP){let O=qt.findGuardPattern(r,c,u,o,!1,f,x);if(O!=null){for(;u>0;){const P=qt.findGuardPattern(r,c,--u,o,!1,f,x);if(P!=null)O=P;else{u++;break}}p[0]=new ye(O[0],u),p[1]=new ye(O[1],u),w=!0;break}}let A=u+1;if(w){let O=0,P=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;A<i;A++){const W=qt.findGuardPattern(r,P[0],A,o,!1,f,x);if(W!=null&&Math.abs(P[0]-W[0])<qt.MAX_PATTERN_DRIFT&&Math.abs(P[1]-W[1])<qt.MAX_PATTERN_DRIFT)P=W,O=0;else{if(O>qt.SKIPPED_ROW_COUNT_MAX)break;O++}}A-=O+1,p[2]=new ye(P[0],A),p[3]=new ye(P[1],A)}return A-u<qt.BARCODE_MIN_HEIGHT&&j.fill(p,null),p}static findGuardPattern(r,i,o,u,c,f,p){j.fillWithin(p,0,p.length,0);let w=i,x=0;for(;r.get(w,o)&&w>0&&x++<qt.MAX_PIXEL_DRIFT;)w--;let A=w,O=0,P=f.length;for(let W=c;A<u;A++)if(r.get(A,o)!==W)p[O]++;else{if(O===P-1){if(qt.patternMatchVariance(p,f,qt.MAX_INDIVIDUAL_VARIANCE)<qt.MAX_AVG_VARIANCE)return new Int32Array([w,A]);w+=p[0]+p[1],M.arraycopy(p,2,p,0,O-1),p[O-1]=0,p[O]=0,O--}else O++;p[O]=1,W=!W}return O===P-1&&qt.patternMatchVariance(p,f,qt.MAX_INDIVIDUAL_VARIANCE)<qt.MAX_AVG_VARIANCE?new Int32Array([w,A-1]):null}static patternMatchVariance(r,i,o){let u=r.length,c=0,f=0;for(let x=0;x<u;x++)c+=r[x],f+=i[x];if(c<f)return 1/0;let p=c/f;o*=p;let w=0;for(let x=0;x<u;x++){let A=r[x],O=i[x]*p,P=A>O?A-O:O-A;if(P>o)return 1/0;w+=P}return w/c}}qt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),qt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),qt.MAX_AVG_VARIANCE=.42,qt.MAX_INDIVIDUAL_VARIANCE=.8,qt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),qt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),qt.MAX_PIXEL_DRIFT=3,qt.MAX_PATTERN_DRIFT=5,qt.SKIPPED_ROW_COUNT_MAX=25,qt.ROW_STEP=5,qt.BARCODE_MIN_HEIGHT=10;class dr{constructor(r,i){if(i.length===0)throw new y;this.field=r;let o=i.length;if(o>1&&i[0]===0){let u=1;for(;u<o&&i[u]===0;)u++;u===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-u),M.arraycopy(i,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let u=0;for(let c of this.coefficients)u=this.field.add(u,c);return u}let i=this.coefficients[0],o=this.coefficients.length;for(let u=1;u<o;u++)i=this.field.add(this.field.multiply(r,i),this.coefficients[u]);return i}add(r){if(!this.field.equals(r.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,o=r.coefficients;if(i.length>o.length){let f=i;i=o,o=f}let u=new Int32Array(o.length),c=o.length-i.length;M.arraycopy(o,0,u,0,c);for(let f=c;f<o.length;f++)u[f]=this.field.add(i[f-c],o[f]);return new dr(this.field,u)}subtract(r){if(!this.field.equals(r.field))throw new y("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof dr?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new dr(this.field,new Int32Array([0]));let i=this.coefficients,o=i.length,u=r.coefficients,c=u.length,f=new Int32Array(o+c-1);for(let p=0;p<o;p++){let w=i[p];for(let x=0;x<c;x++)f[p+x]=this.field.add(f[p+x],this.field.multiply(w,u[x]))}return new dr(this.field,f)}negative(){let r=this.coefficients.length,i=new Int32Array(r);for(let o=0;o<r;o++)i[o]=this.field.subtract(0,this.coefficients[o]);return new dr(this.field,i)}multiplyScalar(r){if(r===0)return new dr(this.field,new Int32Array([0]));if(r===1)return this;let i=this.coefficients.length,o=new Int32Array(i);for(let u=0;u<i;u++)o[u]=this.field.multiply(this.coefficients[u],r);return new dr(this.field,o)}multiplyByMonomial(r,i){if(r<0)throw new y;if(i===0)return new dr(this.field,new Int32Array([0]));let o=this.coefficients.length,u=new Int32Array(o+r);for(let c=0;c<o;c++)u[c]=this.field.multiply(this.coefficients[c],i);return new dr(this.field,u)}toString(){let r=new be;for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);o!==0&&(o<0?(r.append(" - "),o=-o):r.length()>0&&r.append(" + "),(i===0||o!==1)&&r.append(o),i!==0&&(i===1?r.append("x"):(r.append("x^"),r.append(i))))}return r.toString()}}class Dc{add(r,i){return(r+i)%this.modulus}subtract(r,i){return(this.modulus+r-i)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new y;return this.logTable[r]}inverse(r){if(r===0)throw new wt;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class Va extends Dc{constructor(r,i){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let o=1;for(let u=0;u<r;u++)this.expTable[u]=o,o=o*i%r;for(let u=0;u<r-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new dr(this,new Int32Array([0])),this.one=new dr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new y;if(i===0)return this.zero;let o=new Int32Array(r+1);return o[0]=i,new dr(this,o)}}Va.PDF417_GF=new Va(Ct.NUMBER_OF_CODEWORDS,3);class zl{constructor(){this.field=Va.PDF417_GF}decode(r,i,o){let u=new dr(this.field,r),c=new Int32Array(i),f=!1;for(let re=i;re>0;re--){let oe=u.evaluateAt(this.field.exp(re));c[i-re]=oe,oe!==0&&(f=!0)}if(!f)return 0;let p=this.field.getOne();if(o!=null)for(const re of o){let oe=this.field.exp(r.length-1-re),pe=new dr(this.field,new Int32Array([this.field.subtract(0,oe),1]));p=p.multiply(pe)}let w=new dr(this.field,c),x=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),w,i),A=x[0],O=x[1],P=this.findErrorLocations(A),W=this.findErrorMagnitudes(O,A,P);for(let re=0;re<P.length;re++){let oe=r.length-1-this.field.log(P[re]);if(oe<0)throw b.getChecksumInstance();r[oe]=this.field.subtract(r[oe],W[re])}return P.length}runEuclideanAlgorithm(r,i,o){if(r.getDegree()<i.getDegree()){let P=r;r=i,i=P}let u=r,c=i,f=this.field.getZero(),p=this.field.getOne();for(;c.getDegree()>=Math.round(o/2);){let P=u,W=f;if(u=c,f=p,u.isZero())throw b.getChecksumInstance();c=P;let re=this.field.getZero(),oe=u.getCoefficient(u.getDegree()),pe=this.field.inverse(oe);for(;c.getDegree()>=u.getDegree()&&!c.isZero();){let Te=c.getDegree()-u.getDegree(),We=this.field.multiply(c.getCoefficient(c.getDegree()),pe);re=re.add(this.field.buildMonomial(Te,We)),c=c.subtract(u.multiplyByMonomial(Te,We))}p=re.multiply(f).subtract(W).negative()}let w=p.getCoefficient(0);if(w===0)throw b.getChecksumInstance();let x=this.field.inverse(w),A=p.multiply(x),O=c.multiply(x);return[A,O]}findErrorLocations(r){let i=r.getDegree(),o=new Int32Array(i),u=0;for(let c=1;c<this.field.getSize()&&u<i;c++)r.evaluateAt(c)===0&&(o[u]=this.field.inverse(c),u++);if(u!==i)throw b.getChecksumInstance();return o}findErrorMagnitudes(r,i,o){let u=i.getDegree(),c=new Int32Array(u);for(let x=1;x<=u;x++)c[u-x]=this.field.multiply(x,i.getCoefficient(x));let f=new dr(this.field,c),p=o.length,w=new Int32Array(p);for(let x=0;x<p;x++){let A=this.field.inverse(o[x]),O=this.field.subtract(0,r.evaluateAt(A)),P=this.field.inverse(f.evaluateAt(A));w[x]=this.field.multiply(O,P)}return w}}class Zi{constructor(r,i,o,u,c){r instanceof Zi?this.constructor_2(r):this.constructor_1(r,i,o,u,c)}constructor_1(r,i,o,u,c){const f=i==null||o==null,p=u==null||c==null;if(f&&p)throw new Q;f?(i=new ye(0,u.getY()),o=new ye(0,c.getY())):p&&(u=new ye(r.getWidth()-1,i.getY()),c=new ye(r.getWidth()-1,o.getY())),this.image=r,this.topLeft=i,this.bottomLeft=o,this.topRight=u,this.bottomRight=c,this.minX=Math.trunc(Math.min(i.getX(),o.getX())),this.maxX=Math.trunc(Math.max(u.getX(),c.getX())),this.minY=Math.trunc(Math.min(i.getY(),u.getY())),this.maxY=Math.trunc(Math.max(o.getY(),c.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,i){return r==null?i:i==null?r:new Zi(r.image,r.topLeft,r.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(r,i,o){let u=this.topLeft,c=this.bottomLeft,f=this.topRight,p=this.bottomRight;if(r>0){let w=o?this.topLeft:this.topRight,x=Math.trunc(w.getY()-r);x<0&&(x=0);let A=new ye(w.getX(),x);o?u=A:f=A}if(i>0){let w=o?this.bottomLeft:this.bottomRight,x=Math.trunc(w.getY()+i);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let A=new ye(w.getX(),x);o?c=A:p=A}return new Zi(this.image,u,c,f,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class kc{constructor(r,i,o,u){this.columnCount=r,this.errorCorrectionLevel=u,this.rowCountUpperPart=i,this.rowCountLowerPart=o,this.rowCount=i+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ps{constructor(){this.buffer=""}static form(r,i){let o=-1;function u(f,p,w,x,A,O){if(f==="%%")return"%";if(i[++o]===void 0)return;f=x?parseInt(x.substr(1)):void 0;let P=A?parseInt(A.substr(1)):void 0,W;switch(O){case"s":W=i[o];break;case"c":W=i[o][0];break;case"f":W=parseFloat(i[o]).toFixed(f);break;case"p":W=parseFloat(i[o]).toPrecision(f);break;case"e":W=parseFloat(i[o]).toExponential(f);break;case"x":W=parseInt(i[o]).toString(P||16);break;case"d":W=parseFloat(parseInt(i[o],P||10).toPrecision(f)).toFixed(0);break}W=typeof W=="object"?JSON.stringify(W):(+W).toString(P);let re=parseInt(w),oe=w&&w[0]+""=="0"?"0":" ";for(;W.length<re;)W=p!==void 0?W+oe:oe+W;return W}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(c,u)}format(r,...i){this.buffer+=ps.form(r,i)}toString(){return this.buffer}}class Ks{constructor(r){this.boundingBox=new Zi(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let i=this.getCodeword(r);if(i!=null)return i;for(let o=1;o<Ks.MAX_NEARBY_DISTANCE;o++){let u=this.imageRowToCodewordIndex(r)-o;if(u>=0&&(i=this.codewords[u],i!=null)||(u=this.imageRowToCodewordIndex(r)+o,u<this.codewords.length&&(i=this.codewords[u],i!=null)))return i}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,i){this.codewords[this.imageRowToCodewordIndex(r)]=i}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new ps;let i=0;for(const o of this.codewords){if(o==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}return r.toString()}}Ks.MAX_NEARBY_DISTANCE=5;class ws{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let i=this.values.get(r);i==null&&(i=0),i++,this.values.set(r,i)}getValue(){let r=-1,i=new Array;for(const[o,u]of this.values.entries()){const c={getKey:()=>o,getValue:()=>u};c.getValue()>r?(r=c.getValue(),i=[],i.push(c.getKey())):c.getValue()===r&&i.push(c.getKey())}return Ct.toIntArray(i)}getConfidence(r){return this.values.get(r)}}class $a extends Ks{constructor(r,i){super(r),this._isLeft=i}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,r);let o=this.getBoundingBox(),u=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=this.imageRowToCodewordIndex(Math.trunc(c.getY())),w=-1,x=1,A=0;for(let O=f;O<p;O++){if(i[O]==null)continue;let P=i[O],W=P.getRowNumber()-w;if(W===0)A++;else if(W===1)x=Math.max(x,A),A=1,w=P.getRowNumber();else if(W<0||P.getRowNumber()>=r.getRowCount()||W>O)i[O]=null;else{let re;x>2?re=(x-2)*W:re=W;let oe=re>=O;for(let pe=1;pe<=re&&!oe;pe++)oe=i[O-pe]!=null;oe?i[O]=null:(w=P.getRowNumber(),A=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let i=new Int32Array(r.getRowCount());for(let o of this.getCodewords())if(o!=null){let u=o.getRowNumber();if(u>=i.length)continue;i[u]++}return i}adjustIncompleteIndicatorColumnRowNumbers(r){let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),u=this._isLeft?i.getBottomLeft():i.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=this.getCodewords(),w=-1;for(let x=c;x<f;x++){if(p[x]==null)continue;let A=p[x];A.setRowNumberAsRowIndicatorColumn();let O=A.getRowNumber()-w;O===0||(O===1?w=A.getRowNumber():A.getRowNumber()>=r.getRowCount()?p[x]=null:w=A.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),i=new ws,o=new ws,u=new ws,c=new ws;for(let p of r){if(p==null)continue;p.setRowNumberAsRowIndicatorColumn();let w=p.getValue()%30,x=p.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:o.setValue(w*3+1);break;case 1:c.setValue(w/3),u.setValue(w%3);break;case 2:i.setValue(w+1);break}}if(i.getValue().length===0||o.getValue().length===0||u.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+u.getValue()[0]<Ct.MIN_ROWS_IN_BARCODE||o.getValue()[0]+u.getValue()[0]>Ct.MAX_ROWS_IN_BARCODE)return null;let f=new kc(i.getValue()[0],o.getValue()[0],u.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(r,f),f}removeIncorrectCodewords(r,i){for(let o=0;o<r.length;o++){let u=r[o];if(r[o]==null)continue;let c=u.getValue()%30,f=u.getRowNumber();if(f>i.getRowCount()){r[o]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:c*3+1!==i.getRowCountUpperPart()&&(r[o]=null);break;case 1:(Math.trunc(c/3)!==i.getErrorCorrectionLevel()||c%3!==i.getRowCountLowerPart())&&(r[o]=null);break;case 2:c+1!==i.getColumnCount()&&(r[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Zs{constructor(r,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Ct.MAX_CODEWORDS_IN_BARCODE,i;do i=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let o=this.detectionResultColumns[i].getCodewords();for(let u=0;u<o.length;u++)o[u]!=null&&(o[u].hasValidRowNumber()||this.adjustRowNumbers(i,u,o))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++)if(r[o]!=null&&i[o]!=null&&r[o].getRowNumber()===i[o].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let c=this.detectionResultColumns[u].getCodewords()[o];c!=null&&(c.setRowNumber(r[o].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let u=i[o].getRowNumber(),c=0;for(let f=this.barcodeColumnCount+1;f>0&&c<this.ADJUST_ROW_NUMBER_SKIP;f--){let p=this.detectionResultColumns[f].getCodewords()[o];p!=null&&(c=Zs.adjustRowNumberIfValid(u,c,p),p.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,i=this.detectionResultColumns[0].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let u=i[o].getRowNumber(),c=0;for(let f=1;f<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;f++){let p=this.detectionResultColumns[f].getCodewords()[o];p!=null&&(c=Zs.adjustRowNumberIfValid(u,c,p),p.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,i,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(r)?(o.setRowNumber(r),i=0):++i),i}adjustRowNumbers(r,i,o){if(!this.detectionResultColumns[r-1])return;let u=o[i],c=this.detectionResultColumns[r-1].getCodewords(),f=c;this.detectionResultColumns[r+1]!=null&&(f=this.detectionResultColumns[r+1].getCodewords());let p=new Array(14);p[2]=c[i],p[3]=f[i],i>0&&(p[0]=o[i-1],p[4]=c[i-1],p[5]=f[i-1]),i>1&&(p[8]=o[i-2],p[10]=c[i-2],p[11]=f[i-2]),i<o.length-1&&(p[1]=o[i+1],p[6]=c[i+1],p[7]=f[i+1]),i<o.length-2&&(p[9]=o[i+2],p[12]=c[i+2],p[13]=f[i+2]);for(let w of p)if(Zs.adjustRowNumber(u,w))return}static adjustRowNumber(r,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===r.getBucket()?(r.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,i){this.detectionResultColumns[r]=i}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new ps;for(let o=0;o<r.getCodewords().length;o++){i.format("CW %3d:",o);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){i.format("    |   ");continue}let c=this.detectionResultColumns[u].getCodewords()[o];if(c==null){i.format("    |   ");continue}i.format(" %3d|%3d",c.getRowNumber(),c.getValue())}i.format("%n")}return i.toString()}}class Qi{constructor(r,i,o,u){this.rowNumber=Qi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(i),this.bucket=Math.trunc(o),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==Qi.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}Qi.BARCODE_ROW_UNKNOWN=-1;class Rr{static initialize(){for(let r=0;r<Ct.SYMBOL_TABLE.length;r++){let i=Ct.SYMBOL_TABLE[r],o=i&1;for(let u=0;u<Ct.BARS_IN_MODULE;u++){let c=0;for(;(i&1)===o;)c+=1,i>>=1;o=i&1,Rr.RATIOS_TABLE[r]||(Rr.RATIOS_TABLE[r]=new Array(Ct.BARS_IN_MODULE)),Rr.RATIOS_TABLE[r][Ct.BARS_IN_MODULE-u-1]=Math.fround(c/Ct.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let i=Rr.getDecodedCodewordValue(Rr.sampleBitCounts(r));return i!==-1?i:Rr.getClosestDecodedValue(r)}static sampleBitCounts(r){let i=Ve.sum(r),o=new Int32Array(Ct.BARS_IN_MODULE),u=0,c=0;for(let f=0;f<Ct.MODULES_IN_CODEWORD;f++){let p=i/(2*Ct.MODULES_IN_CODEWORD)+f*i/Ct.MODULES_IN_CODEWORD;c+r[u]<=p&&(c+=r[u],u++),o[u]++}return o}static getDecodedCodewordValue(r){let i=Rr.getBitValue(r);return Ct.getCodeword(i)===-1?-1:i}static getBitValue(r){let i=0;for(let o=0;o<r.length;o++)for(let u=0;u<r[o];u++)i=i<<1|(o%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(r){let i=Ve.sum(r),o=new Array(Ct.BARS_IN_MODULE);if(i>1)for(let f=0;f<o.length;f++)o[f]=Math.fround(r[f]/i);let u=ze.MAX_VALUE,c=-1;this.bSymbolTableReady||Rr.initialize();for(let f=0;f<Rr.RATIOS_TABLE.length;f++){let p=0,w=Rr.RATIOS_TABLE[f];for(let x=0;x<Ct.BARS_IN_MODULE;x++){let A=Math.fround(w[x]-o[x]);if(p+=Math.fround(A*A),p>=u)break}p<u&&(u=p,c=Ct.SYMBOL_TABLE[f])}return c}}Rr.bSymbolTableReady=!1,Rr.RATIOS_TABLE=new Array(Ct.SYMBOL_TABLE.length).map(I=>new Array(Ct.BARS_IN_MODULE));class qa{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class Wl{static parseLong(r,i=void 0){return parseInt(r,i)}}class Gl extends m{}Gl.kind="NullPointerException";class Rc{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,i,o){if(r==null)throw new Gl;if(i<0||i>r.length||o<0||i+o>r.length||i+o<0)throw new $;if(o===0)return;for(let u=0;u<o;u++)this.write(r[i+u])}flush(){}close(){}}class Mc extends m{}class Nc extends Rc{constructor(r=32){if(super(),this.count=0,r<0)throw new y("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let o=this.buf.length<<1;if(o-r<0&&(o=r),o<0){if(r<0)throw new Mc;o=D.MAX_VALUE}this.buf=j.copyOfUint8Array(this.buf,o)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,i,o){if(i<0||i>r.length||o<0||i+o-r.length>0)throw new $;this.ensureCapacity(this.count+o),M.arraycopy(r,i,this.buf,this.count,o),this.count+=o}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return j.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var hn;(function(I){I[I.ALPHA=0]="ALPHA",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.PUNCT=3]="PUNCT",I[I.ALPHA_SHIFT=4]="ALPHA_SHIFT",I[I.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(hn||(hn={}));function Yl(){if(typeof window!="undefined")return window.BigInt||null;if(typeof Or!="undefined")return Or.BigInt||null;if(typeof self!="undefined")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Bo;function Ni(I){if(typeof Bo=="undefined"&&(Bo=Yl()),Bo===null)throw new Error("BigInt is not supported!");return Bo(I)}function Pc(){let I=[];I[0]=Ni(1);let r=Ni(900);I[1]=r;for(let i=2;i<16;i++)I[i]=I[i-1]*r;return I}class Ee{static decode(r,i){let o=new be(""),u=B.ISO8859_1;o.enableDecoding(u);let c=1,f=r[c++],p=new qa;for(;c<r[0];){switch(f){case Ee.TEXT_COMPACTION_MODE_LATCH:c=Ee.textCompaction(r,c,o);break;case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:c=Ee.byteCompaction(f,r,u,c,o);break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[c++]);break;case Ee.NUMERIC_COMPACTION_MODE_LATCH:c=Ee.numericCompaction(r,c,o);break;case Ee.ECI_CHARSET:B.getCharacterSetECIByValue(r[c++]);break;case Ee.ECI_GENERAL_PURPOSE:c+=2;break;case Ee.ECI_USER_DEFINED:c++;break;case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=Ee.decodeMacroBlock(r,c,p);break;case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:throw new N;default:c--,c=Ee.textCompaction(r,c,o);break}if(c<r.length)f=r[c++];else throw N.getFormatInstance()}if(o.length()===0)throw N.getFormatInstance();let w=new ve(null,o.toString(),null,i);return w.setOther(p),w}static decodeMacroBlock(r,i,o){if(i+Ee.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw N.getFormatInstance();let u=new Int32Array(Ee.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<Ee.NUMBER_OF_SEQUENCE_CODEWORDS;p++,i++)u[p]=r[i];o.setSegmentIndex(D.parseInt(Ee.decodeBase900toBase10(u,Ee.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new be;i=Ee.textCompaction(r,i,c),o.setFileId(c.toString());let f=-1;for(r[i]===Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=i+1);i<r[0];)switch(r[i]){case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,r[i]){case Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new be;i=Ee.textCompaction(r,i+1,p),o.setFileName(p.toString());break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new be;i=Ee.textCompaction(r,i+1,w),o.setSender(w.toString());break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new be;i=Ee.textCompaction(r,i+1,x),o.setAddressee(x.toString());break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let A=new be;i=Ee.numericCompaction(r,i+1,A),o.setSegmentCount(D.parseInt(A.toString()));break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new be;i=Ee.numericCompaction(r,i+1,O),o.setTimestamp(Wl.parseLong(O.toString()));break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let P=new be;i=Ee.numericCompaction(r,i+1,P),o.setChecksum(D.parseInt(P.toString()));break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let W=new be;i=Ee.numericCompaction(r,i+1,W),o.setFileSize(Wl.parseLong(W.toString()));break;default:throw N.getFormatInstance()}break;case Ee.MACRO_PDF417_TERMINATOR:i++,o.setLastSegment(!0);break;default:throw N.getFormatInstance()}if(f!==-1){let p=i-f;o.isLastSegment()&&p--,o.setOptionalData(j.copyOfRange(r,f,f+p))}return i}static textCompaction(r,i,o){let u=new Int32Array((r[0]-i)*2),c=new Int32Array((r[0]-i)*2),f=0,p=!1;for(;i<r[0]&&!p;){let w=r[i++];if(w<Ee.TEXT_COMPACTION_MODE_LATCH)u[f]=w/30,u[f+1]=w%30,f+=2;else switch(w){case Ee.TEXT_COMPACTION_MODE_LATCH:u[f++]=Ee.TEXT_COMPACTION_MODE_LATCH;break;case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.NUMERIC_COMPACTION_MODE_LATCH:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:i--,p=!0;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[f]=Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=r[i++],c[f]=w,f++;break}}return Ee.decodeTextCompaction(u,c,f,o),i}static decodeTextCompaction(r,i,o,u){let c=hn.ALPHA,f=hn.ALPHA,p=0;for(;p<o;){let w=r[p],x="";switch(c){case hn.ALPHA:if(w<26)x=String.fromCharCode(65+w);else switch(w){case 26:x=" ";break;case Ee.LL:c=hn.LOWER;break;case Ee.ML:c=hn.MIXED;break;case Ee.PS:f=c,c=hn.PUNCT_SHIFT;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[p]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:c=hn.ALPHA;break}break;case hn.LOWER:if(w<26)x=String.fromCharCode(97+w);else switch(w){case 26:x=" ";break;case Ee.AS:f=c,c=hn.ALPHA_SHIFT;break;case Ee.ML:c=hn.MIXED;break;case Ee.PS:f=c,c=hn.PUNCT_SHIFT;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[p]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:c=hn.ALPHA;break}break;case hn.MIXED:if(w<Ee.PL)x=Ee.MIXED_CHARS[w];else switch(w){case Ee.PL:c=hn.PUNCT;break;case 26:x=" ";break;case Ee.LL:c=hn.LOWER;break;case Ee.AL:c=hn.ALPHA;break;case Ee.PS:f=c,c=hn.PUNCT_SHIFT;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[p]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:c=hn.ALPHA;break}break;case hn.PUNCT:if(w<Ee.PAL)x=Ee.PUNCT_CHARS[w];else switch(w){case Ee.PAL:c=hn.ALPHA;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[p]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:c=hn.ALPHA;break}break;case hn.ALPHA_SHIFT:if(c=f,w<26)x=String.fromCharCode(65+w);else switch(w){case 26:x=" ";break;case Ee.TEXT_COMPACTION_MODE_LATCH:c=hn.ALPHA;break}break;case hn.PUNCT_SHIFT:if(c=f,w<Ee.PAL)x=Ee.PUNCT_CHARS[w];else switch(w){case Ee.PAL:c=hn.ALPHA;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[p]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:c=hn.ALPHA;break}break}x!==""&&u.append(x),p++}}static byteCompaction(r,i,o,u,c){let f=new Nc,p=0,w=0,x=!1;switch(r){case Ee.BYTE_COMPACTION_MODE_LATCH:let A=new Int32Array(6),O=i[u++];for(;u<i[0]&&!x;)switch(A[p++]=O,w=900*w+O,O=i[u++],O){case Ee.TEXT_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.NUMERIC_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:u--,x=!0;break;default:if(p%5===0&&p>0){for(let P=0;P<6;++P)f.write(Number(Ni(w)>>Ni(8*(5-P))));w=0,p=0}break}u===i[0]&&O<Ee.TEXT_COMPACTION_MODE_LATCH&&(A[p++]=O);for(let P=0;P<p;P++)f.write(A[P]);break;case Ee.BYTE_COMPACTION_MODE_LATCH_6:for(;u<i[0]&&!x;){let P=i[u++];if(P<Ee.TEXT_COMPACTION_MODE_LATCH)p++,w=900*w+P;else switch(P){case Ee.TEXT_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.NUMERIC_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:u--,x=!0;break}if(p%5===0&&p>0){for(let W=0;W<6;++W)f.write(Number(Ni(w)>>Ni(8*(5-W))));w=0,p=0}}break}return c.append(me.decode(f.toByteArray(),o)),u}static numericCompaction(r,i,o){let u=0,c=!1,f=new Int32Array(Ee.MAX_NUMERIC_CODEWORDS);for(;i<r[0]&&!c;){let p=r[i++];if(i===r[0]&&(c=!0),p<Ee.TEXT_COMPACTION_MODE_LATCH)f[u]=p,u++;else switch(p){case Ee.TEXT_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:i--,c=!0;break}(u%Ee.MAX_NUMERIC_CODEWORDS===0||p===Ee.NUMERIC_COMPACTION_MODE_LATCH||c)&&u>0&&(o.append(Ee.decodeBase900toBase10(f,u)),u=0)}return i}static decodeBase900toBase10(r,i){let o=Ni(0);for(let c=0;c<i;c++)o+=Ee.EXP900[i-c-1]*Ni(r[c]);let u=o.toString();if(u.charAt(0)!=="1")throw new N;return u.substring(1)}}Ee.TEXT_COMPACTION_MODE_LATCH=900,Ee.BYTE_COMPACTION_MODE_LATCH=901,Ee.NUMERIC_COMPACTION_MODE_LATCH=902,Ee.BYTE_COMPACTION_MODE_LATCH_6=924,Ee.ECI_USER_DEFINED=925,Ee.ECI_GENERAL_PURPOSE=926,Ee.ECI_CHARSET=927,Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ee.MACRO_PDF417_TERMINATOR=922,Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ee.MAX_NUMERIC_CODEWORDS=15,Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ee.PL=25,Ee.LL=27,Ee.AS=27,Ee.ML=28,Ee.AL=28,Ee.PS=29,Ee.PAL=29,Ee.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ee.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ee.EXP900=Yl()?Pc():[],Ee.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Yt{constructor(){}static decode(r,i,o,u,c,f,p){let w=new Zi(r,i,o,u,c),x=null,A=null,O;for(let re=!0;;re=!1){if(i!=null&&(x=Yt.getRowIndicatorColumn(r,w,i,!0,f,p)),u!=null&&(A=Yt.getRowIndicatorColumn(r,w,u,!1,f,p)),O=Yt.merge(x,A),O==null)throw Q.getNotFoundInstance();let oe=O.getBoundingBox();if(re&&oe!=null&&(oe.getMinY()<w.getMinY()||oe.getMaxY()>w.getMaxY()))w=oe;else break}O.setBoundingBox(w);let P=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,x),O.setDetectionResultColumn(P,A);let W=x!=null;for(let re=1;re<=P;re++){let oe=W?re:P-re;if(O.getDetectionResultColumn(oe)!==void 0)continue;let pe;oe===0||oe===P?pe=new $a(w,oe===0):pe=new Ks(w),O.setDetectionResultColumn(oe,pe);let Te=-1,We=Te;for(let Ke=w.getMinY();Ke<=w.getMaxY();Ke++){if(Te=Yt.getStartColumn(O,oe,Ke,W),Te<0||Te>w.getMaxX()){if(We===-1)continue;Te=We}let je=Yt.detectCodeword(r,w.getMinX(),w.getMaxX(),W,Te,Ke,f,p);je!=null&&(pe.setCodeword(Ke,je),We=Te,f=Math.min(f,je.getWidth()),p=Math.max(p,je.getWidth()))}}return Yt.createDecoderResult(O)}static merge(r,i){if(r==null&&i==null)return null;let o=Yt.getBarcodeMetadata(r,i);if(o==null)return null;let u=Zi.merge(Yt.adjustBoundingBox(r),Yt.adjustBoundingBox(i));return new Zs(o,u)}static adjustBoundingBox(r){if(r==null)return null;let i=r.getRowHeights();if(i==null)return null;let o=Yt.getMax(i),u=0;for(let p of i)if(u+=o-p,p>0)break;let c=r.getCodewords();for(let p=0;u>0&&c[p]==null;p++)u--;let f=0;for(let p=i.length-1;p>=0&&(f+=o-i[p],!(i[p]>0));p--);for(let p=c.length-1;f>0&&c[p]==null;p--)f--;return r.getBoundingBox().addMissingRows(u,f,r.isLeft())}static getMax(r){let i=-1;for(let o of r)i=Math.max(i,o);return i}static getBarcodeMetadata(r,i){let o;if(r==null||(o=r.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let u;return i==null||(u=i.getBarcodeMetadata())==null?o:o.getColumnCount()!==u.getColumnCount()&&o.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&o.getRowCount()!==u.getRowCount()?null:o}static getRowIndicatorColumn(r,i,o,u,c,f){let p=new $a(i,u);for(let w=0;w<2;w++){let x=w===0?1:-1,A=Math.trunc(Math.trunc(o.getX()));for(let O=Math.trunc(Math.trunc(o.getY()));O<=i.getMaxY()&&O>=i.getMinY();O+=x){let P=Yt.detectCodeword(r,0,r.getWidth(),u,A,O,c,f);P!=null&&(p.setCodeword(O,P),u?A=P.getStartX():A=P.getEndX())}}return p}static adjustCodewordCount(r,i){let o=i[0][1],u=o.getValue(),c=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-Yt.getNumberOfECCodeWords(r.getBarcodeECLevel());if(u.length===0){if(c<1||c>Ct.MAX_CODEWORDS_IN_BARCODE)throw Q.getNotFoundInstance();o.setValue(c)}else u[0]!==c&&o.setValue(c)}static createDecoderResult(r){let i=Yt.createBarcodeMatrix(r);Yt.adjustCodewordCount(r,i);let o=new Array,u=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),c=[],f=new Array;for(let w=0;w<r.getBarcodeRowCount();w++)for(let x=0;x<r.getBarcodeColumnCount();x++){let A=i[w][x+1].getValue(),O=w*r.getBarcodeColumnCount()+x;A.length===0?o.push(O):A.length===1?u[O]=A[0]:(f.push(O),c.push(A))}let p=new Array(c.length);for(let w=0;w<p.length;w++)p[w]=c[w];return Yt.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),u,Ct.toIntArray(o),Ct.toIntArray(f),p)}static createDecoderResultFromAmbiguousValues(r,i,o,u,c){let f=new Int32Array(u.length),p=100;for(;p-- >0;){for(let w=0;w<f.length;w++)i[u[w]]=c[w][f[w]];try{return Yt.decodeCodewords(i,r,o)}catch(w){if(!(w instanceof b))throw w}if(f.length===0)throw b.getChecksumInstance();for(let w=0;w<f.length;w++)if(f[w]<c[w].length-1){f[w]++;break}else if(f[w]=0,w===f.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(r){let i=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let u=0;u<i.length;u++)for(let c=0;c<i[u].length;c++)i[u][c]=new ws;let o=0;for(let u of r.getDetectionResultColumns()){if(u!=null){for(let c of u.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=0){if(f>=i.length)continue;i[f][o].setValue(c.getValue())}}}o++}return i}static isValidBarcodeColumn(r,i){return i>=0&&i<=r.getBarcodeColumnCount()+1}static getStartColumn(r,i,o,u){let c=u?1:-1,f=null;if(Yt.isValidBarcodeColumn(r,i-c)&&(f=r.getDetectionResultColumn(i-c).getCodeword(o)),f!=null)return u?f.getEndX():f.getStartX();if(f=r.getDetectionResultColumn(i).getCodewordNearby(o),f!=null)return u?f.getStartX():f.getEndX();if(Yt.isValidBarcodeColumn(r,i-c)&&(f=r.getDetectionResultColumn(i-c).getCodewordNearby(o)),f!=null)return u?f.getEndX():f.getStartX();let p=0;for(;Yt.isValidBarcodeColumn(r,i-c);){i-=c;for(let w of r.getDetectionResultColumn(i).getCodewords())if(w!=null)return(u?w.getEndX():w.getStartX())+c*p*(w.getEndX()-w.getStartX());p++}return u?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,i,o,u,c,f,p,w){c=Yt.adjustCodewordStartColumn(r,i,o,u,c,f);let x=Yt.getModuleBitCount(r,i,o,u,c,f);if(x==null)return null;let A,O=Ve.sum(x);if(u)A=c+O;else{for(let re=0;re<x.length/2;re++){let oe=x[re];x[re]=x[x.length-1-re],x[x.length-1-re]=oe}A=c,c=A-O}if(!Yt.checkCodewordSkew(O,p,w))return null;let P=Rr.getDecodedValue(x),W=Ct.getCodeword(P);return W===-1?null:new Qi(c,A,Yt.getCodewordBucketNumber(P),W)}static getModuleBitCount(r,i,o,u,c,f){let p=c,w=new Int32Array(8),x=0,A=u?1:-1,O=u;for(;(u?p<o:p>=i)&&x<w.length;)r.get(p,f)===O?(w[x]++,p+=A):(x++,O=!O);return x===w.length||p===(u?o:i)&&x===w.length-1?w:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,i,o,u,c,f){let p=c,w=u?-1:1;for(let x=0;x<2;x++){for(;(u?p>=i:p<o)&&u===r.get(p,f);){if(Math.abs(c-p)>Yt.CODEWORD_SKEW_SIZE)return c;p+=w}w=-w,u=!u}return p}static checkCodewordSkew(r,i,o){return i-Yt.CODEWORD_SKEW_SIZE<=r&&r<=o+Yt.CODEWORD_SKEW_SIZE}static decodeCodewords(r,i,o){if(r.length===0)throw N.getFormatInstance();let u=1<<i+1,c=Yt.correctErrors(r,o,u);Yt.verifyCodewordCount(r,u);let f=Ee.decode(r,""+i);return f.setErrorsCorrected(c),f.setErasures(o.length),f}static correctErrors(r,i,o){if(i!=null&&i.length>o/2+Yt.MAX_ERRORS||o<0||o>Yt.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return Yt.errorCorrection.decode(r,o,i)}static verifyCodewordCount(r,i){if(r.length<4)throw N.getFormatInstance();let o=r[0];if(o>r.length)throw N.getFormatInstance();if(o===0)if(i<r.length)r[0]=r.length-i;else throw N.getFormatInstance()}static getBitCountForCodeword(r){let i=new Int32Array(8),o=0,u=i.length-1;for(;!((r&1)!==o&&(o=r&1,u--,u<0));)i[u]++,r>>=1;return i}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return Yt.getCodewordBucketNumber(Yt.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let i=new ps;for(let o=0;o<r.length;o++){i.format("Row %2d: ",o);for(let u=0;u<r[o].length;u++){let c=r[o][u];c.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}i.format("%n")}return i.toString()}}Yt.CODEWORD_SKEW_SIZE=2,Yt.MAX_ERRORS=3,Yt.MAX_EC_CODEWORDS=512,Yt.errorCorrection=new zl;class fr{decode(r,i=null){let o=fr.decode(r,i,!1);if(o==null||o.length===0||o[0]==null)throw Q.getNotFoundInstance();return o[0]}decodeMultiple(r,i=null){try{return fr.decode(r,i,!0)}catch(o){throw o instanceof N||o instanceof b?Q.getNotFoundInstance():o}}static decode(r,i,o){const u=new Array,c=qt.detectMultiple(r,i,o);for(const f of c.getPoints()){const p=Yt.decode(c.getBits(),f[4],f[5],f[6],f[7],fr.getMinCodewordWidth(f),fr.getMaxCodewordWidth(f)),w=new ct(p.getText(),p.getRawBytes(),void 0,f,ge.PDF_417);w.putMetadata(Be.ERROR_CORRECTION_LEVEL,p.getECLevel());const x=p.getOther();x!=null&&w.putMetadata(Be.PDF417_EXTRA_METADATA,x),u.push(w)}return u.map(f=>f)}static getMaxWidth(r,i){return r==null||i==null?0:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMinWidth(r,i){return r==null||i==null?D.MAX_VALUE:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(fr.getMaxWidth(r[0],r[4]),fr.getMaxWidth(r[6],r[2])*Ct.MODULES_IN_CODEWORD/Ct.MODULES_IN_STOP_PATTERN),Math.max(fr.getMaxWidth(r[1],r[5]),fr.getMaxWidth(r[7],r[3])*Ct.MODULES_IN_CODEWORD/Ct.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(fr.getMinWidth(r[0],r[4]),fr.getMinWidth(r[6],r[2])*Ct.MODULES_IN_CODEWORD/Ct.MODULES_IN_STOP_PATTERN),Math.min(fr.getMinWidth(r[1],r[5]),fr.getMinWidth(r[7],r[3])*Ct.MODULES_IN_CODEWORD/Ct.MODULES_IN_STOP_PATTERN)))}reset(){}}class Fo extends m{}Fo.kind="ReaderException";class Ua{constructor(r,i){this.verbose=r===!0,i&&this.setHints(i)}decode(r,i){return i&&this.setHints(i),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const i=!s(r)&&r.get(K.TRY_HARDER)===!0,o=s(r)?null:r.get(K.POSSIBLE_FORMATS),u=new Array;if(!s(o)){const c=o.some(f=>f===ge.UPC_A||f===ge.UPC_E||f===ge.EAN_13||f===ge.EAN_8||f===ge.CODABAR||f===ge.CODE_39||f===ge.CODE_93||f===ge.CODE_128||f===ge.ITF||f===ge.RSS_14||f===ge.RSS_EXPANDED);c&&!i&&u.push(new Gr(r,this.verbose)),o.includes(ge.QR_CODE)&&u.push(new Mi),o.includes(ge.DATA_MATRIX)&&u.push(new Ri),o.includes(ge.AZTEC)&&u.push(new Xt),o.includes(ge.PDF_417)&&u.push(new fr),c&&i&&u.push(new Gr(r,this.verbose))}u.length===0&&(i||u.push(new Gr(r,this.verbose)),u.push(new Mi),u.push(new Ri),u.push(new Xt),u.push(new fr),i&&u.push(new Gr(r,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new Fo("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(r,this.hints)}catch(o){if(o instanceof Fo)continue}throw new Q("No MultiFormat Readers were able to detect the code.")}}class Lc extends Je{constructor(r=null,i=500){const o=new Ua;o.setHints(r),super(o,i)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class Bc extends Je{constructor(r=500){super(new fr,r)}}class Fc extends Je{constructor(r=500){super(new Mi,r)}}var ja;(function(I){I[I.ERROR_CORRECTION=0]="ERROR_CORRECTION",I[I.CHARACTER_SET=1]="CHARACTER_SET",I[I.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",I[I.MIN_SIZE=3]="MIN_SIZE",I[I.MAX_SIZE=4]="MAX_SIZE",I[I.MARGIN=5]="MARGIN",I[I.PDF417_COMPACT=6]="PDF417_COMPACT",I[I.PDF417_COMPACTION=7]="PDF417_COMPACTION",I[I.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",I[I.AZTEC_LAYERS=9]="AZTEC_LAYERS",I[I.QR_VERSION=10]="QR_VERSION"})(ja||(ja={}));var Qn=ja;class Ha{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new st(r,Int32Array.from([1])))}buildGenerator(r){const i=this.cachedGenerators;if(r>=i.length){let o=i[i.length-1];const u=this.field;for(let c=i.length;c<=r;c++){const f=o.multiply(new st(u,Int32Array.from([1,u.exp(c-1+u.getGeneratorBase())])));i.push(f),o=f}}return i[r]}encode(r,i){if(i===0)throw new y("No error correction bytes");const o=r.length-i;if(o<=0)throw new y("No data bytes provided");const u=this.buildGenerator(i),c=new Int32Array(o);M.arraycopy(r,0,c,0,o);let f=new st(this.field,c);f=f.multiplyByMonomial(i,1);const w=f.divide(u)[1].getCoefficients(),x=i-w.length;for(let A=0;A<x;A++)r[o+A]=0;M.arraycopy(w,0,r,o+x,w.length)}}class Bn{constructor(){}static applyMaskPenaltyRule1(r){return Bn.applyMaskPenaltyRule1Internal(r,!0)+Bn.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let i=0;const o=r.getArray(),u=r.getWidth(),c=r.getHeight();for(let f=0;f<c-1;f++){const p=o[f];for(let w=0;w<u-1;w++){const x=p[w];x===p[w+1]&&x===o[f+1][w]&&x===o[f+1][w+1]&&i++}}return Bn.N2*i}static applyMaskPenaltyRule3(r){let i=0;const o=r.getArray(),u=r.getWidth(),c=r.getHeight();for(let f=0;f<c;f++)for(let p=0;p<u;p++){const w=o[f];p+6<u&&w[p]===1&&w[p+1]===0&&w[p+2]===1&&w[p+3]===1&&w[p+4]===1&&w[p+5]===0&&w[p+6]===1&&(Bn.isWhiteHorizontal(w,p-4,p)||Bn.isWhiteHorizontal(w,p+7,p+11))&&i++,f+6<c&&o[f][p]===1&&o[f+1][p]===0&&o[f+2][p]===1&&o[f+3][p]===1&&o[f+4][p]===1&&o[f+5][p]===0&&o[f+6][p]===1&&(Bn.isWhiteVertical(o,p,f-4,f)||Bn.isWhiteVertical(o,p,f+7,f+11))&&i++}return i*Bn.N3}static isWhiteHorizontal(r,i,o){i=Math.max(i,0),o=Math.min(o,r.length);for(let u=i;u<o;u++)if(r[u]===1)return!1;return!0}static isWhiteVertical(r,i,o,u){o=Math.max(o,0),u=Math.min(u,r.length);for(let c=o;c<u;c++)if(r[c][i]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let i=0;const o=r.getArray(),u=r.getWidth(),c=r.getHeight();for(let w=0;w<c;w++){const x=o[w];for(let A=0;A<u;A++)x[A]===1&&i++}const f=r.getHeight()*r.getWidth();return Math.floor(Math.abs(i*2-f)*10/f)*Bn.N4}static getDataMaskBit(r,i,o){let u,c;switch(r){case 0:u=o+i&1;break;case 1:u=o&1;break;case 2:u=i%3;break;case 3:u=(o+i)%3;break;case 4:u=Math.floor(o/2)+Math.floor(i/3)&1;break;case 5:c=o*i,u=(c&1)+c%3;break;case 6:c=o*i,u=(c&1)+c%3&1;break;case 7:c=o*i,u=c%3+(o+i&1)&1;break;default:throw new y("Invalid mask pattern: "+r)}return u===0}static applyMaskPenaltyRule1Internal(r,i){let o=0;const u=i?r.getHeight():r.getWidth(),c=i?r.getWidth():r.getHeight(),f=r.getArray();for(let p=0;p<u;p++){let w=0,x=-1;for(let A=0;A<c;A++){const O=i?f[p][A]:f[A][p];O===x?w++:(w>=5&&(o+=Bn.N1+(w-5)),w=1,x=O)}w>=5&&(o+=Bn.N1+(w-5))}return o}}Bn.N1=3,Bn.N2=3,Bn.N3=40,Bn.N4=10;class Vo{constructor(r,i){this.width=r,this.height=i;const o=new Array(i);for(let u=0;u!==i;u++)o[u]=new Uint8Array(r);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(r,i){return this.bytes[i][r]}getArray(){return this.bytes}setNumber(r,i,o){this.bytes[i][r]=o}setBoolean(r,i,o){this.bytes[i][r]=o?1:0}clear(r){for(const i of this.bytes)j.fill(i,r)}equals(r){if(!(r instanceof Vo))return!1;const i=r;if(this.width!==i.width||this.height!==i.height)return!1;for(let o=0,u=this.height;o<u;++o){const c=this.bytes[o],f=i.bytes[o];for(let p=0,w=this.width;p<w;++p)if(c[p]!==f[p])return!1}return!0}toString(){const r=new be;for(let i=0,o=this.height;i<o;++i){const u=this.bytes[i];for(let c=0,f=this.width;c<f;++c)switch(u[c]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class Ji{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new be;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<Ji.NUM_MASK_PATTERNS}}Ji.NUM_MASK_PATTERNS=8;class wn extends m{}wn.kind="WriterException";class St{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,i,o,u,c){St.clearMatrix(c),St.embedBasicPatterns(o,c),St.embedTypeInfo(i,u,c),St.maybeEmbedVersionInfo(o,c),St.embedDataBits(r,u,c)}static embedBasicPatterns(r,i){St.embedPositionDetectionPatternsAndSeparators(i),St.embedDarkDotAtLeftBottomCorner(i),St.maybeEmbedPositionAdjustmentPatterns(r,i),St.embedTimingPatterns(i)}static embedTypeInfo(r,i,o){const u=new C;St.makeTypeInfoBits(r,i,u);for(let c=0,f=u.getSize();c<f;++c){const p=u.get(u.getSize()-1-c),w=St.TYPE_INFO_COORDINATES[c],x=w[0],A=w[1];if(o.setBoolean(x,A,p),c<8){const O=o.getWidth()-c-1,P=8;o.setBoolean(O,P,p)}else{const P=o.getHeight()-7+(c-8);o.setBoolean(8,P,p)}}}static maybeEmbedVersionInfo(r,i){if(r.getVersionNumber()<7)return;const o=new C;St.makeVersionInfoBits(r,o);let u=6*3-1;for(let c=0;c<6;++c)for(let f=0;f<3;++f){const p=o.get(u);u--,i.setBoolean(c,i.getHeight()-11+f,p),i.setBoolean(i.getHeight()-11+f,c,p)}}static embedDataBits(r,i,o){let u=0,c=-1,f=o.getWidth()-1,p=o.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);p>=0&&p<o.getHeight();){for(let w=0;w<2;++w){const x=f-w;if(!St.isEmpty(o.get(x,p)))continue;let A;u<r.getSize()?(A=r.get(u),++u):A=!1,i!==255&&Bn.getDataMaskBit(i,x,p)&&(A=!A),o.setBoolean(x,p,A)}p+=c}c=-c,p+=c,f-=2}if(u!==r.getSize())throw new wn("Not all bits consumed: "+u+"/"+r.getSize())}static findMSBSet(r){return 32-D.numberOfLeadingZeros(r)}static calculateBCHCode(r,i){if(i===0)throw new y("0 polynomial");const o=St.findMSBSet(i);for(r<<=o-1;St.findMSBSet(r)>=o;)r^=i<<St.findMSBSet(r)-o;return r}static makeTypeInfoBits(r,i,o){if(!Ji.isValidMaskPattern(i))throw new wn("Invalid mask pattern");const u=r.getBits()<<3|i;o.appendBits(u,5);const c=St.calculateBCHCode(u,St.TYPE_INFO_POLY);o.appendBits(c,10);const f=new C;if(f.appendBits(St.TYPE_INFO_MASK_PATTERN,15),o.xor(f),o.getSize()!==15)throw new wn("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(r,i){i.appendBits(r.getVersionNumber(),6);const o=St.calculateBCHCode(r.getVersionNumber(),St.VERSION_INFO_POLY);if(i.appendBits(o,12),i.getSize()!==18)throw new wn("should not happen but we got: "+i.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let i=8;i<r.getWidth()-8;++i){const o=(i+1)%2;St.isEmpty(r.get(i,6))&&r.setNumber(i,6,o),St.isEmpty(r.get(6,i))&&r.setNumber(6,i,o)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new wn;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,i,o){for(let u=0;u<8;++u){if(!St.isEmpty(o.get(r+u,i)))throw new wn;o.setNumber(r+u,i,0)}}static embedVerticalSeparationPattern(r,i,o){for(let u=0;u<7;++u){if(!St.isEmpty(o.get(r,i+u)))throw new wn;o.setNumber(r,i+u,0)}}static embedPositionAdjustmentPattern(r,i,o){for(let u=0;u<5;++u){const c=St.POSITION_ADJUSTMENT_PATTERN[u];for(let f=0;f<5;++f)o.setNumber(r+f,i+u,c[f])}}static embedPositionDetectionPattern(r,i,o){for(let u=0;u<7;++u){const c=St.POSITION_DETECTION_PATTERN[u];for(let f=0;f<7;++f)o.setNumber(r+f,i+u,c[f])}}static embedPositionDetectionPatternsAndSeparators(r){const i=St.POSITION_DETECTION_PATTERN[0].length;St.embedPositionDetectionPattern(0,0,r),St.embedPositionDetectionPattern(r.getWidth()-i,0,r),St.embedPositionDetectionPattern(0,r.getWidth()-i,r);const o=8;St.embedHorizontalSeparationPattern(0,o-1,r),St.embedHorizontalSeparationPattern(r.getWidth()-o,o-1,r),St.embedHorizontalSeparationPattern(0,r.getWidth()-o,r);const u=7;St.embedVerticalSeparationPattern(u,0,r),St.embedVerticalSeparationPattern(r.getHeight()-u-1,0,r),St.embedVerticalSeparationPattern(u,r.getHeight()-u,r)}static maybeEmbedPositionAdjustmentPatterns(r,i){if(r.getVersionNumber()<2)return;const o=r.getVersionNumber()-1,u=St.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let c=0,f=u.length;c!==f;c++){const p=u[c];if(p>=0)for(let w=0;w!==f;w++){const x=u[w];x>=0&&St.isEmpty(i.get(x,p))&&St.embedPositionAdjustmentPattern(x-2,p-2,i)}}}}St.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),St.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),St.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),St.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),St.VERSION_INFO_POLY=7973,St.TYPE_INFO_POLY=1335,St.TYPE_INFO_MASK_PATTERN=21522;class Vc{constructor(r,i){this.dataBytes=r,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Sn{constructor(){}static calculateMaskPenalty(r){return Bn.applyMaskPenaltyRule1(r)+Bn.applyMaskPenaltyRule2(r)+Bn.applyMaskPenaltyRule3(r)+Bn.applyMaskPenaltyRule4(r)}static encode(r,i,o=null){let u=Sn.DEFAULT_BYTE_MODE_ENCODING;const c=o!==null&&o.get(Qn.CHARACTER_SET)!==void 0;c&&(u=o.get(Qn.CHARACTER_SET).toString());const f=this.chooseMode(r,u),p=new C;if(f===_t.BYTE&&(c||Sn.DEFAULT_BYTE_MODE_ENCODING!==u)){const Ke=B.getCharacterSetECIByName(u);Ke!==void 0&&this.appendECI(Ke,p)}this.appendModeInfo(f,p);const w=new C;this.appendBytes(r,f,w,u);let x;if(o!==null&&o.get(Qn.QR_VERSION)!==void 0){const Ke=Number.parseInt(o.get(Qn.QR_VERSION).toString(),10);x=xt.getVersionForNumber(Ke);const je=this.calculateBitsNeeded(f,p,w,x);if(!this.willFit(je,x,i))throw new wn("Data too big for requested version")}else x=this.recommendVersion(i,f,p,w);const A=new C;A.appendBitArray(p);const O=f===_t.BYTE?w.getSizeInBytes():r.length;this.appendLengthInfo(O,x,f,A),A.appendBitArray(w);const P=x.getECBlocksForLevel(i),W=x.getTotalCodewords()-P.getTotalECCodewords();this.terminateBits(W,A);const re=this.interleaveWithECBytes(A,x.getTotalCodewords(),W,P.getNumBlocks()),oe=new Ji;oe.setECLevel(i),oe.setMode(f),oe.setVersion(x);const pe=x.getDimensionForVersion(),Te=new Vo(pe,pe),We=this.chooseMaskPattern(re,i,x,Te);return oe.setMaskPattern(We),St.buildMatrix(re,i,x,We,Te),oe.setMatrix(Te),oe}static recommendVersion(r,i,o,u){const c=this.calculateBitsNeeded(i,o,u,xt.getVersionForNumber(1)),f=this.chooseVersion(c,r),p=this.calculateBitsNeeded(i,o,u,f);return this.chooseVersion(p,r)}static calculateBitsNeeded(r,i,o,u){return i.getSize()+r.getCharacterCountBits(u)+o.getSize()}static getAlphanumericCode(r){return r<Sn.ALPHANUMERIC_TABLE.length?Sn.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,i=null){if(B.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(r))return _t.KANJI;let o=!1,u=!1;for(let c=0,f=r.length;c<f;++c){const p=r.charAt(c);if(Sn.isDigit(p))o=!0;else if(this.getAlphanumericCode(p.charCodeAt(0))!==-1)u=!0;else return _t.BYTE}return u?_t.ALPHANUMERIC:o?_t.NUMERIC:_t.BYTE}static isOnlyDoubleByteKanji(r){let i;try{i=me.encode(r,B.SJIS)}catch{return!1}const o=i.length;if(o%2!==0)return!1;for(let u=0;u<o;u+=2){const c=i[u]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(r,i,o,u){let c=Number.MAX_SAFE_INTEGER,f=-1;for(let p=0;p<Ji.NUM_MASK_PATTERNS;p++){St.buildMatrix(r,i,o,p,u);let w=this.calculateMaskPenalty(u);w<c&&(c=w,f=p)}return f}static chooseVersion(r,i){for(let o=1;o<=40;o++){const u=xt.getVersionForNumber(o);if(Sn.willFit(r,u,i))return u}throw new wn("Data too big")}static willFit(r,i,o){const u=i.getTotalCodewords(),f=i.getECBlocksForLevel(o).getTotalECCodewords(),p=u-f,w=(r+7)/8;return p>=w}static terminateBits(r,i){const o=r*8;if(i.getSize()>o)throw new wn("data bits cannot fit in the QR Code"+i.getSize()+" > "+o);for(let f=0;f<4&&i.getSize()<o;++f)i.appendBit(!1);const u=i.getSize()&7;if(u>0)for(let f=u;f<8;f++)i.appendBit(!1);const c=r-i.getSizeInBytes();for(let f=0;f<c;++f)i.appendBits((f&1)===0?236:17,8);if(i.getSize()!==o)throw new wn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,i,o,u,c,f){if(u>=o)throw new wn("Block ID too large");const p=r%o,w=o-p,x=Math.floor(r/o),A=x+1,O=Math.floor(i/o),P=O+1,W=x-O,re=A-P;if(W!==re)throw new wn("EC bytes mismatch");if(o!==w+p)throw new wn("RS blocks mismatch");if(r!==(O+W)*w+(P+re)*p)throw new wn("Total bytes mismatch");u<w?(c[0]=O,f[0]=W):(c[0]=P,f[0]=re)}static interleaveWithECBytes(r,i,o,u){if(r.getSizeInBytes()!==o)throw new wn("Number of bits and data bytes does not match");let c=0,f=0,p=0;const w=new Array;for(let A=0;A<u;++A){const O=new Int32Array(1),P=new Int32Array(1);Sn.getNumDataBytesAndNumECBytesForBlockID(i,o,u,A,O,P);const W=O[0],re=new Uint8Array(W);r.toBytes(8*c,re,0,W);const oe=Sn.generateECBytes(re,P[0]);w.push(new Vc(re,oe)),f=Math.max(f,W),p=Math.max(p,oe.length),c+=O[0]}if(o!==c)throw new wn("Data bytes does not match offset");const x=new C;for(let A=0;A<f;++A)for(const O of w){const P=O.getDataBytes();A<P.length&&x.appendBits(P[A],8)}for(let A=0;A<p;++A)for(const O of w){const P=O.getErrorCorrectionBytes();A<P.length&&x.appendBits(P[A],8)}if(i!==x.getSizeInBytes())throw new wn("Interleaving error: "+i+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(r,i){const o=r.length,u=new Int32Array(o+i);for(let f=0;f<o;f++)u[f]=r[f]&255;new Ha(F.QR_CODE_FIELD_256).encode(u,i);const c=new Uint8Array(i);for(let f=0;f<i;f++)c[f]=u[o+f];return c}static appendModeInfo(r,i){i.appendBits(r.getBits(),4)}static appendLengthInfo(r,i,o,u){const c=o.getCharacterCountBits(i);if(r>=1<<c)throw new wn(r+" is bigger than "+((1<<c)-1));u.appendBits(r,c)}static appendBytes(r,i,o,u){switch(i){case _t.NUMERIC:Sn.appendNumericBytes(r,o);break;case _t.ALPHANUMERIC:Sn.appendAlphanumericBytes(r,o);break;case _t.BYTE:Sn.append8BitBytes(r,o,u);break;case _t.KANJI:Sn.appendKanjiBytes(r,o);break;default:throw new wn("Invalid mode: "+i)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const i=Sn.getDigit(r);return i>=0&&i<=9}static appendNumericBytes(r,i){const o=r.length;let u=0;for(;u<o;){const c=Sn.getDigit(r.charAt(u));if(u+2<o){const f=Sn.getDigit(r.charAt(u+1)),p=Sn.getDigit(r.charAt(u+2));i.appendBits(c*100+f*10+p,10),u+=3}else if(u+1<o){const f=Sn.getDigit(r.charAt(u+1));i.appendBits(c*10+f,7),u+=2}else i.appendBits(c,4),u++}}static appendAlphanumericBytes(r,i){const o=r.length;let u=0;for(;u<o;){const c=Sn.getAlphanumericCode(r.charCodeAt(u));if(c===-1)throw new wn;if(u+1<o){const f=Sn.getAlphanumericCode(r.charCodeAt(u+1));if(f===-1)throw new wn;i.appendBits(c*45+f,11),u+=2}else i.appendBits(c,6),u++}}static append8BitBytes(r,i,o){let u;try{u=me.encode(r,o)}catch(c){throw new wn(c)}for(let c=0,f=u.length;c!==f;c++){const p=u[c];i.appendBits(p,8)}}static appendKanjiBytes(r,i){let o;try{o=me.encode(r,B.SJIS)}catch(c){throw new wn(c)}const u=o.length;for(let c=0;c<u;c+=2){const f=o[c]&255,p=o[c+1]&255,w=f<<8&4294967295|p;let x=-1;if(w>=33088&&w<=40956?x=w-33088:w>=57408&&w<=60351&&(x=w-49472),x===-1)throw new wn("Invalid byte sequence");const A=(x>>8)*192+(x&255);i.appendBits(A,13)}}static appendECI(r,i){i.appendBits(_t.ECI.getBits(),4),i.appendBits(r.getValue(),8)}}Sn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Sn.DEFAULT_BYTE_MODE_ENCODING=B.UTF8.getName();class es{write(r,i,o,u=null){if(r.length===0)throw new y("Found empty contents");if(i<0||o<0)throw new y("Requested dimensions are too small: "+i+"x"+o);let c=bn.L,f=es.QUIET_ZONE_SIZE;u!==null&&(u.get(Qn.ERROR_CORRECTION)!==void 0&&(c=bn.fromString(u.get(Qn.ERROR_CORRECTION).toString())),u.get(Qn.MARGIN)!==void 0&&(f=Number.parseInt(u.get(Qn.MARGIN).toString(),10)));const p=Sn.encode(r,c,u);return this.renderResult(p,i,o,f)}writeToDom(r,i,o,u,c=null){typeof r=="string"&&(r=document.querySelector(r));const f=this.write(i,o,u,c);r&&r.appendChild(f)}renderResult(r,i,o,u){const c=r.getMatrix();if(c===null)throw new fe;const f=c.getWidth(),p=c.getHeight(),w=f+u*2,x=p+u*2,A=Math.max(i,w),O=Math.max(o,x),P=Math.min(Math.floor(A/w),Math.floor(O/x)),W=Math.floor((A-f*P)/2),re=Math.floor((O-p*P)/2),oe=this.createSVGElement(A,O);for(let pe=0,Te=re;pe<p;pe++,Te+=P)for(let We=0,Ke=W;We<f;We++,Ke+=P)if(c.get(We,pe)===1){const je=this.createSvgRectElement(Ke,Te,P,P);oe.appendChild(je)}return oe}createSVGElement(r,i){const o=document.createElementNS(es.SVG_NS,"svg");return o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",i.toString()),o}createSvgRectElement(r,i,o,u){const c=document.createElementNS(es.SVG_NS,"rect");return c.setAttributeNS(null,"x",r.toString()),c.setAttributeNS(null,"y",i.toString()),c.setAttributeNS(null,"height",o.toString()),c.setAttributeNS(null,"width",u.toString()),c.setAttributeNS(null,"fill","#000000"),c}}es.QUIET_ZONE_SIZE=4,es.SVG_NS="http://www.w3.org/2000/svg";class Pi{encode(r,i,o,u,c){if(r.length===0)throw new y("Found empty contents");if(i!==ge.QR_CODE)throw new y("Can only encode QR_CODE, but got "+i);if(o<0||u<0)throw new y(`Requested dimensions are too small: ${o}x${u}`);let f=bn.L,p=Pi.QUIET_ZONE_SIZE;c!==null&&(c.get(Qn.ERROR_CORRECTION)!==void 0&&(f=bn.fromString(c.get(Qn.ERROR_CORRECTION).toString())),c.get(Qn.MARGIN)!==void 0&&(p=Number.parseInt(c.get(Qn.MARGIN).toString(),10)));const w=Sn.encode(r,f,c);return Pi.renderResult(w,o,u,p)}static renderResult(r,i,o,u){const c=r.getMatrix();if(c===null)throw new fe;const f=c.getWidth(),p=c.getHeight(),w=f+u*2,x=p+u*2,A=Math.max(i,w),O=Math.max(o,x),P=Math.min(Math.floor(A/w),Math.floor(O/x)),W=Math.floor((A-f*P)/2),re=Math.floor((O-p*P)/2),oe=new ne(A,O);for(let pe=0,Te=re;pe<p;pe++,Te+=P)for(let We=0,Ke=W;We<f;We++,Ke+=P)c.get(We,pe)===1&&oe.setRegion(Ke,Te,P,P);return oe}}Pi.QUIET_ZONE_SIZE=4;class $c{encode(r,i,o,u,c){let f;switch(i){case ge.QR_CODE:f=new Pi;break;default:throw new y("No encoder available for format "+i)}return f.encode(r,i,o,u,c)}}class Mr extends De{constructor(r,i,o,u,c,f,p,w){if(super(f,p),this.yuvData=r,this.dataWidth=i,this.dataHeight=o,this.left=u,this.top=c,u+f>i||c+p>o)throw new y("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(f,p)}getRow(r,i){if(r<0||r>=this.getHeight())throw new y("Requested row is outside the image: "+r);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const u=(r+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,u,i,0,o),i}getMatrix(){const r=this.getWidth(),i=this.getHeight();if(r===this.dataWidth&&i===this.dataHeight)return this.yuvData;const o=r*i,u=new Uint8ClampedArray(o);let c=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return M.arraycopy(this.yuvData,c,u,0,o),u;for(let f=0;f<i;f++){const p=f*r;M.arraycopy(this.yuvData,c,u,p,r),c+=this.dataWidth}return u}isCropSupported(){return!0}crop(r,i,o,u){return new Mr(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+i,o,u,!1)}renderThumbnail(){const r=this.getWidth()/Mr.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/Mr.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(r*i),u=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let f=0;f<i;f++){const p=f*r;for(let w=0;w<r;w++){const x=u[c+w*Mr.THUMBNAIL_SCALE_FACTOR]&255;o[p+w]=4278190080|x*65793}c+=this.dataWidth*Mr.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/Mr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Mr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,i){const o=this.yuvData;for(let u=0,c=this.top*this.dataWidth+this.left;u<i;u++,c+=this.dataWidth){const f=c+r/2;for(let p=c,w=c+r-1;p<f;p++,w--){const x=o[p];o[p]=o[w],o[w]=x}}}invert(){return new tt(this)}}Mr.THUMBNAIL_SCALE_FACTOR=2;class za extends De{constructor(r,i,o,u,c,f,p){if(super(i,o),this.dataWidth=u,this.dataHeight=c,this.left=f,this.top=p,r.BYTES_PER_ELEMENT===4){const w=i*o,x=new Uint8ClampedArray(w);for(let A=0;A<w;A++){const O=r[A],P=O>>16&255,W=O>>7&510,re=O&255;x[A]=(P+W+re)/4&255}this.luminances=x}else this.luminances=r;if(u===void 0&&(this.dataWidth=i),c===void 0&&(this.dataHeight=o),f===void 0&&(this.left=0),p===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+o>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(r,i){if(r<0||r>=this.getHeight())throw new y("Requested row is outside the image: "+r);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const u=(r+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,u,i,0,o),i}getMatrix(){const r=this.getWidth(),i=this.getHeight();if(r===this.dataWidth&&i===this.dataHeight)return this.luminances;const o=r*i,u=new Uint8ClampedArray(o);let c=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return M.arraycopy(this.luminances,c,u,0,o),u;for(let f=0;f<i;f++){const p=f*r;M.arraycopy(this.luminances,c,u,p,r),c+=this.dataWidth}return u}isCropSupported(){return!0}crop(r,i,o,u){return new za(this.luminances,o,u,this.dataWidth,this.dataHeight,this.left+r,this.top+i)}invert(){return new tt(this)}}class Xl extends B{static forName(r){return this.getCharacterSetECIByName(r)}}class Wa{}Wa.ISO_8859_1=B.ISO8859_1;class Kl{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class Qs{static singletonList(r){return[r]}static min(r,i){return r.sort(i)[0]}}class qc{constructor(r){this.previous=r}getPrevious(){return this.previous}}class ts extends qc{constructor(r,i,o){super(r),this.value=i,this.bitCount=o}appendTo(r,i){r.appendBits(this.value,this.bitCount)}add(r,i){return new ts(this,r,i)}addBinaryShift(r,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ts(this,r,i)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+D.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class $o extends ts{constructor(r,i,o){super(r,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=o}appendTo(r,i){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):o===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(i[this.binaryShiftStart+o],8)}addBinaryShift(r,i){return new $o(this,r,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Uc(I,r,i){return new $o(I,r,i)}function Js(I,r,i){return new ts(I,r,i)}const jc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Li=0,qo=1,Kr=2,Fn=3,rr=4,Ga=new ts(null,0,0),Uo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(9<<16)+(30<<4)+14,0,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(4<<16)+14,(9<<16)+(14<<5)+28,0,(9<<16)+(14<<5)+29,(14<<16)+(14<<10)+(29<<5)+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,(10<<16)+(29<<5)+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,(10<<16)+(31<<5)+28,(10<<16)+(31<<5)+30,(10<<16)+(31<<5)+29,0])];function Rn(I){for(let r of I)j.fill(r,-1);return I[Li][rr]=0,I[qo][rr]=0,I[qo][Li]=28,I[Fn][rr]=0,I[Kr][rr]=0,I[Kr][Li]=15,I}const ys=Rn(j.createInt32Array(6,6));class ln{constructor(r,i,o,u){this.token=r,this.mode=i,this.binaryShiftByteCount=o,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,i){let o=this.bitCount,u=this.token;if(r!==this.mode){let f=Uo[this.mode][r];u=Js(u,f&65535,f>>16),o+=f>>16}let c=r===Kr?4:5;return u=Js(u,i,c),new ln(u,r,0,o+c)}shiftAndAppend(r,i){let o=this.token,u=this.mode===Kr?4:5;return o=Js(o,ys[this.mode][r],u),o=Js(o,i,5),new ln(o,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(r){let i=this.token,o=this.mode,u=this.bitCount;if(this.mode===rr||this.mode===Kr){let p=Uo[o][Li];i=Js(i,p&65535,p>>16),u+=p>>16,o=Li}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new ln(i,o,this.binaryShiftByteCount+1,u+c);return f.binaryShiftByteCount===2047+31&&(f=f.endBinaryShift(r+1)),f}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Uc(i,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new ln(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let i=this.bitCount+(Uo[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?i+=ln.calculateBinaryShiftCost(r)-ln.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(i+=10),i<=r.bitCount}toBitArray(r){let i=[];for(let u=this.endBinaryShift(r.length).token;u!==null;u=u.getPrevious())i.unshift(u);let o=new C;for(const u of i)u.appendTo(o,r);return o}toString(){return q.format("%s bits=%d bytes=%d",jc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}ln.INITIAL_STATE=new ln(Ga,Li,0,0);function Vn(I){const r=q.getCharCode(" "),i=q.getCharCode("."),o=q.getCharCode(",");I[Li][r]=1;const u=q.getCharCode("Z"),c=q.getCharCode("A");for(let P=c;P<=u;P++)I[Li][P]=P-c+2;I[qo][r]=1;const f=q.getCharCode("z"),p=q.getCharCode("a");for(let P=p;P<=f;P++)I[qo][P]=P-p+2;I[Kr][r]=1;const w=q.getCharCode("9"),x=q.getCharCode("0");for(let P=x;P<=w;P++)I[Kr][P]=P-x+2;I[Kr][o]=12,I[Kr][i]=13;const A=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"];for(let P=0;P<A.length;P++)I[Fn][q.getCharCode(A[P])]=P;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let P=0;P<O.length;P++)q.getCharCode(O[P])>0&&(I[rr][q.getCharCode(O[P])]=P);return I}const jo=Vn(j.createInt32Array(5,256));class xs{constructor(r){this.text=r}encode(){const r=q.getCharCode(" "),i=q.getCharCode(`
`);let o=Qs.singletonList(ln.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let f,p=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case q.getCharCode("\r"):f=p===i?2:0;break;case q.getCharCode("."):f=p===r?3:0;break;case q.getCharCode(","):f=p===r?4:0;break;case q.getCharCode(":"):f=p===r?5:0;break;default:f=0}f>0?(o=xs.updateStateListForPair(o,c,f),c++):o=this.updateStateListForChar(o,c)}return Qs.min(o,(c,f)=>c.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,i){const o=[];for(let u of r)this.updateStateForChar(u,i,o);return xs.simplifyStates(o)}updateStateForChar(r,i,o){let u=this.text[i]&255,c=jo[r.getMode()][u]>0,f=null;for(let p=0;p<=rr;p++){let w=jo[p][u];if(w>0){if(f==null&&(f=r.endBinaryShift(i)),!c||p===r.getMode()||p===Kr){const x=f.latchAndAppend(p,w);o.push(x)}if(!c&&ys[r.getMode()][p]>=0){const x=f.shiftAndAppend(p,w);o.push(x)}}}if(r.getBinaryShiftByteCount()>0||jo[r.getMode()][u]===0){let p=r.addBinaryShiftChar(i);o.push(p)}}static updateStateListForPair(r,i,o){const u=[];for(let c of r)this.updateStateForPair(c,i,o,u);return this.simplifyStates(u)}static updateStateForPair(r,i,o,u){let c=r.endBinaryShift(i);if(u.push(c.latchAndAppend(rr,o)),r.getMode()!==rr&&u.push(c.shiftAndAppend(rr,o)),o===3||o===4){let f=c.latchAndAppend(Kr,16-o).latchAndAppend(Kr,1);u.push(f)}if(r.getBinaryShiftByteCount()>0){let f=r.addBinaryShiftChar(i).addBinaryShiftChar(i+1);u.push(f)}}static simplifyStates(r){let i=[];for(const o of r){let u=!0;for(const c of i){if(c.isBetterThanOrEqualTo(o)){u=!1;break}o.isBetterThanOrEqualTo(c)&&(i=i.filter(f=>f!==c))}u&&i.push(o)}return i}}class rn{constructor(){}static encodeBytes(r){return rn.encode(r,rn.DEFAULT_EC_PERCENT,rn.DEFAULT_AZTEC_LAYERS)}static encode(r,i,o){let u=new xs(r).encode(),c=D.truncDivision(u.getSize()*i,100)+11,f=u.getSize()+c,p,w,x,A,O;if(o!==rn.DEFAULT_AZTEC_LAYERS){if(p=o<0,w=Math.abs(o),w>(p?rn.MAX_NB_BITS_COMPACT:rn.MAX_NB_BITS))throw new y(q.format("Illegal value %s for layers",o));x=rn.totalBitsInLayer(w,p),A=rn.WORD_SIZE[w];let je=x-x%A;if(O=rn.stuffBits(u,A),O.getSize()+c>je)throw new y("Data to large for user specified layer");if(p&&O.getSize()>A*64)throw new y("Data to large for user specified layer")}else{A=0,O=null;for(let je=0;;je++){if(je>rn.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(p=je<=3,w=p?je+1:je,x=rn.totalBitsInLayer(w,p),f>x)continue;(O==null||A!==rn.WORD_SIZE[w])&&(A=rn.WORD_SIZE[w],O=rn.stuffBits(u,A));let nn=x-x%A;if(!(p&&O.getSize()>A*64)&&O.getSize()+c<=nn)break}}let P=rn.generateCheckWords(O,x,A),W=O.getSize()/A,re=rn.generateModeMessage(p,w,W),oe=(p?11:14)+w*4,pe=new Int32Array(oe),Te;if(p){Te=oe;for(let je=0;je<pe.length;je++)pe[je]=je}else{Te=oe+1+2*D.truncDivision(D.truncDivision(oe,2)-1,15);let je=D.truncDivision(oe,2),nn=D.truncDivision(Te,2);for(let kt=0;kt<je;kt++){let Tr=kt+D.truncDivision(kt,15);pe[je-kt-1]=nn-Tr-1,pe[je+kt]=nn+Tr+1}}let We=new ne(Te);for(let je=0,nn=0;je<w;je++){let kt=(w-je)*4+(p?9:12);for(let Tr=0;Tr<kt;Tr++){let S=Tr*2;for(let E=0;E<2;E++)P.get(nn+S+E)&&We.set(pe[je*2+E],pe[je*2+Tr]),P.get(nn+kt*2+S+E)&&We.set(pe[je*2+Tr],pe[oe-1-je*2-E]),P.get(nn+kt*4+S+E)&&We.set(pe[oe-1-je*2-E],pe[oe-1-je*2-Tr]),P.get(nn+kt*6+S+E)&&We.set(pe[oe-1-je*2-Tr],pe[je*2+E])}nn+=kt*8}if(rn.drawModeMessage(We,p,Te,re),p)rn.drawBullsEye(We,D.truncDivision(Te,2),5);else{rn.drawBullsEye(We,D.truncDivision(Te,2),7);for(let je=0,nn=0;je<D.truncDivision(oe,2)-1;je+=15,nn+=16)for(let kt=D.truncDivision(Te,2)&1;kt<Te;kt+=2)We.set(D.truncDivision(Te,2)-nn,kt),We.set(D.truncDivision(Te,2)+nn,kt),We.set(kt,D.truncDivision(Te,2)-nn),We.set(kt,D.truncDivision(Te,2)+nn)}let Ke=new Kl;return Ke.setCompact(p),Ke.setSize(Te),Ke.setLayers(w),Ke.setCodeWords(W),Ke.setMatrix(We),Ke}static drawBullsEye(r,i,o){for(let u=0;u<o;u+=2)for(let c=i-u;c<=i+u;c++)r.set(c,i-u),r.set(c,i+u),r.set(i-u,c),r.set(i+u,c);r.set(i-o,i-o),r.set(i-o+1,i-o),r.set(i-o,i-o+1),r.set(i+o,i-o),r.set(i+o,i-o+1),r.set(i+o,i+o-1)}static generateModeMessage(r,i,o){let u=new C;return r?(u.appendBits(i-1,2),u.appendBits(o-1,6),u=rn.generateCheckWords(u,28,4)):(u.appendBits(i-1,5),u.appendBits(o-1,11),u=rn.generateCheckWords(u,40,4)),u}static drawModeMessage(r,i,o,u){let c=D.truncDivision(o,2);if(i)for(let f=0;f<7;f++){let p=c-3+f;u.get(f)&&r.set(p,c-5),u.get(f+7)&&r.set(c+5,p),u.get(20-f)&&r.set(p,c+5),u.get(27-f)&&r.set(c-5,p)}else for(let f=0;f<10;f++){let p=c-5+f+D.truncDivision(f,5);u.get(f)&&r.set(p,c-7),u.get(f+10)&&r.set(c+7,p),u.get(29-f)&&r.set(p,c+7),u.get(39-f)&&r.set(c-7,p)}}static generateCheckWords(r,i,o){let u=r.getSize()/o,c=new Ha(rn.getGF(o)),f=D.truncDivision(i,o),p=rn.bitsToWords(r,o,f);c.encode(p,f-u);let w=i%o,x=new C;x.appendBits(0,w);for(const A of Array.from(p))x.appendBits(A,o);return x}static bitsToWords(r,i,o){let u=new Int32Array(o),c,f;for(c=0,f=r.getSize()/i;c<f;c++){let p=0;for(let w=0;w<i;w++)p|=r.get(c*i+w)?1<<i-w-1:0;u[c]=p}return u}static getGF(r){switch(r){case 4:return F.AZTEC_PARAM;case 6:return F.AZTEC_DATA_6;case 8:return F.AZTEC_DATA_8;case 10:return F.AZTEC_DATA_10;case 12:return F.AZTEC_DATA_12;default:throw new y("Unsupported word size "+r)}}static stuffBits(r,i){let o=new C,u=r.getSize(),c=(1<<i)-2;for(let f=0;f<u;f+=i){let p=0;for(let w=0;w<i;w++)(f+w>=u||r.get(f+w))&&(p|=1<<i-1-w);(p&c)===c?(o.appendBits(p&c,i),f--):(p&c)===0?(o.appendBits(p|1,i),f--):o.appendBits(p,i)}return o}static totalBitsInLayer(r,i){return((i?88:112)+16*r)*r}}rn.DEFAULT_EC_PERCENT=33,rn.DEFAULT_AZTEC_LAYERS=0,rn.MAX_NB_BITS=32,rn.MAX_NB_BITS_COMPACT=4,rn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class eo{encode(r,i,o,u){return this.encodeWithHints(r,i,o,u,null)}encodeWithHints(r,i,o,u,c){let f=Wa.ISO_8859_1,p=rn.DEFAULT_EC_PERCENT,w=rn.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(Qn.CHARACTER_SET)&&(f=Xl.forName(c.get(Qn.CHARACTER_SET).toString())),c.has(Qn.ERROR_CORRECTION)&&(p=D.parseInt(c.get(Qn.ERROR_CORRECTION).toString())),c.has(Qn.AZTEC_LAYERS)&&(w=D.parseInt(c.get(Qn.AZTEC_LAYERS).toString()))),eo.encodeLayers(r,i,o,u,f,p,w)}static encodeLayers(r,i,o,u,c,f,p){if(i!==ge.AZTEC)throw new y("Can only encode AZTEC, but got "+i);let w=rn.encode(q.getBytes(r,c),f,p);return eo.renderResult(w,o,u)}static renderResult(r,i,o){let u=r.getMatrix();if(u==null)throw new fe;let c=u.getWidth(),f=u.getHeight(),p=Math.max(i,c),w=Math.max(o,f),x=Math.min(p/c,w/f),A=(p-c*x)/2,O=(w-f*x)/2,P=new ne(p,w);for(let W=0,re=O;W<f;W++,re+=x)for(let oe=0,pe=A;oe<c;oe++,pe+=x)u.get(oe,W)&&P.setRegion(pe,re,x,x);return P}}n.AbstractExpandedDecoder=en,n.ArgumentException=v,n.ArithmeticException=wt,n.AztecCode=Kl,n.AztecCodeReader=Xt,n.AztecCodeWriter=eo,n.AztecDecoder=ke,n.AztecDetector=Vt,n.AztecDetectorResult=$e,n.AztecEncoder=rn,n.AztecHighLevelEncoder=xs,n.AztecPoint=lt,n.BarcodeFormat=ge,n.Binarizer=T,n.BinaryBitmap=_,n.BitArray=C,n.BitMatrix=ne,n.BitSource=Po,n.BrowserAztecCodeReader=In,n.BrowserBarcodeReader=Tc,n.BrowserCodeReader=Je,n.BrowserDatamatrixCodeReader=Ic,n.BrowserMultiFormatReader=Lc,n.BrowserPDF417Reader=Bc,n.BrowserQRCodeReader=Fc,n.BrowserQRCodeSvgWriter=es,n.CharacterSetECI=B,n.ChecksumException=b,n.Code128Reader=Ue,n.Code39Reader=Jt,n.DataMatrixDecodedBitStreamParser=ni,n.DataMatrixReader=Ri,n.DecodeHintType=K,n.DecoderResult=ve,n.DefaultGridSampler=at,n.DetectorResult=ce,n.EAN13Reader=yr,n.EncodeHintType=Qn,n.Exception=m,n.FormatException=N,n.GenericGF=F,n.GenericGFPoly=st,n.GlobalHistogramBinarizer=Ne,n.GridSampler=et,n.GridSamplerInstance=ot,n.HTMLCanvasElementLuminanceSource=ht,n.HybridBinarizer=Ce,n.ITFReader=Ot,n.IllegalArgumentException=y,n.IllegalStateException=fe,n.InvertedLuminanceSource=tt,n.LuminanceSource=De,n.MathUtils=Ve,n.MultiFormatOneDReader=Gr,n.MultiFormatReader=Ua,n.MultiFormatWriter=$c,n.NotFoundException=Q,n.OneDReader=Dt,n.PDF417DecodedBitStreamParser=Ee,n.PDF417DecoderErrorCorrection=zl,n.PDF417Reader=fr,n.PDF417ResultMetadata=qa,n.PerspectiveTransform=Qe,n.PlanarYUVLuminanceSource=Mr,n.QRCodeByteMatrix=Vo,n.QRCodeDataMask=Yr,n.QRCodeDecodedBitStreamParser=kn,n.QRCodeDecoderErrorCorrectionLevel=bn,n.QRCodeDecoderFormatInformation=cr,n.QRCodeEncoder=Sn,n.QRCodeEncoderQRCode=Ji,n.QRCodeMaskUtil=Bn,n.QRCodeMatrixUtil=St,n.QRCodeMode=_t,n.QRCodeReader=Mi,n.QRCodeVersion=xt,n.QRCodeWriter=Pi,n.RGBLuminanceSource=za,n.RSS14Reader=Nt,n.RSSExpandedReader=Oe,n.ReaderException=Fo,n.ReedSolomonDecoder=Fe,n.ReedSolomonEncoder=Ha,n.ReedSolomonException=Y,n.Result=ct,n.ResultMetadataType=Be,n.ResultPoint=ye,n.StringUtils=q,n.UnsupportedOperationException=de,n.VideoInputDevice=he,n.WhiteRectangleDetector=Le,n.WriterException=wn,n.ZXingArrays=j,n.ZXingCharset=Xl,n.ZXingInteger=D,n.ZXingStandardCharsets=Wa,n.ZXingStringBuilder=be,n.ZXingStringEncoding=me,n.ZXingSystem=M,n.createAbstractExpandedDecoder=dt,Object.defineProperty(n,"__esModule",{value:!0})})})(M1,M1.exports);globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var oh=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var Lp=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var s={advanced:[n]};return this.track.applyConstraints(s)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),FE=function(e){oh(t,e);function t(n,s){return e.call(this,n,s)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var s={};s[this.name]=n;var a={advanced:[s]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),s=n[this.name];return{min:s.min,max:s.max,step:s.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Lp);(function(e){oh(t,e);function t(n){return e.call(this,"zoom",n)||this}return t})(FE);(function(e){oh(t,e);function t(n){return e.call(this,"torch",n)||this}return t})(Lp);globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var N1;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(N1||(N1={}));var VE=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}();(function(e){VE(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(BE);globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var P1;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(P1||(P1={}));const $E={key:0,class:"q-my-sm"},qE={key:0},UE={key:1,class:"column"},jE={class:"filter-icon",style:{position:"absolute",top:"16px",right:"16px"}},HE={style:{width:"30%"}},zE={class:"flex q-py-none",style:{"align-items":"center"}},WE={key:1,style:{height:"30vh"},class:"full-width flex column flex-center"},GE={key:0},YE={class:"text-subtitle2 text-grey"},XE={class:"flex flex-center"},KE=["onClick"],ZE={class:"text-blue text-h4"},QE={class:"flex justify-between",style:{"align-items":"center"}},JE={class:"flex justify-between full-width"},eA={style:{width:"80%"},class:"text-grey-7"},tA={class:"text-grey text-bold"},nA={class:"text-blue"},rA={class:"text-grey-6"},iA={key:1,class:"flex flex-center column full-height",style:{"margin-top":"200px"}},sA={class:"flex justify-between q-py-none q-pr-md bg-white z-max",style:{position:"sticky",top:"0"}},oA={class:"column flex q-pt-lg",style:{"align-items":"end"}},aA={style:{width:"100%"},class:"flex justify-between"},lA={key:0,class:"float-bottom text-subtitle2 flex justify-between",style:{right:"5%",width:"100%"}},uA={key:0,class:"text-red-8"},cA={key:1,class:"text-red-8"},dA={key:1,class:"float-bottom text-subtitle2 flex justify-between",style:{right:"5%",width:"100%"}},fA={class:"text-red-8"},hA={class:"float-bottom text-subtitle1 flex justify-between",style:{right:"5%",width:"100%"}},gA={class:"full-width justify-between flex q-px-md"},mA={key:0,class:"text-subtitle1"},vA={class:"flex justify-between",style:{"align-items":"center"}},pA={class:"flex justify-between full-width",style:{"align-items":"center"}},wA={class:"flex text-grey-7",style:{width:"70%"}},yA={key:0,class:"text-blue"},xA={key:0,class:"flex"},bA={key:0,class:"text-blue text-bold"},_A={key:1,class:"text-blue text-bold"},CA={class:"q-pt-md q-px-md bg-white",style:{position:"sticky",top:"0","z-index":"10"}},SA={class:"flex"},EA={style:{display:"grid","grid-template-columns":"1fr 1fr 1fr"},class:"q-mb-md"},AA={class:"flex"},TA={class:"text-bold"},IA={class:"flex justify-end full-width"},OA={class:"flex justify-between"},DA={class:"text-subtitle2"},kA={class:"text-primary"},RA={class:"full-width text-grey-6 flex justify-between"},MA={class:"flex justify-end"},NA={class:"flex justify-between q-pr-md bg-white z-max q-py-lg",style:{position:"sticky",top:"0"}},PA={class:"flex justify-between"},LA={class:"text-subtitle2 text-grey-6 q-ml-xs"},BA={class:"right-history column flex",style:{"align-items":"end"}},FA={class:"flex justify-end",style:{"align-items":"center"}},VA={class:"text-right text-subtitle1"},$A={class:"text-blue text-h5"},qA={class:"flex justify-between"},UA={style:{width:"80%"}},jA={key:0,class:"flex full-width justify-end q-px-lg",style:{"align-items":"center"}},HA={class:"text-blue text-bold"},zA={class:"q-px-md"},WA={style:{height:"30vh"},class:"full-width flex column flex-center"},GA={class:"flex justify-between q-pr-md bg-white z-max",style:{position:"sticky",top:"0"}},YA={class:"column flex q-pt-lg",style:{"align-items":"end"}},XA={style:{width:"100%"},class:"flex justify-between"},KA={key:0,class:"float-bottom text-subtitle2 flex justify-between",style:{right:"5%",width:"100%"}},ZA={key:0,class:"text-red-8"},QA={key:1,class:"text-red-8"},JA={key:1,class:"float-bottom text-subtitle2 flex justify-between",style:{right:"5%",width:"100%"}},e8={class:"text-red-8"},t8={class:"float-bottom text-subtitle1 flex justify-between",style:{right:"5%",width:"100%"}},n8={class:"full-width justify-between flex q-px-md"},r8={key:0,class:"text-subtitle1"},i8={class:"flex justify-between",style:{"align-items":"center"}},s8={class:"flex justify-between full-width",style:{"align-items":"center"}},o8={class:"flex text-grey-7",style:{width:"70%"}},a8={key:0,class:"text-blue"},l8={key:0,class:"flex"},u8={key:0,class:"text-blue text-bold"},c8={key:1,class:"text-blue text-bold"},d8={class:"flex q-pt-md"},f8={style:{display:"grid","grid-template-columns":"1fr 1fr 1fr"},class:"q-mb-md full-width"},h8={class:"flex"},g8={class:"text-bold"},m8={class:"flex justify-end full-width"},v8={class:"flex justify-between"},p8={class:"text-subtitle2"},w8={class:"text-primary"},y8={class:"full-width text-grey-6 flex justify-between"},x8={class:"flex justify-end"},b8={__name:"DataViewPage",setup(e){const t=Pe(!1),n=b3(),s=rh();Bf();const a=Sc(),l=Qf();Un.getLocalStorageData("username"),Un.getLocalStorageData("password");const d=Pe(null),h=Pe(null),g=Pe([]),m=Pe(l.slideItems);Pe(l.slideItemsUpdate);const v=Pe(3),y=G(()=>l.listUserData.slice(0,v.value));G(()=>v.value<l.listUserData.length);const _=Pe(!1),b=Pe("desc"),T=G(()=>[...l.listUserData].sort((D,C)=>b.value==="asc"?D.ordernumber-C.ordernumber:C.ordernumber-D.ordernumber));function M(D){b.value=D}$n(async()=>{await l.getInit(),Bt.auth.onAuthStateChange(async(D,C)=>{C&&a.validateSession()})}),Ia(()=>{Bt.removeAllChannels()});function $(D){s.bottomSheet({message:"H\xE0nh \u0111\u1ED9ng",grid:D,actions:[{label:"S\u1EEDa th\xF4ng tin",img:op,id:"update"},{},{label:"L\u1ECBch s\u1EED ch\u1EC9nh s\u1EEDa",img:sp,id:"history"}]}).onOk(C=>{switch(C.id){case"update":l.showUpdateDialog=!0,l.updateData={...l.dataItem.filter(L=>L.id===D)[0]},l.updateData.isCustomerOrder=!1,l.updateData.menuSelected=l.updateData.menuSelected.map(L=>L.isMultiSelect?{...L,selectCount:L.quantity}:L).filter(L=>L),l.updateData.menuMultipleSelect=l.menuData.map(L=>{if(L.isMultiSelect){const K=l.updateData.menu.filter(N=>N.menu_id===L.id)[0];return{id:L.id,label:L.label,price:parseFloat(L.value),selectCount:K?K.quantity:0,isMultiSelect:!0}}}).filter(L=>L),l.updateData.isHaveDiscount&&(l.listDiscountUpdate=l.listDiscountUpdate.map(L=>L.id===l.updateData.discountObject.id?{...L,isSelected:!0}:{...L,isSelected:!1}));break;case"delete":l.deleteData(D);break;case"history":l.showHistoryDialog=!0,l.fetchHistoryData(D);break}}).onCancel(()=>{}).onDismiss(()=>{})}const Z=(D,C)=>{if(D===""){C(()=>{g.value=l.menuData.filter(L=>!L.isMultiSelect)});return}C(()=>{const L=D.toLowerCase();g.value=l.menuData.filter(K=>K.filterSearch.toLowerCase().indexOf(L)>-1&&!K.isMultiSelect)})},j=D=>{switch(D){case"serving":return"green-3";case"waiting":return"yellow-3";case"off":return"red-3";default:return"primary"}};return(D,C)=>(Ae(),pt(Uf,{class:"q-pa-sm"},{default:ie(()=>[k(l).isLoadingMainScreen?jt("",!0):(Ae(),it("div",$E,[k(l).isShowMoreUsers?(Ae(),it("div",UE,[te("div",jE,[li((Ae(),pt(ut,{dense:"",round:"",flat:"",icon:"filter_list",onClick:C[5]||(C[5]=L=>_.value.value=!_.value.value)},{default:ie(()=>[U(eh,{modelValue:_.value,"onUpdate:modelValue":C[4]||(C[4]=L=>_.value=L)},{default:ie(()=>[U(si,null,{default:ie(()=>[li((Ae(),pt(Qr,{clickable:"",onClick:C[2]||(C[2]=L=>M("asc"))},{default:ie(()=>[U(sr,null,{default:ie(()=>C[44]||(C[44]=[Ht("S\u1EAFp x\u1EBFp theo th\u1EE9 t\u1EF1 b\xE9 l\u1EDBn")])),_:1})]),_:1})),[[ma]]),li((Ae(),pt(Qr,{clickable:"",onClick:C[3]||(C[3]=L=>M("desc"))},{default:ie(()=>[U(sr,null,{default:ie(()=>C[45]||(C[45]=[Ht("S\u1EAFp x\u1EBFp theo th\u1EE9 t\u1EF1 l\u1EDBn b\xE9")])),_:1})]),_:1})),[[ma]])]),_:1})]),_:1},8,["modelValue"])]),_:1})),[[ma]])]),(Ae(!0),it(Qt,null,Gn(T.value,L=>(Ae(),it("div",{key:L.userName,class:"flex q-py-none",style:{"align-items":"center"}},[te("div",HE,[U(ut,{color:L.status_name==="serving"?"green-8":L.status_name==="waiting"?"yellow-8":"red-8",class:"q-pa-sm q-my-xs q-py-none",outline:"",size:"md",style:{"min-width":"100px"}},{default:ie(()=>[Ht(Ze(L.username),1)]),_:2},1032,["color"])]),te("div",zE,[(Ae(!0),it(Qt,null,Gn(+L.ordernumber,(K,N)=>(Ae(),pt(bi,{key:N,color:"primary",outline:"",class:"q-pa-sm q-px-sm q-ml-sm",label:K},null,8,["label"]))),128))])]))),128)),U(ut,{flat:"",dense:"","text-color":"grey-4","icon-right":"unfold_less",class:"q-ml-sm",onClick:C[6]||(C[6]=L=>k(l).isShowMoreUsers=!k(l).isShowMoreUsers)})])):(Ae(),it("div",qE,[(Ae(!0),it(Qt,null,Gn(y.value,L=>(Ae(),pt(ut,{key:L.userName,color:"grey-6",class:"q-mx-xs q-pa-sm q-my-xs",outline:"",size:"md",style:{"min-width":"100px"}},{default:ie(()=>[U(Lt,{name:"circle",color:j(L.status_name),size:"xs",class:"q-mx-xs"},null,8,["color"]),Ht(" "+Ze(L.username)+" - "+Ze(L.ordernumber),1)]),_:2},1024))),128)),k(l).isShowMoreUsers?(Ae(),pt(ut,{key:1,flat:"",dense:"","text-color":"grey-4","icon-right":"unfold_less",class:"q-ml-sm",onClick:C[1]||(C[1]=L=>k(l).isShowMoreUsers=!k(l).isShowMoreUsers)})):(Ae(),pt(ut,{key:0,flat:"","text-color":"grey-4","icon-right":"unfold_more",class:"q-ml-sm",onClick:C[0]||(C[0]=L=>k(l).isShowMoreUsers=!k(l).isShowMoreUsers)}))]))])),k(l).isLoadingMainScreen?(Ae(),it("div",WE,[C[46]||(C[46]=Ht(" \u0110ang t\u1EA3i ")),U(k(Eo),{size:"lg",color:"blue"})])):(Ae(),pt(si,{key:2,class:"q-mt-md"},{default:ie(()=>{var L;return[(L=k(l).dataItem)!=null&&L.length?(Ae(),it("div",GE,[(Ae(!0),it(Qt,null,Gn(k(l).dataItem,(K,N)=>(Ae(),pt(_n,{key:N,flat:"",bordered:"",class:"my-card q-mb-md"},{default:ie(()=>[U(Tt,{class:"flex flex justify-between q-py-md",style:{"align-items":"center"}},{default:ie(()=>[te("div",null,[te("div",YE,Ze(K.datum),1)]),te("div",XE,[K.discountObject.id?(Ae(),pt(bi,{key:0,color:"primary",outline:"",label:`-${K.discountObject.value}${K.discountObject.type==="none"?"\u20AC":K.discountObject.type}`,class:"q-mr-sm"},null,8,["label"])):jt("",!0),K.giftCardObject.id?(Ae(),pt(bi,{key:1,color:"red",outline:"",label:`-${K.giftCardObject.value}\u20AC`,class:"q-mr-sm"},null,8,["label"])):jt("",!0),K.is_edit?(Ae(),pt(Lt,{key:2,name:"eva-edit-2-outline",size:"xs",color:"red-7"})):jt("",!0),U(Lt,{name:"more_vert",size:"sm",color:k(l).loadingSelect?"grey-3":"grey-5",onClick:J=>k(l).loadingSelect?[]:$(K.id)},null,8,["color","onClick"])])]),_:2},1024),U(Tt,null,{default:ie(()=>[te("div",{class:"flex justify-between full-width q-py-xs q-px-none q-mx-none",onClick:J=>K.showQList=!K.showQList,style:{"align-items":"center"}},[C[47]||(C[47]=te("span",{class:"text-bold text-grey-7 text-h6"},"Doanh thu",-1)),te("span",ZE,Ze(k(sn).formatter.format(K.umsatz)),1)],8,KE),K.showQList?(Ae(),pt(si,{key:0,class:"q-mb-md",bordered:"",separator:""},{default:ie(()=>[(Ae(!0),it(Qt,null,Gn(K.menuSelected,(J,B)=>(Ae(),pt(Qr,{key:B},{default:ie(()=>[U(sr,null,{default:ie(()=>[te("div",QE,[te("div",JE,[te("div",eA,Ze(J.label),1),te("div",tA,[te("span",nA,Ze(J.quantity)+" x",1),Ht(" "+Ze(k(sn).formatter.format(J.value)),1)])])])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)):jt("",!0),te("span",rA,Ze(K.notizen),1)]),_:2},1024)]),_:2},1024))),128))])):(Ae(),it("div",iA,[U(Ec,{src:k(Ac),"spinner-color":"primary","spinner-size":"82px",width:"250px"},null,8,["src"]),C[48]||(C[48]=te("span",{class:"text-h5 text-grey-7 text-bold"},"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u",-1))]))]}),_:1})),U(jl,{position:"bottom-right",offset:[18,48]},{default:ie(()=>[U(ut,{icon:"add",color:"green-7",class:"q-pa-md",round:"",disable:k(l).isLoadingMainScreen,onClick:C[7]||(C[7]=L=>k(l).showAddDialog=!0)},null,8,["disable"])]),_:1}),U(pr,{maximized:k(l).showAddDialog,class:"full-width full-height",modelValue:k(l).showAddDialog,"onUpdate:modelValue":C[24]||(C[24]=L=>k(l).showAddDialog=L)},{default:ie(()=>[U(_n,{class:"full-width full-height"},{default:ie(()=>[te("div",sA,[U(ut,{icon:"eva-arrow-ios-back-outline",class:"text-blue",flat:"",onClick:C[8]||(C[8]=L=>k(l).showAddDialog=!1)},{default:ie(()=>C[49]||(C[49]=[te("span",{class:"text-subtitle1"},"Quay l\u1EA1i",-1)])),_:1}),te("div",oA,[te("div",aA,[C[50]||(C[50]=te("span",{class:"text-grey-8"},"Gi\xE1 g\u1ED1c: ",-1)),te("span",null,Ze(k(sn).formatter.format(k(l).newData.umsatz)),1)]),k(l).newData.isHaveDiscount?(Ae(),it("div",lA,[C[51]||(C[51]=te("span",null,"M\xE3 gi\u1EA3m gi\xE1: ",-1)),k(l).newData.discountObject.type==="none"?(Ae(),it("span",uA,"-"+Ze(k(sn).formatter.format(k(l).newData.discountObject.value)),1)):(Ae(),it("span",cA,"-"+Ze(k(l).newData.discountObject.value)+" "+Ze(k(l).newData.discountObject.type),1))])):jt("",!0),k(l).newData.isHaveGiftCard?(Ae(),it("div",dA,[C[52]||(C[52]=te("span",null,"M\xE3 qu\xE0 t\u1EB7ng: ",-1)),te("span",fA,"-"+Ze(k(sn).formatter.format(k(l).newData.giftCardObject.value)),1)])):jt("",!0),te("div",hA,[C[53]||(C[53]=te("span",{class:"text-bold q-pr-md"},"T\u1ED5ng c\u1ED9ng:",-1)),te("span",null,Ze(k(sn).formatter.format(Math.max((k(l).newData.isHaveDiscount?k(l).newData.discountObject.type==="none"?k(l).newData.umsatz-k(l).newData.discountObject.value:k(l).newData.umsatz-k(l).newData.umsatz/100*k(l).newData.discountObject.value:k(l).newData.umsatz)-(k(l).newData.isHaveGiftCard?k(l).newData.giftCardObject.value:0),0))),1)])])]),U(Tt,null,{default:ie(()=>[U(Xi,{class:"q-gutter-md q-py-lg flex column",onSubmit:C[23]||(C[23]=L=>k(l).addData(k(l).newData))},{default:ie(()=>{var L,K;return[te("div",gA,[(Ae(!0),it(Qt,null,Gn(k(l).listDiscount,(N,J)=>(Ae(),pt(bi,{outline:!N.isSelected,color:"primary",key:J,label:`-${N.value}${N.type==="none"?"\u20AC":N.type}`,class:"q-pa-sm q-px-lg q-mb-sm",style:{width:"23%"},onClick:B=>k(l).handleClickDiscount(N.id)},null,8,["outline","label","onClick"]))),128))]),(L=k(l).newData.menuSelected)!=null&&L.length?(Ae(),it("span",mA,"D\u1ECBch v\u1EE5 \u0111\xE3 ch\u1ECDn")):jt("",!0),(K=k(l).newData.menuSelected)!=null&&K.length?(Ae(),pt(si,{key:1,bordered:"",separator:""},{default:ie(()=>[(Ae(!0),it(Qt,null,Gn(k(l).newData.menuSelected,(N,J)=>(Ae(),pt(mf,{key:J,ref_for:!0,ref_key:"slideItems",ref:m,onRight:B=>k(l).onRightSlide(N.id,J),"right-color":"red-5"},{right:ie(()=>[U(Lt,{name:"delete"}),C[54]||(C[54]=Ht(" Xo\xE1... "))]),default:ie(()=>[U(Qr,null,{default:ie(()=>[U(sr,null,{default:ie(()=>[te("div",vA,[te("div",pA,[te("div",wA,[te("div",{class:"column",style:qs(N.isMultiSelect?"width: 30%":[])},[Ht(Ze(N.label)+" ",1),N.isMultiSelect?(Ae(),it("span",yA,"x "+Ze(N.selectCount),1)):jt("",!0)],4),N.isMultiSelect?(Ae(),it("div",xA,[U(ut,{color:"grey-6",icon:"eva-minus-outline",onClick:B=>k(l).clickMultiSelectInAddDataMinus(N),outline:""},null,8,["onClick"]),U(ut,{color:"grey-6",icon:"eva-plus-outline",onClick:B=>k(l).clickMultiSelectInAddData(N),class:"q-ml-sm",outline:""},null,8,["onClick"])])):jt("",!0)]),N.isMultiSelect?(Ae(),it("div",bA,Ze(k(sn).formatter.format(N.value*N.selectCount)),1)):(Ae(),it("div",_A,Ze(k(sn).formatter.format(N.value)),1))])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onRight"]))),128))]),_:1})):jt("",!0),C[62]||(C[62]=te("span",{class:"text-subtitle1"},"Ch\u1ECDn d\u1ECBch v\u1EE5",-1)),U(ji,{ref_key:"selectMenuRef",ref:d,rules:[N=>!!N||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 r\u1ED7ng"],modelValue:k(l).newData.menuSelected,"onUpdate:modelValue":[C[11]||(C[11]=N=>k(l).newData.menuSelected=N),C[12]||(C[12]=N=>k(l).newData.umsatz=k(l).newData.menuSelected.map(J=>J.value).reduce((J,B)=>J+B,0))],options:g.value,"option-label":"label","option-value":"id",outlined:"",multiple:"","use-input":"",onFilter:Z,"input-debounce":"300",disable:k(l).loadingSelect,"hide-selected":"",behavior:"menu",style:{position:"relative"}},{"before-options":ie(()=>[te("div",CA,[te("div",SA,[U(ut,{"text-color":"grey-5",icon:"close",flat:"",label:"\u0110\xF3ng menu",class:"full-width q-mb-md",onClick:C[9]||(C[9]=N=>d.value.hidePopup())})]),te("div",EA,[(Ae(!0),it(Qt,null,Gn(k(l).newData.menuMultipleSelect.sort((N,J)=>N.price-J.price),(N,J)=>(Ae(),pt(ut,{key:J,class:"q-mr-sm",outline:"",color:"white","text-color":"primary",label:N.label,onClick:B=>k(l).clickMultiSelectInAddData(N)},{default:ie(()=>[U(bi,{color:"red",label:N.selectCount,floating:""},null,8,["label"])]),_:2},1032,["label","onClick"]))),128))])])]),"after-options":ie(()=>[te("div",AA,[U(ut,{"text-color":"grey-5",icon:"close",flat:"",label:"\u0110\xF3ng menu",class:"full-width q-my-md",onClick:C[10]||(C[10]=N=>d.value.hidePopup())})])]),option:ie(N=>[U(Qr,Mu({clickable:"false"},N.itemProps,{class:[N.selected?"bg-blue-1":N.index%2===0?"bg-grey-1":"bg-grey-2"]}),{default:ie(()=>[U(sr,{avatar:""},{default:ie(()=>[U(Lt,{name:"eva-pricetags-outline",class:Wi({"text-grey-4":!N.selected,"text-blue":N.selected})},null,8,["class"])]),_:2},1024),U(sr,null,{default:ie(()=>[U(go,{class:"text-subtitle2"},{default:ie(()=>[Ht(Ze(N.opt.label),1)]),_:2},1024),U(go,{caption:""},{default:ie(()=>[C[55]||(C[55]=Ht("Preis: ")),te("span",TA,Ze(k(sn).formatter.format(N.opt.value)),1)]),_:2},1024)]),_:2},1024),U(sr,{side:""},{default:ie(()=>[te("div",IA,[U(Hu,{modelValue:N.selected,"onUpdate:modelValue":J=>N.selected=J,color:"green",onClick:J=>k(l).clickToggleAddMenuItem(N)},null,8,["modelValue","onUpdate:modelValue","onClick"])])]),_:2},1024)]),_:2},1040,["class"])]),_:1},8,["rules","modelValue","options","disable"]),te("div",null,[C[59]||(C[59]=te("span",{class:"text-subtitle1"},"Gift card",-1)),U(vn,{modelValue:k(l).newData.giftCard,"onUpdate:modelValue":[C[14]||(C[14]=N=>k(l).newData.giftCard=N),C[15]||(C[15]=N=>k(l).validateGiftCard(k(l).newData.giftCard))],placeholder:"Vui l\xF2ng nh\u1EADp gift card t\u1EA1i \u0111\xE2y...",outlined:"",debounce:"500"},{append:ie(()=>[U(Lt,{name:"qr_code_scanner",onClick:C[13]||(C[13]=N=>t.value=!0)})]),_:1},8,["modelValue"]),U(pr,{modelValue:t.value,"onUpdate:modelValue":C[17]||(C[17]=N=>t.value=N)},{default:ie(()=>[U(_n,{style:{"min-width":"90vw"}},{default:ie(()=>[U(Tt,null,{default:ie(()=>C[56]||(C[56]=[te("div",{class:"text-h6"},"Scan QR Code",-1)])),_:1}),U(Tt,{class:"q-pa-md flex flex-center"},{default:ie(()=>[U(D1,{height:500,"detect-func":k(n).scanData},null,8,["detect-func"])]),_:1}),U(ci,{align:"right"},{default:ie(()=>[U(ut,{flat:"",dense:"",label:"\u0110\xF3ng",color:"grey",onClick:C[16]||(C[16]=N=>t.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),k(l).newData.isHaveGiftCard?(Ae(),pt(_n,{key:0,class:"my-card"},{default:ie(()=>[U(Tt,null,{default:ie(()=>[te("div",OA,[C[57]||(C[57]=te("div",{class:"text-h6"},"Th\u1EBB qu\xE0 t\u1EB7ng",-1)),U(Lt,{name:"eva-trash-2-outline",size:"md",color:"red-8",onClick:C[18]||(C[18]=N=>{k(Fr).create({title:"X\xE1c nh\u1EADn",message:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n xo\xE1 th\u1EBB qu\xE0 t\u1EB7ng n\xE0y?",ok:!0,cancel:!0}).onOk(()=>{k(l).newData.isHaveGiftCard=!1,k(l).newData.giftCardObject={},k(l).newData.giftCard=""})})})]),te("div",DA,[C[58]||(C[58]=Ht(" Gi\xE1 tr\u1ECB: ")),te("span",kA,Ze(k(l).newData.giftCardObject.value),1)])]),_:1}),U(Tt,null,{default:ie(()=>[te("div",RA,[te("span",null," T\u1EEB ng\xE0y: "+Ze(new Date(k(l).newData.giftCardObject.date_from).toLocaleDateString("vi-VN")),1),te("span",null," \u0110\u1EBFn ng\xE0y: "+Ze(new Date(k(l).newData.giftCardObject.date_expired).toLocaleDateString("vi-VN")),1)])]),_:1})]),_:1})):jt("",!0)]),te("div",MA,[U(of,{"left-label":"",modelValue:k(l).newData.isCustomerOrder,"onUpdate:modelValue":C[19]||(C[19]=N=>k(l).newData.isCustomerOrder=N),label:"Kh\xE1ch \u0111\u1EB7t"},null,8,["modelValue"])]),k(l).showNotizen?jt("",!0):(Ae(),it("div",{key:2,onClick:C[20]||(C[20]=N=>k(l).showNotizen=!0),class:"flex flex-center text-blue"},[U(Lt,{name:"add",size:"sm",rounded:""}),C[60]||(C[60]=Ht("Hi\u1EC7n ghi ch\xFA "))])),k(l).showNotizen?(Ae(),pt(vn,{key:3,modelValue:k(l).newData.notizen,"onUpdate:modelValue":C[21]||(C[21]=N=>k(l).newData.notizen=N),label:"Th\xEAm ghi ch\xFA",outlined:""},null,8,["modelValue"])):jt("",!0),k(l).showNotizen?(Ae(),it("div",{key:4,onClick:C[22]||(C[22]=N=>k(l).showNotizen=!1),class:"flex flex-center text-blue"},[U(Lt,{name:"remove",size:"sm",rounded:""}),C[61]||(C[61]=Ht("\u1EA8n ghi ch\xFA "))])):jt("",!0),U(ut,{label:"L\u01B0u d\u1EEF li\u1EC7u",type:"submit",color:"green-7",icon:"add",class:"q-py-sm",push:""})]}),_:1})]),_:1})]),_:1})]),_:1},8,["maximized","modelValue"]),U(pr,{maximized:k(l).showHistoryDialog,modelValue:k(l).showHistoryDialog,"onUpdate:modelValue":C[26]||(C[26]=L=>k(l).showHistoryDialog=L)},{default:ie(()=>[k(l).isLoadingHistory?(Ae(),pt(_n,{key:1,class:"full-width flex flex-center full-height"},{default:ie(()=>[te("div",WA,[C[66]||(C[66]=Ht(" \u0110ang t\u1EA3i ")),U(k(Eo),{size:"lg",color:"blue"})])]),_:1})):(Ae(),pt(_n,{key:0,class:"full-width full-height"},{default:ie(()=>[te("div",NA,[U(ut,{icon:"eva-arrow-ios-back-outline",class:"text-blue",flat:"",onClick:C[25]||(C[25]=L=>k(l).showHistoryDialog=!1)},{default:ie(()=>C[63]||(C[63]=[te("span",{class:"text-subtitle1"},"Quay l\u1EA1i",-1)])),_:1}),C[64]||(C[64]=te("span",{class:"text-h6 text-bold"},"L\u1ECBch s\u1EED ch\u1EC9nh s\u1EEDa",-1))]),U(Tt,null,{default:ie(()=>[U(si,null,{default:ie(()=>[(Ae(!0),it(Qt,null,Gn(k(l).listOrderHistories,(L,K)=>(Ae(),pt(_n,{key:K,class:"my-card q-mb-lg"},{default:ie(()=>[U(Tt,null,{default:ie(()=>[te("div",PA,[te("div",null,[te("div",{class:Wi(["text-h5",L.operation.toLowerCase()==="insert"?"text-green":"text-orange"])},Ze(L.operation.toLowerCase()==="insert"?"T\u1EA1o m\u1EDBi":"C\u1EADp nh\u1EADp"),3),te("div",LA,Ze(L.dateFormat),1)]),te("div",BA,[te("div",FA,[L.discountObject.id?(Ae(),pt(bi,{key:0,color:"primary",outline:"",label:`-${L.discountObject.value}${L.discountObject.type==="none"?"\u20AC":L.discountObject.type}`,class:"q-mr-sm"},null,8,["label"])):jt("",!0),L.giftCardObject.id?(Ae(),pt(bi,{key:1,color:"red",outline:"",label:`-${L.giftCardObject.value}\u20AC`,class:"q-mr-sm"},null,8,["label"])):jt("",!0),te("span",VA,Ze(k(sn).formatter.format(L.details.menu_items.reduce((N,J)=>N+J.price,0))),1)]),te("div",$A," = "+Ze(k(sn).formatter.format(L.umsatz.toFixed(2))),1)])])]),_:2},1024),U(Tt,null,{default:ie(()=>[(Ae(!0),it(Qt,null,Gn(L.details.menu_items,(N,J)=>li((Ae(),pt(Qr,{key:J,clickable:"",class:"flex justify-between"},{default:ie(()=>[U(sr,null,{default:ie(()=>[te("div",qA,[te("span",UA,Ze(k(l).menuData.filter(B=>B.id===N.menu_id)[0].label),1),te("span",null,Ze(N.quantity)+" x "+Ze(N.price/N.quantity),1)])]),_:2},1024)]),_:2},1024)),[[$l]])),128))]),_:2},1024),L.details.is_customer_order?(Ae(),it("div",jA,[te("span",HA,[C[65]||(C[65]=Ht(" Kh\xE1ch \u0111\u1EB7t ")),U(Lt,{name:"eva-checkmark-circle-outline",size:"sm",color:"primary"})])])):jt("",!0),U(Tt,null,{default:ie(()=>[te("span",zA,"M\xF4 t\u1EA3: "+Ze(L.details.description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}))]),_:1},8,["maximized","modelValue"]),U(pr,{maximized:k(l).showUpdateDialog,modelValue:k(l).showUpdateDialog,"onUpdate:modelValue":C[43]||(C[43]=L=>k(l).showUpdateDialog=L)},{default:ie(()=>[U(_n,{class:"full-width full-height"},{default:ie(()=>[te("div",GA,[U(ut,{icon:"eva-arrow-ios-back-outline",class:"text-blue",flat:"",onClick:k(l).handleClickBackButtonShowAlert},{default:ie(()=>C[67]||(C[67]=[te("span",{class:"text-subtitle1"},"Quay l\u1EA1i",-1)])),_:1},8,["onClick"]),te("div",YA,[te("div",XA,[C[68]||(C[68]=te("span",{class:"text-grey-8"},"Gi\xE1 g\u1ED1c: ",-1)),te("span",null,Ze(k(sn).formatter.format(k(l).updateData.totalPrice)),1)]),k(l).updateData.isHaveDiscount?(Ae(),it("div",KA,[C[69]||(C[69]=te("span",null,"M\xE3 gi\u1EA3m gi\xE1: ",-1)),k(l).updateData.discountObject.type==="none"?(Ae(),it("span",ZA,"-"+Ze(k(sn).formatter.format(k(l).updateData.discountObject.value)),1)):(Ae(),it("span",QA,"-"+Ze(k(l).updateData.discountObject.value)+" "+Ze(k(l).updateData.discountObject.type),1))])):jt("",!0),k(l).updateData.isHaveGiftCard?(Ae(),it("div",JA,[C[70]||(C[70]=te("span",null,"M\xE3 qu\xE0 t\u1EB7ng: ",-1)),te("span",e8,"-"+Ze(k(sn).formatter.format(k(l).updateData.giftCardObject.value)),1)])):jt("",!0),te("div",t8,[C[71]||(C[71]=te("span",{class:"text-bold q-pr-md"},"T\u1ED5ng c\u1ED9ng:",-1)),te("span",null,Ze(k(sn).formatter.format(Math.max((k(l).updateData.isHaveDiscount?k(l).updateData.discountObject.type==="none"?k(l).updateData.totalPrice-k(l).updateData.discountObject.value:k(l).updateData.totalPrice-k(l).updateData.totalPrice/100*k(l).updateData.discountObject.value:k(l).updateData.totalPrice)-(k(l).updateData.isHaveGiftCard?k(l).updateData.giftCardObject.value:0),0))),1)])])]),U(Tt,null,{default:ie(()=>[U(Xi,{class:"q-gutter-md q-py-lg flex column",onSubmit:C[42]||(C[42]=L=>k(l).postUpdateItem(k(l).updateData))},{default:ie(()=>{var L,K;return[te("div",n8,[(Ae(!0),it(Qt,null,Gn(k(l).listDiscountUpdate,(N,J)=>(Ae(),pt(bi,{outline:!N.isSelected,color:"primary",key:J,label:`-${N.value}${N.type==="none"?"\u20AC":N.type}`,class:"q-pa-sm q-px-lg q-mb-sm",style:{width:"23%"},onClick:B=>k(l).handleClickDiscountUpdate(N.id)},null,8,["outline","label","onClick"]))),128))]),(L=k(l).updateData.menuSelected)!=null&&L.length?(Ae(),it("span",r8,"D\u1ECBch v\u1EE5 \u0111\xE3 ch\u1ECDn")):jt("",!0),(K=k(l).updateData.menuSelected)!=null&&K.length?(Ae(),pt(si,{key:1,bordered:"",separator:""},{default:ie(()=>[(Ae(!0),it(Qt,null,Gn(k(l).updateData.menuSelected,(N,J)=>(Ae(),pt(mf,{key:J,ref_for:!0,ref_key:"slideItems",ref:m,onRight:B=>k(l).onRightSlide(N.id,J),"right-color":"red-5"},{right:ie(()=>[U(Lt,{name:"delete"}),C[72]||(C[72]=Ht(" Xo\xE1... "))]),default:ie(()=>[U(Qr,null,{default:ie(()=>[U(sr,null,{default:ie(()=>[te("div",i8,[te("div",s8,[te("div",o8,[te("div",{class:"column",style:qs(N.isMultiSelect?"width: 30%":[])},[Ht(Ze(N.label)+" ",1),N.isMultiSelect?(Ae(),it("span",a8,"x "+Ze(N.selectCount),1)):jt("",!0)],4),N.isMultiSelect?(Ae(),it("div",l8,[U(ut,{color:"grey-6",icon:"eva-minus-outline",onClick:B=>k(l).clickMultiSelectInUpdateDataMinus(N),outline:""},null,8,["onClick"]),U(ut,{color:"grey-6",icon:"eva-plus-outline",onClick:B=>k(l).clickMultiSelectInUpdateData(N),class:"q-ml-sm",outline:""},null,8,["onClick"])])):jt("",!0)]),N.isMultiSelect?(Ae(),it("div",u8,Ze(k(sn).formatter.format(N.value*N.selectCount)),1)):(Ae(),it("div",c8,Ze(k(sn).formatter.format(N.value)),1))])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onRight"]))),128))]),_:1})):jt("",!0),C[81]||(C[81]=te("span",{class:"text-subtitle1"},"Ch\u1ECDn d\u1ECBch v\u1EE5",-1)),U(ji,{ref_key:"selectMenuRefUpdate",ref:h,rules:[N=>!!N||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 r\u1ED7ng"],modelValue:k(l).updateData.menuSelected,"onUpdate:modelValue":[C[29]||(C[29]=N=>k(l).updateData.menuSelected=N),C[30]||(C[30]=N=>{k(l).updateData.umsatz=k(l).updateData.menuSelected.map(J=>J.value).reduce((J,B)=>J+B,0),k(l).isHaveNotSaveDataYet=!0})],options:g.value,"option-label":"label","option-value":"id",outlined:"",multiple:"","use-input":"",onFilter:Z,"input-debounce":"300",behavior:"menu",disable:k(l).loadingSelect,"hide-selected":""},{selected:ie(()=>C[73]||(C[73]=[])),"before-options":ie(()=>[te("div",d8,[U(ut,{"text-color":"grey-5",icon:"close",flat:"",label:"\u0110\xF3ng menu",class:"full-width q-mb-md",onClick:C[27]||(C[27]=N=>h.value.hidePopup())}),te("div",f8,[(Ae(!0),it(Qt,null,Gn(k(l).updateData.menuMultipleSelect.sort((N,J)=>N.price-J.price),(N,J)=>(Ae(),pt(ut,{key:J,class:"q-mr-sm",outline:"",color:"white","text-color":"primary",label:N.label,onClick:B=>k(l).clickMultiSelectInUpdateData(N)},{default:ie(()=>[U(bi,{color:"red",label:N.selectCount,floating:""},null,8,["label"])]),_:2},1032,["label","onClick"]))),128))])])]),"after-options":ie(()=>[te("div",h8,[U(ut,{"text-color":"grey-5",icon:"close",flat:"",label:"\u0110\xF3ng menu",class:"full-width q-my-md",onClick:C[28]||(C[28]=N=>h.value.hidePopup())})])]),option:ie(N=>[U(Qr,Mu(N.itemProps,{class:[N.selected?"bg-blue-1":N.index%2===0?"bg-grey-1":"bg-grey-2"]}),{default:ie(()=>[U(sr,{avatar:""},{default:ie(()=>[U(Lt,{name:"eva-pricetags-outline",class:Wi({"text-grey-4":!N.selected,"text-blue":N.selected})},null,8,["class"])]),_:2},1024),U(sr,null,{default:ie(()=>[U(go,{class:"text-subtitle2"},{default:ie(()=>[Ht(Ze(N.opt.label),1)]),_:2},1024),U(go,{caption:""},{default:ie(()=>[C[74]||(C[74]=Ht("Preis: ")),te("span",g8,Ze(k(sn).formatter.format(N.opt.value)),1)]),_:2},1024)]),_:2},1024),U(sr,{side:""},{default:ie(()=>[te("div",m8,[U(Hu,{modelValue:N.selected,"onUpdate:modelValue":J=>N.selected=J,color:"green",onClick:J=>k(l).clickToggleUpdateMenuItem(N)},null,8,["modelValue","onUpdate:modelValue","onClick"])])]),_:2},1024)]),_:2},1040,["class"])]),_:1},8,["rules","modelValue","options","disable"]),te("div",null,[C[78]||(C[78]=te("span",{class:"text-subtitle1"},"Gift card",-1)),U(vn,{modelValue:k(l).updateData.giftCard,"onUpdate:modelValue":[C[32]||(C[32]=N=>k(l).updateData.giftCard=N),C[33]||(C[33]=N=>k(l).validateGiftCard(k(l).updateData.giftCard))],placeholder:"Vui l\xF2ng nh\u1EADp gift card t\u1EA1i \u0111\xE2y...",outlined:"",debounce:"500"},{append:ie(()=>[U(Lt,{name:"qr_code_scanner",onClick:C[31]||(C[31]=N=>t.value=!0)})]),_:1},8,["modelValue"]),U(pr,{modelValue:t.value,"onUpdate:modelValue":C[35]||(C[35]=N=>t.value=N)},{default:ie(()=>[U(_n,{style:{"min-width":"90vw"}},{default:ie(()=>[U(Tt,null,{default:ie(()=>C[75]||(C[75]=[te("div",{class:"text-h6"},"Scan QR Code",-1)])),_:1}),U(Tt,{class:"q-pa-md flex flex-center"},{default:ie(()=>[U(D1,{height:500,"detect-func":k(n).scanData},null,8,["detect-func"])]),_:1}),U(ci,{align:"right"},{default:ie(()=>[U(ut,{flat:"",dense:"",label:"\u0110\xF3ng",color:"grey",onClick:C[34]||(C[34]=N=>t.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),k(l).updateData.isHaveGiftCard?(Ae(),pt(_n,{key:0,class:"my-card"},{default:ie(()=>[U(Tt,null,{default:ie(()=>[te("div",v8,[C[76]||(C[76]=te("div",{class:"text-h6"},"Th\u1EBB qu\xE0 t\u1EB7ng",-1)),U(Lt,{name:"eva-trash-2-outline",size:"md",color:"red-8",onClick:C[36]||(C[36]=N=>{k(Fr).create({title:"X\xE1c nh\u1EADn",message:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n xo\xE1 th\u1EBB qu\xE0 t\u1EB7ng n\xE0y?",ok:!0,cancel:!0}).onOk(()=>{k(l).updateData.isHaveGiftCard=!1,k(l).updateData.giftCardObject={},k(l).updateData.giftCard=""})})})]),te("div",p8,[C[77]||(C[77]=Ht(" Gi\xE1 tr\u1ECB: ")),te("span",w8,Ze(k(l).updateData.giftCardObject.value),1)])]),_:1}),U(Tt,null,{default:ie(()=>[te("div",y8,[te("span",null," T\u1EEB ng\xE0y: "+Ze(new Date(k(l).updateData.giftCardObject.date_from).toLocaleDateString("vi-VN")),1),te("span",null," \u0110\u1EBFn ng\xE0y: "+Ze(new Date(k(l).updateData.giftCardObject.date_expired).toLocaleDateString("vi-VN")),1)])]),_:1})]),_:1})):jt("",!0)]),te("div",x8,[U(of,{"left-label":"",modelValue:k(l).updateData.isCustomerOrder,"onUpdate:modelValue":C[37]||(C[37]=N=>k(l).updateData.isCustomerOrder=N),label:"Kh\xE1ch \u0111\u1EB7t"},null,8,["modelValue"])]),k(l).showNotizen?jt("",!0):(Ae(),it("div",{key:2,onClick:C[38]||(C[38]=N=>k(l).showNotizen=!0),class:"flex flex-center text-blue"},[U(Lt,{name:"add",size:"sm",rounded:""}),C[79]||(C[79]=Ht("Hi\u1EC7n ghi ch\xFA "))])),k(l).showNotizen?(Ae(),pt(vn,{key:3,modelValue:k(l).updateData.notizen,"onUpdate:modelValue":[C[39]||(C[39]=N=>k(l).updateData.notizen=N),C[40]||(C[40]=N=>k(l).isHaveNotSaveDataYet=!0)],label:"Th\xEAm ghi ch\xFA",outlined:""},null,8,["modelValue"])):jt("",!0),k(l).showNotizen?(Ae(),it("div",{key:4,onClick:C[41]||(C[41]=N=>k(l).showNotizen=!1),class:"flex flex-center text-blue"},[U(Lt,{name:"remove",size:"sm",rounded:""}),C[80]||(C[80]=Ht("\u1EA8n ghi ch\xFA "))])):jt("",!0),U(ut,{label:"L\u01B0u d\u1EEF li\u1EC7u",type:"submit",color:"blue-7",icon:"save",class:"q-py-sm",push:""})]}),_:1})]),_:1})]),_:1})]),_:1},8,["maximized","modelValue"])]),_:1}))}};var _8=Oa(b8,[["__scopeId","data-v-58df5f0e"]]);let C8=0;const S8=["click","keydown"],E8={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${C8++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function A8(e,t,n,s){const a=Dr(_m,mi);if(a===mi)return console.error("QTab/QRouteTab component needs to be child of QTabs"),mi;const{proxy:l}=Gt(),d=Pe(null),h=Pe(null),g=Pe(null),m=G(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),v=G(()=>a.currentModel.value===e.name),y=G(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(v.value===!0?" q-tab--active"+(a.tabProps.value.activeClass?" "+a.tabProps.value.activeClass:"")+(a.tabProps.value.activeColor?` text-${a.tabProps.value.activeColor}`:"")+(a.tabProps.value.activeBgColor?` bg-${a.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&a.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||a.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(s!==void 0?s.linkClass.value:"")),_=G(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(a.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),b=G(()=>e.disable===!0||a.hasFocus.value===!0||v.value===!1&&a.hasActiveTab.value===!0?-1:e.tabindex||0);function T(D,C){if(C!==!0&&d.value!==null&&d.value.focus(),e.disable===!0){s!==void 0&&s.hasRouterLink.value===!0&&yn(D);return}if(s===void 0){a.updateModel({name:e.name}),n("click",D);return}if(s.hasRouterLink.value===!0){const L=(K={})=>{let N;const J=K.to===void 0||us(K.to,e.to)===!0?a.avoidRouteWatcher=$u():null;return s.navigateToRouterLink(D,{...K,returnRouterError:!0}).catch(B=>{N=B}).then(B=>{if(J===a.avoidRouteWatcher&&(a.avoidRouteWatcher=!1,N===void 0&&(B===void 0||B.message!==void 0&&B.message.startsWith("Avoided redundant navigation")===!0)&&a.updateModel({name:e.name})),K.returnRouterError===!0)return N!==void 0?Promise.reject(N):B})};n("click",D,L),D.defaultPrevented!==!0&&L();return}n("click",D)}function M(D){Yi(D,[13,32])?T(D,!0):dc(D)!==!0&&D.keyCode>=35&&D.keyCode<=40&&D.altKey!==!0&&D.metaKey!==!0&&a.onKbdNavigate(D.keyCode,l.$el)===!0&&yn(D),n("keydown",D)}function $(){const D=a.tabProps.value.narrowIndicator,C=[],L=z("div",{ref:g,class:["q-tab__indicator",a.tabProps.value.indicatorClass]});e.icon!==void 0&&C.push(z(Lt,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&C.push(z("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&C.push(e.alertIcon!==void 0?z(Lt,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):z("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),D===!0&&C.push(L);const K=[z("div",{class:"q-focus-helper",tabindex:-1,ref:d}),z("div",{class:_.value},Ui(t.default,C))];return D===!1&&K.push(L),K}const Z={name:G(()=>e.name),rootRef:h,tabIndicatorRef:g,routeData:s};Yn(()=>{a.unregisterTab(Z)}),$n(()=>{a.registerTab(Z)});function j(D,C){const L={ref:h,class:y.value,tabindex:b.value,role:"tab","aria-selected":v.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:T,onKeydown:M,...C};return li(z(D,L,$()),[[$l,m.value]])}return{renderTab:j,$tabs:a}}var L1=Zt({name:"QTab",props:E8,emits:S8,setup(e,{slots:t,emit:n}){const{renderTab:s}=A8(e,t,n);return()=>s("div")}});function T8(){const e=Pe(!Gi.value);return e.value===!1&&$n(()=>{e.value=!0}),{isHydrated:e}}const Bp=typeof ResizeObserver!="undefined",B1=Bp===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var I8=Zt({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let n=null,s,a={width:-1,height:-1};function l(g){g===!0||e.debounce===0||e.debounce==="0"?d():n===null&&(n=setTimeout(d,e.debounce))}function d(){if(n!==null&&(clearTimeout(n),n=null),s){const{offsetWidth:g,offsetHeight:m}=s;(g!==a.width||m!==a.height)&&(a={width:g,height:m},t("resize",a))}}const{proxy:h}=Gt();if(h.trigger=l,Bp===!0){let g;const m=v=>{s=h.$el.parentNode,s?(g=new ResizeObserver(l),g.observe(s),d()):v!==!0&&Cn(()=>{m(!0)})};return $n(()=>{m()}),Yn(()=>{n!==null&&clearTimeout(n),g!==void 0&&(g.disconnect!==void 0?g.disconnect():s&&g.unobserve(s))}),ds}else{let v=function(){n!==null&&(clearTimeout(n),n=null),m!==void 0&&(m.removeEventListener!==void 0&&m.removeEventListener("resize",l,vr.passive),m=void 0)},y=function(){v(),s&&s.contentDocument&&(m=s.contentDocument.defaultView,m.addEventListener("resize",l,vr.passive),d())};const{isHydrated:g}=T8();let m;return $n(()=>{Cn(()=>{s=h.$el,s&&y()})}),Yn(v),()=>{if(g.value===!0)return z("object",{class:"q--avoid-card-border",style:B1.style,tabindex:-1,type:"text/html",data:B1.url,"aria-hidden":"true",onLoad:y})}}}});function O8(e,t,n){const s=n===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?s[0]:s[1]}${e?` text-${e}`:""}`}const D8=["left","center","right","justify"];var k8=Zt({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>D8.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:n}){const{proxy:s}=Gt(),{$q:a}=s,{registerTick:l}=wl(),{registerTick:d}=wl(),{registerTick:h}=wl(),{registerTimeout:g,removeTimeout:m}=So(),{registerTimeout:v,removeTimeout:y}=So(),_=Pe(null),b=Pe(null),T=Pe(e.modelValue),M=Pe(!1),$=Pe(!0),Z=Pe(!1),j=Pe(!1),D=[],C=Pe(0),L=Pe(!1);let K=null,N=null,J;const B=G(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:O8(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),de=G(()=>{const ce=C.value,$e=T.value;for(let Le=0;Le<ce;Le++)if(D[Le].name.value===$e)return!0;return!1}),me=G(()=>`q-tabs__content--align-${M.value===!0?"left":j.value===!0?"justify":e.align}`),q=G(()=>`q-tabs row no-wrap items-center q-tabs--${M.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),be=G(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+me.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),ne=G(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),Q=G(()=>e.vertical!==!0&&a.lang.rtl===!0),Ne=G(()=>Rl===!1&&Q.value===!0);bt(Q,se),bt(()=>e.modelValue,ce=>{Ce({name:ce,setCurrent:!0,skipEmit:!0})}),bt(()=>e.outsideArrows,De);function Ce({name:ce,setCurrent:$e,skipEmit:Le}){T.value!==ce&&(Le!==!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",ce),($e===!0||e["onUpdate:modelValue"]===void 0)&&(ht(T.value,ce),T.value=ce))}function De(){l(()=>{tt({width:_.value.offsetWidth,height:_.value.offsetHeight})})}function tt(ce){if(ne.value===void 0||b.value===null)return;const $e=ce[ne.value.container],Le=Math.min(b.value[ne.value.scroll],Array.prototype.reduce.call(b.value.children,(Qe,at)=>Qe+(at[ne.value.content]||0),0)),et=$e>0&&Le>$e;M.value=et,et===!0&&d(se),j.value=$e<parseInt(e.breakpoint,10)}function ht(ce,$e){const Le=ce!=null&&ce!==""?D.find(Qe=>Qe.name.value===ce):null,et=$e!=null&&$e!==""?D.find(Qe=>Qe.name.value===$e):null;if(ye===!0)ye=!1;else if(Le&&et){const Qe=Le.tabIndicatorRef.value,at=et.tabIndicatorRef.value;K!==null&&(clearTimeout(K),K=null),Qe.style.transition="none",Qe.style.transform="none",at.style.transition="none",at.style.transform="none";const ot=Qe.getBoundingClientRect(),lt=at.getBoundingClientRect();at.style.transform=e.vertical===!0?`translate3d(0,${ot.top-lt.top}px,0) scale3d(1,${lt.height?ot.height/lt.height:1},1)`:`translate3d(${ot.left-lt.left}px,0,0) scale3d(${lt.width?ot.width/lt.width:1},1,1)`,h(()=>{K=setTimeout(()=>{K=null,at.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",at.style.transform="none"},70)})}et&&M.value===!0&&he(et.rootRef.value)}function he(ce){const{left:$e,width:Le,top:et,height:Qe}=b.value.getBoundingClientRect(),at=ce.getBoundingClientRect();let ot=e.vertical===!0?at.top-et:at.left-$e;if(ot<0){b.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(ot),se();return}ot+=e.vertical===!0?at.height-Qe:at.width-Le,ot>0&&(b.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(ot),se())}function se(){const ce=b.value;if(ce===null)return;const $e=ce.getBoundingClientRect(),Le=e.vertical===!0?ce.scrollTop:Math.abs(ce.scrollLeft);Q.value===!0?($.value=Math.ceil(Le+$e.width)<ce.scrollWidth-1,Z.value=Le>0):($.value=Le>0,Z.value=e.vertical===!0?Math.ceil(Le+$e.height)<ce.scrollHeight:Math.ceil(Le+$e.width)<ce.scrollWidth)}function Je(ce){N!==null&&clearInterval(N),N=setInterval(()=>{ve(ce)===!0&&ge()},5)}function ct(){Je(Ne.value===!0?Number.MAX_SAFE_INTEGER:0)}function mt(){Je(Ne.value===!0?0:Number.MAX_SAFE_INTEGER)}function ge(){N!==null&&(clearInterval(N),N=null)}function ue(ce,$e){const Le=Array.prototype.filter.call(b.value.children,lt=>lt===$e||lt.matches&&lt.matches(".q-tab.q-focusable")===!0),et=Le.length;if(et===0)return;if(ce===36)return he(Le[0]),Le[0].focus(),!0;if(ce===35)return he(Le[et-1]),Le[et-1].focus(),!0;const Qe=ce===(e.vertical===!0?38:37),at=ce===(e.vertical===!0?40:39),ot=Qe===!0?-1:at===!0?1:void 0;if(ot!==void 0){const lt=Q.value===!0?-1:1,Vt=Le.indexOf($e)+ot*lt;return Vt>=0&&Vt<et&&(he(Le[Vt]),Le[Vt].focus({preventScroll:!0})),!0}}const Be=G(()=>Ne.value===!0?{get:ce=>Math.abs(ce.scrollLeft),set:(ce,$e)=>{ce.scrollLeft=-$e}}:e.vertical===!0?{get:ce=>ce.scrollTop,set:(ce,$e)=>{ce.scrollTop=$e}}:{get:ce=>ce.scrollLeft,set:(ce,$e)=>{ce.scrollLeft=$e}});function ve(ce){const $e=b.value,{get:Le,set:et}=Be.value;let Qe=!1,at=Le($e);const ot=ce<at?-1:1;return at+=ot*5,at<0?(Qe=!0,at=0):(ot===-1&&at<=ce||ot===1&&at>=ce)&&(Qe=!0,at=ce),et($e,at),se(),Qe}function Ge(ce,$e){for(const Le in ce)if(ce[Le]!==$e[Le])return!1;return!0}function st(){let ce=null,$e={matchedLen:0,queryDiff:9999,hrefLen:0};const Le=D.filter(ot=>ot.routeData!==void 0&&ot.routeData.hasRouterLink.value===!0),{hash:et,query:Qe}=s.$route,at=Object.keys(Qe).length;for(const ot of Le){const lt=ot.routeData.exact.value===!0;if(ot.routeData[lt===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Vt,query:Xt,matched:In,href:Dt}=ot.routeData.resolvedLink.value,Ue=Object.keys(Xt).length;if(lt===!0){if(Vt!==et||Ue!==at||Ge(Qe,Xt)===!1)continue;ce=ot.name.value;break}if(Vt!==""&&Vt!==et||Ue!==0&&Ge(Xt,Qe)===!1)continue;const Jt={matchedLen:In.length,queryDiff:at-Ue,hrefLen:Dt.length-Vt.length};if(Jt.matchedLen>$e.matchedLen){ce=ot.name.value,$e=Jt;continue}else if(Jt.matchedLen!==$e.matchedLen)continue;if(Jt.queryDiff<$e.queryDiff)ce=ot.name.value,$e=Jt;else if(Jt.queryDiff!==$e.queryDiff)continue;Jt.hrefLen>$e.hrefLen&&(ce=ot.name.value,$e=Jt)}if(ce===null&&D.some(ot=>ot.routeData===void 0&&ot.name.value===T.value)===!0){ye=!1;return}Ce({name:ce,setCurrent:!0})}function wt(ce){if(m(),L.value!==!0&&_.value!==null&&ce.target&&typeof ce.target.closest=="function"){const $e=ce.target.closest(".q-tab");$e&&_.value.contains($e)===!0&&(L.value=!0,M.value===!0&&he($e))}}function F(){g(()=>{L.value=!1},30)}function Y(){ke.avoidRouteWatcher===!1?v(st):y()}function fe(){if(J===void 0){const ce=bt(()=>s.$route.fullPath,Y);J=()=>{ce(),J=void 0}}}function Fe(ce){D.push(ce),C.value++,De(),ce.routeData===void 0||s.$route===void 0?v(()=>{if(M.value===!0){const $e=T.value,Le=$e!=null&&$e!==""?D.find(et=>et.name.value===$e):null;Le&&he(Le.rootRef.value)}}):(fe(),ce.routeData.hasRouterLink.value===!0&&Y())}function _e(ce){D.splice(D.indexOf(ce),1),C.value--,De(),J!==void 0&&ce.routeData!==void 0&&(D.every($e=>$e.routeData===void 0)===!0&&J(),Y())}const ke={currentModel:T,tabProps:B,hasFocus:L,hasActiveTab:de,registerTab:Fe,unregisterTab:_e,verifyRouteModel:Y,updateModel:Ce,onKbdNavigate:ue,avoidRouteWatcher:!1};ua(_m,ke);function Ve(){K!==null&&clearTimeout(K),ge(),J!==void 0&&J()}let ze,ye;return Yn(Ve),Do(()=>{ze=J!==void 0,Ve()}),Pl(()=>{ze===!0&&(fe(),ye=!0,Y()),De()}),()=>z("div",{ref:_,class:q.value,role:"tablist",onFocusin:wt,onFocusout:F},[z(I8,{onResize:tt}),z("div",{ref:b,class:be.value,onScroll:se},Pn(t.default)),z(Lt,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+($.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||a.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:ct,onTouchstartPassive:ct,onMouseupPassive:ge,onMouseleavePassive:ge,onTouchendPassive:ge}),z(Lt,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(Z.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||a.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:mt,onTouchstartPassive:mt,onMouseupPassive:ge,onMouseleavePassive:ge,onTouchendPassive:ge})])}});function R8(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((n,s)=>{const a=parseFloat(n);a&&(t[s]=a)}),t}var M8=cc({name:"touch-swipe",beforeMount(e,{value:t,arg:n,modifiers:s}){if(s.mouse!==!0&&pn.has.touch!==!0)return;const a=s.mouseCapture===!0?"Capture":"",l={handler:t,sensitivity:R8(n),direction:Yu(s),noop:ds,mouseStart(d){Xu(d,l)&&mm(d)&&(Ei(l,"temp",[[document,"mousemove","move",`notPassive${a}`],[document,"mouseup","end","notPassiveCapture"]]),l.start(d,!0))},touchStart(d){if(Xu(d,l)){const h=d.target;Ei(l,"temp",[[h,"touchmove","move","notPassiveCapture"],[h,"touchcancel","end","notPassiveCapture"],[h,"touchend","end","notPassiveCapture"]]),l.start(d)}},start(d,h){pn.is.firefox===!0&&ca(e,!0);const g=_o(d);l.event={x:g.left,y:g.top,time:Date.now(),mouse:h===!0,dir:!1}},move(d){if(l.event===void 0)return;if(l.event.dir!==!1){yn(d);return}const h=Date.now()-l.event.time;if(h===0)return;const g=_o(d),m=g.left-l.event.x,v=Math.abs(m),y=g.top-l.event.y,_=Math.abs(y);if(l.event.mouse!==!0){if(v<l.sensitivity[1]&&_<l.sensitivity[1]){l.end(d);return}}else if(window.getSelection().toString()!==""){l.end(d);return}else if(v<l.sensitivity[2]&&_<l.sensitivity[2])return;const b=v/h,T=_/h;l.direction.vertical===!0&&v<_&&v<100&&T>l.sensitivity[0]&&(l.event.dir=y<0?"up":"down"),l.direction.horizontal===!0&&v>_&&_<100&&b>l.sensitivity[0]&&(l.event.dir=m<0?"left":"right"),l.direction.up===!0&&v<_&&y<0&&v<100&&T>l.sensitivity[0]&&(l.event.dir="up"),l.direction.down===!0&&v<_&&y>0&&v<100&&T>l.sensitivity[0]&&(l.event.dir="down"),l.direction.left===!0&&v>_&&m<0&&_<100&&b>l.sensitivity[0]&&(l.event.dir="left"),l.direction.right===!0&&v>_&&m>0&&_<100&&b>l.sensitivity[0]&&(l.event.dir="right"),l.event.dir!==!1?(yn(d),l.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Jf(),l.styleCleanup=M=>{l.styleCleanup=void 0,document.body.classList.remove("non-selectable");const $=()=>{document.body.classList.remove("no-pointer-events--children")};M===!0?setTimeout($,50):$()}),l.handler({evt:d,touch:l.event.mouse!==!0,mouse:l.event.mouse,direction:l.event.dir,duration:h,distance:{x:v,y:_}})):l.end(d)},end(d){l.event!==void 0&&($s(l,"temp"),pn.is.firefox===!0&&ca(e,!1),l.styleCleanup!==void 0&&l.styleCleanup(!0),d!==void 0&&l.event.dir!==!1&&yn(d),l.event=void 0)}};if(e.__qtouchswipe=l,s.mouse===!0){const d=s.mouseCapture===!0||s.mousecapture===!0?"Capture":"";Ei(l,"main",[[e,"mousedown","mouseStart",`passive${d}`]])}pn.has.touch===!0&&Ei(l,"main",[[e,"touchstart","touchStart",`passive${s.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;n!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&n.end(),n.handler=t.value),n.direction=Yu(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&($s(t,"main"),$s(t,"temp"),pn.is.firefox===!0&&ca(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});const N8={name:{required:!0},disable:Boolean},F1={setup(e,{slots:t}){return()=>z("div",{class:"q-panel scroll",role:"tabpanel"},Pn(t.default))}},P8={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},L8=["update:modelValue","beforeTransition","transition"];function B8(){const{props:e,emit:t,proxy:n}=Gt(),{getCache:s}=nh(),{registerTimeout:a}=So();let l,d;const h=Pe(null),g=Pe(null);function m(ne){const Q=e.vertical===!0?"up":"left";J((n.$q.lang.rtl===!0?-1:1)*(ne.direction===Q?1:-1))}const v=G(()=>[[M8,m,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),y=G(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),_=G(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),b=G(()=>`--q-transition-duration: ${e.transitionDuration}ms`),T=G(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),M=G(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),$=G(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);bt(()=>e.modelValue,(ne,Q)=>{const Ne=C(ne)===!0?L(ne):-1;d!==!0&&N(Ne===-1?0:Ne<L(Q)?-1:1),h.value!==Ne&&(h.value=Ne,t("beforeTransition",ne,Q),a(()=>{t("transition",ne,Q)},e.transitionDuration))});function Z(){J(1)}function j(){J(-1)}function D(ne){t("update:modelValue",ne)}function C(ne){return ne!=null&&ne!==""}function L(ne){return l.findIndex(Q=>Q.props.name===ne&&Q.props.disable!==""&&Q.props.disable!==!0)}function K(){return l.filter(ne=>ne.props.disable!==""&&ne.props.disable!==!0)}function N(ne){const Q=ne!==0&&e.animated===!0&&h.value!==-1?"q-transition--"+(ne===-1?y.value:_.value):null;g.value!==Q&&(g.value=Q)}function J(ne,Q=h.value){let Ne=Q+ne;for(;Ne!==-1&&Ne<l.length;){const Ce=l[Ne];if(Ce!==void 0&&Ce.props.disable!==""&&Ce.props.disable!==!0){N(ne),d=!0,t("update:modelValue",Ce.props.name),setTimeout(()=>{d=!1});return}Ne+=ne}e.infinite===!0&&l.length!==0&&Q!==-1&&Q!==l.length&&J(ne,ne===-1?l.length:-1)}function B(){const ne=L(e.modelValue);return h.value!==ne&&(h.value=ne),!0}function de(){const ne=C(e.modelValue)===!0&&B()&&l[h.value];return e.keepAlive===!0?[z(Gw,M.value,[z($.value===!0?s(T.value,()=>({...F1,name:T.value})):F1,{key:T.value,style:b.value},()=>ne)])]:[z("div",{class:"q-panel scroll",style:b.value,key:T.value,role:"tabpanel"},[ne])]}function me(){if(l.length!==0)return e.animated===!0?[z(oi,{name:g.value},de)]:de()}function q(ne){return l=Pb(Pn(ne.default,[])).filter(Q=>Q.props!==null&&Q.props.slot===void 0&&C(Q.props.name)===!0),l.length}function be(){return l}return Object.assign(n,{next:Z,previous:j,goTo:D}),{panelIndex:h,panelDirectives:v,updatePanelsList:q,updatePanelIndex:B,getPanelContent:me,getEnabledPanels:K,getPanels:be,isValidPanelName:C,keepAliveProps:M,needsUniqueKeepAliveWrapper:$,goToPanelByOffset:J,goToPanel:D,nextPanel:Z,previousPanel:j}}var V1=Zt({name:"QTabPanel",props:N8,setup(e,{slots:t}){return()=>z("div",{class:"q-tab-panel",role:"tabpanel"},Pn(t.default))}}),F8=Zt({name:"QTabPanels",props:{...P8,...zr},emits:L8,setup(e,{slots:t}){const n=Gt(),s=Wr(e,n.proxy.$q),{updatePanelsList:a,getPanelContent:l,panelDirectives:d}=B8(),h=G(()=>"q-tab-panels q-panel-parent"+(s.value===!0?" q-tab-panels--dark q-dark":""));return()=>(a(t),Um("div",{class:h.value},l(),"pan",e.swipeable,()=>d.value))}});const V8=gs("accountManagement",{state:()=>({isLoadingMainScreen:!1,isShowEditDialog:!1,isShowCreateDialog:!1,listAccount:[],listSite:[],listStatus:[],listRole:[{id:"user",label:"User"},{id:"admin",label:"Admin"}],selectedAccount:{},newAccount:{role:"user"},defaultStatusId:"",showDeleteDialog:!1,deleteObject:{}}),actions:{async getInit(){this.listSite=await this.getListSite(),this.listStatus=await this.getListStatus(),this.defaultStatusId=this.listStatus.find(e=>e.name==="waiting").id},async getListAccount(){try{this.isLoadingMainScreen=!0;let{data:e,error:t}=await Bt.from("users").select("*, site(*), status(*)");if(this.isLoadingMainScreen=!1,t)console.error("Caught error when fetching data: ",t);else return e.filter(n=>n.role!=="admin")}catch(e){console.error("Internal Server Error: ",e)}},async getListSite(){try{let{data:e,error:t}=await Bt.from("site").select("*");if(t)console.error("Caught error when fetching data: ",t);else return e}catch(e){console.error("Internal Server Error: ",e)}},async getListStatus(){try{let{data:e,error:t}=await Bt.from("status").select("*");if(t)console.error("Caught error when fetching data: ",t);else return e}catch(e){console.error("Internal Server Error: ",e)}},async createAccount(e,t,n,s,a=null,l=null,d=null,h=null){try{Ft.show();const{data:g,error:m}=await Bt.auth.signUp({email:e.includes("@gmail.com")?e:e+"@gmail.com",password:t});if(m)return Ft.hide(),Nn.create({message:m.message,color:"negative",timeout:2e3,position:"top"}),console.error("Error creating account:",m.message),{success:!1,message:m.message};const{error:v}=await Bt.from("users").insert([{display_name:n,email:e.includes("@gmail.com")?e:e+"@gmail.com",user_id:g.user.id,role:s,status:l,site:a,dayoff_from:d,dayoff_to:h,provider:"email"}]);if(v)return Nn.create({message:v.message,color:"negative",timeout:2e3,position:"top"}),Ft.hide(),console.error("Error inserting user data into users table:",v.message),{success:!1,message:v.message};Ft.hide(),Nn.create({message:"T\u1EA1o t\xE0i kho\u1EA3n th\xE0nh c\xF4ng!",color:"positive",timeout:2e3,position:"top"}),this.isShowCreateDialog=!1,this.listAccount=await this.getListAccount(),this.newAccount={role:"user"}}catch(g){return Ft.hide(),console.error("Unexpected error:",g),{success:!1,message:"An unexpected error occurred."}}},async deleteUser(e,t){try{const{error:n}=await Bt.auth.admin.deleteUser(t);if(n)return console.error("Error deleting user from authentication:",n.message),{success:!1,message:n.message};const{error:s}=await Bt.from("users").delete().eq("id",e);if(s)return console.error("Error deleting user from users table:",s.message),Fr.create({title:"Th\xF4ng b\xE1o",message:s.message,ok:!0,cancel:!1,persistent:""}),{success:!1,message:s.message};Nn.create({message:"X\xF3a t\xE0i kho\u1EA3n th\xE0nh c\xF4ng!",color:"positive",timeout:2e3,position:"top"}),this.listAccount=await this.getListAccount()}catch(n){return console.error("Unexpected error during user deletion:",n),{success:!1,message:"An unexpected error occurred."}}},async postUpdateAccount(e){try{let t={display_name:e.display_name,role:e.role.id,site:e.site.id,status:e.status.id};e.status.name==="off"?(t.dayoff_from=e.dayoff_from,t.dayoff_to=e.dayoff_to):(t.dayoff_from=null,t.dayoff_to=null);let{data:n,error:s}=await Bt.from("users").update(t).eq("id",e.id);s?console.error("Caught error when fetching data: ",s):(Nn.create({message:"C\u1EADp nh\u1EADt th\xE0nh c\xF4ng!",color:"positive",timeout:2e3,position:"top"}),this.isShowEditDialog=!1,this.listAccount=await this.getListAccount())}catch(t){console.error("Internal Server Error: ",t)}},editAccount(e){try{this.isShowEditDialog=!0,this.selectedAccount={...e},this.selectedAccount.role=this.listRole.find(t=>t.id===this.selectedAccount.role)}catch(t){console.error("Internal Server Error: ",t)}}}});const $8={key:0,style:{height:"30vh"},class:"full-width flex column flex-center"},q8={key:0,style:{"margin-bottom":"10em"}},U8={class:"text-h6 text-bold"},j8={class:"text-caption text-grey"},H8={class:"q-mb-sm"},z8={class:"q-mb-sm"},W8={class:"q-mb-sm"},G8={key:1,class:"flex flex-center column full-height",style:{"margin-top":"200px"}},Y8={key:0},X8={__name:"AccountPage",setup(e){const t=V8(),n=Pe("user"),s=Pe(!1),a=()=>{s.value=!s.value};$n(async()=>{await t.getInit(),t.listAccount=await t.getListAccount()});const l=h=>{const{dayoff_from:g,dayoff_to:m}=t.selectedAccount;return new Date().toISOString().split("T")[0],h?m<g?"Ng\xE0y ngh\u1EC9 \u0111\u1EBFn ph\u1EA3i sau ng\xE0y b\u1EAFt \u0111\u1EA7u":!0:"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"},d=h=>{const{dayoff_from:g,dayoff_to:m}=t.selectedAccount,v=new Date().toISOString().split("T")[0];return h?g<v?"Ng\xE0y b\u1EAFt \u0111\u1EA7u ngh\u1EC9 ph\u1EA3i sau ng\xE0y hi\u1EC7n t\u1EA1i":!0:"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"};return(h,g)=>(Ae(),it(Qt,null,[te("div",null,[k(t).isLoadingMainScreen?(Ae(),it("div",$8,[g[30]||(g[30]=Ht(" \u0110ang t\u1EA3i ")),U(Eo,{size:"lg",color:"blue"})])):(Ae(),pt(si,{key:1},{default:ie(()=>{var m;return[(m=k(t).listAccount)!=null&&m.length?(Ae(),it("div",q8,[(Ae(!0),it(Qt,null,Gn(k(t).listAccount,(v,y)=>(Ae(),pt(_n,{key:y,flat:"",bordered:"",class:"my-card q-mb-md"},{default:ie(()=>[U(Tt,null,{default:ie(()=>[te("div",U8,Ze(v.display_name),1),te("div",j8,"email: "+Ze(v.email),1)]),_:2},1024),U(Sa),U(Tt,null,{default:ie(()=>{var _,b;return[te("div",H8,[g[31]||(g[31]=te("span",{class:"text-bold"},"Quy\u1EC1n:",-1)),Ht(" "+Ze(v.role),1)]),te("div",z8,[g[32]||(g[32]=te("span",{class:"text-bold"},"Tr\u1EA1ng th\xE1i:",-1)),Ht(" "+Ze((_=v.status)==null?void 0:_.name),1)]),te("div",W8,[g[33]||(g[33]=te("span",{class:"text-bold"},"Site:",-1)),Ht(" "+Ze((b=v.site)==null?void 0:b.name),1)]),te("div",null,[g[34]||(g[34]=te("span",{class:"text-bold"},"Ng\xE0y t\u1EA1o:",-1)),Ht(" "+Ze(k(sn).formatDate(v.created_at)),1)])]}),_:2},1024),U(Sa),U(ci,{align:"right"},{default:ie(()=>[U(ut,{label:"S\u1EEDa",color:"primary",onClick:_=>k(t).editAccount(v)},null,8,["onClick"]),U(pr,{modelValue:k(t).showDeleteDialog,"onUpdate:modelValue":g[2]||(g[2]=_=>k(t).showDeleteDialog=_)},{default:ie(()=>[U(_n,{style:{"min-width":"400px","max-width":"500px"}},{default:ie(()=>[U(Tt,null,{default:ie(()=>g[35]||(g[35]=[te("div",{class:"text-h6"},"X\xE1c nh\u1EADn",-1),te("div",null,"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a t\xE0i kho\u1EA3n n\xE0y kh\xF4ng?",-1)])),_:1}),U(ci,{align:"right"},{default:ie(()=>[U(ut,{flat:"",label:"X\xF3a",color:"red",onClick:g[0]||(g[0]=_=>k(t).deleteUser(k(t).deleteObject.id,k(t).deleteObject.user_id))}),U(ut,{label:"H\u1EE7y",color:"primary",onClick:g[1]||(g[1]=_=>k(t).showDeleteDialog=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:2},1024)]),_:2},1024))),128))])):(Ae(),it("div",G8,[U(Ec,{src:k(Ac),"spinner-color":"primary","spinner-size":"82px",width:"250px"},null,8,["src"]),g[36]||(g[36]=te("span",{class:"text-h5 text-grey-7 text-bold"},"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u",-1))]))]}),_:1})),U(jl,{position:"bottom-right",offset:[18,48]},{default:ie(()=>[U(ut,{icon:"add",color:"green-7",class:"q-pa-md",round:"",disable:k(t).isLoadingMainScreen,onClick:g[3]||(g[3]=m=>k(t).isShowCreateDialog=!0)},null,8,["disable"])]),_:1})]),U(pr,{modelValue:k(t).isShowCreateDialog,"onUpdate:modelValue":g[18]||(g[18]=m=>k(t).isShowCreateDialog=m)},{default:ie(()=>[U(_n,{style:{"min-width":"400px","max-width":"500px"}},{default:ie(()=>[U(Tt,null,{default:ie(()=>g[37]||(g[37]=[te("div",{class:"text-h6"},"T\u1EA1o t\xE0i kho\u1EA3n m\u1EDBi",-1)])),_:1}),U(Xi,{onSubmit:g[17]||(g[17]=m=>k(t).newAccount.role==="user"?k(t).createAccount(k(t).newAccount.email,k(t).newAccount.password,k(t).newAccount.displayName,k(t).newAccount.role,k(t).newAccount.site.id,k(t).defaultStatusId):k(t).createAccount(k(t).newAccount.email,k(t).newAccount.password,k(t).newAccount.displayName,k(t).newAccount.role)),class:"q-gutter-md"},{default:ie(()=>[U(Tt,null,{default:ie(()=>[U(k8,{modelValue:n.value,"onUpdate:modelValue":g[6]||(g[6]=m=>n.value=m),class:"text-teal"},{default:ie(()=>[U(L1,{name:"user",icon:"eva-person-outline",label:"Nh\xE2n vi\xEAn",onClick:g[4]||(g[4]=m=>k(t).newAccount.role="user")}),U(L1,{name:"admin",icon:"support_agent",label:"Qu\u1EA3n l\xFD",onClick:g[5]||(g[5]=m=>k(t).newAccount.role="admin")})]),_:1},8,["modelValue"]),U(F8,{modelValue:n.value,"onUpdate:modelValue":g[16]||(g[16]=m=>n.value=m),animated:""},{default:ie(()=>[U(V1,{name:"user"},{default:ie(()=>[te("div",null,[U(vn,{modelValue:k(t).newAccount.email,"onUpdate:modelValue":g[7]||(g[7]=m=>k(t).newAccount.email=m),label:"Email",rules:[m=>!!m||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 r\u1ED7ng"],outlined:"",onInput:g[8]||(g[8]=m=>k(t).newAccount.email=m.toLowerCase()),dense:""},{append:ie(()=>g[38]||(g[38]=[te("span",{class:"text-subtitle1"},"@gmail.com",-1)])),_:1},8,["modelValue","rules"]),U(vn,{modelValue:k(t).newAccount.password,"onUpdate:modelValue":g[9]||(g[9]=m=>k(t).newAccount.password=m),label:"M\u1EADt kh\u1EA9u",type:s.value?"text":"password",rules:[m=>!!m||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 r\u1ED7ng",m=>m.length>5||"M\u1EADt kh\u1EA9u t\u1ED1i thi\u1EC3u 6 k\xFD t\u1EF1"],outlined:"",dense:""},{append:ie(()=>[U(Lt,{name:s.value?"visibility":"visibility_off",class:"cursor-pointer",onClick:a},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),U(vn,{modelValue:k(t).newAccount.displayName,"onUpdate:modelValue":g[10]||(g[10]=m=>k(t).newAccount.displayName=m),label:"T\xEAn hi\u1EC3n th\u1ECB",rules:[m=>!!m||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 r\u1ED7ng"],outlined:"",dense:""},null,8,["modelValue","rules"]),U(ji,{modelValue:k(t).newAccount.site,"onUpdate:modelValue":g[11]||(g[11]=m=>k(t).newAccount.site=m),options:k(t).listSite,"option-label":"name","option-value":"id",label:"Site",outlined:"",class:"q-mb-md",dense:""},null,8,["modelValue","options"])])]),_:1}),U(V1,{name:"admin"},{default:ie(()=>[te("div",null,[U(vn,{modelValue:k(t).newAccount.email,"onUpdate:modelValue":g[12]||(g[12]=m=>k(t).newAccount.email=m),label:"Email",rules:[m=>!!m||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 r\u1ED7ng"],outlined:"",onInput:g[13]||(g[13]=m=>k(t).newAccount.email=m.toLowerCase()),dense:""},{append:ie(()=>g[39]||(g[39]=[te("span",{class:"text-subtitle1"},"@gmail.com",-1)])),_:1},8,["modelValue","rules"]),U(vn,{modelValue:k(t).newAccount.password,"onUpdate:modelValue":g[14]||(g[14]=m=>k(t).newAccount.password=m),label:"M\u1EADt kh\u1EA9u",type:s.value?"text":"password",rules:[m=>!!m||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 r\u1ED7ng",m=>m.length>5||"M\u1EADt kh\u1EA9u t\u1ED1i thi\u1EC3u 6 k\xFD t\u1EF1"],outlined:"",dense:""},{append:ie(()=>[U(Lt,{name:s.value?"visibility":"visibility_off",class:"cursor-pointer",onClick:a},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),U(vn,{modelValue:k(t).newAccount.displayName,"onUpdate:modelValue":g[15]||(g[15]=m=>k(t).newAccount.displayName=m),label:"T\xEAn hi\u1EC3n th\u1ECB",rules:[m=>!!m||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 r\u1ED7ng"],outlined:"",dense:""},null,8,["modelValue","rules"])])]),_:1})]),_:1},8,["modelValue"])]),_:1}),U(ci,{align:"right"},{default:ie(()=>[li(U(ut,{flat:"",label:"Tr\u1EDF v\u1EC1",color:"primary"},null,512),[[ma]]),U(ut,{type:"submit",label:"T\u1EA1o",color:"primary",onClick:h.createAccount},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),U(pr,{modelValue:k(t).isShowEditDialog,"onUpdate:modelValue":g[29]||(g[29]=m=>k(t).isShowEditDialog=m)},{default:ie(()=>[U(_n,{style:{"min-width":"90vw"}},{default:ie(()=>[U(Tt,null,{default:ie(()=>g[40]||(g[40]=[te("div",{class:"text-h6 text-bold text-primary"},"C\u1EADp nh\u1EADt t\xE0i kho\u1EA3n",-1)])),_:1}),U(Xi,{onSubmit:g[28]||(g[28]=m=>k(t).postUpdateAccount(k(t).selectedAccount)),class:"q-gutter-md"},{default:ie(()=>[te("div",null,[U(Tt,null,{default:ie(()=>[U(vn,{modelValue:k(t).selectedAccount.display_name,"onUpdate:modelValue":g[19]||(g[19]=m=>k(t).selectedAccount.display_name=m),label:"T\xEAn",outlined:"",dense:"",class:"q-mb-md",placeholder:"Enter account's display name"},null,8,["modelValue"]),U(ji,{modelValue:k(t).selectedAccount.role,"onUpdate:modelValue":g[20]||(g[20]=m=>k(t).selectedAccount.role=m),options:k(t).listRole,"option-label":"label","option-value":"id",label:"Ph\xE2n quy\u1EC1n",outlined:"",dense:"",class:"q-mb-md",placeholder:"Vui l\xF2ng ch\u1ECDn ph\xE2n quy\u1EC1n"},null,8,["modelValue","options"]),U(ji,{modelValue:k(t).selectedAccount.status,"onUpdate:modelValue":[g[21]||(g[21]=m=>k(t).selectedAccount.status=m),g[22]||(g[22]=m=>k(t).selectedAccount.isChangeStatus=!0)],options:k(t).listStatus,"option-label":"name","option-value":"id",label:"Tr\u1EA1ng th\xE1i",outlined:"",dense:"",class:"q-mb-md",placeholder:"Vui l\xF2ng ch\u1ECDn tr\u1EA1ng th\xE1i"},null,8,["modelValue","options"]),k(t).selectedAccount.status.name==="off"&&k(t).selectedAccount.isChangeStatus?(Ae(),it("div",Y8,[U(vn,{modelValue:k(t).selectedAccount.dayoff_from,"onUpdate:modelValue":g[23]||(g[23]=m=>k(t).selectedAccount.dayoff_from=m),label:"Ng\xE0y b\u1EAFt \u0111\u1EA7u ngh\u1EC9",dense:"",outlined:"",type:"date",rules:[d]},null,8,["modelValue","rules"]),U(vn,{modelValue:k(t).selectedAccount.dayoff_to,"onUpdate:modelValue":g[24]||(g[24]=m=>k(t).selectedAccount.dayoff_to=m),label:"Ngh\u1EC9 \u0111\u1EBFn ng\xE0y",dense:"",outlined:"",type:"date",rules:[l]},null,8,["modelValue","rules"])])):jt("",!0),U(ji,{modelValue:k(t).selectedAccount.site,"onUpdate:modelValue":g[25]||(g[25]=m=>k(t).selectedAccount.site=m),options:k(t).listSite,"option-label":"name","option-value":"id",label:"Site",outlined:"",class:"q-mb-md",dense:""},null,8,["modelValue","options"]),U(vn,{modelValue:k(t).selectedAccount.provider,"onUpdate:modelValue":g[26]||(g[26]=m=>k(t).selectedAccount.provider=m),label:"Ph\u01B0\u01A1ng th\u1EE9c",outlined:"",dense:"",class:"q-mb-md",readonly:""},null,8,["modelValue"]),U(vn,{placeholder:`${new Date(k(t).selectedAccount.created_at).toLocaleDateString("vi-VN")}`,outlined:"",dense:"",readonly:"",class:"q-mb-md"},null,8,["placeholder"])]),_:1}),U(ci,{align:"right"},{default:ie(()=>[U(ut,{flat:"",label:"H\u1EE7y",color:"negative",onClick:g[27]||(g[27]=m=>k(t).isShowEditDialog=!1)}),U(ut,{label:"L\u01B0u",color:"positive",type:"submit"})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var K8=Oa(X8,[["__scopeId","data-v-0eefe4a6"]]);const wa=gs("utils",{state:()=>({}),actions:{async fetchMenuData(){try{const e=JSON.parse(localStorage.getItem("menuData"));let t=[];if(e)return e;{const{data:n,error:s}=await Bt.from("menu").select();if(n){if(t=n||[],t.length)return t=t.map(a=>a.isMultiSelect?{id:a.id,label:a.service,value:parseFloat(a.price),selectCount:0,isMultiSelect:!0}:{id:a.id,label:a.service,value:parseFloat(a.price),isMultiSelect:!1}),t=t.map(a=>({...a,filterSearch:`${a.label}${sn.formatter.format(a)}`})),Un.setLocalStorageData("menuData",t),t}else console.error("Error when fetching menu data: ",s)}}catch(e){console.error("Internal Server Error: ",e)}},async getDiscount(){try{let{data:e,error:t}=await Bt.rpc("fetch_discounts_with_usage");if(t)console.error("Caught error when fetching data: ",t);else return e}catch(e){console.error("Internal Server Error: ",e)}}}}),Z8=gs("discount",{state:()=>({listDiscount:[],isLoadingMainScreen:!1,showAddDialog:!1,showEditDialog:!1,showDeleteDialog:!1,newDiscount:{},editDiscount:{},deleteObject:{}}),actions:{async postCreateDiscount(e){try{const t=wa(),n={...e,type:e.type==="%"?"%":"none"},{data:s,error:a}=await Bt.from("discounts").insert(n).select();a?console.error("Caught error when fetching data: ",a):(this.showAddDialog=!1,Nn.create({message:"T\u1EA1o m\u1EDBi th\xE0nh c\xF4ng!",color:"positive",timeout:2e3,position:"top"}),this.isLoadingMainScreen=!0,this.listDiscount=await t.getDiscount(),this.isLoadingMainScreen=!1)}catch(t){console.error("Internal Server Error: ",t)}},async postUpdateDiscount(e){try{const t=wa(),n={...e,type:e.type==="%"?"%":"none"},{data:s,error:a}=await Bt.from("discounts").update(n).eq("id",e.id).select();a?console.error("Caught error when fetching data: ",a):(this.showEditDialog=!1,Nn.create({message:"C\u1EADp nh\u1EADt th\xE0nh c\xF4ng!",color:"positive",timeout:2e3,position:"top"}),this.isLoadingMainScreen=!0,this.listDiscount=await t.getDiscount(),this.isLoadingMainScreen=!1)}catch(t){console.error("Internal Server Error: ",t)}},async deleteDiscount(e){try{const t=wa(),{data:n,error:s}=await Bt.from("discounts").delete().eq("id",e.id);s?console.error("Caught error when fetching data: ",s):(this.showDeleteDialog=!1,Nn.create({message:"X\xF3a th\xE0nh c\xF4ng!",color:"positive",timeout:2e3,position:"top"}),this.isLoadingMainScreen=!0,this.listDiscount=await t.getDiscount(),this.isLoadingMainScreen=!1)}catch(t){console.error("Internal Server Error: ",t)}}}}),Q8={key:0,style:{height:"30vh"},class:"full-width flex column flex-center"},J8={key:0},e4={class:"text-subtitle2 text-grey"},t4={class:"flex flex-center"},n4=["onClick"],r4={key:0,class:"text-blue text-h4"},i4={key:1,class:"text-blue text-h4"},s4={class:"flex justify-between"},o4={class:"text-grey-6"},a4={key:1,class:"flex flex-center column full-height",style:{"margin-top":"200px"}},l4={__name:"DiscountPage",setup(e){const t=Z8(),n=wa(),s=rh();$n(async()=>{t.isLoadingMainScreen=!0,t.listDiscount=await n.getDiscount(),t.isLoadingMainScreen=!1});function a(l){s.bottomSheet({message:"H\xE0nh \u0111\u1ED9ng",item:l,actions:[{label:"S\u1EEDa th\xF4ng tin",img:op,id:"update"},{},{label:"X\xF3a",avatar:ap,id:"delete"}]}).onOk(d=>{switch(d.id){case"update":t.showEditDialog=!0,t.editDiscount={...l};break;case"delete":t.showDeleteDialog=!0,t.deleteObject={...l};break}}).onCancel(()=>{}).onDismiss(()=>{})}return(l,d)=>(Ae(),it(Qt,null,[te("div",null,[k(t).isLoadingMainScreen?(Ae(),it("div",Q8,[d[16]||(d[16]=Ht(" \u0110ang t\u1EA3i ")),U(Eo,{size:"lg",color:"blue"})])):(Ae(),pt(si,{key:1,class:"q-mt-md"},{default:ie(()=>{var h;return[(h=k(t).listDiscount)!=null&&h.length?(Ae(),it("div",J8,[(Ae(!0),it(Qt,null,Gn(k(t).listDiscount,(g,m)=>(Ae(),pt(_n,{key:m,flat:"",bordered:"",class:"my-card q-mb-md"},{default:ie(()=>[U(Tt,{class:"flex flex justify-between q-py-md",style:{"align-items":"center"}},{default:ie(()=>[te("div",null,[te("div",e4,Ze(new Date(g.created_at).toLocaleDateString("vi-VN")),1)]),te("div",t4,[g.isused?jt("",!0):(Ae(),pt(Lt,{key:0,name:"more_vert",size:"sm",color:k(t).loadingSelect?"grey-3":"grey-5",onClick:v=>k(t).loadingSelect?[]:a(g)},null,8,["color","onClick"]))])]),_:2},1024),U(Tt,null,{default:ie(()=>[te("div",{class:"flex justify-between full-width q-py-xs q-px-none q-mx-none",onClick:v=>g.showQList=!g.showQList,style:{"align-items":"center"}},[d[17]||(d[17]=te("span",{class:"text-bold text-grey-7 text-h6"},"Gi\xE1 tr\u1ECB",-1)),g.type==="none"?(Ae(),it("span",r4,Ze(k(sn).formatter.format(g.value)),1)):(Ae(),it("span",i4,Ze(g.value)+" "+Ze(g.type),1))],8,n4),te("div",s4,[te("span",o4,Ze(g.description),1),te("div",{class:Wi(["text-body2",g.isused?"text-red":"text-green"])},Ze(g.isused?"\u0110\xE3 s\u1EED d\u1EE5ng":"Ch\u01B0a s\u1EED d\u1EE5ng"),3)])]),_:2},1024)]),_:2},1024))),128))])):(Ae(),it("div",a4,[U(Ec,{src:k(Ac),"spinner-color":"primary","spinner-size":"82px",width:"250px"},null,8,["src"]),d[18]||(d[18]=te("span",{class:"text-h5 text-grey-7 text-bold"},"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u",-1))]))]}),_:1})),U(jl,{position:"bottom-right",offset:[18,48]},{default:ie(()=>[U(ut,{icon:"add",color:"green-7",class:"q-pa-md",round:"",disable:k(t).isLoadingMainScreen,onClick:d[0]||(d[0]=h=>k(t).showAddDialog=!0)},null,8,["disable"])]),_:1})]),U(pr,{modelValue:k(t).showAddDialog,"onUpdate:modelValue":d[6]||(d[6]=h=>k(t).showAddDialog=h)},{default:ie(()=>[U(_n,{style:{"min-width":"400px","max-width":"500px"}},{default:ie(()=>[U(Tt,null,{default:ie(()=>d[19]||(d[19]=[te("div",{class:"text-h6"},"Th\xEAm m\xE3 gi\u1EA3m gi\xE1",-1)])),_:1}),U(Xi,{onSubmit:d[5]||(d[5]=h=>k(t).postCreateDiscount(k(t).newDiscount)),class:"q-gutter-md"},{default:ie(()=>[te("div",null,[U(Tt,null,{default:ie(()=>[U(vn,{modelValue:k(t).newDiscount.value,"onUpdate:modelValue":d[1]||(d[1]=h=>k(t).newDiscount.value=h),type:"number",label:"Gi\xE1 tr\u1ECB",outlined:"",rules:[h=>!!h||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"]},null,8,["modelValue","rules"]),U(ji,{modelValue:k(t).newDiscount.type,"onUpdate:modelValue":d[2]||(d[2]=h=>k(t).newDiscount.type=h),options:["\u20AC","%"],label:"Lo\u1EA1i gi\u1EA3m gi\xE1",outlined:"",rules:[h=>!!h||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"]},null,8,["modelValue","rules"]),U(vn,{modelValue:k(t).newDiscount.description,"onUpdate:modelValue":d[3]||(d[3]=h=>k(t).newDiscount.description=h),label:"M\xF4 t\u1EA3",outlined:"",class:"q-mb-md"},null,8,["modelValue"])]),_:1}),U(ci,{align:"right"},{default:ie(()=>[U(ut,{flat:"",label:"H\u1EE7y",color:"primary",onClick:d[4]||(d[4]=h=>k(t).showAddDialog=!1)}),U(ut,{label:"Th\xEAm",type:"submit",color:"primary"})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]),U(pr,{modelValue:k(t).showEditDialog,"onUpdate:modelValue":d[12]||(d[12]=h=>k(t).showEditDialog=h)},{default:ie(()=>[U(_n,{style:{"min-width":"400px","max-width":"500px"}},{default:ie(()=>[U(Tt,null,{default:ie(()=>d[20]||(d[20]=[te("div",{class:"text-h6"},"Edit Discount",-1)])),_:1}),U(Xi,{onSubmit:d[11]||(d[11]=h=>k(t).postUpdateDiscount(k(t).editDiscount)),class:"q-gutter-md"},{default:ie(()=>[te("div",null,[U(Tt,null,{default:ie(()=>[U(vn,{modelValue:k(t).editDiscount.value,"onUpdate:modelValue":d[7]||(d[7]=h=>k(t).editDiscount.value=h),type:"number",label:"Gi\xE1 tr\u1ECB",outlined:"",rules:[h=>!!h||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"]},null,8,["modelValue","rules"]),U(ji,{modelValue:k(t).editDiscount.type,"onUpdate:modelValue":d[8]||(d[8]=h=>k(t).editDiscount.type=h),options:["none","%"],label:"Lo\u1EA1i gi\u1EA3m gi\xE1",outlined:"",rules:[h=>!!h||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"]},null,8,["modelValue","rules"]),U(vn,{modelValue:k(t).editDiscount.description,"onUpdate:modelValue":d[9]||(d[9]=h=>k(t).editDiscount.description=h),label:"M\xF4 t\u1EA3",outlined:"",class:"q-mb-md"},null,8,["modelValue"])]),_:1}),U(ci,{align:"right"},{default:ie(()=>[U(ut,{flat:"",label:"H\u1EE7y",color:"primary",onClick:d[10]||(d[10]=h=>k(t).showEditDialog=!1)}),U(ut,{type:"submit",label:"L\u01B0u",color:"primary"})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]),U(pr,{modelValue:k(t).showDeleteDialog,"onUpdate:modelValue":d[15]||(d[15]=h=>k(t).showDeleteDialog=h)},{default:ie(()=>[U(_n,{style:{"min-width":"400px","max-width":"500px"}},{default:ie(()=>[U(Tt,null,{default:ie(()=>d[21]||(d[21]=[te("div",{class:"text-h6"},"X\xE1c nh\u1EADn",-1),te("div",null,"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a m\xE3 gi\u1EA3m gi\xE1 n\xE0y kh\xF4ng?",-1)])),_:1}),U(ci,{align:"right"},{default:ie(()=>[U(ut,{flat:"",label:"X\xF3a",color:"red",onClick:d[13]||(d[13]=h=>k(t).deleteDiscount(k(t).deleteObject))}),U(ut,{label:"H\u1EE7y",color:"primary",onClick:d[14]||(d[14]=h=>k(t).showDeleteDialog=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Bs=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function u4(e,t,n){return Object.prototype.toString.call(e)==="[object Date]"&&(n=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),h4(ah(e,t,n))}function $1(e,t,n){return Vp(f4(e,t,n))}function c4(e){return d4(e)===0}function Su(e,t){return t<=6?31:t<=11||c4(e)?30:29}function d4(e){const t=Bs.length;let n=Bs[0],s,a,l,d,h;if(e<n||e>=Bs[t-1])throw new Error("Invalid Jalaali year "+e);for(h=1;h<t&&(s=Bs[h],a=s-n,!(e<s));h+=1)n=s;return d=e-n,a-d<6&&(d=d-a+Mn(a+4,33)*33),l=ai(ai(d+1,33)-1,4),l===-1&&(l=4),l}function Fp(e,t){const n=Bs.length,s=e+621;let a=-14,l=Bs[0],d,h,g,m,v;if(e<l||e>=Bs[n-1])throw new Error("Invalid Jalaali year "+e);for(v=1;v<n&&(d=Bs[v],h=d-l,!(e<d));v+=1)a=a+Mn(h,33)*8+Mn(ai(h,33),4),l=d;m=e-l,a=a+Mn(m,33)*8+Mn(ai(m,33)+3,4),ai(h,33)===4&&h-m===4&&(a+=1);const y=Mn(s,4)-Mn((Mn(s,100)+1)*3,4)-150,_=20+a-y;return t||(h-m<6&&(m=m-h+Mn(h+4,33)*33),g=ai(ai(m+1,33)-1,4),g===-1&&(g=4)),{leap:g,gy:s,march:_}}function f4(e,t,n){const s=Fp(e,!0);return ah(s.gy,3,s.march)+(t-1)*31-Mn(t,7)*(t-7)+n-1}function h4(e){const t=Vp(e).gy;let n=t-621,s,a,l;const d=Fp(n,!1),h=ah(t,3,d.march);if(l=e-h,l>=0){if(l<=185)return a=1+Mn(l,31),s=ai(l,31)+1,{jy:n,jm:a,jd:s};l-=186}else n-=1,l+=179,d.leap===1&&(l+=1);return a=7+Mn(l,30),s=ai(l,30)+1,{jy:n,jm:a,jd:s}}function ah(e,t,n){let s=Mn((e+Mn(t-8,6)+100100)*1461,4)+Mn(153*ai(t+9,12)+2,5)+n-34840408;return s=s-Mn(Mn(e+100100+Mn(t-8,6),100)*3,4)+752,s}function Vp(e){let t=4*e+139361631;t=t+Mn(Mn(4*e+183187720,146097)*3,4)*4-3908;const n=Mn(ai(t,1461),4)*5+308,s=Mn(ai(n,153),5)+1,a=ai(Mn(n,153),12)+1;return{gy:Mn(t,1461)-100100+Mn(8-a,6),gm:a,gd:s}}function Mn(e,t){return~~(e/t)}function ai(e,t){return e-~~(e/t)*t}const g4=["gregorian","persian"],q1={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>g4.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},m4=["update:modelValue"];function Cs(e){return e.year+"/"+An(e.month)+"/"+An(e.day)}function v4(e,t){const n=G(()=>e.disable!==!0&&e.readonly!==!0),s=G(()=>n.value===!0?0:-1),a=G(()=>{const h=[];return e.color!==void 0&&h.push(`bg-${e.color}`),e.textColor!==void 0&&h.push(`text-${e.textColor}`),h.join(" ")});function l(){return e.locale!==void 0?{...t.lang.date,...e.locale}:t.lang.date}function d(h){const g=new Date,m=h===!0?null:0;if(e.calendar==="persian"){const v=u4(g);return{year:v.jy,month:v.jm,day:v.jd}}return{year:g.getFullYear(),month:g.getMonth()+1,day:g.getDate(),hour:m,minute:m,second:m,millisecond:m}}return{editable:n,tabindex:s,headerClass:a,getLocale:l,getCurrentDate:d}}const $p=864e5,p4=36e5,vf=6e4,qp="YYYY-MM-DDTHH:mm:ss.SSSZ",w4=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,y4=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Id={};function x4(e,t){const n="("+t.days.join("|")+")",s=e+n;if(Id[s]!==void 0)return Id[s];const a="("+t.daysShort.join("|")+")",l="("+t.months.join("|")+")",d="("+t.monthsShort.join("|")+")",h={};let g=0;const m=e.replace(y4,y=>{switch(g++,y){case"YY":return h.YY=g,"(-?\\d{1,2})";case"YYYY":return h.YYYY=g,"(-?\\d{1,4})";case"M":return h.M=g,"(\\d{1,2})";case"Mo":return h.M=g++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return h.M=g,"(\\d{2})";case"MMM":return h.MMM=g,d;case"MMMM":return h.MMMM=g,l;case"D":return h.D=g,"(\\d{1,2})";case"Do":return h.D=g++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return h.D=g,"(\\d{2})";case"H":return h.H=g,"(\\d{1,2})";case"HH":return h.H=g,"(\\d{2})";case"h":return h.h=g,"(\\d{1,2})";case"hh":return h.h=g,"(\\d{2})";case"m":return h.m=g,"(\\d{1,2})";case"mm":return h.m=g,"(\\d{2})";case"s":return h.s=g,"(\\d{1,2})";case"ss":return h.s=g,"(\\d{2})";case"S":return h.S=g,"(\\d{1})";case"SS":return h.S=g,"(\\d{2})";case"SSS":return h.S=g,"(\\d{3})";case"A":return h.A=g,"(AM|PM)";case"a":return h.a=g,"(am|pm)";case"aa":return h.aa=g,"(a\\.m\\.|p\\.m\\.)";case"ddd":return a;case"dddd":return n;case"Q":case"d":case"E":return"(\\d{1})";case"do":return g++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return g++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return g++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return h.Z=g,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return h.ZZ=g,"(Z|[+-]\\d{2}\\d{2})";case"X":return h.X=g,"(-?\\d+)";case"x":return h.x=g,"(-?\\d{4,})";default:return g--,y[0]==="["&&(y=y.substring(1,y.length-1)),y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),v={map:h,regex:new RegExp("^"+m)};return Id[s]=v,v}function Up(e,t){return e!==void 0?e:t!==void 0?t.date:Yd.date}function U1(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Math.floor(s/60),l=s%60;return n+An(a)+t+An(l)}function b4(e,t,n,s,a){const l={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(a!==void 0&&Object.assign(l,a),e==null||e===""||typeof e!="string")return l;t===void 0&&(t=qp);const d=Up(n,qi.props),h=d.months,g=d.monthsShort,{regex:m,map:v}=x4(t,d),y=e.match(m);if(y===null)return l;let _="";if(v.X!==void 0||v.x!==void 0){const b=parseInt(y[v.X!==void 0?v.X:v.x],10);if(isNaN(b)===!0||b<0)return l;const T=new Date(b*(v.X!==void 0?1e3:1));l.year=T.getFullYear(),l.month=T.getMonth()+1,l.day=T.getDate(),l.hour=T.getHours(),l.minute=T.getMinutes(),l.second=T.getSeconds(),l.millisecond=T.getMilliseconds()}else{if(v.YYYY!==void 0)l.year=parseInt(y[v.YYYY],10);else if(v.YY!==void 0){const b=parseInt(y[v.YY],10);l.year=b<0?b:2e3+b}if(v.M!==void 0){if(l.month=parseInt(y[v.M],10),l.month<1||l.month>12)return l}else v.MMM!==void 0?l.month=g.indexOf(y[v.MMM])+1:v.MMMM!==void 0&&(l.month=h.indexOf(y[v.MMMM])+1);if(v.D!==void 0){if(l.day=parseInt(y[v.D],10),l.year===null||l.month===null||l.day<1)return l;const b=s!=="persian"?new Date(l.year,l.month,0).getDate():Su(l.year,l.month);if(l.day>b)return l}v.H!==void 0?l.hour=parseInt(y[v.H],10)%24:v.h!==void 0&&(l.hour=parseInt(y[v.h],10)%12,(v.A&&y[v.A]==="PM"||v.a&&y[v.a]==="pm"||v.aa&&y[v.aa]==="p.m.")&&(l.hour+=12),l.hour=l.hour%24),v.m!==void 0&&(l.minute=parseInt(y[v.m],10)%60),v.s!==void 0&&(l.second=parseInt(y[v.s],10)%60),v.S!==void 0&&(l.millisecond=parseInt(y[v.S],10)*10**(3-y[v.S].length)),(v.Z!==void 0||v.ZZ!==void 0)&&(_=v.Z!==void 0?y[v.Z].replace(":",""):y[v.ZZ],l.timezoneOffset=(_[0]==="+"?-1:1)*(60*_.slice(1,3)+1*_.slice(3,5)))}return l.dateHash=An(l.year,6)+"/"+An(l.month)+"/"+An(l.day),l.timeHash=An(l.hour)+":"+An(l.minute)+":"+An(l.second)+_,l}function Od(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const s=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-s);const a=(t-n)/($p*7);return 1+Math.floor(a)}function is(e,t,n){const s=new Date(e),a=`set${n===!0?"UTC":""}`;switch(t){case"year":case"years":s[`${a}Month`](0);case"month":case"months":s[`${a}Date`](1);case"day":case"days":case"date":s[`${a}Hours`](0);case"hour":case"hours":s[`${a}Minutes`](0);case"minute":case"minutes":s[`${a}Seconds`](0);case"second":case"seconds":s[`${a}Milliseconds`](0)}return s}function mu(e,t,n){return(e.getTime()-e.getTimezoneOffset()*vf-(t.getTime()-t.getTimezoneOffset()*vf))/n}function jp(e,t,n="days"){const s=new Date(e),a=new Date(t);switch(n){case"years":case"year":return s.getFullYear()-a.getFullYear();case"months":case"month":return(s.getFullYear()-a.getFullYear())*12+s.getMonth()-a.getMonth();case"days":case"day":case"date":return mu(is(s,"day"),is(a,"day"),$p);case"hours":case"hour":return mu(is(s,"hour"),is(a,"hour"),p4);case"minutes":case"minute":return mu(is(s,"minute"),is(a,"minute"),vf);case"seconds":case"second":return mu(is(s,"second"),is(a,"second"),1e3)}}function Dd(e){return jp(e,is(e,"year"),"days")+1}function ea(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const j1={YY(e,t,n){const s=this.YYYY(e,t,n)%100;return s>=0?An(s):"-"+An(Math.abs(s))},YYYY(e,t,n){return n!=null?n:e.getFullYear()},M(e){return e.getMonth()+1},Mo(e){return ea(e.getMonth()+1)},MM(e){return An(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return ea(this.Q(e))},D(e){return e.getDate()},Do(e){return ea(e.getDate())},DD(e){return An(e.getDate())},DDD(e){return Dd(e)},DDDo(e){return ea(Dd(e))},DDDD(e){return An(Dd(e),3)},d(e){return e.getDay()},do(e){return ea(e.getDay())},dd(e,t){return t.days[e.getDay()].slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Od(e)},wo(e){return ea(Od(e))},ww(e){return An(Od(e))},H(e){return e.getHours()},HH(e){return An(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return An(this.h(e))},m(e){return e.getMinutes()},mm(e){return An(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return An(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return An(Math.floor(e.getMilliseconds()/10))},SSS(e){return An(e.getMilliseconds(),3)},A(e){return e.getHours()<12?"AM":"PM"},a(e){return e.getHours()<12?"am":"pm"},aa(e){return e.getHours()<12?"a.m.":"p.m."},Z(e,t,n,s){const a=s==null?e.getTimezoneOffset():s;return U1(a,":")},ZZ(e,t,n,s){const a=s==null?e.getTimezoneOffset():s;return U1(a)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function _4(e,t,n,s,a){if(e!==0&&!e||e===1/0||e===-1/0)return;const l=new Date(e);if(isNaN(l))return;t===void 0&&(t=qp);const d=Up(n,qi.props);return t.replace(w4,(h,g)=>h in j1?j1[h](l,d,s,a):g===void 0?h:g.split("\\]").join("]"))}const ao=20,C4=["Calendar","Years","Months"],H1=e=>C4.includes(e),kd=e=>/^-?[\d]+\/[0-1]\d$/.test(e),ta=" \u2014 ";function Ss(e){return e.year+"/"+An(e.month)}var S4=Zt({name:"QDate",props:{...q1,...Vl,...zr,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...q1.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:kd},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:kd},navigationMaxYearMonth:{type:String,validator:kd},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:H1}},emits:[...m4,"rangeStart","rangeEnd","navigation"],setup(e,{slots:t,emit:n}){const{proxy:s}=Gt(),{$q:a}=s,l=Wr(e,a),{getCache:d}=nh(),{tabindex:h,headerClass:g,getLocale:m,getCurrentDate:v}=v4(e,a);let y;const _=Ab(e),b=qf(_),T=Pe(null),M=Pe(ot()),$=Pe(m()),Z=G(()=>ot()),j=G(()=>m()),D=G(()=>v()),C=Pe(Vt(M.value,$.value)),L=Pe(e.defaultView),K=G(()=>a.lang.rtl===!0?"right":"left"),N=Pe(K.value),J=Pe(K.value),B=C.value.year,de=Pe(B-B%ao-(B<0?ao:0)),me=Pe(null),q=G(()=>{const X=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${X} q-date--${X}-${e.minimal===!0?"minimal":"standard"}`+(l.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),be=G(()=>e.color||"primary"),ne=G(()=>e.textColor||"white"),Q=G(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),Ne=G(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),Ce=G(()=>Ne.value.filter(X=>typeof X=="string").map(X=>lt(X,M.value,$.value)).filter(X=>X.dateHash!==null&&X.day!==null&&X.month!==null&&X.year!==null)),De=G(()=>{const X=le=>lt(le,M.value,$.value);return Ne.value.filter(le=>ei(le)===!0&&le.from!==void 0&&le.to!==void 0).map(le=>({from:X(le.from),to:X(le.to)})).filter(le=>le.from.dateHash!==null&&le.to.dateHash!==null&&le.from.dateHash<le.to.dateHash)}),tt=G(()=>e.calendar!=="persian"?X=>new Date(X.year,X.month-1,X.day):X=>{const le=$1(X.year,X.month,X.day);return new Date(le.gy,le.gm-1,le.gd)}),ht=G(()=>e.calendar==="persian"?Cs:(X,le,Re)=>_4(new Date(X.year,X.month-1,X.day,X.hour,X.minute,X.second,X.millisecond),le===void 0?M.value:le,Re===void 0?$.value:Re,X.year,X.timezoneOffset)),he=G(()=>Ce.value.length+De.value.reduce((X,le)=>X+1+jp(tt.value(le.to),tt.value(le.from)),0)),se=G(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(me.value!==null){const Re=me.value.init,Ye=tt.value(Re);return $.value.daysShort[Ye.getDay()]+", "+$.value.monthsShort[Re.month-1]+" "+Re.day+ta+"?"}if(he.value===0)return ta;if(he.value>1)return`${he.value} ${$.value.pluralDay}`;const X=Ce.value[0],le=tt.value(X);return isNaN(le.valueOf())===!0?ta:$.value.headerTitle!==void 0?$.value.headerTitle(le,X):$.value.daysShort[le.getDay()]+", "+$.value.monthsShort[X.month-1]+" "+X.day}),Je=G(()=>Ce.value.concat(De.value.map(le=>le.from)).sort((le,Re)=>le.year-Re.year||le.month-Re.month)[0]),ct=G(()=>Ce.value.concat(De.value.map(le=>le.to)).sort((le,Re)=>Re.year-le.year||Re.month-le.month)[0]),mt=G(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(he.value===0)return ta;if(he.value>1){const X=Je.value,le=ct.value,Re=$.value.monthsShort;return Re[X.month-1]+(X.year!==le.year?" "+X.year+ta+Re[le.month-1]+" ":X.month!==le.month?ta+Re[le.month-1]:"")+" "+le.year}return Ce.value[0].year}),ge=G(()=>{const X=[a.iconSet.datetime.arrowLeft,a.iconSet.datetime.arrowRight];return a.lang.rtl===!0?X.reverse():X}),ue=G(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):$.value.firstDayOfWeek),Be=G(()=>{const X=$.value.daysShort,le=ue.value;return le>0?X.slice(le,7).concat(X.slice(0,le)):X}),ve=G(()=>{const X=C.value;return e.calendar!=="persian"?new Date(X.year,X.month,0).getDate():Su(X.year,X.month)}),Ge=G(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),st=G(()=>{if(e.navigationMinYearMonth===void 0)return null;const X=e.navigationMinYearMonth.split("/");return{year:parseInt(X[0],10),month:parseInt(X[1],10)}}),wt=G(()=>{if(e.navigationMaxYearMonth===void 0)return null;const X=e.navigationMaxYearMonth.split("/");return{year:parseInt(X[0],10),month:parseInt(X[1],10)}}),F=G(()=>{const X={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return st.value!==null&&st.value.year>=C.value.year&&(X.year.prev=!1,st.value.year===C.value.year&&st.value.month>=C.value.month&&(X.month.prev=!1)),wt.value!==null&&wt.value.year<=C.value.year&&(X.year.next=!1,wt.value.year===C.value.year&&wt.value.month<=C.value.month&&(X.month.next=!1)),X}),Y=G(()=>{const X={};return Ce.value.forEach(le=>{const Re=Ss(le);X[Re]===void 0&&(X[Re]=[]),X[Re].push(le.day)}),X}),fe=G(()=>{const X={};return De.value.forEach(le=>{const Re=Ss(le.from),Ye=Ss(le.to);if(X[Re]===void 0&&(X[Re]=[]),X[Re].push({from:le.from.day,to:Re===Ye?le.to.day:void 0,range:le}),Re<Ye){let rt;const{year:Et,month:Me}=le.from,vt=Me<12?{year:Et,month:Me+1}:{year:Et+1,month:1};for(;(rt=Ss(vt))<=Ye;)X[rt]===void 0&&(X[rt]=[]),X[rt].push({from:void 0,to:rt===Ye?le.to.day:void 0,range:le}),vt.month++,vt.month>12&&(vt.year++,vt.month=1)}}),X}),Fe=G(()=>{if(me.value===null)return;const{init:X,initHash:le,final:Re,finalHash:Ye}=me.value,[rt,Et]=le<=Ye?[X,Re]:[Re,X],Me=Ss(rt),vt=Ss(Et);if(Me!==_e.value&&vt!==_e.value)return;const en={};return Me===_e.value?(en.from=rt.day,en.includeFrom=!0):en.from=1,vt===_e.value?(en.to=Et.day,en.includeTo=!0):en.to=ve.value,en}),_e=G(()=>Ss(C.value)),ke=G(()=>{const X={};if(e.options===void 0){for(let Re=1;Re<=ve.value;Re++)X[Re]=!0;return X}const le=typeof e.options=="function"?e.options:Re=>e.options.includes(Re);for(let Re=1;Re<=ve.value;Re++){const Ye=_e.value+"/"+An(Re);X[Re]=le(Ye)}return X}),Ve=G(()=>{const X={};if(e.events===void 0)for(let le=1;le<=ve.value;le++)X[le]=!1;else{const le=typeof e.events=="function"?e.events:Re=>e.events.includes(Re);for(let Re=1;Re<=ve.value;Re++){const Ye=_e.value+"/"+An(Re);X[Re]=le(Ye)===!0&&Ge.value(Ye)}}return X}),ze=G(()=>{let X,le;const{year:Re,month:Ye}=C.value;if(e.calendar!=="persian")X=new Date(Re,Ye-1,1),le=new Date(Re,Ye-1,0).getDate();else{const rt=$1(Re,Ye,1);X=new Date(rt.gy,rt.gm-1,rt.gd);let Et=Ye-1,Me=Re;Et===0&&(Et=12,Me--),le=Su(Me,Et)}return{days:X.getDay()-ue.value-1,endDay:le}}),ye=G(()=>{const X=[],{days:le,endDay:Re}=ze.value,Ye=le<0?le+7:le;if(Ye<6)for(let Me=Re-Ye;Me<=Re;Me++)X.push({i:Me,fill:!0});const rt=X.length;for(let Me=1;Me<=ve.value;Me++){const vt={i:Me,event:Ve.value[Me],classes:[]};ke.value[Me]===!0&&(vt.in=!0,vt.flat=!0),X.push(vt)}if(Y.value[_e.value]!==void 0&&Y.value[_e.value].forEach(Me=>{const vt=rt+Me-1;Object.assign(X[vt],{selected:!0,unelevated:!0,flat:!1,color:be.value,textColor:ne.value})}),fe.value[_e.value]!==void 0&&fe.value[_e.value].forEach(Me=>{if(Me.from!==void 0){const vt=rt+Me.from-1,en=rt+(Me.to||ve.value)-1;for(let fn=vt;fn<=en;fn++)Object.assign(X[fn],{range:Me.range,unelevated:!0,color:be.value,textColor:ne.value});Object.assign(X[vt],{rangeFrom:!0,flat:!1}),Me.to!==void 0&&Object.assign(X[en],{rangeTo:!0,flat:!1})}else if(Me.to!==void 0){const vt=rt+Me.to-1;for(let en=rt;en<=vt;en++)Object.assign(X[en],{range:Me.range,unelevated:!0,color:be.value,textColor:ne.value});Object.assign(X[vt],{flat:!1,rangeTo:!0})}else{const vt=rt+ve.value-1;for(let en=rt;en<=vt;en++)Object.assign(X[en],{range:Me.range,unelevated:!0,color:be.value,textColor:ne.value})}}),Fe.value!==void 0){const Me=rt+Fe.value.from-1,vt=rt+Fe.value.to-1;for(let en=Me;en<=vt;en++)X[en].color=be.value,X[en].editRange=!0;Fe.value.includeFrom===!0&&(X[Me].editRangeFrom=!0),Fe.value.includeTo===!0&&(X[vt].editRangeTo=!0)}C.value.year===D.value.year&&C.value.month===D.value.month&&(X[rt+D.value.day-1].today=!0);const Et=X.length%7;if(Et>0){const Me=7-Et;for(let vt=1;vt<=Me;vt++)X.push({i:vt,fill:!0})}return X.forEach(Me=>{let vt="q-date__calendar-item ";Me.fill===!0?vt+="q-date__calendar-item--fill":(vt+=`q-date__calendar-item--${Me.in===!0?"in":"out"}`,Me.range!==void 0&&(vt+=` q-date__range${Me.rangeTo===!0?"-to":Me.rangeFrom===!0?"-from":""}`),Me.editRange===!0&&(vt+=` q-date__edit-range${Me.editRangeFrom===!0?"-from":""}${Me.editRangeTo===!0?"-to":""}`),(Me.range!==void 0||Me.editRange===!0)&&(vt+=` text-${Me.color}`)),Me.classes=vt}),X}),ce=G(()=>e.disable===!0?{"aria-disabled":"true"}:{});bt(()=>e.modelValue,X=>{if(y===X)y=0;else{const le=Vt(M.value,$.value);Xn(le.year,le.month,le)}}),bt(L,()=>{T.value!==null&&s.$el.contains(document.activeElement)===!0&&T.value.focus()}),bt(()=>C.value.year+"|"+C.value.month,()=>{n("navigation",{year:C.value.year,month:C.value.month})}),bt(Z,X=>{ar(X,$.value,"mask"),M.value=X}),bt(j,X=>{ar(M.value,X,"locale"),$.value=X});function $e(){const{year:X,month:le,day:Re}=D.value,Ye={...C.value,year:X,month:le,day:Re},rt=Y.value[Ss(Ye)];(rt===void 0||rt.includes(Ye.day)===!1)&&tr(Ye),Qe(Ye.year,Ye.month)}function Le(X){H1(X)===!0&&(L.value=X)}function et(X,le){["month","year"].includes(X)&&(X==="month"?In:Dt)(le===!0?-1:1)}function Qe(X,le){L.value="Calendar",Xn(X,le)}function at(X,le){if(e.range===!1||!X){me.value=null;return}const Re=Object.assign({...C.value},X),Ye=le!==void 0?Object.assign({...C.value},le):Re;me.value={init:Re,initHash:Cs(Re),final:Ye,finalHash:Cs(Ye)},Qe(Re.year,Re.month)}function ot(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function lt(X,le,Re){return b4(X,le,Re,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Vt(X,le){const Re=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(Re.length===0)return Xt();const Ye=Re[Re.length-1],rt=lt(Ye.from!==void 0?Ye.from:Ye,X,le);return rt.dateHash===null?Xt():rt}function Xt(){let X,le;if(e.defaultYearMonth!==void 0){const Re=e.defaultYearMonth.split("/");X=parseInt(Re[0],10),le=parseInt(Re[1],10)}else{const Re=D.value!==void 0?D.value:v();X=Re.year,le=Re.month}return{year:X,month:le,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:X+"/"+An(le)+"/01"}}function In(X){let le=C.value.year,Re=Number(C.value.month)+X;Re===13?(Re=1,le++):Re===0&&(Re=12,le--),Xn(le,Re),Q.value===!0&&Ar("month")}function Dt(X){const le=Number(C.value.year)+X;Xn(le,C.value.month),Q.value===!0&&Ar("year")}function Ue(X){Xn(X,C.value.month),L.value=e.defaultView==="Years"?"Months":"Calendar",Q.value===!0&&Ar("year")}function Jt(X){Xn(C.value.year,X),L.value="Calendar",Q.value===!0&&Ar("month")}function Ot(X,le){const Re=Y.value[le];(Re!==void 0&&Re.includes(X.day)===!0?or:tr)(X)}function Mt(X){return{year:X.year,month:X.month,day:X.day}}function Xn(X,le,Re){if(st.value!==null&&X<=st.value.year&&((le<st.value.month||X<st.value.year)&&(le=st.value.month),X=st.value.year),wt.value!==null&&X>=wt.value.year&&((le>wt.value.month||X>wt.value.year)&&(le=wt.value.month),X=wt.value.year),Re!==void 0){const{hour:rt,minute:Et,second:Me,millisecond:vt,timezoneOffset:en,timeHash:fn}=Re;Object.assign(C.value,{hour:rt,minute:Et,second:Me,millisecond:vt,timezoneOffset:en,timeHash:fn})}const Ye=X+"/"+An(le)+"/01";Ye!==C.value.dateHash&&(N.value=C.value.dateHash<Ye==(a.lang.rtl!==!0)?"left":"right",X!==C.value.year&&(J.value=N.value),Cn(()=>{de.value=X-X%ao-(X<0?ao:0),Object.assign(C.value,{year:X,month:le,day:1,dateHash:Ye})}))}function xn(X,le,Re){const Ye=X!==null&&X.length===1&&e.multiple===!1?X[0]:X;y=Ye;const{reason:rt,details:Et}=ft(le,Re);n("update:modelValue",Ye,rt,Et)}function Ar(X){const le=Ce.value[0]!==void 0&&Ce.value[0].dateHash!==null?{...Ce.value[0]}:{...C.value};Cn(()=>{le.year=C.value.year,le.month=C.value.month;const Re=e.calendar!=="persian"?new Date(le.year,le.month,0).getDate():Su(le.year,le.month);le.day=Math.min(Math.max(1,le.day),Re);const Ye=yr(le);y=Ye;const{details:rt}=ft("",le);n("update:modelValue",Ye,X,rt)})}function ft(X,le){return le.from!==void 0?{reason:`${X}-range`,details:{...Mt(le.target),from:Mt(le.from),to:Mt(le.to)}}:{reason:`${X}-day`,details:Mt(le)}}function yr(X,le,Re){return X.from!==void 0?{from:ht.value(X.from,le,Re),to:ht.value(X.to,le,Re)}:ht.value(X,le,Re)}function tr(X){let le;if(e.multiple===!0)if(X.from!==void 0){const Re=Cs(X.from),Ye=Cs(X.to),rt=Ce.value.filter(Me=>Me.dateHash<Re||Me.dateHash>Ye),Et=De.value.filter(({from:Me,to:vt})=>vt.dateHash<Re||Me.dateHash>Ye);le=rt.concat(Et).concat(X).map(Me=>yr(Me))}else{const Re=Ne.value.slice();Re.push(yr(X)),le=Re}else le=yr(X);xn(le,"add",X)}function or(X){if(e.noUnset===!0)return;let le=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const Re=yr(X);X.from!==void 0?le=e.modelValue.filter(Ye=>Ye.from!==void 0?Ye.from!==Re.from&&Ye.to!==Re.to:!0):le=e.modelValue.filter(Ye=>Ye!==Re),le.length===0&&(le=null)}xn(le,"remove",X)}function ar(X,le,Re){const Ye=Ce.value.concat(De.value).map(rt=>yr(rt,X,le)).filter(rt=>rt.from!==void 0?rt.from.dateHash!==null&&rt.to.dateHash!==null:rt.dateHash!==null);n("update:modelValue",(e.multiple===!0?Ye:Ye[0])||null,Re)}function di(){if(e.minimal!==!0)return z("div",{class:"q-date__header "+g.value},[z("div",{class:"relative-position"},[z(oi,{name:"q-transition--fade"},()=>z("div",{key:"h-yr-"+mt.value,class:"q-date__header-subtitle q-date__header-link "+(L.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:h.value,...d("vY",{onClick(){L.value="Years"},onKeyup(X){X.keyCode===13&&(L.value="Years")}})},[mt.value]))]),z("div",{class:"q-date__header-title relative-position flex no-wrap"},[z("div",{class:"relative-position col"},[z(oi,{name:"q-transition--fade"},()=>z("div",{key:"h-sub"+se.value,class:"q-date__header-title-label q-date__header-link "+(L.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:h.value,...d("vC",{onClick(){L.value="Calendar"},onKeyup(X){X.keyCode===13&&(L.value="Calendar")}})},[se.value]))]),e.todayBtn===!0?z(ut,{class:"q-date__header-today self-start",icon:a.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:h.value,onClick:$e}):null])])}function dn({label:X,type:le,key:Re,dir:Ye,goTo:rt,boundaries:Et,cls:Me}){return[z("div",{class:"row items-center q-date__arrow"},[z(ut,{round:!0,dense:!0,size:"sm",flat:!0,icon:ge.value[0],tabindex:h.value,disable:Et.prev===!1,...d("go-#"+le,{onClick(){rt(-1)}})})]),z("div",{class:"relative-position overflow-hidden flex flex-center"+Me},[z(oi,{name:"q-transition--jump-"+Ye},()=>z("div",{key:Re},[z(ut,{flat:!0,dense:!0,noCaps:!0,label:X,tabindex:h.value,...d("view#"+le,{onClick:()=>{L.value=le}})})]))]),z("div",{class:"row items-center q-date__arrow"},[z(ut,{round:!0,dense:!0,size:"sm",flat:!0,icon:ge.value[1],tabindex:h.value,disable:Et.next===!1,...d("go+#"+le,{onClick(){rt(1)}})})])]}const lr={Calendar:()=>[z("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[z("div",{class:"q-date__navigation row items-center no-wrap"},dn({label:$.value.months[C.value.month-1],type:"Months",key:C.value.month,dir:N.value,goTo:In,boundaries:F.value.month,cls:" col"}).concat(dn({label:C.value.year,type:"Years",key:C.value.year,dir:J.value,goTo:Dt,boundaries:F.value.year,cls:""}))),z("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Be.value.map(X=>z("div",{class:"q-date__calendar-item"},[z("div",X)]))),z("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[z(oi,{name:"q-transition--slide-"+N.value},()=>z("div",{key:_e.value,class:"q-date__calendar-days fit"},ye.value.map(X=>z("div",{class:X.classes},[X.in===!0?z(ut,{class:X.today===!0?"q-date__today":"",dense:!0,flat:X.flat,unelevated:X.unelevated,color:X.color,textColor:X.textColor,label:X.i,tabindex:h.value,...d("day#"+X.i,{onClick:()=>{wi(X.i)},onMouseover:()=>{kr(X.i)}})},X.event!==!1?()=>z("div",{class:"q-date__event bg-"+X.event}):null):z("div",""+X.i)]))))])])],Months(){const X=C.value.year===D.value.year,le=Ye=>st.value!==null&&C.value.year===st.value.year&&st.value.month>Ye||wt.value!==null&&C.value.year===wt.value.year&&wt.value.month<Ye,Re=$.value.monthsShort.map((Ye,rt)=>{const Et=C.value.month===rt+1;return z("div",{class:"q-date__months-item flex flex-center"},[z(ut,{class:X===!0&&D.value.month===rt+1?"q-date__today":null,flat:Et!==!0,label:Ye,unelevated:Et,color:Et===!0?be.value:null,textColor:Et===!0?ne.value:null,tabindex:h.value,disable:le(rt+1),...d("month#"+rt,{onClick:()=>{Jt(rt+1)}})})])});return e.yearsInMonthView===!0&&Re.unshift(z("div",{class:"row no-wrap full-width"},[dn({label:C.value.year,type:"Years",key:C.value.year,dir:J.value,goTo:Dt,boundaries:F.value.year,cls:" col"})])),z("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},Re)},Years(){const X=de.value,le=X+ao,Re=[],Ye=rt=>st.value!==null&&st.value.year>rt||wt.value!==null&&wt.value.year<rt;for(let rt=X;rt<=le;rt++){const Et=C.value.year===rt;Re.push(z("div",{class:"q-date__years-item flex flex-center"},[z(ut,{key:"yr"+rt,class:D.value.year===rt?"q-date__today":null,flat:!Et,label:rt,dense:!0,unelevated:Et,color:Et===!0?be.value:null,textColor:Et===!0?ne.value:null,tabindex:h.value,disable:Ye(rt),...d("yr#"+rt,{onClick:()=>{Ue(rt)}})})]))}return z("div",{class:"q-date__view q-date__years flex flex-center"},[z("div",{class:"col-auto"},[z(ut,{round:!0,dense:!0,flat:!0,icon:ge.value[0],tabindex:h.value,disable:Ye(X),...d("y-",{onClick:()=>{de.value-=ao}})})]),z("div",{class:"q-date__years-content col self-stretch row items-center"},Re),z("div",{class:"col-auto"},[z(ut,{round:!0,dense:!0,flat:!0,icon:ge.value[1],tabindex:h.value,disable:Ye(le),...d("y+",{onClick:()=>{de.value+=ao}})})])])}};function wi(X){const le={...C.value,day:X};if(e.range===!1){Ot(le,_e.value);return}if(me.value===null){const Re=ye.value.find(rt=>rt.fill!==!0&&rt.i===X);if(e.noUnset!==!0&&Re.range!==void 0){or({target:le,from:Re.range.from,to:Re.range.to});return}if(Re.selected===!0){or(le);return}const Ye=Cs(le);me.value={init:le,initHash:Ye,final:le,finalHash:Ye},n("rangeStart",Mt(le))}else{const Re=me.value.initHash,Ye=Cs(le),rt=Re<=Ye?{from:me.value.init,to:le}:{from:le,to:me.value.init};me.value=null,tr(Re===Ye?le:{target:le,...rt}),n("rangeEnd",{from:Mt(rt.from),to:Mt(rt.to)})}}function kr(X){if(me.value!==null){const le={...C.value,day:X};Object.assign(me.value,{final:le,finalHash:Cs(le)})}}return Object.assign(s,{setToday:$e,setView:Le,offsetCalendar:et,setCalendarTo:Qe,setEditingRange:at}),()=>{const X=[z("div",{class:"q-date__content col relative-position"},[z(oi,{name:"q-transition--fade"},lr[L.value])])],le=Pn(t.default);return le!==void 0&&X.push(z("div",{class:"q-date__actions"},le)),e.name!==void 0&&e.disable!==!0&&b(X,"push"),z("div",{class:q.value,...ce.value},[di(),z("div",{ref:T,class:"q-date__main col column",tabindex:-1},X)])}}}),E4=Zt({name:"QPopupProxy",props:{...tp,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:t,emit:n,attrs:s}){const{proxy:a}=Gt(),{$q:l}=a,d=Pe(!1),h=Pe(null),g=G(()=>parseInt(e.breakpoint,10)),{canShow:m}=np({showing:d});function v(){return l.screen.width<g.value||l.screen.height<g.value?"dialog":"menu"}const y=Pe(v()),_=G(()=>y.value==="menu"?{maxHeight:"99vh"}:{});bt(()=>v(),M=>{d.value!==!0&&(y.value=M)});function b(M){d.value=!0,n("show",M)}function T(M){d.value=!1,y.value=v(),n("hide",M)}return Object.assign(a,{show(M){m(M)===!0&&h.value.show(M)},hide(M){h.value.hide(M)},toggle(M){h.value.toggle(M)}}),ko(a,"currentComponent",()=>({type:y.value,ref:h.value})),()=>{const M={ref:h,..._.value,...s,onShow:b,onHide:T};let $;return y.value==="dialog"?$=pr:($=eh,Object.assign(M,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),z($,M,t.default)}}});const A4=gs("admin",{state:()=>({listDiscount:[],listOrder:[],listOrderOriginal:[],listGiftCard:[],listOrderHistories:[],menuData:[],isLoadingMainScreen:!1,isLoadingHistory:!1,showEditDialog:!1,selectedAccount:{},datePicker:""}),actions:{async getInit(){const e=wa();this.listDiscount=await e.getDiscount(),this.listGiftCard=await this.getListGiftCard(),this.listOrder=await this.getOrderList(),this.listOrderOriginal=this.listOrder},async getOrderList(){try{const e=wa(),{data:t,error:n}=await Bt.from("orders").select("*, users(*)");if(n)console.error("Caught error when fetching data: ",n);else return this.menuData=await e.fetchMenuData(),await this.handleDataToDisplay(t)}catch(e){console.error("Internal Server Error: ",e)}},async getListGiftCard(){try{let{data:e,error:t}=await Bt.from("giftcards").select();return t?(console.error("Caught error when fetching giftcards data: ",t),[]):e}catch(e){console.error("Internal Server Error: ",e)}},async fetchHistoryData(e){try{this.isLoadingHistory=!0;const{data:t,error:n}=await Bt.from("order_history").select("*").eq("order_id",e);n?console.error("Error when fetching data in fetchHistoryData(rowId): ",n):this.listOrderHistories=await Promise.all(t.map(async s=>{var h;let a=0;s.details.menu_items.forEach(g=>{a+=g.price*g.quantity});let l=this.listDiscount.filter(g=>g.id==s.details.discount)[0],d=0;return((h=s.giftcard)==null?void 0:h.length)>0&&(d=this.listGiftCard.filter(g=>g.id==s.details.giftcard)[0]),{...s,totalPrice:a,discountObject:l||{},giftCardObject:d||{},isHaveDiscount:!!l,isHaveGiftCard:!!d}})),this.isLoadingHistory=!1}catch(t){this.isLoadingHistory=!1,console.error("Error fetching data fetchHistoryData(rowId):",t)}},async fetchOrderItem(e){try{const{data:t,error:n}=await Bt.from("order_menu").select("*").eq("order_id",e);return t}catch(t){console.error("Error fetching data:",t)}},async deleteData(e){try{Fr.create({title:"X\xE1c nh\u1EADn",message:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a \u0111\u01A1n h\xE0ng n\xE0y kh\xF4ng?",ok:!0,cancel:!0}).onOk(async()=>{Ft.show({message:"\u0110ang x\xF3a d\u1EEF li\u1EC7u..."});const t=await Bt.from("orders").delete().eq("id",e);console.log(t),t.status===204?(Nn.create({type:"positive",message:"X\xF3a th\xE0nh c\xF4ng!",position:"top"}),Ft.hide(),this.listOrder=this.listOrder.filter(n=>n.id!==e)):alert("Failed to delete data")})}catch(t){console.error("Error deleting data:",t),Ft.hide()}},async handleDataToDisplay(e){try{let t=[];return t=await Promise.all(e.map(async n=>{const s=new Date(n.created_at),a=String(s.getHours()).padStart(2,"0"),l=String(s.getMinutes()).padStart(2,"0"),d=`${a}:${l}`,h=await this.fetchOrderItem(n.id);let g=0;h.forEach(y=>{g+=y.price});let m=this.listDiscount.filter(y=>y.id==n.discount)[0];m&&(m.type==="none"?g-=m.value:g-=g/100*m.value);let v=0;return this.listGiftCard.forEach(y=>{y.id==y.giftcard&&(v=y.value)}),v&&(g-=v.value),{id:n.id,notizen:n.description,menu:h,datum:`${d} ${s.toLocaleDateString("de-DE")}`,isHandled:!0,totalPrice:g,discountObject:m||{},giftCardObject:v||{},created_at:n.created_at,users:n.users}}).filter(n=>n)),await Promise.all(t),t.forEach((n,s)=>{t[s].menu.length>1&&(t[s].menuSelected=t[s].menu.map(a=>({...this.menuData.filter(l=>a.menu_id==l.id)[0],quantity:a.quantity})))}),t.length||(t=[]),t}catch(t){console.error("Internal Server Error: ",t)}},clickSelectDateRangeOrder(e){try{const t=new Date(e.from),n=new Date(e.to);this.listOrder=this.listOrderOriginal.filter(s=>{const a=new Date(s.created_at);if(a>=t&&a<=n)return s})}catch(t){console.error("Internal Server Error: ",t)}}}}),T4={key:0,style:{height:"30vh"},class:"full-width flex column flex-center"},I4={key:0},O4={class:"text-subtitle2 text-grey"},D4={class:"text-subtitle2 text-grey flex",style:{"align-items":"center"}},k4={class:"text-subtitle2 text-grey flex",style:{"align-items":"center"}},R4={class:"flex flex-center"},M4=["onClick"],N4={class:"text-blue text-h4"},P4={class:"flex justify-between",style:{"align-items":"center"}},L4={class:"flex justify-between full-width"},B4={style:{width:"80%"},class:"text-grey-7"},F4={class:"text-grey text-bold"},V4={class:"text-blue"},$4={class:"text-grey-6"},q4={key:1,class:"flex flex-center column full-height",style:{"margin-top":"200px"}},U4={class:"row items-center justify-end q-gutter-sm"},j4={class:"flex justify-between q-py-md q-pr-md bg-white z-max",style:{position:"sticky",top:"0"}},H4={class:"flex justify-between"},z4={class:"text-subtitle2 text-grey-6 q-ml-xs"},W4={class:"column flex",style:{"align-items":"end"}},G4={style:{width:"100%"},class:"flex justify-between"},Y4={key:0,class:"float-bottom text-subtitle2 flex justify-between",style:{right:"5%",width:"100%"}},X4={key:0,class:"text-red-8"},K4={key:1,class:"text-red-8"},Z4={key:1,class:"float-bottom text-subtitle2 flex justify-between",style:{right:"5%",width:"100%"}},Q4={class:"text-red-8"},J4={class:"float-bottom text-subtitle1 flex justify-between",style:{right:"5%",width:"100%"}},eT={style:{width:"80%"}},tT={class:"flex justify-between"},nT={class:"text-primary"},rT={style:{height:"30vh"},class:"full-width flex column flex-center"},iT={class:"flex justify-between q-py-md q-pr-md bg-white z-max",style:{position:"sticky",top:"0"}},sT={class:"float-bottom text-h6",style:{right:"5%"}},oT={key:0,class:"text-subtitle1"},aT={class:"flex justify-between",style:{"align-items":"center"}},lT={class:"flex justify-between full-width",style:{"align-items":"center"}},uT={class:"flex text-grey-7",style:{width:"70%"}},cT={key:0,class:"text-blue"},dT={key:0,class:"flex"},fT={key:0,class:"text-blue text-bold"},hT={key:1,class:"text-blue text-bold"},gT={class:"flex q-pt-md"},mT={style:{display:"grid","grid-template-columns":"1fr 1fr 1fr"},class:"q-mb-md full-width"},vT={class:"flex"},pT={class:"text-bold"},wT={class:"flex justify-end full-width"},yT={__name:"OrderPage",setup(e){const t=rh();Bf();const n=A4(),s=Sc();Pe(null);const a=Pe(null),l=Pe([]),d=Pe(n.slideItems);Pe(n.slideItemsUpdate),$n(async()=>{n.isLoadingMainScreen=!0,await n.getInit(),Bt.auth.onAuthStateChange(async(m,v)=>{v&&s.validateSession()}),n.isLoadingMainScreen=!1}),Ia(()=>{Bt.removeAllChannels()});function h(m){t.bottomSheet({message:"H\xE0nh \u0111\u1ED9ng",grid:m,actions:[{label:"L\u1ECBch s\u1EED ch\u1EC9nh s\u1EEDa",img:sp,id:"history"},{label:"X\xF3a",avatar:ap,id:"delete"}]}).onOk(v=>{switch(v.id){case"update":n.showUpdateDialog=!0,n.updateData=n.listOrder.filter(y=>y.id===m)[0],n.updateData.isCustomerOrder=!1,n.updateData.menuSelected=n.updateData.menuSelected.map(y=>y.isMultiSelect?{...y,selectCount:y.quantity}:y).filter(y=>y),n.updateData.menuMultipleSelect=n.menuData.map(y=>{if(y.isMultiSelect){const _=n.updateData.menu.filter(b=>b.menu_id===y.id)[0];return{id:y.id,label:y.label,price:parseFloat(y.value),selectCount:_?_.quantity:0,isMultiSelect:!0}}}).filter(y=>y),n.updateData.umsatz=n.updateData.totalPrice;break;case"delete":n.deleteData(m);break;case"history":n.showHistoryDialog=!0,n.fetchHistoryData(m);break}}).onCancel(()=>{}).onDismiss(()=>{})}const g=(m,v)=>{if(m===""){v(()=>{l.value=n.menuData.filter(y=>!y.isMultiSelect)});return}v(()=>{const y=m.toLowerCase();l.value=n.menuData.filter(_=>_.filterSearch.toLowerCase().indexOf(y)>-1&&!_.isMultiSelect)})};return(m,v)=>(Ae(),pt(Uf,{class:"q-pa-sm"},{default:ie(()=>[k(n).isLoadingMainScreen?(Ae(),it("div",T4,[v[15]||(v[15]=Ht(" \u0110ang t\u1EA3i ")),U(k(Eo),{size:"lg",color:"blue"})])):(Ae(),pt(si,{key:1,class:"q-mt-md"},{default:ie(()=>{var y;return[v[19]||(v[19]=te("div",{class:"flex full-width justify-end"},null,-1)),(y=k(n).listOrder)!=null&&y.length?(Ae(),it("div",I4,[(Ae(!0),it(Qt,null,Gn(k(n).listOrder,(_,b)=>(Ae(),pt(_n,{key:b,flat:"",bordered:"",class:"my-card q-mb-md"},{default:ie(()=>[U(Tt,{class:"flex flex justify-between q-py-md",style:{"align-items":"center"}},{default:ie(()=>{var T;return[te("div",null,[te("div",O4,Ze(_.datum),1),te("div",D4,[U(Lt,{name:"eva-person-outline",size:"xs"}),Ht(": "+Ze(_.users.display_name),1)]),te("div",k4,[U(Lt,{name:"eva-home-outline",size:"xs"}),v[16]||(v[16]=Ht(": Site "))])]),te("div",R4,[(T=_.discountObject)!=null&&T.id?(Ae(),pt(bi,{key:0,color:"primary",outline:"",label:`-${_.discountObject.value}${_.discountObject.type==="none"?"\u20AC":_.discountObject.type}`},null,8,["label"])):jt("",!0),U(Lt,{name:"more_vert",size:"sm",color:k(n).loadingSelect?"grey-3":"grey-5",onClick:M=>k(n).loadingSelect?[]:h(_.id)},null,8,["color","onClick"])])]}),_:2},1024),U(Tt,null,{default:ie(()=>[te("div",{class:"flex justify-between full-width q-py-xs q-px-none q-mx-none",onClick:T=>_.showQList=!_.showQList,style:{"align-items":"center"}},[v[17]||(v[17]=te("span",{class:"text-bold text-grey-7 text-h6"},"Doanh thu",-1)),te("span",N4,Ze(k(sn).formatter.format(_.totalPrice)),1)],8,M4),_.showQList?(Ae(),pt(si,{key:0,class:"q-mb-md",bordered:"",separator:""},{default:ie(()=>[(Ae(!0),it(Qt,null,Gn(_.menuSelected,(T,M)=>(Ae(),pt(Qr,{key:M},{default:ie(()=>[U(sr,null,{default:ie(()=>[te("div",P4,[te("div",L4,[te("div",B4,Ze(T.label),1),te("div",F4,[te("span",V4,Ze(T.quantity)+" x",1),Ht(" "+Ze(k(sn).formatter.format(T.value)),1)])])])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)):jt("",!0),te("span",$4,Ze(_.notizen),1)]),_:2},1024)]),_:2},1024))),128))])):(Ae(),it("div",q4,[U(Ec,{src:k(Ac),"spinner-color":"primary","spinner-size":"82px",width:"250px"},null,8,["src"]),v[18]||(v[18]=te("span",{class:"text-h5 text-grey-7 text-bold"},"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u",-1))]))]}),_:1})),U(jl,{position:"bottom-right",offset:[18,48]},{default:ie(()=>[U(ut,{icon:"event",round:"",color:"primary",class:"q-pa-md"},{default:ie(()=>[U(E4,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:ie(()=>[U(S4,{modelValue:k(n).datePicker,"onUpdate:modelValue":v[2]||(v[2]=y=>k(n).datePicker=y),range:""},{default:ie(()=>[te("div",U4,[li(U(ut,{onClick:v[0]||(v[0]=y=>{k(n).listOrder=k(n).listOrderOriginal,k(n).datePicker=[]}),label:"H\u1EE7y ch\u1ECDn",color:"primary",flat:""},null,512),[[ma]]),li(U(ut,{label:"OK",color:"primary",onClick:v[1]||(v[1]=y=>k(n).clickSelectDateRangeOrder(k(n).datePicker))},null,512),[[ma]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),U(pr,{maximized:k(n).showHistoryDialog,modelValue:k(n).showHistoryDialog,"onUpdate:modelValue":v[4]||(v[4]=y=>k(n).showHistoryDialog=y)},{default:ie(()=>[k(n).isLoadingHistory?(Ae(),pt(_n,{key:1,class:"full-width flex flex-center full-height"},{default:ie(()=>[te("div",rT,[v[26]||(v[26]=Ht(" \u0110ang t\u1EA3i ")),U(k(Eo),{size:"lg",color:"blue"})])]),_:1})):(Ae(),pt(_n,{key:0,class:"full-width full-height"},{default:ie(()=>[te("div",j4,[U(ut,{icon:"eva-arrow-ios-back-outline",class:"text-blue",flat:"",onClick:v[3]||(v[3]=y=>k(n).showHistoryDialog=!1)},{default:ie(()=>v[20]||(v[20]=[te("span",{class:"text-subtitle1"},"Quay l\u1EA1i",-1)])),_:1})]),U(Tt,null,{default:ie(()=>[v[25]||(v[25]=te("span",{class:"text-h6 text-bold"},"L\u1ECBch s\u1EED ch\u1EC9nh s\u1EEDa",-1)),U(si,{bordered:""},{default:ie(()=>[(Ae(!0),it(Qt,null,Gn(k(n).listOrderHistories,(y,_)=>(Ae(),pt(_n,{key:_,class:"my-card"},{default:ie(()=>[U(Tt,null,{default:ie(()=>[te("div",H4,[te("div",null,[te("div",{class:Wi(["text-h5",y.operation.toLowerCase()==="insert"?"text-green":"text-orange"])},Ze(y.operation.toLowerCase()==="insert"?"T\u1EA1o m\u1EDBi":"C\u1EADp nh\u1EADt"),3),te("div",z4,Ze(new Date(y.created_at).toLocaleDateString("vi-VN")),1)]),te("div",W4,[te("div",G4,[v[21]||(v[21]=te("span",{class:"text-grey-8"},"Gi\xE1 g\u1ED1c: ",-1)),te("span",null,Ze(k(sn).formatter.format(y.totalPrice)),1)]),y.isHaveDiscount?(Ae(),it("div",Y4,[v[22]||(v[22]=te("span",null,"M\xE3 gi\u1EA3m gi\xE1: ",-1)),y.discountObject.type==="none"?(Ae(),it("span",X4,"-"+Ze(k(sn).formatter.format(y.discountObject.value)),1)):(Ae(),it("span",K4,"-"+Ze(y.discountObject.value)+" "+Ze(y.discountObject.type),1))])):jt("",!0),y.isHaveGiftCard?(Ae(),it("div",Z4,[v[23]||(v[23]=te("span",null,"M\xE3 qu\xE0 t\u1EB7ng: ",-1)),te("span",Q4,"-"+Ze(k(sn).formatter.format(y.giftCardObject.value)),1)])):jt("",!0),te("div",J4,[v[24]||(v[24]=te("span",{class:"text-bold q-pr-md"},"T\u1ED5ng c\u1ED9ng:",-1)),te("span",null,Ze(k(sn).formatter.format(Math.max((y.isHaveDiscount?y.discountObject.type==="none"?y.totalPrice-y.discountObject.value:y.totalPrice-y.totalPrice/100*y.discountObject.value:y.totalPrice)-(y.isHaveGiftCard?y.giftCardObject.value:0),0))),1)])])])]),_:2},1024),U(Tt,null,{default:ie(()=>[(Ae(!0),it(Qt,null,Gn(y.details.menu_items,(b,T)=>li((Ae(),pt(Qr,{key:T,clickable:"",class:"flex justify-between q-px-none"},{default:ie(()=>[te("div",eT,Ze(k(n).menuData.filter(M=>M.id===b.menu_id)[0].label),1),te("div",tT,[te("span",nT,Ze(b.quantity)+" x",1),te("span",null,Ze(b.price/b.quantity),1)])]),_:2},1024)),[[$l]])),128))]),_:2},1024),U(Tt,null,{default:ie(()=>[Ht(" M\xF4 t\u1EA3: "+Ze(y.details.description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}))]),_:1},8,["maximized","modelValue"]),U(pr,{maximized:k(n).showUpdateDialog,modelValue:k(n).showUpdateDialog,"onUpdate:modelValue":v[14]||(v[14]=y=>k(n).showUpdateDialog=y)},{default:ie(()=>[U(_n,{class:"full-width full-height"},{default:ie(()=>[te("div",iT,[U(ut,{icon:"eva-arrow-ios-back-outline",class:"text-blue",flat:"",onClick:k(n).handleClickBackButtonShowAlert},{default:ie(()=>v[27]||(v[27]=[te("span",{class:"text-subtitle1"},"Quay l\u1EA1i",-1)])),_:1},8,["onClick"]),te("div",sT,[v[28]||(v[28]=te("span",{class:"text-bold"},"T\u1ED5ng c\u1ED9ng:",-1)),Ht(" "+Ze(k(sn).formatter.format(k(n).updateData.umsatz)),1)])]),U(Tt,null,{default:ie(()=>[U(Xi,{class:"q-gutter-md q-py-lg flex column",onSubmit:v[13]||(v[13]=y=>k(n).postUpdateItem(k(n).updateData))},{default:ie(()=>{var y,_;return[(y=k(n).updateData.menuSelected)!=null&&y.length?(Ae(),it("span",oT,"D\u1ECBch v\u1EE5 \u0111\xE3 ch\u1ECDn")):jt("",!0),(_=k(n).updateData.menuSelected)!=null&&_.length?(Ae(),pt(si,{key:1,bordered:"",separator:""},{default:ie(()=>[(Ae(!0),it(Qt,null,Gn(k(n).updateData.menuSelected,(b,T)=>(Ae(),pt(mf,{key:T,ref_for:!0,ref_key:"slideItems",ref:d,onRight:M=>k(n).onRightSlide(b.id,T),"right-color":"red-5"},{right:ie(()=>[U(Lt,{name:"delete"}),v[29]||(v[29]=Ht(" Xo\xE1... "))]),default:ie(()=>[U(Qr,null,{default:ie(()=>[U(sr,null,{default:ie(()=>[te("div",aT,[te("div",lT,[te("div",uT,[te("div",{class:"column",style:qs(b.isMultiSelect?"width: 30%":[])},[Ht(Ze(b.label)+" ",1),b.isMultiSelect?(Ae(),it("span",cT,"x "+Ze(b.selectCount),1)):jt("",!0)],4),b.isMultiSelect?(Ae(),it("div",dT,[U(ut,{color:"grey-6",icon:"eva-minus-outline",onClick:M=>k(n).clickMultiSelectInUpdateDataMinus(b),outline:""},null,8,["onClick"]),U(ut,{color:"grey-6",icon:"eva-plus-outline",onClick:M=>k(n).clickMultiSelectInUpdateData(b),class:"q-ml-sm",outline:""},null,8,["onClick"])])):jt("",!0)]),b.isMultiSelect?(Ae(),it("div",fT,Ze(k(sn).formatter.format(b.value*b.selectCount)),1)):(Ae(),it("div",hT,Ze(k(sn).formatter.format(b.value)),1))])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onRight"]))),128))]),_:1})):jt("",!0),v[34]||(v[34]=te("span",{class:"text-subtitle1"},"Ch\u1ECDn d\u1ECBch v\u1EE5",-1)),U(ji,{ref_key:"selectMenuRefUpdate",ref:a,rules:[b=>!!b||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 r\u1ED7ng"],modelValue:k(n).updateData.menuSelected,"onUpdate:modelValue":[v[7]||(v[7]=b=>k(n).updateData.menuSelected=b),v[8]||(v[8]=b=>{k(n).updateData.umsatz=k(n).updateData.menuSelected.map(T=>T.value).reduce((T,M)=>T+M,0),k(n).isHaveNotSaveDataYet=!0})],options:l.value,"option-label":"label","option-value":"id",outlined:"",multiple:"","use-input":"",onFilter:g,"input-debounce":"300",behavior:"menu",disable:k(n).loadingSelect,"hide-selected":""},{selected:ie(()=>v[30]||(v[30]=[])),"before-options":ie(()=>[te("div",gT,[U(ut,{"text-color":"grey-5",icon:"close",flat:"",label:"\u0110\xF3ng menu",class:"full-width q-mb-md",onClick:v[5]||(v[5]=b=>a.value.hidePopup())}),te("div",mT,[(Ae(!0),it(Qt,null,Gn(k(n).updateData.menuMultipleSelect.sort((b,T)=>b.price-T.price),(b,T)=>(Ae(),pt(ut,{key:T,class:"q-mr-sm",outline:"",color:"white","text-color":"primary",label:b.label,onClick:M=>k(n).clickMultiSelectInUpdateData(b)},{default:ie(()=>[U(bi,{color:"red",label:b.selectCount,floating:""},null,8,["label"])]),_:2},1032,["label","onClick"]))),128))])])]),"after-options":ie(()=>[te("div",vT,[U(ut,{"text-color":"grey-5",icon:"close",flat:"",label:"\u0110\xF3ng menu",class:"full-width q-my-md",onClick:v[6]||(v[6]=b=>a.value.hidePopup())})])]),option:ie(b=>[U(Qr,Mu(b.itemProps,{class:[b.selected?"bg-blue-1":b.index%2===0?"bg-grey-1":"bg-grey-2"]}),{default:ie(()=>[U(sr,{avatar:""},{default:ie(()=>[U(Lt,{name:"eva-pricetags-outline",class:Wi({"text-grey-4":!b.selected,"text-blue":b.selected})},null,8,["class"])]),_:2},1024),U(sr,null,{default:ie(()=>[U(go,{class:"text-subtitle2"},{default:ie(()=>[Ht(Ze(b.opt.label),1)]),_:2},1024),U(go,{caption:""},{default:ie(()=>[v[31]||(v[31]=Ht("Preis: ")),te("span",pT,Ze(k(sn).formatter.format(b.opt.value)),1)]),_:2},1024)]),_:2},1024),U(sr,{side:""},{default:ie(()=>[te("div",wT,[U(Hu,{modelValue:b.selected,"onUpdate:modelValue":T=>b.selected=T,color:"green",onClick:T=>k(n).clickToggleUpdateMenuItem(b)},null,8,["modelValue","onUpdate:modelValue","onClick"])])]),_:2},1024)]),_:2},1040,["class"])]),_:1},8,["rules","modelValue","options","disable"]),k(n).showNotizen?jt("",!0):(Ae(),it("div",{key:2,onClick:v[9]||(v[9]=b=>k(n).showNotizen=!0),class:"flex flex-center text-blue"},[U(Lt,{name:"add",size:"sm",rounded:""}),v[32]||(v[32]=Ht("Hi\u1EC7n ghi ch\xFA "))])),k(n).showNotizen?(Ae(),pt(vn,{key:3,modelValue:k(n).updateData.notizen,"onUpdate:modelValue":[v[10]||(v[10]=b=>k(n).updateData.notizen=b),v[11]||(v[11]=b=>k(n).isHaveNotSaveDataYet=!0)],label:"Th\xEAm ghi ch\xFA",outlined:""},null,8,["modelValue"])):jt("",!0),k(n).showNotizen?(Ae(),it("div",{key:4,onClick:v[12]||(v[12]=b=>k(n).showNotizen=!1),class:"flex flex-center text-blue"},[U(Lt,{name:"remove",size:"sm",rounded:""}),v[33]||(v[33]=Ht("\u1EA8n ghi ch\xFA "))])):jt("",!0),U(ut,{label:"L\u01B0u d\u1EEF li\u1EC7u",type:"submit",color:"blue-7",icon:"save",class:"q-py-sm",push:""})]}),_:1})]),_:1})]),_:1})]),_:1},8,["maximized","modelValue"])]),_:1}))}},xT=gs("giftCard",{state:()=>({listGiftCards:[],listGiftCardsOriginal:[],showDialog:!1,isEditing:!1,isLoadingMainScreen:!1,currentGiftCard:{}}),actions:{async getInit(){this.listGiftCards=await this.loadGiftCards(),this.listGiftCardsOriginal=this.listGiftCards},async loadGiftCards(){try{const{data:e,error:t}=await Bt.rpc("fetch_giftcards_with_usage");if(t)console.error("Caught error when fetching data: ",t);else return e}catch(e){console.error("Internal Server Error: ",e)}},async postCreateGiftCard(e){try{this.isLoadingMainScreen=!0;const{data:t,error:n}=await Bt.from("giftcards").insert(e).select();n?console.error("Caught error when fetching data: ",n):(this.showDialog=!1,this.listGiftCards=await this.loadGiftCards()),this.isLoadingMainScreen=!1}catch(t){this.isLoadingMainScreen=!1,console.error("Internal Server Error: ",t)}},async postUpdateGiftCard(e){try{this.isLoadingMainScreen=!0;const{data:t,error:n}=await Bt.from("giftcards").update(e).eq("id",e.id).select();n?console.error("Caught error when fetching data: ",n):(this.showDialog=!1,this.listGiftCards=await this.loadGiftCards()),this.isLoadingMainScreen=!1}catch(t){this.isLoadingMainScreen=!1,console.error("Internal Server Error: ",t)}}}});function bT(e){const t=document.createElement("textarea");t.value=e,t.contentEditable="true",t.style.position="fixed";const n=()=>{};Hf(n),document.body.appendChild(t),t.focus(),t.select();const s=document.execCommand("copy");return t.remove(),ju(n),s}function _T(e){return navigator.clipboard!==void 0?navigator.clipboard.writeText(e):new Promise((t,n)=>{const s=bT(e);s?t(!0):n(s)})}/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 * © 2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var Hi=function(){return Hi=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Hi.apply(this,arguments)};var Ao;(function(e){var t=function(){function d(h,g,m,v){if(this.version=h,this.errorCorrectionLevel=g,this.modules=[],this.isFunction=[],h<d.MIN_VERSION||h>d.MAX_VERSION)throw new RangeError("Version value out of range");if(v<-1||v>7)throw new RangeError("Mask value out of range");this.size=h*4+17;for(var y=[],_=0;_<this.size;_++)y.push(!1);for(var _=0;_<this.size;_++)this.modules.push(y.slice()),this.isFunction.push(y.slice());this.drawFunctionPatterns();var b=this.addEccAndInterleave(m);if(this.drawCodewords(b),v==-1)for(var T=1e9,_=0;_<8;_++){this.applyMask(_),this.drawFormatBits(_);var M=this.getPenaltyScore();M<T&&(v=_,T=M),this.applyMask(_)}a(0<=v&&v<=7),this.mask=v,this.applyMask(v),this.drawFormatBits(v),this.isFunction=[]}return d.encodeText=function(h,g){var m=e.QrSegment.makeSegments(h);return d.encodeSegments(m,g)},d.encodeBinary=function(h,g){var m=e.QrSegment.makeBytes(h);return d.encodeSegments([m],g)},d.encodeSegments=function(h,g,m,v,y,_){if(m===void 0&&(m=1),v===void 0&&(v=40),y===void 0&&(y=-1),_===void 0&&(_=!0),!(d.MIN_VERSION<=m&&m<=v&&v<=d.MAX_VERSION)||y<-1||y>7)throw new RangeError("Invalid value");var b,T;for(b=m;;b++){var M=d.getNumDataCodewords(b,g)*8,$=l.getTotalBits(h,b);if($<=M){T=$;break}if(b>=v)throw new RangeError("Data too long")}for(var Z=0,j=[d.Ecc.MEDIUM,d.Ecc.QUARTILE,d.Ecc.HIGH];Z<j.length;Z++){var D=j[Z];_&&T<=d.getNumDataCodewords(b,D)*8&&(g=D)}for(var C=[],L=0,K=h;L<K.length;L++){var N=K[L];n(N.mode.modeBits,4,C),n(N.numChars,N.mode.numCharCountBits(b),C);for(var J=0,B=N.getData();J<B.length;J++){var de=B[J];C.push(de)}}a(C.length==T);var me=d.getNumDataCodewords(b,g)*8;a(C.length<=me),n(0,Math.min(4,me-C.length),C),n(0,(8-C.length%8)%8,C),a(C.length%8==0);for(var q=236;C.length<me;q^=253)n(q,8,C);for(var be=[];be.length*8<C.length;)be.push(0);return C.forEach(function(ne,Q){return be[Q>>>3]|=ne<<7-(Q&7)}),new d(b,g,be,y)},d.prototype.getModule=function(h,g){return 0<=h&&h<this.size&&0<=g&&g<this.size&&this.modules[g][h]},d.prototype.getModules=function(){return this.modules},d.prototype.drawFunctionPatterns=function(){for(var h=0;h<this.size;h++)this.setFunctionModule(6,h,h%2==0),this.setFunctionModule(h,6,h%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var g=this.getAlignmentPatternPositions(),m=g.length,h=0;h<m;h++)for(var v=0;v<m;v++)h==0&&v==0||h==0&&v==m-1||h==m-1&&v==0||this.drawAlignmentPattern(g[h],g[v]);this.drawFormatBits(0),this.drawVersion()},d.prototype.drawFormatBits=function(h){for(var g=this.errorCorrectionLevel.formatBits<<3|h,m=g,v=0;v<10;v++)m=m<<1^(m>>>9)*1335;var y=(g<<10|m)^21522;a(y>>>15==0);for(var v=0;v<=5;v++)this.setFunctionModule(8,v,s(y,v));this.setFunctionModule(8,7,s(y,6)),this.setFunctionModule(8,8,s(y,7)),this.setFunctionModule(7,8,s(y,8));for(var v=9;v<15;v++)this.setFunctionModule(14-v,8,s(y,v));for(var v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,s(y,v));for(var v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,s(y,v));this.setFunctionModule(8,this.size-8,!0)},d.prototype.drawVersion=function(){if(!(this.version<7)){for(var h=this.version,g=0;g<12;g++)h=h<<1^(h>>>11)*7973;var m=this.version<<12|h;a(m>>>18==0);for(var g=0;g<18;g++){var v=s(m,g),y=this.size-11+g%3,_=Math.floor(g/3);this.setFunctionModule(y,_,v),this.setFunctionModule(_,y,v)}}},d.prototype.drawFinderPattern=function(h,g){for(var m=-4;m<=4;m++)for(var v=-4;v<=4;v++){var y=Math.max(Math.abs(v),Math.abs(m)),_=h+v,b=g+m;0<=_&&_<this.size&&0<=b&&b<this.size&&this.setFunctionModule(_,b,y!=2&&y!=4)}},d.prototype.drawAlignmentPattern=function(h,g){for(var m=-2;m<=2;m++)for(var v=-2;v<=2;v++)this.setFunctionModule(h+v,g+m,Math.max(Math.abs(v),Math.abs(m))!=1)},d.prototype.setFunctionModule=function(h,g,m){this.modules[g][h]=m,this.isFunction[g][h]=!0},d.prototype.addEccAndInterleave=function(h){var g=this.version,m=this.errorCorrectionLevel;if(h.length!=d.getNumDataCodewords(g,m))throw new RangeError("Invalid argument");for(var v=d.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][g],y=d.ECC_CODEWORDS_PER_BLOCK[m.ordinal][g],_=Math.floor(d.getNumRawDataModules(g)/8),b=v-_%v,T=Math.floor(_/v),M=[],$=d.reedSolomonComputeDivisor(y),Z=0,j=0;Z<v;Z++){var D=h.slice(j,j+T-y+(Z<b?0:1));j+=D.length;var C=d.reedSolomonComputeRemainder(D,$);Z<b&&D.push(0),M.push(D.concat(C))}for(var L=[],K=function(N){M.forEach(function(J,B){(N!=T-y||B>=b)&&L.push(J[N])})},Z=0;Z<M[0].length;Z++)K(Z);return a(L.length==_),L},d.prototype.drawCodewords=function(h){if(h.length!=Math.floor(d.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var g=0,m=this.size-1;m>=1;m-=2){m==6&&(m=5);for(var v=0;v<this.size;v++)for(var y=0;y<2;y++){var _=m-y,b=(m+1&2)==0,T=b?this.size-1-v:v;!this.isFunction[T][_]&&g<h.length*8&&(this.modules[T][_]=s(h[g>>>3],7-(g&7)),g++)}}a(g==h.length*8)},d.prototype.applyMask=function(h){if(h<0||h>7)throw new RangeError("Mask value out of range");for(var g=0;g<this.size;g++)for(var m=0;m<this.size;m++){var v=void 0;switch(h){case 0:v=(m+g)%2==0;break;case 1:v=g%2==0;break;case 2:v=m%3==0;break;case 3:v=(m+g)%3==0;break;case 4:v=(Math.floor(m/3)+Math.floor(g/2))%2==0;break;case 5:v=m*g%2+m*g%3==0;break;case 6:v=(m*g%2+m*g%3)%2==0;break;case 7:v=((m+g)%2+m*g%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[g][m]&&v&&(this.modules[g][m]=!this.modules[g][m])}},d.prototype.getPenaltyScore=function(){for(var h=0,g=0;g<this.size;g++){for(var m=!1,v=0,y=[0,0,0,0,0,0,0],_=0;_<this.size;_++)this.modules[g][_]==m?(v++,v==5?h+=d.PENALTY_N1:v>5&&h++):(this.finderPenaltyAddHistory(v,y),m||(h+=this.finderPenaltyCountPatterns(y)*d.PENALTY_N3),m=this.modules[g][_],v=1);h+=this.finderPenaltyTerminateAndCount(m,v,y)*d.PENALTY_N3}for(var _=0;_<this.size;_++){for(var m=!1,b=0,y=[0,0,0,0,0,0,0],g=0;g<this.size;g++)this.modules[g][_]==m?(b++,b==5?h+=d.PENALTY_N1:b>5&&h++):(this.finderPenaltyAddHistory(b,y),m||(h+=this.finderPenaltyCountPatterns(y)*d.PENALTY_N3),m=this.modules[g][_],b=1);h+=this.finderPenaltyTerminateAndCount(m,b,y)*d.PENALTY_N3}for(var g=0;g<this.size-1;g++)for(var _=0;_<this.size-1;_++){var T=this.modules[g][_];T==this.modules[g][_+1]&&T==this.modules[g+1][_]&&T==this.modules[g+1][_+1]&&(h+=d.PENALTY_N2)}for(var M=0,$=0,Z=this.modules;$<Z.length;$++){var j=Z[$];M=j.reduce(function(L,K){return L+(K?1:0)},M)}var D=this.size*this.size,C=Math.ceil(Math.abs(M*20-D*10)/D)-1;return a(0<=C&&C<=9),h+=C*d.PENALTY_N4,a(0<=h&&h<=2568888),h},d.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var h=Math.floor(this.version/7)+2,g=Math.floor((this.version*8+h*3+5)/(h*4-4))*2,m=[6],v=this.size-7;m.length<h;v-=g)m.splice(1,0,v);return m},d.getNumRawDataModules=function(h){if(h<d.MIN_VERSION||h>d.MAX_VERSION)throw new RangeError("Version number out of range");var g=(16*h+128)*h+64;if(h>=2){var m=Math.floor(h/7)+2;g-=(25*m-10)*m-55,h>=7&&(g-=36)}return a(208<=g&&g<=29648),g},d.getNumDataCodewords=function(h,g){return Math.floor(d.getNumRawDataModules(h)/8)-d.ECC_CODEWORDS_PER_BLOCK[g.ordinal][h]*d.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][h]},d.reedSolomonComputeDivisor=function(h){if(h<1||h>255)throw new RangeError("Degree out of range");for(var g=[],m=0;m<h-1;m++)g.push(0);g.push(1);for(var v=1,m=0;m<h;m++){for(var y=0;y<g.length;y++)g[y]=d.reedSolomonMultiply(g[y],v),y+1<g.length&&(g[y]^=g[y+1]);v=d.reedSolomonMultiply(v,2)}return g},d.reedSolomonComputeRemainder=function(h,g){for(var m=g.map(function(T){return 0}),v=function(T){var M=T^m.shift();m.push(0),g.forEach(function($,Z){return m[Z]^=d.reedSolomonMultiply($,M)})},y=0,_=h;y<_.length;y++){var b=_[y];v(b)}return m},d.reedSolomonMultiply=function(h,g){if(h>>>8!=0||g>>>8!=0)throw new RangeError("Byte out of range");for(var m=0,v=7;v>=0;v--)m=m<<1^(m>>>7)*285,m^=(g>>>v&1)*h;return a(m>>>8==0),m},d.prototype.finderPenaltyCountPatterns=function(h){var g=h[1];a(g<=this.size*3);var m=g>0&&h[2]==g&&h[3]==g*3&&h[4]==g&&h[5]==g;return(m&&h[0]>=g*4&&h[6]>=g?1:0)+(m&&h[6]>=g*4&&h[0]>=g?1:0)},d.prototype.finderPenaltyTerminateAndCount=function(h,g,m){return h&&(this.finderPenaltyAddHistory(g,m),g=0),g+=this.size,this.finderPenaltyAddHistory(g,m),this.finderPenaltyCountPatterns(m)},d.prototype.finderPenaltyAddHistory=function(h,g){g[0]==0&&(h+=this.size),g.pop(),g.unshift(h)},d.MIN_VERSION=1,d.MAX_VERSION=40,d.PENALTY_N1=3,d.PENALTY_N2=3,d.PENALTY_N3=40,d.PENALTY_N4=10,d.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],d.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],d}();e.QrCode=t;function n(d,h,g){if(h<0||h>31||d>>>h!=0)throw new RangeError("Value out of range");for(var m=h-1;m>=0;m--)g.push(d>>>m&1)}function s(d,h){return(d>>>h&1)!=0}function a(d){if(!d)throw new Error("Assertion error")}var l=function(){function d(h,g,m){if(this.mode=h,this.numChars=g,this.bitData=m,g<0)throw new RangeError("Invalid argument");this.bitData=m.slice()}return d.makeBytes=function(h){for(var g=[],m=0,v=h;m<v.length;m++){var y=v[m];n(y,8,g)}return new d(d.Mode.BYTE,h.length,g)},d.makeNumeric=function(h){if(!d.isNumeric(h))throw new RangeError("String contains non-numeric characters");for(var g=[],m=0;m<h.length;){var v=Math.min(h.length-m,3);n(parseInt(h.substring(m,m+v),10),v*3+1,g),m+=v}return new d(d.Mode.NUMERIC,h.length,g)},d.makeAlphanumeric=function(h){if(!d.isAlphanumeric(h))throw new RangeError("String contains unencodable characters in alphanumeric mode");var g=[],m;for(m=0;m+2<=h.length;m+=2){var v=d.ALPHANUMERIC_CHARSET.indexOf(h.charAt(m))*45;v+=d.ALPHANUMERIC_CHARSET.indexOf(h.charAt(m+1)),n(v,11,g)}return m<h.length&&n(d.ALPHANUMERIC_CHARSET.indexOf(h.charAt(m)),6,g),new d(d.Mode.ALPHANUMERIC,h.length,g)},d.makeSegments=function(h){return h==""?[]:d.isNumeric(h)?[d.makeNumeric(h)]:d.isAlphanumeric(h)?[d.makeAlphanumeric(h)]:[d.makeBytes(d.toUtf8ByteArray(h))]},d.makeEci=function(h){var g=[];if(h<0)throw new RangeError("ECI assignment value out of range");if(h<1<<7)n(h,8,g);else if(h<1<<14)n(2,2,g),n(h,14,g);else if(h<1e6)n(6,3,g),n(h,21,g);else throw new RangeError("ECI assignment value out of range");return new d(d.Mode.ECI,0,g)},d.isNumeric=function(h){return d.NUMERIC_REGEX.test(h)},d.isAlphanumeric=function(h){return d.ALPHANUMERIC_REGEX.test(h)},d.prototype.getData=function(){return this.bitData.slice()},d.getTotalBits=function(h,g){for(var m=0,v=0,y=h;v<y.length;v++){var _=y[v],b=_.mode.numCharCountBits(g);if(_.numChars>=1<<b)return 1/0;m+=4+b+_.bitData.length}return m},d.toUtf8ByteArray=function(h){h=encodeURI(h);for(var g=[],m=0;m<h.length;m++)h.charAt(m)!="%"?g.push(h.charCodeAt(m)):(g.push(parseInt(h.substring(m+1,m+3),16)),m+=2);return g},d.NUMERIC_REGEX=/^[0-9]*$/,d.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,d.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",d}();e.QrSegment=l})(Ao||(Ao={}));(function(e){(function(t){var n=function(){function s(a,l){this.ordinal=a,this.formatBits=l}return s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),s}();t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Ao||(Ao={}));(function(e){(function(t){var n=function(){function s(a,l){this.modeBits=a,this.numBitsCharCount=l}return s.prototype.numCharCountBits=function(a){return this.numBitsCharCount[Math.floor((a+7)/17)]},s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),s}();t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Ao||(Ao={}));var sa=Ao,lh="L",uh={L:sa.QrCode.Ecc.LOW,M:sa.QrCode.Ecc.MEDIUM,Q:sa.QrCode.Ecc.QUARTILE,H:sa.QrCode.Ecc.HIGH},CT=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function ch(e){return e in uh}function Hp(e,t){t===void 0&&(t=0);var n=[];return e.forEach(function(s,a){var l=null;s.forEach(function(d,h){if(!d&&l!==null){n.push("M".concat(l+t," ").concat(a+t,"h").concat(h-l,"v1H").concat(l+t,"z")),l=null;return}if(h===s.length-1){if(!d)return;l===null?n.push("M".concat(h+t,",").concat(a+t," h1v1H").concat(h+t,"z")):n.push("M".concat(l+t,",").concat(a+t," h").concat(h+1-l,"v1H").concat(l+t,"z"));return}d&&l===null&&(l=h)})}),n.join("")}function zp(e,t,n,s){var a=s.width,l=s.height,d=s.x,h=s.y,g=e.length+n*2,m=Math.floor(t*.1),v=g/t,y=(a||m)*v,_=(l||m)*v,b=d==null?e.length/2-y/2:d*v,T=h==null?e.length/2-_/2:h*v,M=null;if(s.excavate){var $=Math.floor(b),Z=Math.floor(T),j=Math.ceil(y+b-$),D=Math.ceil(_+T-Z);M={x:$,y:Z,w:j,h:D}}return{x:b,y:T,h:_,w:y,excavation:M}}function Wp(e,t){return e.slice().map(function(n,s){return s<t.y||s>=t.y+t.h?n:n.map(function(a,l){return l<t.x||l>=t.x+t.w?a:!1})})}var dh={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:lh,validator:function(e){return ch(e)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(e){return["linear","radial"].indexOf(e)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},ST=Hi(Hi({},dh),{renderAs:{type:String,required:!1,default:"canvas",validator:function(e){return["canvas","svg"].indexOf(e)>-1}}}),ET=Gs({name:"QRCodeSvg",props:dh,setup:function(e){var t=Pe(0),n=Pe(""),s,a=function(){var d=e.value,h=e.level,g=e.margin,m=g>>>0,v=ch(h)?h:lh,y=sa.QrCode.encodeText(d,uh[v]).getModules();if(t.value=y.length+m*2,e.imageSettings.src){var _=zp(y,e.size,m,e.imageSettings);s={x:_.x+m,y:_.y+m,width:_.w,height:_.h},_.excavation&&(y=Wp(y,_.excavation))}n.value=Hp(y,m)},l=function(){if(!e.gradient)return null;var d=e.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return z(e.gradientType==="linear"?"linearGradient":"radialGradient",Hi({id:"qr-gradient"},d),[z("stop",{offset:"0%",style:{stopColor:e.gradientStartColor}}),z("stop",{offset:"100%",style:{stopColor:e.gradientEndColor}})])};return a(),Ta(a),function(){return z("svg",{width:e.size,height:e.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(t.value," ").concat(t.value)},[z("defs",{},[l()]),z("rect",{width:"100%",height:"100%",fill:e.background}),z("path",{fill:e.gradient?"url(#qr-gradient)":e.foreground,d:n.value}),e.imageSettings.src&&z("image",Hi({href:e.imageSettings.src},s))])}}}),AT=Gs({name:"QRCodeCanvas",props:dh,setup:function(e,t){var n=Pe(null),s=Pe(null),a=function(){var d=e.value,h=e.level,g=e.size,m=e.margin,v=e.background,y=e.foreground,_=e.gradient,b=e.gradientType,T=e.gradientStartColor,M=e.gradientEndColor,$=m>>>0,Z=ch(h)?h:lh,j=n.value;if(!!j){var D=j.getContext("2d");if(!!D){var C=sa.QrCode.encodeText(d,uh[Z]).getModules(),L=C.length+$*2,K=s.value,N={x:0,y:0,width:0,height:0},J=e.imageSettings.src&&K!=null&&K.naturalWidth!==0&&K.naturalHeight!==0;if(J){var B=zp(C,e.size,$,e.imageSettings);N={x:B.x+$,y:B.y+$,width:B.w,height:B.h},B.excavation&&(C=Wp(C,B.excavation))}var de=window.devicePixelRatio||1,me=g/L*de;if(j.height=j.width=g*de,D.scale(me,me),D.fillStyle=v,D.fillRect(0,0,L,L),_){var q=void 0;b==="linear"?q=D.createLinearGradient(0,0,L,L):q=D.createRadialGradient(L/2,L/2,0,L/2,L/2,L/2),q.addColorStop(0,T),q.addColorStop(1,M),D.fillStyle=q}else D.fillStyle=y;CT?D.fill(new Path2D(Hp(C,$))):C.forEach(function(be,ne){be.forEach(function(Q,Ne){Q&&D.fillRect(Ne+$,ne+$,1,1)})}),J&&D.drawImage(K,N.x,N.y,N.width,N.height)}}};$n(a),Ta(a);var l=t.attrs.style;return function(){return z(Qt,[z("canvas",Hi(Hi({},t.attrs),{ref:n,style:Hi(Hi({},l),{width:"".concat(e.size,"px"),height:"".concat(e.size,"px")})})),e.imageSettings.src&&z("img",{ref:s,src:e.imageSettings.src,style:{display:"none"},onLoad:a})])}}}),TT=Gs({name:"Qrcode",render:function(){var e=this.$props,t=e.renderAs,n=e.value,s=e.size,a=e.margin,l=e.level,d=e.background,h=e.foreground,g=e.imageSettings,m=e.gradient,v=e.gradientType,y=e.gradientStartColor,_=e.gradientEndColor;return z(t==="svg"?ET:AT,{value:n,size:s,margin:a,level:l,background:d,foreground:h,imageSettings:g,gradient:m,gradientType:v,gradientStartColor:y,gradientEndColor:_})},props:ST});const IT={class:"qrcode"},OT={__name:"QRCodeVue",props:{value:{type:String,required:!0},size:{type:Number,default:200}},setup(e){return(t,n)=>(Ae(),it("div",IT,[U(TT,{value:e.value,size:e.size},null,8,["value","size"])]))}};var z1=Oa(OT,[["__scopeId","data-v-59e60a66"]]);const DT=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";return Array.from({length:10}).map(()=>e.charAt(Math.floor(Math.random()*e.length))).join("")},kT={generateGiftCode:DT};const RT={class:"q-pa-md"},MT={key:0,class:"flex flex-center column",style:{height:"50vh"}},NT={key:1},PT={class:"flex full-width justify-end"},LT={class:"row justify-between items-center"},BT={class:"col"},FT={class:"text-h6"},VT={class:"text-subtitle2 text-grey-7"},$T={class:"text-body2 text-bold text-blue"},qT={class:"flex full-width q-mt-md"},UT={class:"text-h6"},jT={__name:"GiftCardPage",setup(e){const t=xT(),n=Pe("all"),s=Pe(!1),a=Pe(""),l=[{label:"T\u1EA5t c\u1EA3",value:"all"},{label:"T\u1EEB b\xE9 \u0111\u1EBFn l\u1EDBn",value:"valueAsc"},{label:"T\u1EEB l\u1EDBn \u0111\u1EBFn b\xE9",value:"valueDesc"},{label:"\u0110\xE3 s\u1EED d\u1EE5ng",value:"used"},{label:"Ch\u01B0a s\u1EED d\u1EE5ng",value:"unused"}],d=()=>{switch(n.value){case"all":t.listGiftCards=t.listGiftCardsOriginal;break;case"valueAsc":t.listGiftCards.sort((b,T)=>b.value-T.value);break;case"valueDesc":t.listGiftCards.sort((b,T)=>T.value-b.value);break;case"used":t.listGiftCards=t.listGiftCardsOriginal.filter(b=>b.isused===!0);break;case"unused":t.listGiftCards=t.listGiftCardsOriginal.filter(b=>b.isused===!1);break}},h=b=>{const M=document.querySelectorAll("canvas")[b].toDataURL("image/png"),$=document.createElement("a");$.href=M,$.download="qr-code.png",$.click()};$n(async()=>{t.isLoadingMainScreen=!0,await t.getInit(),t.isLoadingMainScreen=!1});const g=()=>{t.isEditing=!1,t.showDialog=!0,t.currentGiftCard={}},m=b=>{t.isEditing=!0,t.showDialog=!0,t.currentGiftCard={...b}},v=b=>{const{date_from:T,date_expired:M}=t.currentGiftCard;return b?M<T?"Ng\xE0y h\u1EBFt h\u1EA1n ph\u1EA3i sau ng\xE0y b\u1EAFt \u0111\u1EA7u":!0:"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"},y=b=>{Fr.create({title:"X\xE1c nh\u1EADn x\xF3a",message:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a th\u1EBB qu\xE0 t\u1EB7ng n\xE0y kh\xF4ng?",ok:{color:"red",label:"X\xF3a"},cancel:{flat:!0,label:"H\u1EE7y"}}).onOk(()=>t.deleteGiftCard(b))},_=b=>{_T(b).then(()=>{Nn.create({message:"\u0110\xE3 sao ch\xE9p m\xE3 v\xE0o clipboard!",color:"green",timeout:2e3,position:"top"})})};return(b,T)=>(Ae(),it("div",RT,[k(t).isLoadingMainScreen?(Ae(),it("div",MT,[T[11]||(T[11]=Ht(" \u0110ang t\u1EA3i... ")),U(Eo,{size:"lg",color:"blue"})])):(Ae(),it("div",NT,[te("div",PT,[U(ji,{outlined:"",dense:"",modelValue:n.value,"onUpdate:modelValue":[T[0]||(T[0]=M=>n.value=M),d],label:"S\u1EAFp x\u1EBFp",options:l,"emit-value":"","map-options":"",style:{"min-width":"40vw"}},null,8,["modelValue"])]),U(si,{class:"q-my-md",style:{"padding-bottom":"5em"}},{default:ie(()=>[(Ae(!0),it(Qt,null,Gn(k(t).listGiftCards,(M,$)=>(Ae(),pt(_n,{key:$,flat:"",bordered:"",class:"my-card q-mb-md"},{default:ie(()=>[U(Tt,{class:"q-pa-md"},{default:ie(()=>[te("div",LT,[te("div",BT,[te("div",FT,Ze(M.code),1),te("div",VT," T\u1EEB "+Ze(M.date_from)+" \u0111\u1EBFn "+Ze(M.date_expired),1),te("div",$T," Gi\xE1 tr\u1ECB: "+Ze(M.value),1),te("div",{class:Wi(["text-body2",M.isused?"text-red":"text-green"])},Ze(M.isused?"\u0110\xE3 s\u1EED d\u1EE5ng":"Ch\u01B0a s\u1EED d\u1EE5ng"),3),te("div",qT,[U(z1,{value:M.code,size:"50"},null,8,["value"]),U(ut,{icon:"download",color:"primary",dense:"",flat:"",onClick:Z=>h($),class:"q-ml-md"},null,8,["onClick"])])]),U(ut,{flat:"",dense:"",icon:"content_copy",color:"blue",onClick:Z=>_(M.code)},null,8,["onClick"])])]),_:2},1024),U(ci,{align:"right"},{default:ie(()=>[M.isused?jt("",!0):(Ae(),pt(ut,{key:0,flat:"",dense:"",label:"Ch\u1EC9nh s\u1EEDa",color:"green",onClick:Z=>m(M)},null,8,["onClick"])),M.isused?jt("",!0):(Ae(),pt(ut,{key:1,flat:"",dense:"",label:"X\xF3a",color:"red",onClick:Z=>y(M.id)},null,8,["onClick"]))]),_:2},1024)]),_:2},1024))),128))]),_:1})])),U(jl,{position:"bottom-right",offset:[18,38]},{default:ie(()=>[U(ut,{icon:"add",color:"green",round:"",size:"lg",onClick:g})]),_:1}),U(pr,{modelValue:k(t).showDialog,"onUpdate:modelValue":T[8]||(T[8]=M=>k(t).showDialog=M)},{default:ie(()=>[U(_n,{style:{"min-width":"90vw"}},{default:ie(()=>[U(Tt,null,{default:ie(()=>[te("div",UT,Ze(k(t).isEditing?"Ch\u1EC9nh s\u1EEDa th\u1EBB qu\xE0 t\u1EB7ng":"T\u1EA1o th\u1EBB qu\xE0 t\u1EB7ng"),1)]),_:1}),U(Xi,{onSubmit:T[7]||(T[7]=M=>k(t).isEditing?k(t).postUpdateGiftCard(k(t).currentGiftCard):k(t).postCreateGiftCard(k(t).currentGiftCard)),class:"q-gutter-md"},{default:ie(()=>[te("div",null,[U(Tt,null,{default:ie(()=>[U(vn,{modelValue:k(t).currentGiftCard.code,"onUpdate:modelValue":T[2]||(T[2]=M=>k(t).currentGiftCard.code=M),label:"M\xE3",dense:"",outlined:"",disable:k(t).isEditing,rules:[M=>!!M||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"]},{append:ie(()=>[te("div",null,[U(ut,{flat:"",dense:"",label:"T\u1EA1o m\xE3",color:"blue",onClick:T[1]||(T[1]=M=>k(t).currentGiftCard.code=k(kT).generateGiftCode()),rules:[M=>!!M||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"]},null,8,["rules"])])]),_:1},8,["modelValue","disable","rules"]),U(vn,{modelValue:k(t).currentGiftCard.date_from,"onUpdate:modelValue":T[3]||(T[3]=M=>k(t).currentGiftCard.date_from=M),label:"Ng\xE0y b\u1EAFt \u0111\u1EA7u",dense:"",outlined:"",type:"date",rules:[M=>!!M||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"]},null,8,["modelValue","rules"]),U(vn,{modelValue:k(t).currentGiftCard.date_expired,"onUpdate:modelValue":T[4]||(T[4]=M=>k(t).currentGiftCard.date_expired=M),label:"Ng\xE0y h\u1EBFt h\u1EA1n",dense:"",outlined:"",type:"date",rules:[v]},null,8,["modelValue","rules"]),U(vn,{modelValue:k(t).currentGiftCard.value,"onUpdate:modelValue":T[5]||(T[5]=M=>k(t).currentGiftCard.value=M),label:"Gi\xE1 tr\u1ECB",dense:"",outlined:"",type:"number",rules:[M=>!!M||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"]},null,8,["modelValue","rules"])]),_:1}),U(ci,{align:"right"},{default:ie(()=>[U(ut,{flat:"",dense:"",label:"H\u1EE7y",color:"grey",onClick:T[6]||(T[6]=M=>k(t).showDialog=!1)}),U(ut,{type:"submit",dense:"",label:"L\u01B0u",color:"green"})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]),U(pr,{modelValue:s.value,"onUpdate:modelValue":T[10]||(T[10]=M=>s.value=M)},{default:ie(()=>[U(_n,{style:{"min-width":"90vw"}},{default:ie(()=>[U(Tt,null,{default:ie(()=>T[12]||(T[12]=[te("div",{class:"text-h6"},"QR Code",-1)])),_:1}),U(Tt,{class:"q-pa-md flex flex-center"},{default:ie(()=>[U(z1,{value:a.value,size:"300"},null,8,["value"])]),_:1}),U(ci,{align:"right"},{default:ie(()=>[U(ut,{flat:"",dense:"",label:"\u0110\xF3ng",color:"grey",onClick:T[9]||(T[9]=M=>s.value=!1)}),U(ut,{dense:"",label:"T\u1EA3i xu\u1ED1ng",color:"green",onClick:h})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};var HT=Oa(jT,[["__scopeId","data-v-aea35c76"]]);const zT=[{path:"/",component:()=>zi(()=>import("./MainLayout.7c292eb4.js"),["assets/MainLayout.7c292eb4.js","assets/MainLayout.f79d7f47.css"]),children:[{path:"",component:WS,name:"LoginPage"},{path:"data",component:_8,name:"DataViewPage"}]},{path:"/admin",component:()=>zi(()=>import("./MainLayout.7c292eb4.js"),["assets/MainLayout.7c292eb4.js","assets/MainLayout.f79d7f47.css"]),children:[{path:"",component:K8,name:"AccountPage"},{path:"discount",component:l4,name:"DiscountPage"},{path:"order",component:yT,name:"OrderPage"},{path:"giftcard",component:HT,name:"GiftCardPage"}]},{path:"/:catchAll(.*)*",component:()=>zi(()=>import("./ErrorNotFound.44abe6f3.js"),[])}];var Rd=function(){return nb({scrollBehavior:()=>({left:0,top:0}),routes:zT,history:kx("/ffn/")})};async function WT(e,t){const n=e(W2);n.use(j2,t);const s=typeof od=="function"?await od({}):od;n.use(s);const a=Oo(typeof Rd=="function"?await Rd({store:s}):Rd);return s.use(({store:l})=>{l.router=a}),{app:n,store:s,router:a}}var GT=Zt({name:"BottomSheetComponent",props:{...zr,title:String,message:String,actions:Array,grid:Boolean,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(e,{emit:t}){const{proxy:n}=Gt(),s=Wr(e,n.$q),a=Pe(null);function l(){a.value.show()}function d(){a.value.hide()}function h(b){t("ok",b),d()}function g(){t("hide")}function m(){return e.actions.map(b=>{const T=b.avatar||b.img;return b.label===void 0?z(Sa,{class:"col-all",dark:s.value}):z("div",{class:["q-bottom-sheet__item q-hoverable q-focusable cursor-pointer relative-position",b.class],style:b.style,tabindex:0,role:"listitem",onClick(){h(b)},onKeyup(M){M.keyCode===13&&h(b)}},[z("div",{class:"q-focus-helper"}),b.icon?z(Lt,{name:b.icon,color:b.color}):T?z("img",{class:b.avatar?"q-bottom-sheet__avatar":"",src:T}):z("div",{class:"q-bottom-sheet__empty-icon"}),z("div",b.label)])})}function v(){return e.actions.map(b=>{const T=b.avatar||b.img;return b.label===void 0?z(Sa,{spaced:!0,dark:s.value}):z(Qr,{class:["q-bottom-sheet__item",b.classes],style:b.style,tabindex:0,clickable:!0,dark:s.value,onClick(){h(b)}},()=>[z(sr,{avatar:!0},()=>b.icon?z(Lt,{name:b.icon,color:b.color}):T?z("img",{class:b.avatar?"q-bottom-sheet__avatar":"",src:T}):null),z(sr,()=>b.label)])})}function y(){const b=[];return e.title&&b.push(z(Tt,{class:"q-dialog__title"},()=>e.title)),e.message&&b.push(z(Tt,{class:"q-dialog__message"},()=>e.message)),b.push(e.grid===!0?z("div",{class:"row items-stretch justify-start",role:"list"},m()):z("div",{role:"list"},v())),b}function _(){return[z(_n,{class:[`q-bottom-sheet q-bottom-sheet--${e.grid===!0?"grid":"list"}`+(s.value===!0?" q-bottom-sheet--dark q-dark":""),e.cardClass],style:e.cardStyle},y)]}return Object.assign(n,{show:l,hide:d}),()=>z(pr,{ref:a,position:"bottom",onHide:g},_)}}),YT={install({$q:e,parentApp:t}){e.bottomSheet=this.create=Tv(GT,!1,t)}},XT={config:{},plugins:{Loading:Ft,Notify:Nn,Dialog:Fr,BottomSheet:YT}};const KT="/ffn/";async function ZT({app:e,router:t,store:n},s){let a=!1;const l=g=>{try{return t.resolve(g).href}catch{}return Object(g)===g?null:g},d=g=>{if(a=!0,typeof g=="string"&&/^https?:\/\//.test(g)){window.location.href=g;return}const m=l(g);m!==null&&(window.location.href=m,window.location.reload())},h=window.location.href.replace(window.location.origin,"");for(let g=0;a===!1&&g<s.length;g++)try{await s[g]({app:e,router:t,store:n,ssrContext:null,redirect:d,urlPath:h,publicPath:KT})}catch(m){if(m&&m.url){d(m.url);return}console.error("[Quasar] boot error:",m);return}a!==!0&&(e.use(t),e.mount("#q-app"))}WT(hm,XT).then(e=>{const[t,n]=Promise.allSettled!==void 0?["allSettled",s=>s.map(a=>{if(a.status==="rejected"){console.error("[Quasar] boot error:",a.reason);return}return a.value.default})]:["all",s=>s.map(a=>a.default)];return Promise[t]([zi(()=>import("./axios.4d43c405.js"),[])]).then(s=>{const a=n(s).filter(l=>typeof l=="function");ZT(e,a)})});export{Sc as $,Nf as A,eI as B,Do as C,Pl as D,JT as E,Ui as F,Da as G,ka as H,ov as I,av as J,So as K,lv as L,Yb as M,Cn as N,Um as O,l_ as P,I8 as Q,ua as R,V2 as S,c3 as T,Gi as U,i_ as V,Io as W,Ia as X,Bf as Y,M_ as Z,Oa as _,Gm as a,Qf as a0,Un as a1,Jw as a2,Ae as a3,pt as a4,ie as a5,U as a6,te as a7,k as a8,ut as a9,Ze as aa,jt as ab,it as ac,eh as ad,si as ae,Qr as af,sr as ag,Sa as ah,Lt as ai,Gn as aj,Qt as ak,Ht as al,$l as am,Gs as an,QT as b,Zt as c,G as d,Pn as e,mi as f,ib as g,z as h,Dr as i,Gt as j,li as k,xm as l,r_ as m,$n as n,Yn as o,ds as p,vr as q,Pe as r,t_ as s,hv as t,Wm as u,gv as v,bt as w,zr as x,Wr as y,oI as z};
