const Mp=function(){const t=document.createElement("link").relList;return t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}(),th={},Np="/ffn/",Ui=function(t,n){return!n||n.length===0?t():Promise.all(n.map(s=>{if(s=`${Np}${s}`,s in th)return;th[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${l}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":Mp,a||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),a)return new Promise((h,g)=>{d.addEventListener("load",h),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function sf(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const _n={},ta=[],_i=()=>{},Pp=()=>!1,Fu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),of=e=>e.startsWith("onUpdate:"),Qn=Object.assign,af=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Lp=Object.prototype.hasOwnProperty,gn=(e,t)=>Lp.call(e,t),At=Array.isArray,na=e=>Vu(e)==="[object Map]",k1=e=>Vu(e)==="[object Set]",Vt=e=>typeof e=="function",qn=e=>typeof e=="string",as=e=>typeof e=="symbol",Rn=e=>e!==null&&typeof e=="object",R1=e=>(Rn(e)||Vt(e))&&Vt(e.then)&&Vt(e.catch),M1=Object.prototype.toString,Vu=e=>M1.call(e),Bp=e=>Vu(e).slice(8,-1),N1=e=>Vu(e)==="[object Object]",lf=e=>qn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ja=sf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$u=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Fp=/-(\w)/g,hi=$u(e=>e.replace(Fp,(t,n)=>n?n.toUpperCase():"")),Vp=/\B([A-Z])/g,Co=$u(e=>e.replace(Vp,"-$1").toLowerCase()),Uu=$u(e=>e.charAt(0).toUpperCase()+e.slice(1)),Rc=$u(e=>e?`on${Uu(e)}`:""),Ns=(e,t)=>!Object.is(e,t),Mc=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},P1=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},$p=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Up=e=>{const t=qn(e)?Number(e):NaN;return isNaN(t)?e:t};let nh;const qu=()=>nh||(nh=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Ls(e){if(At(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],a=qn(s)?zp(s):Ls(s);if(a)for(const l in a)t[l]=a[l]}return t}else if(qn(e)||Rn(e))return e}const qp=/;(?![^(]*\))/g,jp=/:([^]+)/,Hp=/\/\*[^]*?\*\//g;function zp(e){const t={};return e.replace(Hp,"").split(qp).forEach(n=>{if(n){const s=n.split(jp);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function qi(e){let t="";if(qn(e))t=e;else if(At(e))for(let n=0;n<e.length;n++){const s=qi(e[n]);s&&(t+=s+" ")}else if(Rn(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Wp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gp=sf(Wp);function L1(e){return!!e||e===""}const B1=e=>!!(e&&e.__v_isRef===!0),Je=e=>qn(e)?e:e==null?"":At(e)||Rn(e)&&(e.toString===M1||!Vt(e.toString))?B1(e)?Je(e.value):JSON.stringify(e,F1,2):String(e),F1=(e,t)=>B1(t)?F1(e,t.value):na(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,a],l)=>(n[Nc(s,l)+" =>"]=a,n),{})}:k1(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Nc(n))}:as(t)?Nc(t):Rn(t)&&!At(t)&&!N1(t)?String(t):t,Nc=(e,t="")=>{var n;return as(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $r;class V1{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=$r,!t&&$r&&(this.index=($r.scopes||($r.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=$r;try{return $r=this,t()}finally{$r=n}}}on(){$r=this}off(){$r=this.parent}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function $1(e){return new V1(e)}function U1(){return $r}function Yp(e,t=!1){$r&&$r.cleanups.push(e)}let Sn;const Pc=new WeakSet;class q1{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,$r&&$r.active&&$r.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Pc.has(this)&&(Pc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||H1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,rh(this),z1(this);const t=Sn,n=Ci;Sn=this,Ci=!0;try{return this.fn()}finally{W1(this),Sn=t,Ci=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)df(t);this.deps=this.depsTail=void 0,rh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Pc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_d(this)&&this.run()}get dirty(){return _d(this)}}let j1=0,el,tl;function H1(e,t=!1){if(e.flags|=8,t){e.next=tl,tl=e;return}e.next=el,el=e}function uf(){j1++}function cf(){if(--j1>0)return;if(tl){let t=tl;for(tl=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;el;){let t=el;for(el=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function z1(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function W1(e){let t,n=e.depsTail,s=n;for(;s;){const a=s.prevDep;s.version===-1?(s===n&&(n=a),df(s),Xp(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=a}e.deps=t,e.depsTail=n}function _d(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(G1(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function G1(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===hl))return;e.globalVersion=hl;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!_d(e)){e.flags&=-3;return}const n=Sn,s=Ci;Sn=e,Ci=!0;try{z1(e);const a=e.fn(e._value);(t.version===0||Ns(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Sn=n,Ci=s,W1(e),e.flags&=-3}}function df(e,t=!1){const{dep:n,prevSub:s,nextSub:a}=e;if(s&&(s.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let l=n.computed.deps;l;l=l.nextDep)df(l,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Xp(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ci=!0;const Y1=[];function $s(){Y1.push(Ci),Ci=!1}function Us(){const e=Y1.pop();Ci=e===void 0?!0:e}function rh(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Sn;Sn=void 0;try{t()}finally{Sn=n}}}let hl=0;class Kp{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ff{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Sn||!Ci||Sn===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Sn)n=this.activeLink=new Kp(Sn,this),Sn.deps?(n.prevDep=Sn.depsTail,Sn.depsTail.nextDep=n,Sn.depsTail=n):Sn.deps=Sn.depsTail=n,X1(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Sn.depsTail,n.nextDep=void 0,Sn.depsTail.nextDep=n,Sn.depsTail=n,Sn.deps===n&&(Sn.deps=s)}return n}trigger(t){this.version++,hl++,this.notify(t)}notify(t){uf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{cf()}}}function X1(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)X1(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const gu=new WeakMap,fo=Symbol(""),Cd=Symbol(""),gl=Symbol("");function Mr(e,t,n){if(Ci&&Sn){let s=gu.get(e);s||gu.set(e,s=new Map);let a=s.get(n);a||(s.set(n,a=new ff),a.map=s,a.key=n),a.track()}}function ts(e,t,n,s,a,l){const d=gu.get(e);if(!d){hl++;return}const h=g=>{g&&g.trigger()};if(uf(),t==="clear")d.forEach(h);else{const g=At(e),m=g&&lf(n);if(g&&n==="length"){const p=Number(s);d.forEach((y,_)=>{(_==="length"||_===gl||!as(_)&&_>=p)&&h(y)})}else switch((n!==void 0||d.has(void 0))&&h(d.get(n)),m&&h(d.get(gl)),t){case"add":g?m&&h(d.get("length")):(h(d.get(fo)),na(e)&&h(d.get(Cd)));break;case"delete":g||(h(d.get(fo)),na(e)&&h(d.get(Cd)));break;case"set":na(e)&&h(d.get(fo));break}}cf()}function Zp(e,t){const n=gu.get(e);return n&&n.get(t)}function $o(e){const t=Ut(e);return t===e?t:(Mr(t,"iterate",gl),fi(e)?t:t.map(Nr))}function ju(e){return Mr(e=Ut(e),"iterate",gl),e}const Qp={__proto__:null,[Symbol.iterator](){return Lc(this,Symbol.iterator,Nr)},concat(...e){return $o(this).concat(...e.map(t=>At(t)?$o(t):t))},entries(){return Lc(this,"entries",e=>(e[1]=Nr(e[1]),e))},every(e,t){return Xi(this,"every",e,t,void 0,arguments)},filter(e,t){return Xi(this,"filter",e,t,n=>n.map(Nr),arguments)},find(e,t){return Xi(this,"find",e,t,Nr,arguments)},findIndex(e,t){return Xi(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Xi(this,"findLast",e,t,Nr,arguments)},findLastIndex(e,t){return Xi(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Xi(this,"forEach",e,t,void 0,arguments)},includes(...e){return Bc(this,"includes",e)},indexOf(...e){return Bc(this,"indexOf",e)},join(e){return $o(this).join(e)},lastIndexOf(...e){return Bc(this,"lastIndexOf",e)},map(e,t){return Xi(this,"map",e,t,void 0,arguments)},pop(){return $a(this,"pop")},push(...e){return $a(this,"push",e)},reduce(e,...t){return ih(this,"reduce",e,t)},reduceRight(e,...t){return ih(this,"reduceRight",e,t)},shift(){return $a(this,"shift")},some(e,t){return Xi(this,"some",e,t,void 0,arguments)},splice(...e){return $a(this,"splice",e)},toReversed(){return $o(this).toReversed()},toSorted(e){return $o(this).toSorted(e)},toSpliced(...e){return $o(this).toSpliced(...e)},unshift(...e){return $a(this,"unshift",e)},values(){return Lc(this,"values",Nr)}};function Lc(e,t,n){const s=ju(e),a=s[t]();return s!==e&&!fi(e)&&(a._next=a.next,a.next=()=>{const l=a._next();return l.value&&(l.value=n(l.value)),l}),a}const Jp=Array.prototype;function Xi(e,t,n,s,a,l){const d=ju(e),h=d!==e&&!fi(e),g=d[t];if(g!==Jp[t]){const y=g.apply(e,l);return h?Nr(y):y}let m=n;d!==e&&(h?m=function(y,_){return n.call(this,Nr(y),_,e)}:n.length>2&&(m=function(y,_){return n.call(this,y,_,e)}));const p=g.call(d,m,s);return h&&a?a(p):p}function ih(e,t,n,s){const a=ju(e);let l=n;return a!==e&&(fi(e)?n.length>3&&(l=function(d,h,g){return n.call(this,d,h,g,e)}):l=function(d,h,g){return n.call(this,d,Nr(h),g,e)}),a[t](l,...s)}function Bc(e,t,n){const s=Ut(e);Mr(s,"iterate",gl);const a=s[t](...n);return(a===-1||a===!1)&&mf(n[0])?(n[0]=Ut(n[0]),s[t](...n)):a}function $a(e,t,n=[]){$s(),uf();const s=Ut(e)[t].apply(e,n);return cf(),Us(),s}const ew=sf("__proto__,__v_isRef,__isVue"),K1=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(as));function tw(e){as(e)||(e=String(e));const t=Ut(this);return Mr(t,"has",e),t.hasOwnProperty(e)}class Z1{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,l=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return l;if(n==="__v_raw")return s===(a?l?dw:tg:l?eg:J1).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const d=At(t);if(!a){let g;if(d&&(g=Qp[n]))return g;if(n==="hasOwnProperty")return tw}const h=Reflect.get(t,n,Zn(t)?t:s);return(as(n)?K1.has(n):ew(n))||(a||Mr(t,"get",n),l)?h:Zn(h)?d&&lf(n)?h:h.value:Rn(h)?a?rg(h):So(h):h}}class Q1 extends Z1{constructor(t=!1){super(!1,t)}set(t,n,s,a){let l=t[n];if(!this._isShallow){const g=po(l);if(!fi(s)&&!po(s)&&(l=Ut(l),s=Ut(s)),!At(t)&&Zn(l)&&!Zn(s))return g?!1:(l.value=s,!0)}const d=At(t)&&lf(n)?Number(n)<t.length:gn(t,n),h=Reflect.set(t,n,s,Zn(t)?t:a);return t===Ut(a)&&(d?Ns(s,l)&&ts(t,"set",n,s):ts(t,"add",n,s)),h}deleteProperty(t,n){const s=gn(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&s&&ts(t,"delete",n,void 0),a}has(t,n){const s=Reflect.has(t,n);return(!as(n)||!K1.has(n))&&Mr(t,"has",n),s}ownKeys(t){return Mr(t,"iterate",At(t)?"length":fo),Reflect.ownKeys(t)}}class nw extends Z1{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const rw=new Q1,iw=new nw,sw=new Q1(!0);const Sd=e=>e,ql=e=>Reflect.getPrototypeOf(e);function ow(e,t,n){return function(...s){const a=this.__v_raw,l=Ut(a),d=na(l),h=e==="entries"||e===Symbol.iterator&&d,g=e==="keys"&&d,m=a[e](...s),p=n?Sd:t?Ed:Nr;return!t&&Mr(l,"iterate",g?Cd:fo),{next(){const{value:y,done:_}=m.next();return _?{value:y,done:_}:{value:h?[p(y[0]),p(y[1])]:p(y),done:_}},[Symbol.iterator](){return this}}}}function jl(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function aw(e,t){const n={get(a){const l=this.__v_raw,d=Ut(l),h=Ut(a);e||(Ns(a,h)&&Mr(d,"get",a),Mr(d,"get",h));const{has:g}=ql(d),m=t?Sd:e?Ed:Nr;if(g.call(d,a))return m(l.get(a));if(g.call(d,h))return m(l.get(h));l!==d&&l.get(a)},get size(){const a=this.__v_raw;return!e&&Mr(Ut(a),"iterate",fo),Reflect.get(a,"size",a)},has(a){const l=this.__v_raw,d=Ut(l),h=Ut(a);return e||(Ns(a,h)&&Mr(d,"has",a),Mr(d,"has",h)),a===h?l.has(a):l.has(a)||l.has(h)},forEach(a,l){const d=this,h=d.__v_raw,g=Ut(h),m=t?Sd:e?Ed:Nr;return!e&&Mr(g,"iterate",fo),h.forEach((p,y)=>a.call(l,m(p),m(y),d))}};return Qn(n,e?{add:jl("add"),set:jl("set"),delete:jl("delete"),clear:jl("clear")}:{add(a){!t&&!fi(a)&&!po(a)&&(a=Ut(a));const l=Ut(this);return ql(l).has.call(l,a)||(l.add(a),ts(l,"add",a,a)),this},set(a,l){!t&&!fi(l)&&!po(l)&&(l=Ut(l));const d=Ut(this),{has:h,get:g}=ql(d);let m=h.call(d,a);m||(a=Ut(a),m=h.call(d,a));const p=g.call(d,a);return d.set(a,l),m?Ns(l,p)&&ts(d,"set",a,l):ts(d,"add",a,l),this},delete(a){const l=Ut(this),{has:d,get:h}=ql(l);let g=d.call(l,a);g||(a=Ut(a),g=d.call(l,a)),h&&h.call(l,a);const m=l.delete(a);return g&&ts(l,"delete",a,void 0),m},clear(){const a=Ut(this),l=a.size!==0,d=a.clear();return l&&ts(a,"clear",void 0,void 0),d}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=ow(a,e,t)}),n}function hf(e,t){const n=aw(e,t);return(s,a,l)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?s:Reflect.get(gn(n,a)&&a in s?n:s,a,l)}const lw={get:hf(!1,!1)},uw={get:hf(!1,!0)},cw={get:hf(!0,!1)};const J1=new WeakMap,eg=new WeakMap,tg=new WeakMap,dw=new WeakMap;function fw(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hw(e){return e.__v_skip||!Object.isExtensible(e)?0:fw(Bp(e))}function So(e){return po(e)?e:gf(e,!1,rw,lw,J1)}function ng(e){return gf(e,!1,sw,uw,eg)}function rg(e){return gf(e,!0,iw,cw,tg)}function gf(e,t,n,s,a){if(!Rn(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=a.get(e);if(l)return l;const d=hw(e);if(d===0)return e;const h=new Proxy(e,d===2?s:n);return a.set(e,h),h}function Ps(e){return po(e)?Ps(e.__v_raw):!!(e&&e.__v_isReactive)}function po(e){return!!(e&&e.__v_isReadonly)}function fi(e){return!!(e&&e.__v_isShallow)}function mf(e){return e?!!e.__v_raw:!1}function Ut(e){const t=e&&e.__v_raw;return t?Ut(t):e}function Eo(e){return!gn(e,"__v_skip")&&Object.isExtensible(e)&&P1(e,"__v_skip",!0),e}const Nr=e=>Rn(e)?So(e):e,Ed=e=>Rn(e)?rg(e):e;function Zn(e){return e?e.__v_isRef===!0:!1}function Fe(e){return ig(e,!1)}function gw(e){return ig(e,!0)}function ig(e,t){return Zn(e)?e:new mw(e,t)}class mw{constructor(t,n){this.dep=new ff,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ut(t),this._value=n?t:Nr(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||fi(t)||po(t);t=s?t:Ut(t),Ns(t,n)&&(this._rawValue=t,this._value=s?t:Nr(t),this.dep.trigger())}}function P(e){return Zn(e)?e.value:e}const vw={get:(e,t,n)=>t==="__v_raw"?e:P(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const a=e[t];return Zn(a)&&!Zn(n)?(a.value=n,!0):Reflect.set(e,t,n,s)}};function sg(e){return Ps(e)?e:new Proxy(e,vw)}function pw(e){const t=At(e)?new Array(e.length):{};for(const n in e)t[n]=yw(e,n);return t}class ww{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Zp(Ut(this._object),this._key)}}function yw(e,t,n){const s=e[t];return Zn(s)?s:new ww(e,t,n)}class xw{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ff(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=hl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Sn!==this)return H1(this,!0),!0}get value(){const t=this.dep.track();return G1(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function bw(e,t,n=!1){let s,a;return Vt(e)?s=e:(s=e.get,a=e.set),new xw(s,a,n)}const Hl={},mu=new WeakMap;let ro;function _w(e,t=!1,n=ro){if(n){let s=mu.get(n);s||mu.set(n,s=[]),s.push(e)}}function Cw(e,t,n=_n){const{immediate:s,deep:a,once:l,scheduler:d,augmentJob:h,call:g}=n,m=A=>a?A:fi(A)||a===!1||a===0?ns(A,1):ns(A);let p,y,_,b,T=!1,k=!1;if(Zn(e)?(y=()=>e.value,T=fi(e)):Ps(e)?(y=()=>m(e),T=!0):At(e)?(k=!0,T=e.some(A=>Ps(A)||fi(A)),y=()=>e.map(A=>{if(Zn(A))return A.value;if(Ps(A))return m(A);if(Vt(A))return g?g(A,2):A()})):Vt(e)?t?y=g?()=>g(e,2):e:y=()=>{if(_){$s();try{_()}finally{Us()}}const A=ro;ro=p;try{return g?g(e,3,[b]):e(b)}finally{ro=A}}:y=_i,t&&a){const A=y,B=a===!0?1/0:a;y=()=>ns(A(),B)}const q=U1(),K=()=>{p.stop(),q&&q.active&&af(q.effects,p)};if(l&&t){const A=t;t=(...B)=>{A(...B),K()}}let Y=k?new Array(e.length).fill(Hl):Hl;const N=A=>{if(!(!(p.flags&1)||!p.dirty&&!A))if(t){const B=p.run();if(a||T||(k?B.some((Q,M)=>Ns(Q,Y[M])):Ns(B,Y))){_&&_();const Q=ro;ro=p;try{const M=[B,Y===Hl?void 0:k&&Y[0]===Hl?[]:Y,b];g?g(t,3,M):t(...M),Y=B}finally{ro=Q}}}else p.run()};return h&&h(N),p=new q1(y),p.scheduler=d?()=>d(N,!1):N,b=A=>_w(A,!1,p),_=p.onStop=()=>{const A=mu.get(p);if(A){if(g)g(A,4);else for(const B of A)B();mu.delete(p)}},t?s?N(!0):Y=p.run():d?d(N.bind(null,!0),!0):p.run(),K.pause=p.pause.bind(p),K.resume=p.resume.bind(p),K.stop=K,K}function ns(e,t=1/0,n){if(t<=0||!Rn(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Zn(e))ns(e.value,t,n);else if(At(e))for(let s=0;s<e.length;s++)ns(e[s],t,n);else if(k1(e)||na(e))e.forEach(s=>{ns(s,t,n)});else if(N1(e)){for(const s in e)ns(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&ns(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Al(e,t,n,s){try{return s?e(...s):e()}catch(a){Hu(a,t,n)}}function Ei(e,t,n,s){if(Vt(e)){const a=Al(e,t,n,s);return a&&R1(a)&&a.catch(l=>{Hu(l,t,n)}),a}if(At(e)){const a=[];for(let l=0;l<e.length;l++)a.push(Ei(e[l],t,n,s));return a}}function Hu(e,t,n,s=!0){const a=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:d}=t&&t.appContext.config||_n;if(t){let h=t.parent;const g=t.proxy,m=`https://vuejs.org/error-reference/#runtime-${n}`;for(;h;){const p=h.ec;if(p){for(let y=0;y<p.length;y++)if(p[y](e,g,m)===!1)return}h=h.parent}if(l){$s(),Al(l,null,10,[e,g,m]),Us();return}}Sw(e,n,a,s,d)}function Sw(e,t,n,s=!0,a=!1){if(a)throw e;console.error(e)}const Ur=[];let Bi=-1;const ra=[];let Ss=null,Zo=0;const og=Promise.resolve();let vu=null;function En(e){const t=vu||og;return e?t.then(this?e.bind(this):e):t}function Ew(e){let t=Bi+1,n=Ur.length;for(;t<n;){const s=t+n>>>1,a=Ur[s],l=ml(a);l<e||l===e&&a.flags&2?t=s+1:n=s}return t}function vf(e){if(!(e.flags&1)){const t=ml(e),n=Ur[Ur.length-1];!n||!(e.flags&2)&&t>=ml(n)?Ur.push(e):Ur.splice(Ew(t),0,e),e.flags|=1,ag()}}function ag(){vu||(vu=og.then(ug))}function Aw(e){At(e)?ra.push(...e):Ss&&e.id===-1?Ss.splice(Zo+1,0,e):e.flags&1||(ra.push(e),e.flags|=1),ag()}function sh(e,t,n=Bi+1){for(;n<Ur.length;n++){const s=Ur[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Ur.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function lg(e){if(ra.length){const t=[...new Set(ra)].sort((n,s)=>ml(n)-ml(s));if(ra.length=0,Ss){Ss.push(...t);return}for(Ss=t,Zo=0;Zo<Ss.length;Zo++){const n=Ss[Zo];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ss=null,Zo=0}}const ml=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ug(e){const t=_i;try{for(Bi=0;Bi<Ur.length;Bi++){const n=Ur[Bi];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),Al(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;Bi<Ur.length;Bi++){const n=Ur[Bi];n&&(n.flags&=-2)}Bi=-1,Ur.length=0,lg(),vu=null,(Ur.length||ra.length)&&ug()}}let hr=null,cg=null;function pu(e){const t=hr;return hr=e,cg=e&&e.type.__scopeId||null,t}function le(e,t=hr,n){if(!t||e._n)return e;const s=(...a)=>{s._d&&wh(-1);const l=pu(t);let d;try{d=e(...a)}finally{pu(l),s._d&&wh(1)}return d};return s._n=!0,s._c=!0,s._d=!0,s}function bi(e,t){if(hr===null)return e;const n=Zu(hr),s=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[l,d,h,g=_n]=t[a];l&&(Vt(l)&&(l={mounted:l,updated:l}),l.deep&&ns(d),s.push({dir:l,instance:n,value:d,oldValue:void 0,arg:h,modifiers:g}))}return e}function Ks(e,t,n,s){const a=e.dirs,l=t&&t.dirs;for(let d=0;d<a.length;d++){const h=a[d];l&&(h.oldValue=l[d].value);let g=h.dir[s];g&&($s(),Ei(g,n,8,[e.el,h,e,t]),Us())}}const dg=Symbol("_vte"),fg=e=>e.__isTeleport,nl=e=>e&&(e.disabled||e.disabled===""),oh=e=>e&&(e.defer||e.defer===""),ah=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,lh=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Ad=(e,t)=>{const n=e&&e.to;return qn(n)?t?t(n):null:n},hg={name:"Teleport",__isTeleport:!0,process(e,t,n,s,a,l,d,h,g,m){const{mc:p,pc:y,pbc:_,o:{insert:b,querySelector:T,createText:k,createComment:q}}=m,K=nl(t.props);let{shapeFlag:Y,children:N,dynamicChildren:A}=t;if(e==null){const B=t.el=k(""),Q=t.anchor=k("");b(B,n,s),b(Q,n,s);const M=(L,de)=>{Y&16&&(a&&a.isCE&&(a.ce._teleportTarget=L),p(N,L,de,a,l,d,h,g))},ie=()=>{const L=t.target=Ad(t.props,T),de=gg(L,t,k,b);L&&(d!=="svg"&&ah(L)?d="svg":d!=="mathml"&&lh(L)&&(d="mathml"),K||(M(L,de),su(t,!1)))};K&&(M(n,Q),su(t,!0)),oh(t.props)?Vr(()=>{ie(),t.el.__isMounted=!0},l):ie()}else{if(oh(t.props)&&!e.el.__isMounted){Vr(()=>{hg.process(e,t,n,s,a,l,d,h,g,m),delete e.el.__isMounted},l);return}t.el=e.el,t.targetStart=e.targetStart;const B=t.anchor=e.anchor,Q=t.target=e.target,M=t.targetAnchor=e.targetAnchor,ie=nl(e.props),L=ie?n:Q,de=ie?B:M;if(d==="svg"||ah(Q)?d="svg":(d==="mathml"||lh(Q))&&(d="mathml"),A?(_(e.dynamicChildren,A,L,a,l,d,h),xf(e,t,!0)):g||y(e,t,L,de,a,l,d,h,!1),K)ie?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):zl(t,n,B,m,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const pe=t.target=Ad(t.props,T);pe&&zl(t,pe,null,m,0)}else ie&&zl(t,Q,M,m,1);su(t,K)}},remove(e,t,n,{um:s,o:{remove:a}},l){const{shapeFlag:d,children:h,anchor:g,targetStart:m,targetAnchor:p,target:y,props:_}=e;if(y&&(a(m),a(p)),l&&a(g),d&16){const b=l||!nl(_);for(let T=0;T<h.length;T++){const k=h[T];s(k,t,n,b,!!k.dynamicChildren)}}},move:zl,hydrate:Tw};function zl(e,t,n,{o:{insert:s},m:a},l=2){l===0&&s(e.targetAnchor,t,n);const{el:d,anchor:h,shapeFlag:g,children:m,props:p}=e,y=l===2;if(y&&s(d,t,n),(!y||nl(p))&&g&16)for(let _=0;_<m.length;_++)a(m[_],t,n,2);y&&s(h,t,n)}function Tw(e,t,n,s,a,l,{o:{nextSibling:d,parentNode:h,querySelector:g,insert:m,createText:p}},y){const _=t.target=Ad(t.props,g);if(_){const b=nl(t.props),T=_._lpa||_.firstChild;if(t.shapeFlag&16)if(b)t.anchor=y(d(e),t,h(e),n,s,a,l),t.targetStart=T,t.targetAnchor=T&&d(T);else{t.anchor=d(e);let k=T;for(;k;){if(k&&k.nodeType===8){if(k.data==="teleport start anchor")t.targetStart=k;else if(k.data==="teleport anchor"){t.targetAnchor=k,_._lpa=t.targetAnchor&&d(t.targetAnchor);break}}k=d(k)}t.targetAnchor||gg(_,t,p,m),y(T&&d(T),t,_,n,s,a,l)}su(t,b)}return t.anchor&&d(t.anchor)}const Iw=hg;function su(e,t){const n=e.ctx;if(n&&n.ut){let s,a;for(t?(s=e.el,a=e.anchor):(s=e.targetStart,a=e.targetAnchor);s&&s!==a;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function gg(e,t,n,s){const a=t.targetStart=n(""),l=t.targetAnchor=n("");return a[dg]=l,e&&(s(a,e),s(l,e)),l}const Es=Symbol("_leaveCb"),Wl=Symbol("_enterCb");function mg(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return gr(()=>{e.isMounted=!0}),Ir(()=>{e.isUnmounting=!0}),e}const ui=[Function,Array],vg={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ui,onEnter:ui,onAfterEnter:ui,onEnterCancelled:ui,onBeforeLeave:ui,onLeave:ui,onAfterLeave:ui,onLeaveCancelled:ui,onBeforeAppear:ui,onAppear:ui,onAfterAppear:ui,onAppearCancelled:ui},pg=e=>{const t=e.subTree;return t.component?pg(t.component):t},Ow={name:"BaseTransition",props:vg,setup(e,{slots:t}){const n=en(),s=mg();return()=>{const a=t.default&&pf(t.default(),!0);if(!a||!a.length)return;const l=wg(a),d=Ut(e),{mode:h}=d;if(s.isLeaving)return Fc(l);const g=uh(l);if(!g)return Fc(l);let m=vl(g,d,s,n,y=>m=y);g.type!==qr&&wo(g,m);let p=n.subTree&&uh(n.subTree);if(p&&p.type!==qr&&!so(g,p)&&pg(n).type!==qr){let y=vl(p,d,s,n);if(wo(p,y),h==="out-in"&&g.type!==qr)return s.isLeaving=!0,y.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete y.afterLeave,p=void 0},Fc(l);h==="in-out"&&g.type!==qr?y.delayLeave=(_,b,T)=>{const k=yg(s,p);k[String(p.key)]=p,_[Es]=()=>{b(),_[Es]=void 0,delete m.delayedLeave,p=void 0},m.delayedLeave=()=>{T(),delete m.delayedLeave,p=void 0}}:p=void 0}else p&&(p=void 0);return l}}};function wg(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==qr){t=n;break}}return t}const Dw=Ow;function yg(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function vl(e,t,n,s,a){const{appear:l,mode:d,persisted:h=!1,onBeforeEnter:g,onEnter:m,onAfterEnter:p,onEnterCancelled:y,onBeforeLeave:_,onLeave:b,onAfterLeave:T,onLeaveCancelled:k,onBeforeAppear:q,onAppear:K,onAfterAppear:Y,onAppearCancelled:N}=t,A=String(e.key),B=yg(n,e),Q=(L,de)=>{L&&Ei(L,s,9,de)},M=(L,de)=>{const pe=de[1];Q(L,de),At(L)?L.every($=>$.length<=1)&&pe():L.length<=1&&pe()},ie={mode:d,persisted:h,beforeEnter(L){let de=g;if(!n.isMounted)if(l)de=q||g;else return;L[Es]&&L[Es](!0);const pe=B[A];pe&&so(e,pe)&&pe.el[Es]&&pe.el[Es](),Q(de,[L])},enter(L){let de=m,pe=p,$=y;if(!n.isMounted)if(l)de=K||m,pe=Y||p,$=N||y;else return;let be=!1;const ue=L[Wl]=ee=>{be||(be=!0,ee?Q($,[L]):Q(pe,[L]),ie.delayedLeave&&ie.delayedLeave(),L[Wl]=void 0)};de?M(de,[L,ue]):ue()},leave(L,de){const pe=String(e.key);if(L[Wl]&&L[Wl](!0),n.isUnmounting)return de();Q(_,[L]);let $=!1;const be=L[Es]=ue=>{$||($=!0,de(),ue?Q(k,[L]):Q(T,[L]),L[Es]=void 0,B[pe]===e&&delete B[pe])};B[pe]=e,b?M(b,[L,be]):be()},clone(L){const de=vl(L,t,n,s,a);return a&&a(de),de}};return ie}function Fc(e){if(zu(e))return e=Bs(e),e.children=null,e}function uh(e){if(!zu(e))return fg(e.type)&&e.children?wg(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Vt(n.default))return n.default()}}function wo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,wo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function pf(e,t=!1,n){let s=[],a=0;for(let l=0;l<e.length;l++){let d=e[l];const h=n==null?d.key:String(n)+String(d.key!=null?d.key:l);d.type===Xt?(d.patchFlag&128&&a++,s=s.concat(pf(d.children,t,h))):(t||d.type!==qr)&&s.push(h!=null?Bs(d,{key:h}):d)}if(a>1)for(let l=0;l<s.length;l++)s[l].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function qs(e,t){return Vt(e)?(()=>Qn({name:e.name},t,{setup:e}))():e}function xg(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function wu(e,t,n,s,a=!1){if(At(e)){e.forEach((T,k)=>wu(T,t&&(At(t)?t[k]:t),n,s,a));return}if(ia(s)&&!a){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&wu(e,t,n,s.component.subTree);return}const l=s.shapeFlag&4?Zu(s.component):s.el,d=a?null:l,{i:h,r:g}=e,m=t&&t.r,p=h.refs===_n?h.refs={}:h.refs,y=h.setupState,_=Ut(y),b=y===_n?()=>!1:T=>gn(_,T);if(m!=null&&m!==g&&(qn(m)?(p[m]=null,b(m)&&(y[m]=null)):Zn(m)&&(m.value=null)),Vt(g))Al(g,h,12,[d,p]);else{const T=qn(g),k=Zn(g);if(T||k){const q=()=>{if(e.f){const K=T?b(g)?y[g]:p[g]:g.value;a?At(K)&&af(K,l):At(K)?K.includes(l)||K.push(l):T?(p[g]=[l],b(g)&&(y[g]=p[g])):(g.value=[l],e.k&&(p[e.k]=g.value))}else T?(p[g]=d,b(g)&&(y[g]=d)):k&&(g.value=d,e.k&&(p[e.k]=d))};d?(q.id=-1,Vr(q,n)):q()}}}qu().requestIdleCallback;qu().cancelIdleCallback;const ia=e=>!!e.type.__asyncLoader,zu=e=>e.type.__isKeepAlive;function Wu(e,t){bg(e,"a",t)}function ya(e,t){bg(e,"da",t)}function bg(e,t,n=br){const s=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Gu(t,s,n),n){let a=n.parent;for(;a&&a.parent;)zu(a.parent.vnode)&&kw(s,t,n,a),a=a.parent}}function kw(e,t,n,s){const a=Gu(t,e,s,!0);xa(()=>{af(s[t],a)},n)}function Gu(e,t,n=br,s=!1){if(n){const a=n[e]||(n[e]=[]),l=t.__weh||(t.__weh=(...d)=>{$s();const h=Il(n),g=Ei(t,n,e,d);return h(),Us(),g});return s?a.unshift(l):a.push(l),l}}const ls=e=>(t,n=br)=>{(!yl||e==="sp")&&Gu(e,(...s)=>t(...s),n)},_g=ls("bm"),gr=ls("m"),Yu=ls("bu"),Tl=ls("u"),Ir=ls("bum"),xa=ls("um"),Rw=ls("sp"),Mw=ls("rtg"),Nw=ls("rtc");function Pw(e,t=br){Gu("ec",e,t)}const Cg="components";function Lw(e,t){return Fw(Cg,e,!0,t)||e}const Bw=Symbol.for("v-ndc");function Fw(e,t,n=!0,s=!1){const a=hr||br;if(a){const l=a.type;if(e===Cg){const h=E2(l,!1);if(h&&(h===t||h===hi(t)||h===Uu(hi(t))))return l}const d=ch(a[e]||l[e],t)||ch(a.appContext[e],t);return!d&&s?l:d}}function ch(e,t){return e&&(e[t]||e[hi(t)]||e[Uu(hi(t))])}function Yn(e,t,n,s){let a;const l=n&&n[s],d=At(e);if(d||qn(e)){const h=d&&Ps(e);let g=!1;h&&(g=!fi(e),e=ju(e)),a=new Array(e.length);for(let m=0,p=e.length;m<p;m++)a[m]=t(g?Nr(e[m]):e[m],m,void 0,l&&l[m])}else if(typeof e=="number"){a=new Array(e);for(let h=0;h<e;h++)a[h]=t(h+1,h,void 0,l&&l[h])}else if(Rn(e))if(e[Symbol.iterator])a=Array.from(e,(h,g)=>t(h,g,void 0,l&&l[g]));else{const h=Object.keys(e);a=new Array(h.length);for(let g=0,m=h.length;g<m;g++){const p=h[g];a[g]=t(e[p],p,g,l&&l[g])}}else a=[];return n&&(n[s]=a),a}function Vw(e,t,n={},s,a){if(hr.ce||hr.parent&&ia(hr.parent)&&hr.parent.ce)return t!=="default"&&(n.name=t),Ie(),yt(Xt,null,[z("slot",n,s&&s())],64);let l=e[t];l&&l._c&&(l._d=!1),Ie();const d=l&&Sg(l(n)),h=n.key||d&&d.key,g=yt(Xt,{key:(h&&!as(h)?h:`_${t}`)+(!d&&s?"_fb":"")},d||(s?s():[]),d&&e._===1?64:-2);return!a&&g.scopeId&&(g.slotScopeIds=[g.scopeId+"-s"]),l&&l._c&&(l._d=!0),g}function Sg(e){return e.some(t=>wl(t)?!(t.type===qr||t.type===Xt&&!Sg(t.children)):!0)?e:null}const Td=e=>e?jg(e)?Zu(e):Td(e.parent):null,rl=Qn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Td(e.parent),$root:e=>Td(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>wf(e),$forceUpdate:e=>e.f||(e.f=()=>{vf(e.update)}),$nextTick:e=>e.n||(e.n=En.bind(e.proxy)),$watch:e=>a2.bind(e)}),Vc=(e,t)=>e!==_n&&!e.__isScriptSetup&&gn(e,t),$w={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:a,props:l,accessCache:d,type:h,appContext:g}=e;let m;if(t[0]!=="$"){const b=d[t];if(b!==void 0)switch(b){case 1:return s[t];case 2:return a[t];case 4:return n[t];case 3:return l[t]}else{if(Vc(s,t))return d[t]=1,s[t];if(a!==_n&&gn(a,t))return d[t]=2,a[t];if((m=e.propsOptions[0])&&gn(m,t))return d[t]=3,l[t];if(n!==_n&&gn(n,t))return d[t]=4,n[t];Id&&(d[t]=0)}}const p=rl[t];let y,_;if(p)return t==="$attrs"&&Mr(e.attrs,"get",""),p(e);if((y=h.__cssModules)&&(y=y[t]))return y;if(n!==_n&&gn(n,t))return d[t]=4,n[t];if(_=g.config.globalProperties,gn(_,t))return _[t]},set({_:e},t,n){const{data:s,setupState:a,ctx:l}=e;return Vc(a,t)?(a[t]=n,!0):s!==_n&&gn(s,t)?(s[t]=n,!0):gn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:a,propsOptions:l}},d){let h;return!!n[d]||e!==_n&&gn(e,d)||Vc(t,d)||(h=l[0])&&gn(h,d)||gn(s,d)||gn(rl,d)||gn(a.config.globalProperties,d)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:gn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function dh(e){return At(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Id=!0;function Uw(e){const t=wf(e),n=e.proxy,s=e.ctx;Id=!1,t.beforeCreate&&fh(t.beforeCreate,e,"bc");const{data:a,computed:l,methods:d,watch:h,provide:g,inject:m,created:p,beforeMount:y,mounted:_,beforeUpdate:b,updated:T,activated:k,deactivated:q,beforeDestroy:K,beforeUnmount:Y,destroyed:N,unmounted:A,render:B,renderTracked:Q,renderTriggered:M,errorCaptured:ie,serverPrefetch:L,expose:de,inheritAttrs:pe,components:$,directives:be,filters:ue}=t;if(m&&qw(m,s,null),d)for(const Se in d){const Re=d[Se];Vt(Re)&&(s[Se]=Re.bind(n))}if(a){const Se=a.call(n,n);Rn(Se)&&(e.data=So(Se))}if(Id=!0,l)for(const Se in l){const Re=l[Se],et=Vt(Re)?Re.bind(n,n):Vt(Re.get)?Re.get.bind(n,n):_i,ut=!Vt(Re)&&Vt(Re.set)?Re.set.bind(n):_i,me=G({get:et,set:ut});Object.defineProperty(s,Se,{enumerable:!0,configurable:!0,get:()=>me.value,set:re=>me.value=re})}if(h)for(const Se in h)Eg(h[Se],s,n,Se);if(g){const Se=Vt(g)?g.call(n):g;Reflect.ownKeys(Se).forEach(Re=>{il(Re,Se[Re])})}p&&fh(p,e,"c");function Be(Se,Re){At(Re)?Re.forEach(et=>Se(et.bind(n))):Re&&Se(Re.bind(n))}if(Be(_g,y),Be(gr,_),Be(Yu,b),Be(Tl,T),Be(Wu,k),Be(ya,q),Be(Pw,ie),Be(Nw,Q),Be(Mw,M),Be(Ir,Y),Be(xa,A),Be(Rw,L),At(de))if(de.length){const Se=e.exposed||(e.exposed={});de.forEach(Re=>{Object.defineProperty(Se,Re,{get:()=>n[Re],set:et=>n[Re]=et})})}else e.exposed||(e.exposed={});B&&e.render===_i&&(e.render=B),pe!=null&&(e.inheritAttrs=pe),$&&(e.components=$),be&&(e.directives=be),L&&xg(e)}function qw(e,t,n=_i){At(e)&&(e=Od(e));for(const s in e){const a=e[s];let l;Rn(a)?"default"in a?l=Pr(a.from||s,a.default,!0):l=Pr(a.from||s):l=Pr(a),Zn(l)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>l.value,set:d=>l.value=d}):t[s]=l}}function fh(e,t,n){Ei(At(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Eg(e,t,n,s){let a=s.includes(".")?Fg(n,s):()=>n[s];if(qn(e)){const l=t[e];Vt(l)&&St(a,l)}else if(Vt(e))St(a,e.bind(n));else if(Rn(e))if(At(e))e.forEach(l=>Eg(l,t,n,s));else{const l=Vt(e.handler)?e.handler.bind(n):t[e.handler];Vt(l)&&St(a,l,e)}}function wf(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:a,optionsCache:l,config:{optionMergeStrategies:d}}=e.appContext,h=l.get(t);let g;return h?g=h:!a.length&&!n&&!s?g=t:(g={},a.length&&a.forEach(m=>yu(g,m,d,!0)),yu(g,t,d)),Rn(t)&&l.set(t,g),g}function yu(e,t,n,s=!1){const{mixins:a,extends:l}=t;l&&yu(e,l,n,!0),a&&a.forEach(d=>yu(e,d,n,!0));for(const d in t)if(!(s&&d==="expose")){const h=jw[d]||n&&n[d];e[d]=h?h(e[d],t[d]):t[d]}return e}const jw={data:hh,props:gh,emits:gh,methods:Xa,computed:Xa,beforeCreate:Fr,created:Fr,beforeMount:Fr,mounted:Fr,beforeUpdate:Fr,updated:Fr,beforeDestroy:Fr,beforeUnmount:Fr,destroyed:Fr,unmounted:Fr,activated:Fr,deactivated:Fr,errorCaptured:Fr,serverPrefetch:Fr,components:Xa,directives:Xa,watch:zw,provide:hh,inject:Hw};function hh(e,t){return t?e?function(){return Qn(Vt(e)?e.call(this,this):e,Vt(t)?t.call(this,this):t)}:t:e}function Hw(e,t){return Xa(Od(e),Od(t))}function Od(e){if(At(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Fr(e,t){return e?[...new Set([].concat(e,t))]:t}function Xa(e,t){return e?Qn(Object.create(null),e,t):t}function gh(e,t){return e?At(e)&&At(t)?[...new Set([...e,...t])]:Qn(Object.create(null),dh(e),dh(t!=null?t:{})):t}function zw(e,t){if(!e)return t;if(!t)return e;const n=Qn(Object.create(null),e);for(const s in t)n[s]=Fr(e[s],t[s]);return n}function Ag(){return{app:null,config:{isNativeTag:Pp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ww=0;function Gw(e,t){return function(s,a=null){Vt(s)||(s=Qn({},s)),a!=null&&!Rn(a)&&(a=null);const l=Ag(),d=new WeakSet,h=[];let g=!1;const m=l.app={_uid:Ww++,_component:s,_props:a,_container:null,_context:l,_instance:null,version:T2,get config(){return l.config},set config(p){},use(p,...y){return d.has(p)||(p&&Vt(p.install)?(d.add(p),p.install(m,...y)):Vt(p)&&(d.add(p),p(m,...y))),m},mixin(p){return l.mixins.includes(p)||l.mixins.push(p),m},component(p,y){return y?(l.components[p]=y,m):l.components[p]},directive(p,y){return y?(l.directives[p]=y,m):l.directives[p]},mount(p,y,_){if(!g){const b=m._ceVNode||z(s,a);return b.appContext=l,_===!0?_="svg":_===!1&&(_=void 0),y&&t?t(b,p):e(b,p,_),g=!0,m._container=p,p.__vue_app__=m,Zu(b.component)}},onUnmount(p){h.push(p)},unmount(){g&&(Ei(h,m._instance,16),e(null,m._container),delete m._container.__vue_app__)},provide(p,y){return l.provides[p]=y,m},runWithContext(p){const y=ho;ho=m;try{return p()}finally{ho=y}}};return m}}let ho=null;function il(e,t){if(br){let n=br.provides;const s=br.parent&&br.parent.provides;s===n&&(n=br.provides=Object.create(s)),n[e]=t}}function Pr(e,t,n=!1){const s=br||hr;if(s||ho){const a=ho?ho._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Vt(t)?t.call(s&&s.proxy):t}}function Yw(){return!!(br||hr||ho)}const Tg={},Ig=()=>Object.create(Tg),Og=e=>Object.getPrototypeOf(e)===Tg;function Xw(e,t,n,s=!1){const a={},l=Ig();e.propsDefaults=Object.create(null),Dg(e,t,a,l);for(const d in e.propsOptions[0])d in a||(a[d]=void 0);n?e.props=s?a:ng(a):e.type.props?e.props=a:e.props=l,e.attrs=l}function Kw(e,t,n,s){const{props:a,attrs:l,vnode:{patchFlag:d}}=e,h=Ut(a),[g]=e.propsOptions;let m=!1;if((s||d>0)&&!(d&16)){if(d&8){const p=e.vnode.dynamicProps;for(let y=0;y<p.length;y++){let _=p[y];if(Xu(e.emitsOptions,_))continue;const b=t[_];if(g)if(gn(l,_))b!==l[_]&&(l[_]=b,m=!0);else{const T=hi(_);a[T]=Dd(g,h,T,b,e,!1)}else b!==l[_]&&(l[_]=b,m=!0)}}}else{Dg(e,t,a,l)&&(m=!0);let p;for(const y in h)(!t||!gn(t,y)&&((p=Co(y))===y||!gn(t,p)))&&(g?n&&(n[y]!==void 0||n[p]!==void 0)&&(a[y]=Dd(g,h,y,void 0,e,!0)):delete a[y]);if(l!==h)for(const y in l)(!t||!gn(t,y)&&!0)&&(delete l[y],m=!0)}m&&ts(e.attrs,"set","")}function Dg(e,t,n,s){const[a,l]=e.propsOptions;let d=!1,h;if(t)for(let g in t){if(Ja(g))continue;const m=t[g];let p;a&&gn(a,p=hi(g))?!l||!l.includes(p)?n[p]=m:(h||(h={}))[p]=m:Xu(e.emitsOptions,g)||(!(g in s)||m!==s[g])&&(s[g]=m,d=!0)}if(l){const g=Ut(n),m=h||_n;for(let p=0;p<l.length;p++){const y=l[p];n[y]=Dd(a,g,y,m[y],e,!gn(m,y))}}return d}function Dd(e,t,n,s,a,l){const d=e[n];if(d!=null){const h=gn(d,"default");if(h&&s===void 0){const g=d.default;if(d.type!==Function&&!d.skipFactory&&Vt(g)){const{propsDefaults:m}=a;if(n in m)s=m[n];else{const p=Il(a);s=m[n]=g.call(null,t),p()}}else s=g;a.ce&&a.ce._setProp(n,s)}d[0]&&(l&&!h?s=!1:d[1]&&(s===""||s===Co(n))&&(s=!0))}return s}const Zw=new WeakMap;function kg(e,t,n=!1){const s=n?Zw:t.propsCache,a=s.get(e);if(a)return a;const l=e.props,d={},h=[];let g=!1;if(!Vt(e)){const p=y=>{g=!0;const[_,b]=kg(y,t,!0);Qn(d,_),b&&h.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!l&&!g)return Rn(e)&&s.set(e,ta),ta;if(At(l))for(let p=0;p<l.length;p++){const y=hi(l[p]);mh(y)&&(d[y]=_n)}else if(l)for(const p in l){const y=hi(p);if(mh(y)){const _=l[p],b=d[y]=At(_)||Vt(_)?{type:_}:Qn({},_),T=b.type;let k=!1,q=!0;if(At(T))for(let K=0;K<T.length;++K){const Y=T[K],N=Vt(Y)&&Y.name;if(N==="Boolean"){k=!0;break}else N==="String"&&(q=!1)}else k=Vt(T)&&T.name==="Boolean";b[0]=k,b[1]=q,(k||gn(b,"default"))&&h.push(y)}}const m=[d,h];return Rn(e)&&s.set(e,m),m}function mh(e){return e[0]!=="$"&&!Ja(e)}const Rg=e=>e[0]==="_"||e==="$stable",yf=e=>At(e)?e.map(Fi):[Fi(e)],Qw=(e,t,n)=>{if(t._n)return t;const s=le((...a)=>yf(t(...a)),n);return s._c=!1,s},Mg=(e,t,n)=>{const s=e._ctx;for(const a in e){if(Rg(a))continue;const l=e[a];if(Vt(l))t[a]=Qw(a,l,s);else if(l!=null){const d=yf(l);t[a]=()=>d}}},Ng=(e,t)=>{const n=yf(t);e.slots.default=()=>n},Pg=(e,t,n)=>{for(const s in t)(n||s!=="_")&&(e[s]=t[s])},Jw=(e,t,n)=>{const s=e.slots=Ig();if(e.vnode.shapeFlag&32){const a=t._;a?(Pg(s,t,n),n&&P1(s,"_",a,!0)):Mg(t,s)}else t&&Ng(e,t)},e2=(e,t,n)=>{const{vnode:s,slots:a}=e;let l=!0,d=_n;if(s.shapeFlag&32){const h=t._;h?n&&h===1?l=!1:Pg(a,t,n):(l=!t.$stable,Mg(t,a)),d=t}else t&&(Ng(e,t),d={default:1});if(l)for(const h in a)!Rg(h)&&d[h]==null&&delete a[h]},Vr=g2;function t2(e){return n2(e)}function n2(e,t){const n=qu();n.__VUE__=!0;const{insert:s,remove:a,patchProp:l,createElement:d,createText:h,createComment:g,setText:m,setElementText:p,parentNode:y,nextSibling:_,setScopeId:b=_i,insertStaticContent:T}=e,k=(F,X,ce,Ne=null,xe=null,ke=null,Pe=void 0,He=null,ye=!!X.dynamicChildren)=>{if(F===X)return;F&&!so(F,X)&&(Ne=oe(F),re(F,xe,ke,!0),F=null),X.patchFlag===-2&&(ye=!1,X.dynamicChildren=null);const{type:Le,ref:dt,shapeFlag:Xe}=X;switch(Le){case Ku:q(F,X,ce,Ne);break;case qr:K(F,X,ce,Ne);break;case qc:F==null&&Y(X,ce,Ne,Pe);break;case Xt:$(F,X,ce,Ne,xe,ke,Pe,He,ye);break;default:Xe&1?B(F,X,ce,Ne,xe,ke,Pe,He,ye):Xe&6?be(F,X,ce,Ne,xe,ke,Pe,He,ye):(Xe&64||Xe&128)&&Le.process(F,X,ce,Ne,xe,ke,Pe,He,ye,Ye)}dt!=null&&xe&&wu(dt,F&&F.ref,ke,X||F,!X)},q=(F,X,ce,Ne)=>{if(F==null)s(X.el=h(X.children),ce,Ne);else{const xe=X.el=F.el;X.children!==F.children&&m(xe,X.children)}},K=(F,X,ce,Ne)=>{F==null?s(X.el=g(X.children||""),ce,Ne):X.el=F.el},Y=(F,X,ce,Ne)=>{[F.el,F.anchor]=T(F.children,X,ce,Ne,F.el,F.anchor)},N=({el:F,anchor:X},ce,Ne)=>{let xe;for(;F&&F!==X;)xe=_(F),s(F,ce,Ne),F=xe;s(X,ce,Ne)},A=({el:F,anchor:X})=>{let ce;for(;F&&F!==X;)ce=_(F),a(F),F=ce;a(X)},B=(F,X,ce,Ne,xe,ke,Pe,He,ye)=>{X.type==="svg"?Pe="svg":X.type==="math"&&(Pe="mathml"),F==null?Q(X,ce,Ne,xe,ke,Pe,He,ye):L(F,X,xe,ke,Pe,He,ye)},Q=(F,X,ce,Ne,xe,ke,Pe,He)=>{let ye,Le;const{props:dt,shapeFlag:Xe,transition:ct,dirs:ot}=F;if(ye=F.el=d(F.type,ke,dt&&dt.is,dt),Xe&8?p(ye,F.children):Xe&16&&ie(F.children,ye,null,Ne,xe,$c(F,ke),Pe,He),ot&&Ks(F,null,Ne,"created"),M(ye,F,F.scopeId,Pe,Ne),dt){for(const Pt in dt)Pt!=="value"&&!Ja(Pt)&&l(ye,Pt,null,dt[Pt],ke,Ne);"value"in dt&&l(ye,"value",null,dt.value,ke),(Le=dt.onVnodeBeforeMount)&&Ni(Le,Ne,F)}ot&&Ks(F,null,Ne,"beforeMount");const Tt=r2(xe,ct);Tt&&ct.beforeEnter(ye),s(ye,X,ce),((Le=dt&&dt.onVnodeMounted)||Tt||ot)&&Vr(()=>{Le&&Ni(Le,Ne,F),Tt&&ct.enter(ye),ot&&Ks(F,null,Ne,"mounted")},xe)},M=(F,X,ce,Ne,xe)=>{if(ce&&b(F,ce),Ne)for(let ke=0;ke<Ne.length;ke++)b(F,Ne[ke]);if(xe){let ke=xe.subTree;if(X===ke||$g(ke.type)&&(ke.ssContent===X||ke.ssFallback===X)){const Pe=xe.vnode;M(F,Pe,Pe.scopeId,Pe.slotScopeIds,xe.parent)}}},ie=(F,X,ce,Ne,xe,ke,Pe,He,ye=0)=>{for(let Le=ye;Le<F.length;Le++){const dt=F[Le]=He?As(F[Le]):Fi(F[Le]);k(null,dt,X,ce,Ne,xe,ke,Pe,He)}},L=(F,X,ce,Ne,xe,ke,Pe)=>{const He=X.el=F.el;let{patchFlag:ye,dynamicChildren:Le,dirs:dt}=X;ye|=F.patchFlag&16;const Xe=F.props||_n,ct=X.props||_n;let ot;if(ce&&Zs(ce,!1),(ot=ct.onVnodeBeforeUpdate)&&Ni(ot,ce,X,F),dt&&Ks(X,F,ce,"beforeUpdate"),ce&&Zs(ce,!0),(Xe.innerHTML&&ct.innerHTML==null||Xe.textContent&&ct.textContent==null)&&p(He,""),Le?de(F.dynamicChildren,Le,He,ce,Ne,$c(X,xe),ke):Pe||Re(F,X,He,null,ce,Ne,$c(X,xe),ke,!1),ye>0){if(ye&16)pe(He,Xe,ct,ce,xe);else if(ye&2&&Xe.class!==ct.class&&l(He,"class",null,ct.class,xe),ye&4&&l(He,"style",Xe.style,ct.style,xe),ye&8){const Tt=X.dynamicProps;for(let Pt=0;Pt<Tt.length;Pt++){const ht=Tt[Pt],tn=Xe[ht],Kt=ct[ht];(Kt!==tn||ht==="value")&&l(He,ht,tn,Kt,xe,ce)}}ye&1&&F.children!==X.children&&p(He,X.children)}else!Pe&&Le==null&&pe(He,Xe,ct,ce,xe);((ot=ct.onVnodeUpdated)||dt)&&Vr(()=>{ot&&Ni(ot,ce,X,F),dt&&Ks(X,F,ce,"updated")},Ne)},de=(F,X,ce,Ne,xe,ke,Pe)=>{for(let He=0;He<X.length;He++){const ye=F[He],Le=X[He],dt=ye.el&&(ye.type===Xt||!so(ye,Le)||ye.shapeFlag&70)?y(ye.el):ce;k(ye,Le,dt,null,Ne,xe,ke,Pe,!0)}},pe=(F,X,ce,Ne,xe)=>{if(X!==ce){if(X!==_n)for(const ke in X)!Ja(ke)&&!(ke in ce)&&l(F,ke,X[ke],null,xe,Ne);for(const ke in ce){if(Ja(ke))continue;const Pe=ce[ke],He=X[ke];Pe!==He&&ke!=="value"&&l(F,ke,He,Pe,xe,Ne)}"value"in ce&&l(F,"value",X.value,ce.value,xe)}},$=(F,X,ce,Ne,xe,ke,Pe,He,ye)=>{const Le=X.el=F?F.el:h(""),dt=X.anchor=F?F.anchor:h("");let{patchFlag:Xe,dynamicChildren:ct,slotScopeIds:ot}=X;ot&&(He=He?He.concat(ot):ot),F==null?(s(Le,ce,Ne),s(dt,ce,Ne),ie(X.children||[],ce,dt,xe,ke,Pe,He,ye)):Xe>0&&Xe&64&&ct&&F.dynamicChildren?(de(F.dynamicChildren,ct,ce,xe,ke,Pe,He),(X.key!=null||xe&&X===xe.subTree)&&xf(F,X,!0)):Re(F,X,ce,dt,xe,ke,Pe,He,ye)},be=(F,X,ce,Ne,xe,ke,Pe,He,ye)=>{X.slotScopeIds=He,F==null?X.shapeFlag&512?xe.ctx.activate(X,ce,Ne,Pe,ye):ue(X,ce,Ne,xe,ke,Pe,ye):ee(F,X,ye)},ue=(F,X,ce,Ne,xe,ke,Pe)=>{const He=F.component=x2(F,Ne,xe);if(zu(F)&&(He.ctx.renderer=Ye),b2(He,!1,Pe),He.asyncDep){if(xe&&xe.registerDep(He,Be,Pe),!F.el){const ye=He.subTree=z(qr);K(null,ye,X,ce)}}else Be(He,F,X,ce,xe,ke,Pe)},ee=(F,X,ce)=>{const Ne=X.component=F.component;if(f2(F,X,ce))if(Ne.asyncDep&&!Ne.asyncResolved){Se(Ne,X,ce);return}else Ne.next=X,Ne.update();else X.el=F.el,Ne.vnode=X},Be=(F,X,ce,Ne,xe,ke,Pe)=>{const He=()=>{if(F.isMounted){let{next:Xe,bu:ct,u:ot,parent:Tt,vnode:Pt}=F;{const Nt=Lg(F);if(Nt){Xe&&(Xe.el=Pt.el,Se(F,Xe,Pe)),Nt.asyncDep.then(()=>{F.isUnmounted||He()});return}}let ht=Xe,tn;Zs(F,!1),Xe?(Xe.el=Pt.el,Se(F,Xe,Pe)):Xe=Pt,ct&&Mc(ct),(tn=Xe.props&&Xe.props.onVnodeBeforeUpdate)&&Ni(tn,Tt,Xe,Pt),Zs(F,!0);const Kt=Uc(F),Mn=F.subTree;F.subTree=Kt,k(Mn,Kt,y(Mn.el),oe(Mn),F,xe,ke),Xe.el=Kt.el,ht===null&&h2(F,Kt.el),ot&&Vr(ot,xe),(tn=Xe.props&&Xe.props.onVnodeUpdated)&&Vr(()=>Ni(tn,Tt,Xe,Pt),xe)}else{let Xe;const{el:ct,props:ot}=X,{bm:Tt,m:Pt,parent:ht,root:tn,type:Kt}=F,Mn=ia(X);if(Zs(F,!1),Tt&&Mc(Tt),!Mn&&(Xe=ot&&ot.onVnodeBeforeMount)&&Ni(Xe,ht,X),Zs(F,!0),ct&&pt){const Nt=()=>{F.subTree=Uc(F),pt(ct,F.subTree,F,xe,null)};Mn&&Kt.__asyncHydrate?Kt.__asyncHydrate(ct,F,Nt):Nt()}else{tn.ce&&tn.ce._injectChildStyle(Kt);const Nt=F.subTree=Uc(F);k(null,Nt,ce,Ne,F,xe,ke),X.el=Nt.el}if(Pt&&Vr(Pt,xe),!Mn&&(Xe=ot&&ot.onVnodeMounted)){const Nt=X;Vr(()=>Ni(Xe,ht,Nt),xe)}(X.shapeFlag&256||ht&&ia(ht.vnode)&&ht.vnode.shapeFlag&256)&&F.a&&Vr(F.a,xe),F.isMounted=!0,X=ce=Ne=null}};F.scope.on();const ye=F.effect=new q1(He);F.scope.off();const Le=F.update=ye.run.bind(ye),dt=F.job=ye.runIfDirty.bind(ye);dt.i=F,dt.id=F.uid,ye.scheduler=()=>vf(dt),Zs(F,!0),Le()},Se=(F,X,ce)=>{X.component=F;const Ne=F.vnode.props;F.vnode=X,F.next=null,Kw(F,X.props,Ne,ce),e2(F,X.children,ce),$s(),sh(F),Us()},Re=(F,X,ce,Ne,xe,ke,Pe,He,ye=!1)=>{const Le=F&&F.children,dt=F?F.shapeFlag:0,Xe=X.children,{patchFlag:ct,shapeFlag:ot}=X;if(ct>0){if(ct&128){ut(Le,Xe,ce,Ne,xe,ke,Pe,He,ye);return}else if(ct&256){et(Le,Xe,ce,Ne,xe,ke,Pe,He,ye);return}}ot&8?(dt&16&&we(Le,xe,ke),Xe!==Le&&p(ce,Xe)):dt&16?ot&16?ut(Le,Xe,ce,Ne,xe,ke,Pe,He,ye):we(Le,xe,ke,!0):(dt&8&&p(ce,""),ot&16&&ie(Xe,ce,Ne,xe,ke,Pe,He,ye))},et=(F,X,ce,Ne,xe,ke,Pe,He,ye)=>{F=F||ta,X=X||ta;const Le=F.length,dt=X.length,Xe=Math.min(Le,dt);let ct;for(ct=0;ct<Xe;ct++){const ot=X[ct]=ye?As(X[ct]):Fi(X[ct]);k(F[ct],ot,ce,null,xe,ke,Pe,He,ye)}Le>dt?we(F,xe,ke,!0,!1,Xe):ie(X,ce,Ne,xe,ke,Pe,He,ye,Xe)},ut=(F,X,ce,Ne,xe,ke,Pe,He,ye)=>{let Le=0;const dt=X.length;let Xe=F.length-1,ct=dt-1;for(;Le<=Xe&&Le<=ct;){const ot=F[Le],Tt=X[Le]=ye?As(X[Le]):Fi(X[Le]);if(so(ot,Tt))k(ot,Tt,ce,null,xe,ke,Pe,He,ye);else break;Le++}for(;Le<=Xe&&Le<=ct;){const ot=F[Xe],Tt=X[ct]=ye?As(X[ct]):Fi(X[ct]);if(so(ot,Tt))k(ot,Tt,ce,null,xe,ke,Pe,He,ye);else break;Xe--,ct--}if(Le>Xe){if(Le<=ct){const ot=ct+1,Tt=ot<dt?X[ot].el:Ne;for(;Le<=ct;)k(null,X[Le]=ye?As(X[Le]):Fi(X[Le]),ce,Tt,xe,ke,Pe,He,ye),Le++}}else if(Le>ct)for(;Le<=Xe;)re(F[Le],xe,ke,!0),Le++;else{const ot=Le,Tt=Le,Pt=new Map;for(Le=Tt;Le<=ct;Le++){const Et=X[Le]=ye?As(X[Le]):Fi(X[Le]);Et.key!=null&&Pt.set(Et.key,Le)}let ht,tn=0;const Kt=ct-Tt+1;let Mn=!1,Nt=0;const Ue=new Array(Kt);for(Le=0;Le<Kt;Le++)Ue[Le]=0;for(Le=ot;Le<=Xe;Le++){const Et=F[Le];if(tn>=Kt){re(Et,xe,ke,!0);continue}let Dt;if(Et.key!=null)Dt=Pt.get(Et.key);else for(ht=Tt;ht<=ct;ht++)if(Ue[ht-Tt]===0&&so(Et,X[ht])){Dt=ht;break}Dt===void 0?re(Et,xe,ke,!0):(Ue[Dt-Tt]=Le+1,Dt>=Nt?Nt=Dt:Mn=!0,k(Et,X[Dt],ce,null,xe,ke,Pe,He,ye),tn++)}const mn=Mn?i2(Ue):ta;for(ht=mn.length-1,Le=Kt-1;Le>=0;Le--){const Et=Tt+Le,Dt=X[Et],jn=Et+1<dt?X[Et+1].el:Ne;Ue[Le]===0?k(null,Dt,ce,jn,xe,ke,Pe,He,ye):Mn&&(ht<0||Le!==mn[ht]?me(Dt,ce,jn,2):ht--)}}},me=(F,X,ce,Ne,xe=null)=>{const{el:ke,type:Pe,transition:He,children:ye,shapeFlag:Le}=F;if(Le&6){me(F.component.subTree,X,ce,Ne);return}if(Le&128){F.suspense.move(X,ce,Ne);return}if(Le&64){Pe.move(F,X,ce,Ye);return}if(Pe===Xt){s(ke,X,ce);for(let Xe=0;Xe<ye.length;Xe++)me(ye[Xe],X,ce,Ne);s(F.anchor,X,ce);return}if(Pe===qc){N(F,X,ce);return}if(Ne!==2&&Le&1&&He)if(Ne===0)He.beforeEnter(ke),s(ke,X,ce),Vr(()=>He.enter(ke),xe);else{const{leave:Xe,delayLeave:ct,afterLeave:ot}=He,Tt=()=>s(ke,X,ce),Pt=()=>{Xe(ke,()=>{Tt(),ot&&ot()})};ct?ct(ke,Tt,Pt):Pt()}else s(ke,X,ce)},re=(F,X,ce,Ne=!1,xe=!1)=>{const{type:ke,props:Pe,ref:He,children:ye,dynamicChildren:Le,shapeFlag:dt,patchFlag:Xe,dirs:ct,cacheIndex:ot}=F;if(Xe===-2&&(xe=!1),He!=null&&wu(He,null,ce,F,!0),ot!=null&&(X.renderCache[ot]=void 0),dt&256){X.ctx.deactivate(F);return}const Tt=dt&1&&ct,Pt=!ia(F);let ht;if(Pt&&(ht=Pe&&Pe.onVnodeBeforeUnmount)&&Ni(ht,X,F),dt&6)vt(F.component,ce,Ne);else{if(dt&128){F.suspense.unmount(ce,Ne);return}Tt&&Ks(F,null,X,"beforeUnmount"),dt&64?F.type.remove(F,X,ce,Ye,Ne):Le&&!Le.hasOnce&&(ke!==Xt||Xe>0&&Xe&64)?we(Le,X,ce,!1,!0):(ke===Xt&&Xe&384||!xe&&dt&16)&&we(ye,X,ce),Ne&&Ze(F)}(Pt&&(ht=Pe&&Pe.onVnodeUnmounted)||Tt)&&Vr(()=>{ht&&Ni(ht,X,F),Tt&&Ks(F,null,X,"unmounted")},ce)},Ze=F=>{const{type:X,el:ce,anchor:Ne,transition:xe}=F;if(X===Xt){it(ce,Ne);return}if(X===qc){A(F);return}const ke=()=>{a(ce),xe&&!xe.persisted&&xe.afterLeave&&xe.afterLeave()};if(F.shapeFlag&1&&xe&&!xe.persisted){const{leave:Pe,delayLeave:He}=xe,ye=()=>Pe(ce,ke);He?He(F.el,ke,ye):ye()}else ke()},it=(F,X)=>{let ce;for(;F!==X;)ce=_(F),a(F),F=ce;a(X)},vt=(F,X,ce)=>{const{bum:Ne,scope:xe,job:ke,subTree:Pe,um:He,m:ye,a:Le}=F;vh(ye),vh(Le),Ne&&Mc(Ne),xe.stop(),ke&&(ke.flags|=8,re(Pe,F,X,ce)),He&&Vr(He,X),Vr(()=>{F.isUnmounted=!0},X),X&&X.pendingBranch&&!X.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===X.pendingId&&(X.deps--,X.deps===0&&X.resolve())},we=(F,X,ce,Ne=!1,xe=!1,ke=0)=>{for(let Pe=ke;Pe<F.length;Pe++)re(F[Pe],X,ce,Ne,xe)},oe=F=>{if(F.shapeFlag&6)return oe(F.component.subTree);if(F.shapeFlag&128)return F.suspense.next();const X=_(F.anchor||F.el),ce=X&&X[dg];return ce?_(ce):X};let Me=!1;const he=(F,X,ce)=>{F==null?X._vnode&&re(X._vnode,null,null,!0):k(X._vnode||null,F,X,null,null,null,ce),X._vnode=F,Me||(Me=!0,sh(),lg(),Me=!1)},Ye={p:k,um:re,m:me,r:Ze,mt:ue,mc:ie,pc:Re,pbc:de,n:oe,o:e};let nt,pt;return t&&([nt,pt]=t(Ye)),{render:he,hydrate:nt,createApp:Gw(he,nt)}}function $c({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Zs({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function r2(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function xf(e,t,n=!1){const s=e.children,a=t.children;if(At(s)&&At(a))for(let l=0;l<s.length;l++){const d=s[l];let h=a[l];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=a[l]=As(a[l]),h.el=d.el),!n&&h.patchFlag!==-2&&xf(d,h)),h.type===Ku&&(h.el=d.el)}}function i2(e){const t=e.slice(),n=[0];let s,a,l,d,h;const g=e.length;for(s=0;s<g;s++){const m=e[s];if(m!==0){if(a=n[n.length-1],e[a]<m){t[s]=a,n.push(s);continue}for(l=0,d=n.length-1;l<d;)h=l+d>>1,e[n[h]]<m?l=h+1:d=h;m<e[n[l]]&&(l>0&&(t[s]=n[l-1]),n[l]=s)}}for(l=n.length,d=n[l-1];l-- >0;)n[l]=d,d=t[d];return n}function Lg(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Lg(t)}function vh(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const s2=Symbol.for("v-scx"),o2=()=>Pr(s2);function St(e,t,n){return Bg(e,t,n)}function Bg(e,t,n=_n){const{immediate:s,deep:a,flush:l,once:d}=n,h=Qn({},n),g=t&&s||!t&&l!=="post";let m;if(yl){if(l==="sync"){const b=o2();m=b.__watcherHandles||(b.__watcherHandles=[])}else if(!g){const b=()=>{};return b.stop=_i,b.resume=_i,b.pause=_i,b}}const p=br;h.call=(b,T,k)=>Ei(b,p,T,k);let y=!1;l==="post"?h.scheduler=b=>{Vr(b,p&&p.suspense)}:l!=="sync"&&(y=!0,h.scheduler=(b,T)=>{T?b():vf(b)}),h.augmentJob=b=>{t&&(b.flags|=4),y&&(b.flags|=2,p&&(b.id=p.uid,b.i=p))};const _=Cw(e,t,h);return yl&&(m?m.push(_):g&&_()),_}function a2(e,t,n){const s=this.proxy,a=qn(e)?e.includes(".")?Fg(s,e):()=>s[e]:e.bind(s,s);let l;Vt(t)?l=t:(l=t.handler,n=t);const d=Il(this),h=Bg(a,l.bind(s),n);return d(),h}function Fg(e,t){const n=t.split(".");return()=>{let s=e;for(let a=0;a<n.length&&s;a++)s=s[n[a]];return s}}const l2=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${hi(t)}Modifiers`]||e[`${Co(t)}Modifiers`];function u2(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||_n;let a=n;const l=t.startsWith("update:"),d=l&&l2(s,t.slice(7));d&&(d.trim&&(a=n.map(p=>qn(p)?p.trim():p)),d.number&&(a=n.map($p)));let h,g=s[h=Rc(t)]||s[h=Rc(hi(t))];!g&&l&&(g=s[h=Rc(Co(t))]),g&&Ei(g,e,6,a);const m=s[h+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,Ei(m,e,6,a)}}function Vg(e,t,n=!1){const s=t.emitsCache,a=s.get(e);if(a!==void 0)return a;const l=e.emits;let d={},h=!1;if(!Vt(e)){const g=m=>{const p=Vg(m,t,!0);p&&(h=!0,Qn(d,p))};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}return!l&&!h?(Rn(e)&&s.set(e,null),null):(At(l)?l.forEach(g=>d[g]=null):Qn(d,l),Rn(e)&&s.set(e,d),d)}function Xu(e,t){return!e||!Fu(t)?!1:(t=t.slice(2).replace(/Once$/,""),gn(e,t[0].toLowerCase()+t.slice(1))||gn(e,Co(t))||gn(e,t))}function Uc(e){const{type:t,vnode:n,proxy:s,withProxy:a,propsOptions:[l],slots:d,attrs:h,emit:g,render:m,renderCache:p,props:y,data:_,setupState:b,ctx:T,inheritAttrs:k}=e,q=pu(e);let K,Y;try{if(n.shapeFlag&4){const A=a||s,B=A;K=Fi(m.call(B,A,p,y,b,_,T)),Y=h}else{const A=t;K=Fi(A.length>1?A(y,{attrs:h,slots:d,emit:g}):A(y,null)),Y=t.props?h:c2(h)}}catch(A){sl.length=0,Hu(A,e,1),K=z(qr)}let N=K;if(Y&&k!==!1){const A=Object.keys(Y),{shapeFlag:B}=N;A.length&&B&7&&(l&&A.some(of)&&(Y=d2(Y,l)),N=Bs(N,Y,!1,!0))}return n.dirs&&(N=Bs(N,null,!1,!0),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&wo(N,n.transition),K=N,pu(q),K}const c2=e=>{let t;for(const n in e)(n==="class"||n==="style"||Fu(n))&&((t||(t={}))[n]=e[n]);return t},d2=(e,t)=>{const n={};for(const s in e)(!of(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function f2(e,t,n){const{props:s,children:a,component:l}=e,{props:d,children:h,patchFlag:g}=t,m=l.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&g>=0){if(g&1024)return!0;if(g&16)return s?ph(s,d,m):!!d;if(g&8){const p=t.dynamicProps;for(let y=0;y<p.length;y++){const _=p[y];if(d[_]!==s[_]&&!Xu(m,_))return!0}}}else return(a||h)&&(!h||!h.$stable)?!0:s===d?!1:s?d?ph(s,d,m):!0:!!d;return!1}function ph(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let a=0;a<s.length;a++){const l=s[a];if(t[l]!==e[l]&&!Xu(n,l))return!0}return!1}function h2({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const $g=e=>e.__isSuspense;function g2(e,t){t&&t.pendingBranch?At(e)?t.effects.push(...e):t.effects.push(e):Aw(e)}const Xt=Symbol.for("v-fgt"),Ku=Symbol.for("v-txt"),qr=Symbol.for("v-cmt"),qc=Symbol.for("v-stc"),sl=[];let ai=null;function Ie(e=!1){sl.push(ai=e?null:[])}function m2(){sl.pop(),ai=sl[sl.length-1]||null}let pl=1;function wh(e,t=!1){pl+=e,e<0&&ai&&t&&(ai.hasOnce=!0)}function Ug(e){return e.dynamicChildren=pl>0?ai||ta:null,m2(),pl>0&&ai&&ai.push(e),e}function tt(e,t,n,s,a,l){return Ug(ae(e,t,n,s,a,l,!0))}function yt(e,t,n,s,a){return Ug(z(e,t,n,s,a,!0))}function wl(e){return e?e.__v_isVNode===!0:!1}function so(e,t){return e.type===t.type&&e.key===t.key}const qg=({key:e})=>e!=null?e:null,ou=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?qn(e)||Zn(e)||Vt(e)?{i:hr,r:e,k:t,f:!!n}:e:null);function ae(e,t=null,n=null,s=0,a=null,l=e===Xt?0:1,d=!1,h=!1){const g={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&qg(t),ref:t&&ou(t),scopeId:cg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:s,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:hr};return h?(bf(g,n),l&128&&e.normalize(g)):n&&(g.shapeFlag|=qn(n)?8:16),pl>0&&!d&&ai&&(g.patchFlag>0||l&6)&&g.patchFlag!==32&&ai.push(g),g}const z=v2;function v2(e,t=null,n=null,s=0,a=null,l=!1){if((!e||e===Bw)&&(e=qr),wl(e)){const h=Bs(e,t,!0);return n&&bf(h,n),pl>0&&!l&&ai&&(h.shapeFlag&6?ai[ai.indexOf(e)]=h:ai.push(h)),h.patchFlag=-2,h}if(A2(e)&&(e=e.__vccOpts),t){t=p2(t);let{class:h,style:g}=t;h&&!qn(h)&&(t.class=qi(h)),Rn(g)&&(mf(g)&&!At(g)&&(g=Qn({},g)),t.style=Ls(g))}const d=qn(e)?1:$g(e)?128:fg(e)?64:Rn(e)?4:Vt(e)?2:0;return ae(e,t,n,s,a,d,l,!0)}function p2(e){return e?mf(e)||Og(e)?Qn({},e):e:null}function Bs(e,t,n=!1,s=!1){const{props:a,ref:l,patchFlag:d,children:h,transition:g}=e,m=t?xu(a||{},t):a,p={__v_isVNode:!0,__v_skip:!0,type:e.type,props:m,key:m&&qg(m),ref:t&&t.ref?n&&l?At(l)?l.concat(ou(t)):[l,ou(t)]:ou(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:h,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Xt?d===-1?16:d|16:d,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:g,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Bs(e.ssContent),ssFallback:e.ssFallback&&Bs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return g&&s&&wo(p,g.clone(p)),p}function Mt(e=" ",t=0){return z(Ku,null,e,t)}function Qt(e="",t=!1){return t?(Ie(),yt(qr,null,e)):z(qr,null,e)}function Fi(e){return e==null||typeof e=="boolean"?z(qr):At(e)?z(Xt,null,e.slice()):wl(e)?As(e):z(Ku,null,String(e))}function As(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Bs(e)}function bf(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(At(t))n=16;else if(typeof t=="object")if(s&65){const a=t.default;a&&(a._c&&(a._d=!1),bf(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!Og(t)?t._ctx=hr:a===3&&hr&&(hr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Vt(t)?(t={default:t,_ctx:hr},n=32):(t=String(t),s&64?(n=16,t=[Mt(t)]):n=8);e.children=t,e.shapeFlag|=n}function xu(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const a in s)if(a==="class")t.class!==s.class&&(t.class=qi([t.class,s.class]));else if(a==="style")t.style=Ls([t.style,s.style]);else if(Fu(a)){const l=t[a],d=s[a];d&&l!==d&&!(At(l)&&l.includes(d))&&(t[a]=l?[].concat(l,d):d)}else a!==""&&(t[a]=s[a])}return t}function Ni(e,t,n,s=null){Ei(e,t,7,[n,s])}const w2=Ag();let y2=0;function x2(e,t,n){const s=e.type,a=(t?t.appContext:e.appContext)||w2,l={uid:y2++,vnode:e,type:s,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new V1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kg(s,a),emitsOptions:Vg(s,a),emit:null,emitted:null,propsDefaults:_n,inheritAttrs:s.inheritAttrs,ctx:_n,data:_n,props:_n,attrs:_n,slots:_n,refs:_n,setupState:_n,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=u2.bind(null,l),e.ce&&e.ce(l),l}let br=null;const en=()=>br||hr;let bu,kd;{const e=qu(),t=(n,s)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(s),l=>{a.length>1?a.forEach(d=>d(l)):a[0](l)}};bu=t("__VUE_INSTANCE_SETTERS__",n=>br=n),kd=t("__VUE_SSR_SETTERS__",n=>yl=n)}const Il=e=>{const t=br;return bu(e),e.scope.on(),()=>{e.scope.off(),bu(t)}},yh=()=>{br&&br.scope.off(),bu(null)};function jg(e){return e.vnode.shapeFlag&4}let yl=!1;function b2(e,t=!1,n=!1){t&&kd(t);const{props:s,children:a}=e.vnode,l=jg(e);Xw(e,s,l,t),Jw(e,a,n);const d=l?_2(e,t):void 0;return t&&kd(!1),d}function _2(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,$w);const{setup:s}=n;if(s){$s();const a=e.setupContext=s.length>1?S2(e):null,l=Il(e),d=Al(s,e,0,[e.props,a]),h=R1(d);if(Us(),l(),(h||e.sp)&&!ia(e)&&xg(e),h){if(d.then(yh,yh),t)return d.then(g=>{xh(e,g,t)}).catch(g=>{Hu(g,e,0)});e.asyncDep=d}else xh(e,d,t)}else Hg(e,t)}function xh(e,t,n){Vt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Rn(t)&&(e.setupState=sg(t)),Hg(e,n)}let bh;function Hg(e,t,n){const s=e.type;if(!e.render){if(!t&&bh&&!s.render){const a=s.template||wf(e).template;if(a){const{isCustomElement:l,compilerOptions:d}=e.appContext.config,{delimiters:h,compilerOptions:g}=s,m=Qn(Qn({isCustomElement:l,delimiters:h},d),g);s.render=bh(a,m)}}e.render=s.render||_i}{const a=Il(e);$s();try{Uw(e)}finally{Us(),a()}}}const C2={get(e,t){return Mr(e,"get",""),e[t]}};function S2(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,C2),slots:e.slots,emit:e.emit,expose:t}}function Zu(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(sg(Eo(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in rl)return rl[n](e)},has(t,n){return n in t||n in rl}})):e.proxy}function E2(e,t=!0){return Vt(e)?e.displayName||e.name:e.name||t&&e.__name}function A2(e){return Vt(e)&&"__vccOpts"in e}const G=(e,t)=>bw(e,t,yl);function H(e,t,n){const s=arguments.length;return s===2?Rn(t)&&!At(t)?wl(t)?z(e,null,[t]):z(e,t):z(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&wl(n)&&(n=[n]),z(e,t,n))}const T2="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rd;const _h=typeof window!="undefined"&&window.trustedTypes;if(_h)try{Rd=_h.createPolicy("vue",{createHTML:e=>e})}catch{}const zg=Rd?e=>Rd.createHTML(e):e=>e,I2="http://www.w3.org/2000/svg",O2="http://www.w3.org/1998/Math/MathML",Qi=typeof document!="undefined"?document:null,Ch=Qi&&Qi.createElement("template"),D2={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const a=t==="svg"?Qi.createElementNS(I2,e):t==="mathml"?Qi.createElementNS(O2,e):n?Qi.createElement(e,{is:n}):Qi.createElement(e);return e==="select"&&s&&s.multiple!=null&&a.setAttribute("multiple",s.multiple),a},createText:e=>Qi.createTextNode(e),createComment:e=>Qi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Qi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,a,l){const d=n?n.previousSibling:t.lastChild;if(a&&(a===l||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===l||!(a=a.nextSibling)););else{Ch.innerHTML=zg(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const h=Ch.content;if(s==="svg"||s==="mathml"){const g=h.firstChild;for(;g.firstChild;)h.appendChild(g.firstChild);h.removeChild(g)}t.insertBefore(h,n)}return[d?d.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},vs="transition",Ua="animation",fa=Symbol("_vtc"),Wg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Gg=Qn({},vg,Wg),k2=e=>(e.displayName="Transition",e.props=Gg,e),di=k2((e,{slots:t})=>H(Dw,Yg(e),t)),Qs=(e,t=[])=>{At(e)?e.forEach(n=>n(...t)):e&&e(...t)},Sh=e=>e?At(e)?e.some(t=>t.length>1):e.length>1:!1;function Yg(e){const t={};for(const $ in e)$ in Wg||(t[$]=e[$]);if(e.css===!1)return t;const{name:n="v",type:s,duration:a,enterFromClass:l=`${n}-enter-from`,enterActiveClass:d=`${n}-enter-active`,enterToClass:h=`${n}-enter-to`,appearFromClass:g=l,appearActiveClass:m=d,appearToClass:p=h,leaveFromClass:y=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:b=`${n}-leave-to`}=e,T=R2(a),k=T&&T[0],q=T&&T[1],{onBeforeEnter:K,onEnter:Y,onEnterCancelled:N,onLeave:A,onLeaveCancelled:B,onBeforeAppear:Q=K,onAppear:M=Y,onAppearCancelled:ie=N}=t,L=($,be,ue,ee)=>{$._enterCancelled=ee,xs($,be?p:h),xs($,be?m:d),ue&&ue()},de=($,be)=>{$._isLeaving=!1,xs($,y),xs($,b),xs($,_),be&&be()},pe=$=>(be,ue)=>{const ee=$?M:Y,Be=()=>L(be,$,ue);Qs(ee,[be,Be]),Eh(()=>{xs(be,$?g:l),Li(be,$?p:h),Sh(ee)||Ah(be,s,k,Be)})};return Qn(t,{onBeforeEnter($){Qs(K,[$]),Li($,l),Li($,d)},onBeforeAppear($){Qs(Q,[$]),Li($,g),Li($,m)},onEnter:pe(!1),onAppear:pe(!0),onLeave($,be){$._isLeaving=!0;const ue=()=>de($,be);Li($,y),$._enterCancelled?(Li($,_),Md()):(Md(),Li($,_)),Eh(()=>{!$._isLeaving||(xs($,y),Li($,b),Sh(A)||Ah($,s,q,ue))}),Qs(A,[$,ue])},onEnterCancelled($){L($,!1,void 0,!0),Qs(N,[$])},onAppearCancelled($){L($,!0,void 0,!0),Qs(ie,[$])},onLeaveCancelled($){de($),Qs(B,[$])}})}function R2(e){if(e==null)return null;if(Rn(e))return[jc(e.enter),jc(e.leave)];{const t=jc(e);return[t,t]}}function jc(e){return Up(e)}function Li(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[fa]||(e[fa]=new Set)).add(t)}function xs(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[fa];n&&(n.delete(t),n.size||(e[fa]=void 0))}function Eh(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let M2=0;function Ah(e,t,n,s){const a=e._endId=++M2,l=()=>{a===e._endId&&s()};if(n!=null)return setTimeout(l,n);const{type:d,timeout:h,propCount:g}=Xg(e,t);if(!d)return s();const m=d+"end";let p=0;const y=()=>{e.removeEventListener(m,_),l()},_=b=>{b.target===e&&++p>=g&&y()};setTimeout(()=>{p<g&&y()},h+1),e.addEventListener(m,_)}function Xg(e,t){const n=window.getComputedStyle(e),s=T=>(n[T]||"").split(", "),a=s(`${vs}Delay`),l=s(`${vs}Duration`),d=Th(a,l),h=s(`${Ua}Delay`),g=s(`${Ua}Duration`),m=Th(h,g);let p=null,y=0,_=0;t===vs?d>0&&(p=vs,y=d,_=l.length):t===Ua?m>0&&(p=Ua,y=m,_=g.length):(y=Math.max(d,m),p=y>0?d>m?vs:Ua:null,_=p?p===vs?l.length:g.length:0);const b=p===vs&&/\b(transform|all)(,|$)/.test(s(`${vs}Property`).toString());return{type:p,timeout:y,propCount:_,hasTransform:b}}function Th(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Ih(n)+Ih(e[s])))}function Ih(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Md(){return document.body.offsetHeight}function N2(e,t,n){const s=e[fa];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const _u=Symbol("_vod"),Kg=Symbol("_vsh"),P2={beforeMount(e,{value:t},{transition:n}){e[_u]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):qa(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),qa(e,!0),s.enter(e)):s.leave(e,()=>{qa(e,!1)}):qa(e,t))},beforeUnmount(e,{value:t}){qa(e,t)}};function qa(e,t){e.style.display=t?e[_u]:"none",e[Kg]=!t}const L2=Symbol(""),B2=/(^|;)\s*display\s*:/;function F2(e,t,n){const s=e.style,a=qn(n);let l=!1;if(n&&!a){if(t)if(qn(t))for(const d of t.split(";")){const h=d.slice(0,d.indexOf(":")).trim();n[h]==null&&au(s,h,"")}else for(const d in t)n[d]==null&&au(s,d,"");for(const d in n)d==="display"&&(l=!0),au(s,d,n[d])}else if(a){if(t!==n){const d=s[L2];d&&(n+=";"+d),s.cssText=n,l=B2.test(n)}}else t&&e.removeAttribute("style");_u in e&&(e[_u]=l?s.display:"",e[Kg]&&(s.display="none"))}const Oh=/\s*!important$/;function au(e,t,n){if(At(n))n.forEach(s=>au(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=V2(e,t);Oh.test(n)?e.setProperty(Co(s),n.replace(Oh,""),"important"):e[s]=n}}const Dh=["Webkit","Moz","ms"],Hc={};function V2(e,t){const n=Hc[t];if(n)return n;let s=hi(t);if(s!=="filter"&&s in e)return Hc[t]=s;s=Uu(s);for(let a=0;a<Dh.length;a++){const l=Dh[a]+s;if(l in e)return Hc[t]=l}return t}const kh="http://www.w3.org/1999/xlink";function Rh(e,t,n,s,a,l=Gp(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(kh,t.slice(6,t.length)):e.setAttributeNS(kh,t,n):n==null||l&&!L1(n)?e.removeAttribute(t):e.setAttribute(t,l?"":as(n)?String(n):n)}function Mh(e,t,n,s,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?zg(n):n);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const h=l==="OPTION"?e.getAttribute("value")||"":e.value,g=n==null?e.type==="checkbox"?"on":"":String(n);(h!==g||!("_value"in e))&&(e.value=g),n==null&&e.removeAttribute(t),e._value=n;return}let d=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=L1(n):n==null&&h==="string"?(n="",d=!0):h==="number"&&(n=0,d=!0)}try{e[t]=n}catch{}d&&e.removeAttribute(a||t)}function $2(e,t,n,s){e.addEventListener(t,n,s)}function U2(e,t,n,s){e.removeEventListener(t,n,s)}const Nh=Symbol("_vei");function q2(e,t,n,s,a=null){const l=e[Nh]||(e[Nh]={}),d=l[t];if(s&&d)d.value=s;else{const[h,g]=j2(t);if(s){const m=l[t]=W2(s,a);$2(e,h,m,g)}else d&&(U2(e,h,d,g),l[t]=void 0)}}const Ph=/(?:Once|Passive|Capture)$/;function j2(e){let t;if(Ph.test(e)){t={};let s;for(;s=e.match(Ph);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Co(e.slice(2)),t]}let zc=0;const H2=Promise.resolve(),z2=()=>zc||(H2.then(()=>zc=0),zc=Date.now());function W2(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ei(G2(s,n.value),t,5,[s])};return n.value=e,n.attached=z2(),n}function G2(e,t){if(At(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>a=>!a._stopped&&s&&s(a))}else return t}const Lh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Y2=(e,t,n,s,a,l)=>{const d=a==="svg";t==="class"?N2(e,s,d):t==="style"?F2(e,n,s):Fu(t)?of(t)||q2(e,t,n,s,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):X2(e,t,s,d))?(Mh(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Rh(e,t,s,d,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!qn(s))?Mh(e,hi(t),s,l,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Rh(e,t,s,d))};function X2(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Lh(t)&&Vt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return Lh(t)&&qn(n)?!1:t in e}const Zg=new WeakMap,Qg=new WeakMap,Cu=Symbol("_moveCb"),Bh=Symbol("_enterCb"),K2=e=>(delete e.props.mode,e),Z2=K2({name:"TransitionGroup",props:Qn({},Gg,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=en(),s=mg();let a,l;return Tl(()=>{if(!a.length)return;const d=e.moveClass||`${e.name||"v"}-move`;if(!ny(a[0].el,n.vnode.el,d))return;a.forEach(J2),a.forEach(ey);const h=a.filter(ty);Md(),h.forEach(g=>{const m=g.el,p=m.style;Li(m,d),p.transform=p.webkitTransform=p.transitionDuration="";const y=m[Cu]=_=>{_&&_.target!==m||(!_||/transform$/.test(_.propertyName))&&(m.removeEventListener("transitionend",y),m[Cu]=null,xs(m,d))};m.addEventListener("transitionend",y)})}),()=>{const d=Ut(e),h=Yg(d);let g=d.tag||Xt;if(a=[],l)for(let m=0;m<l.length;m++){const p=l[m];p.el&&p.el instanceof Element&&(a.push(p),wo(p,vl(p,h,s,n)),Zg.set(p,p.el.getBoundingClientRect()))}l=t.default?pf(t.default()):[];for(let m=0;m<l.length;m++){const p=l[m];p.key!=null&&wo(p,vl(p,h,s,n))}return z(g,null,l)}}}),Q2=Z2;function J2(e){const t=e.el;t[Cu]&&t[Cu](),t[Bh]&&t[Bh]()}function ey(e){Qg.set(e,e.el.getBoundingClientRect())}function ty(e){const t=Zg.get(e),n=Qg.get(e),s=t.left-n.left,a=t.top-n.top;if(s||a){const l=e.el.style;return l.transform=l.webkitTransform=`translate(${s}px,${a}px)`,l.transitionDuration="0s",e}}function ny(e,t,n){const s=e.cloneNode(),a=e[fa];a&&a.forEach(h=>{h.split(/\s+/).forEach(g=>g&&s.classList.remove(g))}),n.split(/\s+/).forEach(h=>h&&s.classList.add(h)),s.style.display="none";const l=t.nodeType===1?t:t.parentNode;l.appendChild(s);const{hasTransform:d}=Xg(s);return l.removeChild(s),d}const ry=Qn({patchProp:Y2},D2);let Fh;function iy(){return Fh||(Fh=t2(ry))}const Jg=(...e)=>{const t=iy().createApp(...e),{mount:n}=t;return t.mount=s=>{const a=oy(s);if(!a)return;const l=t._component;!Vt(l)&&!l.render&&!l.template&&(l.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const d=n(a,!1,sy(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),d},t};function sy(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function oy(e){return qn(e)?document.querySelector(e):e}function Ao(e,t,n,s){return Object.defineProperty(e,t,{get:n,set:s,enumerable:!0}),e}const is=Fe(!1);let Nd;function ay(e,t){const n=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(vivaldi)[\/]([\w.]+)/.exec(e)||/(chrome|crios)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(firefox|fxios)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(e)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[4]||n[2]||"0",platform:t[0]||""}}function ly(e){return/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[]}const em="ontouchstart"in window||window.navigator.maxTouchPoints>0;function uy(e){const t=e.toLowerCase(),n=ly(t),s=ay(t,n),a={mobile:!1,desktop:!1,cordova:!1,capacitor:!1,nativeMobile:!1,electron:!1,bex:!1,linux:!1,mac:!1,win:!1,cros:!1,chrome:!1,firefox:!1,opera:!1,safari:!1,vivaldi:!1,edge:!1,edgeChromium:!1,ie:!1,webkit:!1,android:!1,ios:!1,ipad:!1,iphone:!1,ipod:!1,kindle:!1,winphone:!1,blackberry:!1,playbook:!1,silk:!1};s.browser&&(a[s.browser]=!0,a.version=s.version,a.versionNumber=parseInt(s.version,10)),s.platform&&(a[s.platform]=!0);const l=a.android||a.ios||a.bb||a.blackberry||a.ipad||a.iphone||a.ipod||a.kindle||a.playbook||a.silk||a["windows phone"];if(l===!0||t.indexOf("mobile")!==-1?a.mobile=!0:a.desktop=!0,a["windows phone"]&&(a.winphone=!0,delete a["windows phone"]),a.edga||a.edgios||a.edg?(a.edge=!0,s.browser="edge"):a.crios?(a.chrome=!0,s.browser="chrome"):a.fxios&&(a.firefox=!0,s.browser="firefox"),(a.ipod||a.ipad||a.iphone)&&(a.ios=!0),a.vivaldi&&(s.browser="vivaldi",a.vivaldi=!0),(a.chrome||a.opr||a.safari||a.vivaldi||a.mobile===!0&&a.ios!==!0&&l!==!0)&&(a.webkit=!0),a.opr&&(s.browser="opera",a.opera=!0),a.safari&&(a.blackberry||a.bb?(s.browser="blackberry",a.blackberry=!0):a.playbook?(s.browser="playbook",a.playbook=!0):a.android?(s.browser="android",a.android=!0):a.kindle?(s.browser="kindle",a.kindle=!0):a.silk&&(s.browser="silk",a.silk=!0)),a.name=s.browser,a.platform=s.platform,t.indexOf("electron")!==-1)a.electron=!0;else if(document.location.href.indexOf("-extension://")!==-1)a.bex=!0;else{if(window.Capacitor!==void 0?(a.capacitor=!0,a.nativeMobile=!0,a.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(a.cordova=!0,a.nativeMobile=!0,a.nativeMobileWrapper="cordova"),is.value===!0&&(Nd={is:{...a}}),em===!0&&a.mac===!0&&(a.desktop===!0&&a.safari===!0||a.nativeMobile===!0&&a.android!==!0&&a.ios!==!0&&a.ipad!==!0)){delete a.mac,delete a.desktop;const d=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(a,{mobile:!0,ios:!0,platform:d,[d]:!0})}a.mobile!==!0&&window.navigator.userAgentData&&window.navigator.userAgentData.mobile&&(delete a.desktop,a.mobile=!0)}return a}const Vh=navigator.userAgent||navigator.vendor||window.opera,cy={has:{touch:!1,webStorage:!1},within:{iframe:!1}},kn={userAgent:Vh,is:uy(Vh),has:{touch:em},within:{iframe:window.self!==window.top}},Su={install(e){const{$q:t}=e;is.value===!0?(e.onSSRHydrated.push(()=>{Object.assign(t.platform,kn),is.value=!1}),t.platform=So(this)):t.platform=this}};{let e;Ao(kn.has,"webStorage",()=>{if(e!==void 0)return e;try{if(window.localStorage)return e=!0,!0}catch{}return e=!1,!1}),Object.assign(Su,kn),is.value===!0&&(Object.assign(Su,Nd,cy),Nd=null)}function rn(e){return Eo(qs(e))}function _f(e){return Eo(e)}const Ol=(e,t)=>{const n=So(e);for(const s in e)Ao(t,s,()=>n[s],a=>{n[s]=a});return t},Er={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const e=Object.defineProperty({},"passive",{get(){Object.assign(Er,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,e),window.removeEventListener("qtest",null,e)}catch{}function yo(){}function dy(e){return e.button===0}function xl(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]?e=e.changedTouches[0]:e.targetTouches&&e.targetTouches[0]&&(e=e.targetTouches[0]),{top:e.clientY,left:e.clientX}}function fy(e){if(e.path)return e.path;if(e.composedPath)return e.composedPath();const t=[];let n=e.target;for(;n;){if(t.push(n),n.tagName==="HTML")return t.push(document),t.push(window),t;n=n.parentElement}}function ii(e){e.stopPropagation()}function jr(e){e.cancelable!==!1&&e.preventDefault()}function Bn(e){e.cancelable!==!1&&e.preventDefault(),e.stopPropagation()}function Wc(e,t){if(e===void 0||t===!0&&e.__dragPrevented===!0)return;const n=t===!0?s=>{s.__dragPrevented=!0,s.addEventListener("dragstart",jr,Er.notPassiveCapture)}:s=>{delete s.__dragPrevented,s.removeEventListener("dragstart",jr,Er.notPassiveCapture)};e.querySelectorAll("a, img").forEach(n)}function ao(e,t,n){const s=`__q_${t}_evt`;e[s]=e[s]!==void 0?e[s].concat(n):n,n.forEach(a=>{a[0].addEventListener(a[1],e[a[2]],Er[a[3]])})}function ol(e,t){const n=`__q_${t}_evt`;e[n]!==void 0&&(e[n].forEach(s=>{s[0].removeEventListener(s[1],e[s[2]],Er[s[3]])}),e[n]=void 0)}function Cf(e,t=250,n){let s=null;function a(){const l=arguments,d=()=>{s=null,n!==!0&&e.apply(this,l)};s!==null?clearTimeout(s):n===!0&&e.apply(this,l),s=setTimeout(d,t)}return a.cancel=()=>{s!==null&&clearTimeout(s)},a}const Gc=["sm","md","lg","xl"],{passive:$h}=Er;var hy=Ol({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:yo,setDebounce:yo,install({$q:e,onSSRHydrated:t}){if(e.screen=this,this.__installed===!0){e.config.screen!==void 0&&(e.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:n}=window,s=n||window,a=document.scrollingElement||document.documentElement,l=n===void 0||kn.is.mobile===!0?()=>[Math.max(window.innerWidth,a.clientWidth),Math.max(window.innerHeight,a.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-a.clientWidth,n.height*n.scale+window.innerHeight-a.clientHeight],d=e.config.screen!==void 0&&e.config.screen.bodyClasses===!0;this.__update=y=>{const[_,b]=l();if(b!==this.height&&(this.height=b),_!==this.width)this.width=_;else if(y!==!0)return;let T=this.sizes;this.gt.xs=_>=T.sm,this.gt.sm=_>=T.md,this.gt.md=_>=T.lg,this.gt.lg=_>=T.xl,this.lt.sm=_<T.sm,this.lt.md=_<T.md,this.lt.lg=_<T.lg,this.lt.xl=_<T.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,T=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",T!==this.name&&(d===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${T}`)),this.name=T)};let h,g={},m=16;this.setSizes=y=>{Gc.forEach(_=>{y[_]!==void 0&&(g[_]=y[_])})},this.setDebounce=y=>{m=y};const p=()=>{const y=getComputedStyle(document.body);y.getPropertyValue("--q-size-sm")&&Gc.forEach(_=>{this.sizes[_]=parseInt(y.getPropertyValue(`--q-size-${_}`),10)}),this.setSizes=_=>{Gc.forEach(b=>{_[b]&&(this.sizes[b]=_[b])}),this.__update(!0)},this.setDebounce=_=>{h!==void 0&&s.removeEventListener("resize",h,$h),h=_>0?Cf(this.__update,_):this.__update,s.addEventListener("resize",h,$h)},this.setDebounce(m),Object.keys(g).length!==0?(this.setSizes(g),g=void 0):this.__update(),d===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};is.value===!0?t.push(p):p()}});const Rr=Ol({isActive:!1,mode:!1},{__media:void 0,set(e){Rr.mode=e,e==="auto"?(Rr.__media===void 0&&(Rr.__media=window.matchMedia("(prefers-color-scheme: dark)"),Rr.__updateMedia=()=>{Rr.set("auto")},Rr.__media.addListener(Rr.__updateMedia)),e=Rr.__media.matches):Rr.__media!==void 0&&(Rr.__media.removeListener(Rr.__updateMedia),Rr.__media=void 0),Rr.isActive=e===!0,document.body.classList.remove(`body--${e===!0?"light":"dark"}`),document.body.classList.add(`body--${e===!0?"dark":"light"}`)},toggle(){Rr.set(Rr.isActive===!1)},install({$q:e,ssrContext:t}){const{dark:n}=e.config;e.dark=this,this.__installed!==!0&&this.set(n!==void 0?n:!1)}});function gy(e,t,n=document.body){if(typeof e!="string")throw new TypeError("Expected a string as propName");if(typeof t!="string")throw new TypeError("Expected a string as value");if(!(n instanceof Element))throw new TypeError("Expected a DOM element");n.style.setProperty(`--q-${e}`,t)}let tm=!1;function my(e){tm=e.isComposing===!0}function Sf(e){return tm===!0||e!==Object(e)||e.isComposing===!0||e.qKeyEvent===!0}function ss(e,t){return Sf(e)===!0?!1:[].concat(t).includes(e.keyCode)}function nm(e){if(e.ios===!0)return"ios";if(e.android===!0)return"android"}function vy({is:e,has:t,within:n},s){const a=[e.desktop===!0?"desktop":"mobile",`${t.touch===!1?"no-":""}touch`];if(e.mobile===!0){const l=nm(e);l!==void 0&&a.push("platform-"+l)}if(e.nativeMobile===!0){const l=e.nativeMobileWrapper;a.push(l),a.push("native-mobile"),e.ios===!0&&(s[l]===void 0||s[l].iosStatusBarPadding!==!1)&&a.push("q-ios-padding")}else e.electron===!0?a.push("electron"):e.bex===!0&&a.push("bex");return n.iframe===!0&&a.push("within-iframe"),a}function py(){const{is:e}=kn,t=document.body.className,n=new Set(t.replace(/ {2}/g," ").split(" "));if(e.nativeMobile!==!0&&e.electron!==!0&&e.bex!==!0){if(e.desktop===!0)n.delete("mobile"),n.delete("platform-ios"),n.delete("platform-android"),n.add("desktop");else if(e.mobile===!0){n.delete("desktop"),n.add("mobile"),n.delete("platform-ios"),n.delete("platform-android");const a=nm(e);a!==void 0&&n.add(`platform-${a}`)}}kn.has.touch===!0&&(n.delete("no-touch"),n.add("touch")),kn.within.iframe===!0&&n.add("within-iframe");const s=Array.from(n).join(" ");t!==s&&(document.body.className=s)}function wy(e){for(const t in e)gy(t,e[t])}var yy={install(e){if(this.__installed!==!0){if(is.value===!0)py();else{const{$q:t}=e;t.config.brand!==void 0&&wy(t.config.brand);const n=vy(kn,t.config);document.body.classList.add.apply(document.body.classList,n)}kn.is.ios===!0&&document.body.addEventListener("touchstart",yo),window.addEventListener("keydown",my,!0)}}};const rm=()=>!0;function xy(e){return typeof e=="string"&&e!==""&&e!=="/"&&e!=="#/"}function by(e){return e.startsWith("#")===!0&&(e=e.substring(1)),e.startsWith("/")===!1&&(e="/"+e),e.endsWith("/")===!0&&(e=e.substring(0,e.length-1)),"#"+e}function _y(e){if(e.backButtonExit===!1)return()=>!1;if(e.backButtonExit==="*")return rm;const t=["#/"];return Array.isArray(e.backButtonExit)===!0&&t.push(...e.backButtonExit.filter(xy).map(by)),()=>t.includes(window.location.hash)}var Pd={__history:[],add:yo,remove:yo,install({$q:e}){if(this.__installed===!0)return;const{cordova:t,capacitor:n}=kn.is;if(t!==!0&&n!==!0)return;const s=e.config[t===!0?"cordova":"capacitor"];if(s!==void 0&&s.backButton===!1||n===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=d=>{d.condition===void 0&&(d.condition=rm),this.__history.push(d)},this.remove=d=>{const h=this.__history.indexOf(d);h>=0&&this.__history.splice(h,1)};const a=_y(Object.assign({backButtonExit:!0},s)),l=()=>{if(this.__history.length){const d=this.__history[this.__history.length-1];d.condition()===!0&&(this.__history.pop(),d.handler())}else a()===!0?navigator.app.exitApp():window.history.back()};t===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",l,!1)}):window.Capacitor.Plugins.App.addListener("backButton",l)}},Ld={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:e=>e?`Expand "${e}"`:"Expand",collapse:e=>e?`Collapse "${e}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:e=>e===1?"1 record selected.":(e===0?"No":e)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(e,t,n)=>e+"-"+t+" of "+n,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function Uh(){const e=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof e=="string")return e.split(/[-_]/).map((t,n)=>n===0?t.toLowerCase():n>1||t.length<4?t.toUpperCase():t[0].toUpperCase()+t.slice(1).toLowerCase()).join("-")}const Vi=Ol({__qLang:{}},{getLocale:Uh,set(e=Ld,t){const n={...e,rtl:e.rtl===!0,getLocale:Uh};{if(n.set=Vi.set,Vi.__langConfig===void 0||Vi.__langConfig.noHtmlAttrs!==!0){const s=document.documentElement;s.setAttribute("dir",n.rtl===!0?"rtl":"ltr"),s.setAttribute("lang",n.isoName)}Object.assign(Vi.__qLang,n)}},install({$q:e,lang:t,ssrContext:n}){e.lang=Vi.__qLang,Vi.__langConfig=e.config.lang,this.__installed===!0?t!==void 0&&this.set(t):(this.props=new Proxy(this.__qLang,{get(){return Reflect.get(...arguments)},ownKeys(s){return Reflect.ownKeys(s).filter(a=>a!=="set"&&a!=="getLocale")}}),this.set(t||Ld))}});var Cy={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}};const Eu=Ol({iconMapFn:null,__qIconSet:{}},{set(e,t){const n={...e};n.set=Eu.set,Object.assign(Eu.__qIconSet,n)},install({$q:e,iconSet:t,ssrContext:n}){e.config.iconMapFn!==void 0&&(this.iconMapFn=e.config.iconMapFn),e.iconSet=this.__qIconSet,Ao(e,"iconMapFn",()=>this.iconMapFn,s=>{this.iconMapFn=s}),this.__installed===!0?t!==void 0&&this.set(t):(this.props=new Proxy(this.__qIconSet,{get(){return Reflect.get(...arguments)},ownKeys(s){return Reflect.ownKeys(s).filter(a=>a!=="set")}}),this.set(t||Cy))}}),im="_q_",sm="_q_l_",Sy="_q_pc_",om="_q_fo_";function es(){}const Au={};let am=!1;function Ey(){am=!0}function Ds(e,t){if(e===t)return!0;if(e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,s;if(e.constructor===Array){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(Ds(e[s],t[s])!==!0)return!1;return!0}if(e.constructor===Map){if(e.size!==t.size)return!1;let l=e.entries();for(s=l.next();s.done!==!0;){if(t.has(s.value[0])!==!0)return!1;s=l.next()}for(l=e.entries(),s=l.next();s.done!==!0;){if(Ds(s.value[1],t.get(s.value[0]))!==!0)return!1;s=l.next()}return!0}if(e.constructor===Set){if(e.size!==t.size)return!1;const l=e.entries();for(s=l.next();s.done!==!0;){if(t.has(s.value[0])!==!0)return!1;s=l.next()}return!0}if(e.buffer!=null&&e.buffer.constructor===ArrayBuffer){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const a=Object.keys(e).filter(l=>e[l]!==void 0);if(n=a.length,n!==Object.keys(t).filter(l=>t[l]!==void 0).length)return!1;for(s=n;s--!==0;){const l=a[s];if(Ds(e[l],t[l])!==!0)return!1}return!0}return e!==e&&t!==t}function Zr(e){return e!==null&&typeof e=="object"&&Array.isArray(e)!==!0}const qh=[Su,yy,Rr,hy,Pd,Vi,Eu];function Ef(e,t){const n=Jg(e);n.config.globalProperties=t.config.globalProperties;const{reload:s,...a}=t._context;return Object.assign(n._context,a),n}function jh(e,t){t.forEach(n=>{n.install(e),n.__installed=!0})}function Ay(e,t,n){e.config.globalProperties.$q=n.$q,e.provide(im,n.$q),jh(n,qh),t.components!==void 0&&Object.values(t.components).forEach(s=>{Zr(s)===!0&&s.name!==void 0&&e.component(s.name,s)}),t.directives!==void 0&&Object.values(t.directives).forEach(s=>{Zr(s)===!0&&s.name!==void 0&&e.directive(s.name,s)}),t.plugins!==void 0&&jh(n,Object.values(t.plugins).filter(s=>typeof s.install=="function"&&qh.includes(s)===!1)),is.value===!0&&(n.$q.onSSRHydrated=()=>{n.onSSRHydrated.forEach(s=>{s()}),n.$q.onSSRHydrated=()=>{}})}var Ty=function(e,t={}){const n={version:"2.17.4"};am===!1?(t.config!==void 0&&Object.assign(Au,t.config),n.config={...Au},Ey()):n.config=t.config||{},Ay(e,t,{parentApp:e,$q:n,lang:t.lang,iconSet:t.iconSet,onSSRHydrated:[]})},Iy={name:"Quasar",version:"2.17.4",install:Ty,lang:Vi,iconSet:Eu},ba=(e,t)=>{const n=e.__vccOpts||e;for(const[s,a]of t)n[s]=a;return n};const Oy=qs({name:"App"});function Dy(e,t,n,s,a,l){const d=Lw("router-view");return Ie(),yt(d)}var ky=ba(Oy,[["render",Dy]]);function tT(e){return e}var Ry=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let lm;const Qu=e=>lm=e,um=Symbol();function Bd(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var al;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(al||(al={}));function My(){const e=$1(!0),t=e.run(()=>Fe({}));let n=[],s=[];const a=Eo({install(l){Qu(a),a._a=l,l.provide(um,a),l.config.globalProperties.$pinia=a,s.forEach(d=>n.push(d)),s=[]},use(l){return!this._a&&!Ry?s.push(l):n.push(l),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return a}const cm=()=>{};function Hh(e,t,n,s=cm){e.push(t);const a=()=>{const l=e.indexOf(t);l>-1&&(e.splice(l,1),s())};return!n&&U1()&&Yp(a),a}function Uo(e,...t){e.slice().forEach(n=>{n(...t)})}const Ny=e=>e(),zh=Symbol(),Yc=Symbol();function Fd(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,s)=>e.set(s,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],a=e[n];Bd(a)&&Bd(s)&&e.hasOwnProperty(n)&&!Zn(s)&&!Ps(s)?e[n]=Fd(a,s):e[n]=s}return e}const Py=Symbol();function Ly(e){return!Bd(e)||!e.hasOwnProperty(Py)}const{assign:bs}=Object;function By(e){return!!(Zn(e)&&e.effect)}function Fy(e,t,n,s){const{state:a,actions:l,getters:d}=t,h=n.state.value[e];let g;function m(){h||(n.state.value[e]=a?a():{});const p=pw(n.state.value[e]);return bs(p,l,Object.keys(d||{}).reduce((y,_)=>(y[_]=Eo(G(()=>{Qu(n);const b=n._s.get(e);return d[_].call(b,b)})),y),{}))}return g=dm(e,m,t,n,s,!0),g}function dm(e,t,n={},s,a,l){let d;const h=bs({actions:{}},n),g={deep:!0};let m,p,y=[],_=[],b;const T=s.state.value[e];!l&&!T&&(s.state.value[e]={}),Fe({});let k;function q(ie){let L;m=p=!1,typeof ie=="function"?(ie(s.state.value[e]),L={type:al.patchFunction,storeId:e,events:b}):(Fd(s.state.value[e],ie),L={type:al.patchObject,payload:ie,storeId:e,events:b});const de=k=Symbol();En().then(()=>{k===de&&(m=!0)}),p=!0,Uo(y,L,s.state.value[e])}const K=l?function(){const{state:L}=n,de=L?L():{};this.$patch(pe=>{bs(pe,de)})}:cm;function Y(){d.stop(),y=[],_=[],s._s.delete(e)}const N=(ie,L="")=>{if(zh in ie)return ie[Yc]=L,ie;const de=function(){Qu(s);const pe=Array.from(arguments),$=[],be=[];function ue(Se){$.push(Se)}function ee(Se){be.push(Se)}Uo(_,{args:pe,name:de[Yc],store:B,after:ue,onError:ee});let Be;try{Be=ie.apply(this&&this.$id===e?this:B,pe)}catch(Se){throw Uo(be,Se),Se}return Be instanceof Promise?Be.then(Se=>(Uo($,Se),Se)).catch(Se=>(Uo(be,Se),Promise.reject(Se))):(Uo($,Be),Be)};return de[zh]=!0,de[Yc]=L,de},A={_p:s,$id:e,$onAction:Hh.bind(null,_),$patch:q,$reset:K,$subscribe(ie,L={}){const de=Hh(y,ie,L.detached,()=>pe()),pe=d.run(()=>St(()=>s.state.value[e],$=>{(L.flush==="sync"?p:m)&&ie({storeId:e,type:al.direct,events:b},$)},bs({},g,L)));return de},$dispose:Y},B=So(A);s._s.set(e,B);const M=(s._a&&s._a.runWithContext||Ny)(()=>s._e.run(()=>(d=$1()).run(()=>t({action:N}))));for(const ie in M){const L=M[ie];if(Zn(L)&&!By(L)||Ps(L))l||(T&&Ly(L)&&(Zn(L)?L.value=T[ie]:Fd(L,T[ie])),s.state.value[e][ie]=L);else if(typeof L=="function"){const de=N(L,ie);M[ie]=de,h.actions[ie]=L}}return bs(B,M),bs(Ut(B),M),Object.defineProperty(B,"$state",{get:()=>s.state.value[e],set:ie=>{q(L=>{bs(L,ie)})}}),s._p.forEach(ie=>{bs(B,d.run(()=>ie({store:B,app:s._a,pinia:s,options:h})))}),T&&l&&n.hydrate&&n.hydrate(B.$state,T),m=!0,p=!0,B}/*! #__NO_SIDE_EFFECTS__ */function us(e,t,n){let s,a;const l=typeof t=="function";typeof e=="string"?(s=e,a=l?n:t):(a=e,s=e.id);function d(h,g){const m=Yw();return h=h||(m?Pr(um,null):null),h&&Qu(h),h=lm,h._s.has(s)||(l?dm(s,t,a,h):Fy(s,a,h)),h._s.get(s)}return d.$id=s,d}var Xc=()=>My();/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Qo=typeof document!="undefined";function fm(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Vy(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&fm(e.default)}const fn=Object.assign;function Kc(e,t){const n={};for(const s in t){const a=t[s];n[s]=Ai(a)?a.map(e):e(a)}return n}const ll=()=>{},Ai=Array.isArray,hm=/#/g,$y=/&/g,Uy=/\//g,qy=/=/g,jy=/\?/g,gm=/\+/g,Hy=/%5B/g,zy=/%5D/g,mm=/%5E/g,Wy=/%60/g,vm=/%7B/g,Gy=/%7C/g,pm=/%7D/g,Yy=/%20/g;function Af(e){return encodeURI(""+e).replace(Gy,"|").replace(Hy,"[").replace(zy,"]")}function Xy(e){return Af(e).replace(vm,"{").replace(pm,"}").replace(mm,"^")}function Vd(e){return Af(e).replace(gm,"%2B").replace(Yy,"+").replace(hm,"%23").replace($y,"%26").replace(Wy,"`").replace(vm,"{").replace(pm,"}").replace(mm,"^")}function Ky(e){return Vd(e).replace(qy,"%3D")}function Zy(e){return Af(e).replace(hm,"%23").replace(jy,"%3F")}function Qy(e){return e==null?"":Zy(e).replace(Uy,"%2F")}function bl(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Jy=/\/$/,ex=e=>e.replace(Jy,"");function Zc(e,t,n="/"){let s,a={},l="",d="";const h=t.indexOf("#");let g=t.indexOf("?");return h<g&&h>=0&&(g=-1),g>-1&&(s=t.slice(0,g),l=t.slice(g+1,h>-1?h:t.length),a=e(l)),h>-1&&(s=s||t.slice(0,h),d=t.slice(h,t.length)),s=ix(s!=null?s:t,n),{fullPath:s+(l&&"?")+l+d,path:s,query:a,hash:bl(d)}}function tx(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Wh(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function nx(e,t,n){const s=t.matched.length-1,a=n.matched.length-1;return s>-1&&s===a&&ha(t.matched[s],n.matched[a])&&wm(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ha(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function wm(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!rx(e[n],t[n]))return!1;return!0}function rx(e,t){return Ai(e)?Gh(e,t):Ai(t)?Gh(t,e):e===t}function Gh(e,t){return Ai(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function ix(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),a=s[s.length-1];(a===".."||a===".")&&s.push("");let l=n.length-1,d,h;for(d=0;d<s.length;d++)if(h=s[d],h!==".")if(h==="..")l>1&&l--;else break;return n.slice(0,l).join("/")+"/"+s.slice(d).join("/")}const ps={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var _l;(function(e){e.pop="pop",e.push="push"})(_l||(_l={}));var ul;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ul||(ul={}));function sx(e){if(!e)if(Qo){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ex(e)}const ox=/^[^#]+#/;function ax(e,t){return e.replace(ox,"#")+t}function lx(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Ju=()=>({left:window.scrollX,top:window.scrollY});function ux(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=lx(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Yh(e,t){return(history.state?history.state.position-t:-1)+e}const $d=new Map;function cx(e,t){$d.set(e,t)}function dx(e){const t=$d.get(e);return $d.delete(e),t}let fx=()=>location.protocol+"//"+location.host;function ym(e,t){const{pathname:n,search:s,hash:a}=t,l=e.indexOf("#");if(l>-1){let h=a.includes(e.slice(l))?e.slice(l).length:1,g=a.slice(h);return g[0]!=="/"&&(g="/"+g),Wh(g,"")}return Wh(n,e)+s+a}function hx(e,t,n,s){let a=[],l=[],d=null;const h=({state:_})=>{const b=ym(e,location),T=n.value,k=t.value;let q=0;if(_){if(n.value=b,t.value=_,d&&d===T){d=null;return}q=k?_.position-k.position:0}else s(b);a.forEach(K=>{K(n.value,T,{delta:q,type:_l.pop,direction:q?q>0?ul.forward:ul.back:ul.unknown})})};function g(){d=n.value}function m(_){a.push(_);const b=()=>{const T=a.indexOf(_);T>-1&&a.splice(T,1)};return l.push(b),b}function p(){const{history:_}=window;!_.state||_.replaceState(fn({},_.state,{scroll:Ju()}),"")}function y(){for(const _ of l)_();l=[],window.removeEventListener("popstate",h),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",h),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:g,listen:m,destroy:y}}function Xh(e,t,n,s=!1,a=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:a?Ju():null}}function gx(e){const{history:t,location:n}=window,s={value:ym(e,n)},a={value:t.state};a.value||l(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(g,m,p){const y=e.indexOf("#"),_=y>-1?(n.host&&document.querySelector("base")?e:e.slice(y))+g:fx()+e+g;try{t[p?"replaceState":"pushState"](m,"",_),a.value=m}catch(b){console.error(b),n[p?"replace":"assign"](_)}}function d(g,m){const p=fn({},t.state,Xh(a.value.back,g,a.value.forward,!0),m,{position:a.value.position});l(g,p,!0),s.value=g}function h(g,m){const p=fn({},a.value,t.state,{forward:g,scroll:Ju()});l(p.current,p,!0);const y=fn({},Xh(s.value,g,null),{position:p.position+1},m);l(g,y,!1),s.value=g}return{location:s,state:a,push:h,replace:d}}function mx(e){e=sx(e);const t=gx(e),n=hx(e,t.state,t.location,t.replace);function s(l,d=!0){d||n.pauseListeners(),history.go(l)}const a=fn({location:"",base:e,go:s,createHref:ax.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function vx(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),mx(e)}function px(e){return typeof e=="string"||e&&typeof e=="object"}function xm(e){return typeof e=="string"||typeof e=="symbol"}const bm=Symbol("");var Kh;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Kh||(Kh={}));function ga(e,t){return fn(new Error,{type:e,[bm]:!0},t)}function Ki(e,t){return e instanceof Error&&bm in e&&(t==null||!!(e.type&t))}const Zh="[^/]+?",wx={sensitive:!1,strict:!1,start:!0,end:!0},yx=/[.+*?^${}()[\]/\\]/g;function xx(e,t){const n=fn({},wx,t),s=[];let a=n.start?"^":"";const l=[];for(const m of e){const p=m.length?[]:[90];n.strict&&!m.length&&(a+="/");for(let y=0;y<m.length;y++){const _=m[y];let b=40+(n.sensitive?.25:0);if(_.type===0)y||(a+="/"),a+=_.value.replace(yx,"\\$&"),b+=40;else if(_.type===1){const{value:T,repeatable:k,optional:q,regexp:K}=_;l.push({name:T,repeatable:k,optional:q});const Y=K||Zh;if(Y!==Zh){b+=10;try{new RegExp(`(${Y})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${T}" (${Y}): `+A.message)}}let N=k?`((?:${Y})(?:/(?:${Y}))*)`:`(${Y})`;y||(N=q&&m.length<2?`(?:/${N})`:"/"+N),q&&(N+="?"),a+=N,b+=20,q&&(b+=-8),k&&(b+=-20),Y===".*"&&(b+=-50)}p.push(b)}s.push(p)}if(n.strict&&n.end){const m=s.length-1;s[m][s[m].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const d=new RegExp(a,n.sensitive?"":"i");function h(m){const p=m.match(d),y={};if(!p)return null;for(let _=1;_<p.length;_++){const b=p[_]||"",T=l[_-1];y[T.name]=b&&T.repeatable?b.split("/"):b}return y}function g(m){let p="",y=!1;for(const _ of e){(!y||!p.endsWith("/"))&&(p+="/"),y=!1;for(const b of _)if(b.type===0)p+=b.value;else if(b.type===1){const{value:T,repeatable:k,optional:q}=b,K=T in m?m[T]:"";if(Ai(K)&&!k)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const Y=Ai(K)?K.join("/"):K;if(!Y)if(q)_.length<2&&(p.endsWith("/")?p=p.slice(0,-1):y=!0);else throw new Error(`Missing required param "${T}"`);p+=Y}}return p||"/"}return{re:d,score:s,keys:l,parse:h,stringify:g}}function bx(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function _m(e,t){let n=0;const s=e.score,a=t.score;for(;n<s.length&&n<a.length;){const l=bx(s[n],a[n]);if(l)return l;n++}if(Math.abs(a.length-s.length)===1){if(Qh(s))return 1;if(Qh(a))return-1}return a.length-s.length}function Qh(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const _x={type:0,value:""},Cx=/[a-zA-Z0-9_]/;function Sx(e){if(!e)return[[]];if(e==="/")return[[_x]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${n})/"${m}": ${b}`)}let n=0,s=n;const a=[];let l;function d(){l&&a.push(l),l=[]}let h=0,g,m="",p="";function y(){!m||(n===0?l.push({type:0,value:m}):n===1||n===2||n===3?(l.length>1&&(g==="*"||g==="+")&&t(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:m,regexp:p,repeatable:g==="*"||g==="+",optional:g==="*"||g==="?"})):t("Invalid state to consume buffer"),m="")}function _(){m+=g}for(;h<e.length;){if(g=e[h++],g==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:g==="/"?(m&&y(),d()):g===":"?(y(),n=1):_();break;case 4:_(),n=s;break;case 1:g==="("?n=2:Cx.test(g)?_():(y(),n=0,g!=="*"&&g!=="?"&&g!=="+"&&h--);break;case 2:g===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+g:n=3:p+=g;break;case 3:y(),n=0,g!=="*"&&g!=="?"&&g!=="+"&&h--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${m}"`),y(),d(),a}function Ex(e,t,n){const s=xx(Sx(e.path),n),a=fn(s,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function Ax(e,t){const n=[],s=new Map;t=n0({strict:!1,end:!0,sensitive:!1},t);function a(y){return s.get(y)}function l(y,_,b){const T=!b,k=e0(y);k.aliasOf=b&&b.record;const q=n0(t,y),K=[k];if("alias"in y){const A=typeof y.alias=="string"?[y.alias]:y.alias;for(const B of A)K.push(e0(fn({},k,{components:b?b.record.components:k.components,path:B,aliasOf:b?b.record:k})))}let Y,N;for(const A of K){const{path:B}=A;if(_&&B[0]!=="/"){const Q=_.record.path,M=Q[Q.length-1]==="/"?"":"/";A.path=_.record.path+(B&&M+B)}if(Y=Ex(A,_,q),b?b.alias.push(Y):(N=N||Y,N!==Y&&N.alias.push(Y),T&&y.name&&!t0(Y)&&d(y.name)),Cm(Y)&&g(Y),k.children){const Q=k.children;for(let M=0;M<Q.length;M++)l(Q[M],Y,b&&b.children[M])}b=b||Y}return N?()=>{d(N)}:ll}function d(y){if(xm(y)){const _=s.get(y);_&&(s.delete(y),n.splice(n.indexOf(_),1),_.children.forEach(d),_.alias.forEach(d))}else{const _=n.indexOf(y);_>-1&&(n.splice(_,1),y.record.name&&s.delete(y.record.name),y.children.forEach(d),y.alias.forEach(d))}}function h(){return n}function g(y){const _=Ox(y,n);n.splice(_,0,y),y.record.name&&!t0(y)&&s.set(y.record.name,y)}function m(y,_){let b,T={},k,q;if("name"in y&&y.name){if(b=s.get(y.name),!b)throw ga(1,{location:y});q=b.record.name,T=fn(Jh(_.params,b.keys.filter(N=>!N.optional).concat(b.parent?b.parent.keys.filter(N=>N.optional):[]).map(N=>N.name)),y.params&&Jh(y.params,b.keys.map(N=>N.name))),k=b.stringify(T)}else if(y.path!=null)k=y.path,b=n.find(N=>N.re.test(k)),b&&(T=b.parse(k),q=b.record.name);else{if(b=_.name?s.get(_.name):n.find(N=>N.re.test(_.path)),!b)throw ga(1,{location:y,currentLocation:_});q=b.record.name,T=fn({},_.params,y.params),k=b.stringify(T)}const K=[];let Y=b;for(;Y;)K.unshift(Y.record),Y=Y.parent;return{name:q,path:k,params:T,matched:K,meta:Ix(K)}}e.forEach(y=>l(y));function p(){n.length=0,s.clear()}return{addRoute:l,resolve:m,removeRoute:d,clearRoutes:p,getRoutes:h,getRecordMatcher:a}}function Jh(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function e0(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Tx(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Tx(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function t0(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ix(e){return e.reduce((t,n)=>fn(t,n.meta),{})}function n0(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Ox(e,t){let n=0,s=t.length;for(;n!==s;){const l=n+s>>1;_m(e,t[l])<0?s=l:n=l+1}const a=Dx(e);return a&&(s=t.lastIndexOf(a,s-1)),s}function Dx(e){let t=e;for(;t=t.parent;)if(Cm(t)&&_m(e,t)===0)return t}function Cm({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function kx(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<s.length;++a){const l=s[a].replace(gm," "),d=l.indexOf("="),h=bl(d<0?l:l.slice(0,d)),g=d<0?null:bl(l.slice(d+1));if(h in t){let m=t[h];Ai(m)||(m=t[h]=[m]),m.push(g)}else t[h]=g}return t}function r0(e){let t="";for(let n in e){const s=e[n];if(n=Ky(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ai(s)?s.map(l=>l&&Vd(l)):[s&&Vd(s)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+n,l!=null&&(t+="="+l))})}return t}function Rx(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Ai(s)?s.map(a=>a==null?null:""+a):s==null?s:""+s)}return t}const Mx=Symbol(""),i0=Symbol(""),ec=Symbol(""),Sm=Symbol(""),Ud=Symbol("");function ja(){let e=[];function t(s){return e.push(s),()=>{const a=e.indexOf(s);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Ts(e,t,n,s,a,l=d=>d()){const d=s&&(s.enterCallbacks[a]=s.enterCallbacks[a]||[]);return()=>new Promise((h,g)=>{const m=_=>{_===!1?g(ga(4,{from:n,to:t})):_ instanceof Error?g(_):px(_)?g(ga(2,{from:t,to:_})):(d&&s.enterCallbacks[a]===d&&typeof _=="function"&&d.push(_),h())},p=l(()=>e.call(s&&s.instances[a],t,n,m));let y=Promise.resolve(p);e.length<3&&(y=y.then(m)),y.catch(_=>g(_))})}function Qc(e,t,n,s,a=l=>l()){const l=[];for(const d of e)for(const h in d.components){let g=d.components[h];if(!(t!=="beforeRouteEnter"&&!d.instances[h]))if(fm(g)){const p=(g.__vccOpts||g)[t];p&&l.push(Ts(p,n,s,d,h,a))}else{let m=g();l.push(()=>m.then(p=>{if(!p)throw new Error(`Couldn't resolve component "${h}" at "${d.path}"`);const y=Vy(p)?p.default:p;d.mods[h]=p,d.components[h]=y;const b=(y.__vccOpts||y)[t];return b&&Ts(b,n,s,d,h,a)()}))}}return l}function s0(e){const t=Pr(ec),n=Pr(Sm),s=G(()=>{const g=P(e.to);return t.resolve(g)}),a=G(()=>{const{matched:g}=s.value,{length:m}=g,p=g[m-1],y=n.matched;if(!p||!y.length)return-1;const _=y.findIndex(ha.bind(null,p));if(_>-1)return _;const b=o0(g[m-2]);return m>1&&o0(p)===b&&y[y.length-1].path!==b?y.findIndex(ha.bind(null,g[m-2])):_}),l=G(()=>a.value>-1&&Fx(n.params,s.value.params)),d=G(()=>a.value>-1&&a.value===n.matched.length-1&&wm(n.params,s.value.params));function h(g={}){if(Bx(g)){const m=t[P(e.replace)?"replace":"push"](P(e.to)).catch(ll);return e.viewTransition&&typeof document!="undefined"&&"startViewTransition"in document&&document.startViewTransition(()=>m),m}return Promise.resolve()}return{route:s,href:G(()=>s.value.href),isActive:l,isExactActive:d,navigate:h}}function Nx(e){return e.length===1?e[0]:e}const Px=qs({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:s0,setup(e,{slots:t}){const n=So(s0(e)),{options:s}=Pr(ec),a=G(()=>({[a0(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[a0(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const l=t.default&&Nx(t.default(n));return e.custom?l:H("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},l)}}}),Lx=Px;function Bx(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Fx(e,t){for(const n in t){const s=t[n],a=e[n];if(typeof s=="string"){if(s!==a)return!1}else if(!Ai(a)||a.length!==s.length||s.some((l,d)=>l!==a[d]))return!1}return!0}function o0(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const a0=(e,t,n)=>e!=null?e:t!=null?t:n,Vx=qs({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Pr(Ud),a=G(()=>e.route||s.value),l=Pr(i0,0),d=G(()=>{let m=P(l);const{matched:p}=a.value;let y;for(;(y=p[m])&&!y.components;)m++;return m}),h=G(()=>a.value.matched[d.value]);il(i0,G(()=>d.value+1)),il(Mx,h),il(Ud,a);const g=Fe();return St(()=>[g.value,h.value,e.name],([m,p,y],[_,b,T])=>{p&&(p.instances[y]=m,b&&b!==p&&m&&m===_&&(p.leaveGuards.size||(p.leaveGuards=b.leaveGuards),p.updateGuards.size||(p.updateGuards=b.updateGuards))),m&&p&&(!b||!ha(p,b)||!_)&&(p.enterCallbacks[y]||[]).forEach(k=>k(m))},{flush:"post"}),()=>{const m=a.value,p=e.name,y=h.value,_=y&&y.components[p];if(!_)return l0(n.default,{Component:_,route:m});const b=y.props[p],T=b?b===!0?m.params:typeof b=="function"?b(m):b:null,q=H(_,fn({},T,t,{onVnodeUnmounted:K=>{K.component.isUnmounted&&(y.instances[p]=null)},ref:g}));return l0(n.default,{Component:q,route:m})||q}}});function l0(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const $x=Vx;function Ux(e){const t=Ax(e.routes,e),n=e.parseQuery||kx,s=e.stringifyQuery||r0,a=e.history,l=ja(),d=ja(),h=ja(),g=gw(ps);let m=ps;Qo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Kc.bind(null,oe=>""+oe),y=Kc.bind(null,Qy),_=Kc.bind(null,bl);function b(oe,Me){let he,Ye;return xm(oe)?(he=t.getRecordMatcher(oe),Ye=Me):Ye=oe,t.addRoute(Ye,he)}function T(oe){const Me=t.getRecordMatcher(oe);Me&&t.removeRoute(Me)}function k(){return t.getRoutes().map(oe=>oe.record)}function q(oe){return!!t.getRecordMatcher(oe)}function K(oe,Me){if(Me=fn({},Me||g.value),typeof oe=="string"){const X=Zc(n,oe,Me.path),ce=t.resolve({path:X.path},Me),Ne=a.createHref(X.fullPath);return fn(X,ce,{params:_(ce.params),hash:bl(X.hash),redirectedFrom:void 0,href:Ne})}let he;if(oe.path!=null)he=fn({},oe,{path:Zc(n,oe.path,Me.path).path});else{const X=fn({},oe.params);for(const ce in X)X[ce]==null&&delete X[ce];he=fn({},oe,{params:y(X)}),Me.params=y(Me.params)}const Ye=t.resolve(he,Me),nt=oe.hash||"";Ye.params=p(_(Ye.params));const pt=tx(s,fn({},oe,{hash:Xy(nt),path:Ye.path})),F=a.createHref(pt);return fn({fullPath:pt,hash:nt,query:s===r0?Rx(oe.query):oe.query||{}},Ye,{redirectedFrom:void 0,href:F})}function Y(oe){return typeof oe=="string"?Zc(n,oe,g.value.path):fn({},oe)}function N(oe,Me){if(m!==oe)return ga(8,{from:Me,to:oe})}function A(oe){return M(oe)}function B(oe){return A(fn(Y(oe),{replace:!0}))}function Q(oe){const Me=oe.matched[oe.matched.length-1];if(Me&&Me.redirect){const{redirect:he}=Me;let Ye=typeof he=="function"?he(oe):he;return typeof Ye=="string"&&(Ye=Ye.includes("?")||Ye.includes("#")?Ye=Y(Ye):{path:Ye},Ye.params={}),fn({query:oe.query,hash:oe.hash,params:Ye.path!=null?{}:oe.params},Ye)}}function M(oe,Me){const he=m=K(oe),Ye=g.value,nt=oe.state,pt=oe.force,F=oe.replace===!0,X=Q(he);if(X)return M(fn(Y(X),{state:typeof X=="object"?fn({},nt,X.state):nt,force:pt,replace:F}),Me||he);const ce=he;ce.redirectedFrom=Me;let Ne;return!pt&&nx(s,Ye,he)&&(Ne=ga(16,{to:ce,from:Ye}),me(Ye,Ye,!0,!1)),(Ne?Promise.resolve(Ne):de(ce,Ye)).catch(xe=>Ki(xe)?Ki(xe,2)?xe:ut(xe):Re(xe,ce,Ye)).then(xe=>{if(xe){if(Ki(xe,2))return M(fn({replace:F},Y(xe.to),{state:typeof xe.to=="object"?fn({},nt,xe.to.state):nt,force:pt}),Me||ce)}else xe=$(ce,Ye,!0,F,nt);return pe(ce,Ye,xe),xe})}function ie(oe,Me){const he=N(oe,Me);return he?Promise.reject(he):Promise.resolve()}function L(oe){const Me=it.values().next().value;return Me&&typeof Me.runWithContext=="function"?Me.runWithContext(oe):oe()}function de(oe,Me){let he;const[Ye,nt,pt]=qx(oe,Me);he=Qc(Ye.reverse(),"beforeRouteLeave",oe,Me);for(const X of Ye)X.leaveGuards.forEach(ce=>{he.push(Ts(ce,oe,Me))});const F=ie.bind(null,oe,Me);return he.push(F),we(he).then(()=>{he=[];for(const X of l.list())he.push(Ts(X,oe,Me));return he.push(F),we(he)}).then(()=>{he=Qc(nt,"beforeRouteUpdate",oe,Me);for(const X of nt)X.updateGuards.forEach(ce=>{he.push(Ts(ce,oe,Me))});return he.push(F),we(he)}).then(()=>{he=[];for(const X of pt)if(X.beforeEnter)if(Ai(X.beforeEnter))for(const ce of X.beforeEnter)he.push(Ts(ce,oe,Me));else he.push(Ts(X.beforeEnter,oe,Me));return he.push(F),we(he)}).then(()=>(oe.matched.forEach(X=>X.enterCallbacks={}),he=Qc(pt,"beforeRouteEnter",oe,Me,L),he.push(F),we(he))).then(()=>{he=[];for(const X of d.list())he.push(Ts(X,oe,Me));return he.push(F),we(he)}).catch(X=>Ki(X,8)?X:Promise.reject(X))}function pe(oe,Me,he){h.list().forEach(Ye=>L(()=>Ye(oe,Me,he)))}function $(oe,Me,he,Ye,nt){const pt=N(oe,Me);if(pt)return pt;const F=Me===ps,X=Qo?history.state:{};he&&(Ye||F?a.replace(oe.fullPath,fn({scroll:F&&X&&X.scroll},nt)):a.push(oe.fullPath,nt)),g.value=oe,me(oe,Me,he,F),ut()}let be;function ue(){be||(be=a.listen((oe,Me,he)=>{if(!vt.listening)return;const Ye=K(oe),nt=Q(Ye);if(nt){M(fn(nt,{replace:!0,force:!0}),Ye).catch(ll);return}m=Ye;const pt=g.value;Qo&&cx(Yh(pt.fullPath,he.delta),Ju()),de(Ye,pt).catch(F=>Ki(F,12)?F:Ki(F,2)?(M(fn(Y(F.to),{force:!0}),Ye).then(X=>{Ki(X,20)&&!he.delta&&he.type===_l.pop&&a.go(-1,!1)}).catch(ll),Promise.reject()):(he.delta&&a.go(-he.delta,!1),Re(F,Ye,pt))).then(F=>{F=F||$(Ye,pt,!1),F&&(he.delta&&!Ki(F,8)?a.go(-he.delta,!1):he.type===_l.pop&&Ki(F,20)&&a.go(-1,!1)),pe(Ye,pt,F)}).catch(ll)}))}let ee=ja(),Be=ja(),Se;function Re(oe,Me,he){ut(oe);const Ye=Be.list();return Ye.length?Ye.forEach(nt=>nt(oe,Me,he)):console.error(oe),Promise.reject(oe)}function et(){return Se&&g.value!==ps?Promise.resolve():new Promise((oe,Me)=>{ee.add([oe,Me])})}function ut(oe){return Se||(Se=!oe,ue(),ee.list().forEach(([Me,he])=>oe?he(oe):Me()),ee.reset()),oe}function me(oe,Me,he,Ye){const{scrollBehavior:nt}=e;if(!Qo||!nt)return Promise.resolve();const pt=!he&&dx(Yh(oe.fullPath,0))||(Ye||!he)&&history.state&&history.state.scroll||null;return En().then(()=>nt(oe,Me,pt)).then(F=>F&&ux(F)).catch(F=>Re(F,oe,Me))}const re=oe=>a.go(oe);let Ze;const it=new Set,vt={currentRoute:g,listening:!0,addRoute:b,removeRoute:T,clearRoutes:t.clearRoutes,hasRoute:q,getRoutes:k,resolve:K,options:e,push:A,replace:B,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:l.add,beforeResolve:d.add,afterEach:h.add,onError:Be.add,isReady:et,install(oe){const Me=this;oe.component("RouterLink",Lx),oe.component("RouterView",$x),oe.config.globalProperties.$router=Me,Object.defineProperty(oe.config.globalProperties,"$route",{enumerable:!0,get:()=>P(g)}),Qo&&!Ze&&g.value===ps&&(Ze=!0,A(a.location).catch(nt=>{}));const he={};for(const nt in ps)Object.defineProperty(he,nt,{get:()=>g.value[nt],enumerable:!0});oe.provide(ec,Me),oe.provide(Sm,ng(he)),oe.provide(Ud,g);const Ye=oe.unmount;it.add(oe),oe.unmount=function(){it.delete(oe),it.size<1&&(m=ps,be&&be(),be=null,g.value=ps,Ze=!1,Se=!1),Ye()}}};function we(oe){return oe.reduce((Me,he)=>Me.then(()=>L(he)),Promise.resolve())}return vt}function qx(e,t){const n=[],s=[],a=[],l=Math.max(t.matched.length,e.matched.length);for(let d=0;d<l;d++){const h=t.matched[d];h&&(e.matched.find(m=>ha(m,h))?s.push(h):n.push(h));const g=e.matched[d];g&&(t.matched.find(m=>ha(m,g))||a.push(g))}return[n,s,a]}function Tf(){return Pr(ec)}const qd={xs:18,sm:24,md:32,lg:38,xl:46},_a={size:String};function Ca(e,t=qd){return G(()=>e.size!==void 0?{fontSize:e.size in t?`${t[e.size]}px`:e.size}:null)}function Kn(e,t){return e!==void 0&&e()||t}function jx(e,t){if(e!==void 0){const n=e();if(n!=null)return n.slice()}return t}function rs(e,t){return e!==void 0?t.concat(e()):t}function Em(e,t){return e===void 0?t:t!==void 0?t.concat(e()):e()}function Hx(e,t,n,s,a,l){t.key=s+a;const d=H(e,t,n);return a===!0?bi(d,l()):d}const u0="0 0 24 24",c0=e=>e,Jc=e=>`ionicons ${e}`,Am={"mdi-":e=>`mdi ${e}`,"icon-":c0,"bt-":e=>`bt ${e}`,"eva-":e=>`eva ${e}`,"ion-md":Jc,"ion-ios":Jc,"ion-logo":Jc,"iconfont ":c0,"ti-":e=>`themify-icon ${e}`,"bi-":e=>`bootstrap-icons ${e}`},Tm={o_:"-outlined",r_:"-round",s_:"-sharp"},Im={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},zx=new RegExp("^("+Object.keys(Am).join("|")+")"),Wx=new RegExp("^("+Object.keys(Tm).join("|")+")"),d0=new RegExp("^("+Object.keys(Im).join("|")+")"),Gx=/^[Mm]\s?[-+]?\.?\d/,Yx=/^img:/,Xx=/^svguse:/,Kx=/^ion-/,Zx=/^(fa-(classic|sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /;var Jt=rn({name:"QIcon",props:{..._a,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=en(),s=Ca(e),a=G(()=>"q-icon"+(e.left===!0?" on-left":"")+(e.right===!0?" on-right":"")+(e.color!==void 0?` text-${e.color}`:"")),l=G(()=>{let d,h=e.name;if(h==="none"||!h)return{none:!0};if(n.iconMapFn!==null){const p=n.iconMapFn(h);if(p!==void 0)if(p.icon!==void 0){if(h=p.icon,h==="none"||!h)return{none:!0}}else return{cls:p.cls,content:p.content!==void 0?p.content:" "}}if(Gx.test(h)===!0){const[p,y=u0]=h.split("|");return{svg:!0,viewBox:y,nodes:p.split("&&").map(_=>{const[b,T,k]=_.split("@@");return H("path",{style:T,d:b,transform:k})})}}if(Yx.test(h)===!0)return{img:!0,src:h.substring(4)};if(Xx.test(h)===!0){const[p,y=u0]=h.split("|");return{svguse:!0,src:p.substring(7),viewBox:y}}let g=" ";const m=h.match(zx);if(m!==null)d=Am[m[1]](h);else if(Zx.test(h)===!0)d=h;else if(Kx.test(h)===!0)d=`ionicons ion-${n.platform.is.ios===!0?"ios":"md"}${h.substring(3)}`;else if(d0.test(h)===!0){d="notranslate material-symbols";const p=h.match(d0);p!==null&&(h=h.substring(6),d+=Im[p[1]]),g=h}else{d="notranslate material-icons";const p=h.match(Wx);p!==null&&(h=h.substring(2),d+=Tm[p[1]]),g=h}return{cls:d,content:g}});return()=>{const d={class:a.value,style:s.value,"aria-hidden":"true",role:"presentation"};return l.value.none===!0?H(e.tag,d,Kn(t.default)):l.value.img===!0?H(e.tag,d,rs(t.default,[H("img",{src:l.value.src})])):l.value.svg===!0?H(e.tag,d,rs(t.default,[H("svg",{viewBox:l.value.viewBox||"0 0 24 24"},l.value.nodes)])):l.value.svguse===!0?H(e.tag,d,rs(t.default,[H("svg",{viewBox:l.value.viewBox},[H("use",{"xlink:href":l.value.src})])])):(l.value.cls!==void 0&&(d.class+=" "+l.value.cls),H(e.tag,d,rs(t.default,[l.value.content])))}}});const Om={size:{type:[String,Number],default:"1em"},color:String};function Dm(e){return{cSize:G(()=>e.size in qd?`${qd[e.size]}px`:e.size),classes:G(()=>"q-spinner"+(e.color?` text-${e.color}`:""))}}var xo=rn({name:"QSpinner",props:{...Om,thickness:{type:Number,default:5}},setup(e){const{cSize:t,classes:n}=Dm(e);return()=>H("svg",{class:n.value+" q-spinner-mat",width:t.value,height:t.value,viewBox:"25 25 50 50"},[H("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":e.thickness,"stroke-miterlimit":"10"})])}});let ed,Gl=0;const Sr=new Array(256);for(let e=0;e<256;e++)Sr[e]=(e+256).toString(16).substring(1);const Qx=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let s=t;s>0;s--)n.push(Math.floor(Math.random()*256));return n}})(),f0=4096;function jd(){(ed===void 0||Gl+16>f0)&&(Gl=0,ed=Qx(f0));const e=Array.prototype.slice.call(ed,Gl,Gl+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Sr[e[0]]+Sr[e[1]]+Sr[e[2]]+Sr[e[3]]+"-"+Sr[e[4]]+Sr[e[5]]+"-"+Sr[e[6]]+Sr[e[7]]+"-"+Sr[e[8]]+Sr[e[9]]+"-"+Sr[e[10]]+Sr[e[11]]+Sr[e[12]]+Sr[e[13]]+Sr[e[14]]+Sr[e[15]]}function Jx(e){return e==null?null:e}function h0(e,t){return e==null?t===!0?`f_${jd()}`:null:e}function eb({getValue:e,required:t=!0}={}){if(is.value===!0){const n=Fe(e!==void 0?Jx(e()):null);return t===!0&&n.value===null&&gr(()=>{n.value=`f_${jd()}`}),e!==void 0&&St(e,s=>{n.value=h0(s,t)}),n}return e!==void 0?G(()=>h0(e(),t)):Fe(`f_${jd()}`)}const g0=/^on[A-Z]/;function tb(){const{attrs:e,vnode:t}=en(),n={listeners:Fe({}),attributes:Fe({})};function s(){const a={},l={};for(const d in e)d!=="class"&&d!=="style"&&g0.test(d)===!1&&(a[d]=e[d]);for(const d in t.props)g0.test(d)===!0&&(l[d]=t.props[d]);n.attributes.value=a,n.listeners.value=l}return Yu(s),s(),n}const Jr={dark:{type:Boolean,default:null}};function ei(e,t){return G(()=>e.dark===null?t.dark.isActive:e.dark)}function nb({validate:e,resetValidation:t,requiresQForm:n}){const s=Pr(om,!1);if(s!==!1){const{props:a,proxy:l}=en();Object.assign(l,{validate:e,resetValidation:t}),St(()=>a.disable,d=>{d===!0?(typeof t=="function"&&t(),s.unbindComponent(l)):s.bindComponent(l)}),gr(()=>{a.disable!==!0&&s.bindComponent(l)}),Ir(()=>{a.disable!==!0&&s.unbindComponent(l)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const m0=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,v0=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,p0=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Yl=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Xl=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,td={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>m0.test(e),hexaColor:e=>v0.test(e),hexOrHexaColor:e=>p0.test(e),rgbColor:e=>Yl.test(e),rgbaColor:e=>Xl.test(e),rgbOrRgbaColor:e=>Yl.test(e)||Xl.test(e),hexOrRgbColor:e=>m0.test(e)||Yl.test(e),hexaOrRgbaColor:e=>v0.test(e)||Xl.test(e),anyColor:e=>p0.test(e)||Yl.test(e)||Xl.test(e)},rb=[!0,!1,"ondemand"],ib={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>rb.includes(e)}};function sb(e,t){const{props:n,proxy:s}=en(),a=Fe(!1),l=Fe(null),d=Fe(!1);nb({validate:k,resetValidation:T});let h=0,g;const m=G(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),p=G(()=>n.disable!==!0&&m.value===!0&&t.value===!1),y=G(()=>n.error===!0||a.value===!0),_=G(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:l.value);St(()=>n.modelValue,()=>{d.value=!0,p.value===!0&&n.lazyRules===!1&&q()});function b(){n.lazyRules!=="ondemand"&&p.value===!0&&d.value===!0&&q()}St(()=>n.reactiveRules,K=>{K===!0?g===void 0&&(g=St(()=>n.rules,b,{immediate:!0,deep:!0})):g!==void 0&&(g(),g=void 0)},{immediate:!0}),St(()=>n.lazyRules,b),St(e,K=>{K===!0?d.value=!0:p.value===!0&&n.lazyRules!=="ondemand"&&q()});function T(){h++,t.value=!1,d.value=!1,a.value=!1,l.value=null,q.cancel()}function k(K=n.modelValue){if(n.disable===!0||m.value===!1)return!0;const Y=++h,N=t.value!==!0?()=>{d.value=!0}:()=>{},A=(Q,M)=>{Q===!0&&N(),a.value=Q,l.value=M||null,t.value=!1},B=[];for(let Q=0;Q<n.rules.length;Q++){const M=n.rules[Q];let ie;if(typeof M=="function"?ie=M(K,td):typeof M=="string"&&td[M]!==void 0&&(ie=td[M](K)),ie===!1||typeof ie=="string")return A(!0,ie),!1;ie!==!0&&ie!==void 0&&B.push(ie)}return B.length===0?(A(!1),!0):(t.value=!0,Promise.all(B).then(Q=>{if(Q===void 0||Array.isArray(Q)===!1||Q.length===0)return Y===h&&A(!1),!0;const M=Q.find(ie=>ie===!1||typeof ie=="string");return Y===h&&A(M!==void 0,M),M===void 0},Q=>(Y===h&&(console.error(Q),A(!0)),!1)))}const q=Cf(k,0);return Ir(()=>{g!==void 0&&g(),q.cancel()}),Object.assign(s,{resetValidation:T,validate:k}),Ao(s,"hasError",()=>y.value),{isDirtyModel:d,hasRules:m,hasError:y,errorMessage:_,validate:k,resetValidation:T}}let lo=[],Cl=[];function km(e){Cl=Cl.filter(t=>t!==e)}function ob(e){km(e),Cl.push(e)}function w0(e){km(e),Cl.length===0&&lo.length!==0&&(lo[lo.length-1](),lo=[])}function Dl(e){Cl.length===0?e():lo.push(e)}function ab(e){lo=lo.filter(t=>t!==e)}function Sl(e){return e!=null&&(""+e).length!==0}const lb={...Jr,...ib,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},tc={...lb,maxlength:[Number,String]},If=["update:modelValue","clear","focus","blur"];function Of({requiredForAttr:e=!0,tagProp:t,changeEvent:n=!1}={}){const{props:s,proxy:a}=en(),l=ei(s,a.$q),d=eb({required:e,getValue:()=>s.for});return{requiredForAttr:e,changeEvent:n,tag:t===!0?G(()=>s.tag):{value:"label"},isDark:l,editable:G(()=>s.disable!==!0&&s.readonly!==!0),innerLoading:Fe(!1),focused:Fe(!1),hasPopupOpen:!1,splitAttrs:tb(),targetUid:d,rootRef:Fe(null),targetRef:Fe(null),controlRef:Fe(null)}}function Df(e){const{props:t,emit:n,slots:s,attrs:a,proxy:l}=en(),{$q:d}=l;let h=null;e.hasValue===void 0&&(e.hasValue=G(()=>Sl(t.modelValue))),e.emitValue===void 0&&(e.emitValue=Re=>{n("update:modelValue",Re)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:L,onFocusout:de}),Object.assign(e,{clearValue:pe,onControlFocusin:L,onControlFocusout:de,focus:M}),e.computedCounter===void 0&&(e.computedCounter=G(()=>{if(t.counter!==!1){const Re=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,et=t.maxlength!==void 0?t.maxlength:t.maxValues;return Re+(et!==void 0?" / "+et:"")}}));const{isDirtyModel:g,hasRules:m,hasError:p,errorMessage:y,resetValidation:_}=sb(e.focused,e.innerLoading),b=e.floatingLabel!==void 0?G(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):G(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),T=G(()=>t.bottomSlots===!0||t.hint!==void 0||m.value===!0||t.counter===!0||t.error!==null),k=G(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),q=G(()=>`q-field row no-wrap items-start q-field--${k.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(b.value===!0?" q-field--float":"")+(Y.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(p.value===!0?" q-field--error":"")+(p.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&T.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),K=G(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(p.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),Y=G(()=>t.labelSlot===!0||t.label!==void 0),N=G(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&p.value!==!0?` text-${t.labelColor}`:"")),A=G(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:b.value,modelValue:t.modelValue,emitValue:e.emitValue})),B=G(()=>{const Re={};return e.targetUid.value&&(Re.for=e.targetUid.value),t.disable===!0&&(Re["aria-disabled"]="true"),Re});function Q(){const Re=document.activeElement;let et=e.targetRef!==void 0&&e.targetRef.value;et&&(Re===null||Re.id!==e.targetUid.value)&&(et.hasAttribute("tabindex")===!0||(et=et.querySelector("[tabindex]")),et&&et!==Re&&et.focus({preventScroll:!0}))}function M(){Dl(Q)}function ie(){ab(Q);const Re=document.activeElement;Re!==null&&e.rootRef.value.contains(Re)&&Re.blur()}function L(Re){h!==null&&(clearTimeout(h),h=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",Re))}function de(Re,et){h!==null&&clearTimeout(h),h=setTimeout(()=>{h=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",Re)),et!==void 0&&et())})}function pe(Re){Bn(Re),d.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),e.changeEvent===!0&&n("change",null),n("clear",t.modelValue),En(()=>{const et=g.value;_(),g.value=et})}function $(Re){[13,32].includes(Re.keyCode)&&pe(Re)}function be(){const Re=[];return s.prepend!==void 0&&Re.push(H("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:jr},s.prepend())),Re.push(H("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},ue())),p.value===!0&&t.noErrorIcon===!1&&Re.push(Be("error",[H(Jt,{name:d.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?Re.push(Be("inner-loading-append",s.loading!==void 0?s.loading():[H(xo,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&Re.push(Be("inner-clearable-append",[H(Jt,{class:"q-field__focusable-action",name:t.clearIcon||d.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":d.lang.label.clear,onKeyup:$,onClick:pe})])),s.append!==void 0&&Re.push(H("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:jr},s.append())),e.getInnerAppend!==void 0&&Re.push(Be("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&Re.push(e.getControlChild()),Re}function ue(){const Re=[];return t.prefix!==void 0&&t.prefix!==null&&Re.push(H("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&Re.push(e.getShadowControl()),e.getControl!==void 0?Re.push(e.getControl()):s.rawControl!==void 0?Re.push(s.rawControl()):s.control!==void 0&&Re.push(H("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},s.control(A.value))),Y.value===!0&&Re.push(H("div",{class:N.value},Kn(s.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&Re.push(H("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),Re.concat(Kn(s.default))}function ee(){let Re,et;p.value===!0?y.value!==null?(Re=[H("div",{role:"alert"},y.value)],et=`q--slot-error-${y.value}`):(Re=Kn(s.error),et="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(Re=[H("div",t.hint)],et=`q--slot-hint-${t.hint}`):(Re=Kn(s.hint),et="q--slot-hint"));const ut=t.counter===!0||s.counter!==void 0;if(t.hideBottomSpace===!0&&ut===!1&&Re===void 0)return;const me=H("div",{key:et,class:"q-field__messages col"},Re);return H("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:jr},[t.hideBottomSpace===!0?me:H(di,{name:"q-transition--field-message"},()=>me),ut===!0?H("div",{class:"q-field__counter"},s.counter!==void 0?s.counter():e.computedCounter.value):null])}function Be(Re,et){return et===null?null:H("div",{key:Re,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},et)}let Se=!1;return ya(()=>{Se=!0}),Wu(()=>{Se===!0&&t.autofocus===!0&&l.focus()}),t.autofocus===!0&&gr(()=>{l.focus()}),Ir(()=>{h!==null&&clearTimeout(h)}),Object.assign(l,{focus:M,blur:ie}),function(){const et=e.getControl===void 0&&s.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...B.value}:B.value;return H(e.tag.value,{ref:e.rootRef,class:[q.value,a.class],style:a.style,...et},[s.before!==void 0?H("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:jr},s.before()):null,H("div",{class:"q-field__inner relative-position col self-stretch"},[H("div",{ref:e.controlRef,class:K.value,tabindex:-1,...e.controlEvents},be()),T.value===!0?ee():null]),s.after!==void 0?H("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:jr},s.after()):null])}}const y0={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Tu={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Rm=Object.keys(Tu);Rm.forEach(e=>{Tu[e].regex=new RegExp(Tu[e].pattern)});const ub=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Rm.join("")+"])|(.)","g"),x0=/[.*+?^${}()|[\]\\]/g,nr=String.fromCharCode(1),cb={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function db(e,t,n,s){let a,l,d,h,g,m;const p=Fe(null),y=Fe(b());function _(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}St(()=>e.type+e.autogrow,k),St(()=>e.mask,L=>{if(L!==void 0)q(y.value,!0);else{const de=M(y.value);k(),e.modelValue!==de&&t("update:modelValue",de)}}),St(()=>e.fillMask+e.reverseFillMask,()=>{p.value===!0&&q(y.value,!0)}),St(()=>e.unmaskedValue,()=>{p.value===!0&&q(y.value)});function b(){if(k(),p.value===!0){const L=B(M(e.modelValue));return e.fillMask!==!1?ie(L):L}return e.modelValue}function T(L){if(L<a.length)return a.slice(-L);let de="",pe=a;const $=pe.indexOf(nr);if($!==-1){for(let be=L-pe.length;be>0;be--)de+=nr;pe=pe.slice(0,$)+de+pe.slice($)}return pe}function k(){if(p.value=e.mask!==void 0&&e.mask.length!==0&&_(),p.value===!1){h=void 0,a="",l="";return}const L=y0[e.mask]===void 0?e.mask:y0[e.mask],de=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",pe=de.replace(x0,"\\$&"),$=[],be=[],ue=[];let ee=e.reverseFillMask===!0,Be="",Se="";L.replace(ub,(me,re,Ze,it,vt)=>{if(it!==void 0){const we=Tu[it];ue.push(we),Se=we.negate,ee===!0&&(be.push("(?:"+Se+"+)?("+we.pattern+"+)?(?:"+Se+"+)?("+we.pattern+"+)?"),ee=!1),be.push("(?:"+Se+"+)?("+we.pattern+")?")}else if(Ze!==void 0)Be="\\"+(Ze==="\\"?"":Ze),ue.push(Ze),$.push("([^"+Be+"]+)?"+Be+"?");else{const we=re!==void 0?re:vt;Be=we==="\\"?"\\\\\\\\":we.replace(x0,"\\\\$&"),ue.push(we),$.push("([^"+Be+"]+)?"+Be+"?")}});const Re=new RegExp("^"+$.join("")+"("+(Be===""?".":"[^"+Be+"]")+"+)?"+(Be===""?"":"["+Be+"]*")+"$"),et=be.length-1,ut=be.map((me,re)=>re===0&&e.reverseFillMask===!0?new RegExp("^"+pe+"*"+me):re===et?new RegExp("^"+me+"("+(Se===""?".":Se)+"+)?"+(e.reverseFillMask===!0?"$":pe+"*")):new RegExp("^"+me));d=ue,h=me=>{const re=Re.exec(e.reverseFillMask===!0?me:me.slice(0,ue.length+1));re!==null&&(me=re.slice(1).join(""));const Ze=[],it=ut.length;for(let vt=0,we=me;vt<it;vt++){const oe=ut[vt].exec(we);if(oe===null)break;we=we.slice(oe.shift().length),Ze.push(...oe)}return Ze.length!==0?Ze.join(""):me},a=ue.map(me=>typeof me=="string"?me:nr).join(""),l=a.split(nr).join(de)}function q(L,de,pe){const $=s.value,be=$.selectionEnd,ue=$.value.length-be,ee=M(L);de===!0&&k();const Be=B(ee),Se=e.fillMask!==!1?ie(Be):Be,Re=y.value!==Se;$.value!==Se&&($.value=Se),Re===!0&&(y.value=Se),document.activeElement===$&&En(()=>{if(Se===l){const ut=e.reverseFillMask===!0?l.length:0;$.setSelectionRange(ut,ut,"forward");return}if(pe==="insertFromPaste"&&e.reverseFillMask!==!0){const ut=$.selectionEnd;let me=be-1;for(let re=g;re<=me&&re<ut;re++)a[re]!==nr&&me++;Y.right($,me);return}if(["deleteContentBackward","deleteContentForward"].indexOf(pe)!==-1){const ut=e.reverseFillMask===!0?be===0?Se.length>Be.length?1:0:Math.max(0,Se.length-(Se===l?0:Math.min(Be.length,ue)+1))+1:be;$.setSelectionRange(ut,ut,"forward");return}if(e.reverseFillMask===!0)if(Re===!0){const ut=Math.max(0,Se.length-(Se===l?0:Math.min(Be.length,ue+1)));ut===1&&be===1?$.setSelectionRange(ut,ut,"forward"):Y.rightReverse($,ut)}else{const ut=Se.length-ue;$.setSelectionRange(ut,ut,"backward")}else if(Re===!0){const ut=Math.max(0,a.indexOf(nr),Math.min(Be.length,be)-1);Y.right($,ut)}else{const ut=be-1;Y.right($,ut)}});const et=e.unmaskedValue===!0?M(Se):Se;String(e.modelValue)!==et&&(e.modelValue!==null||et!=="")&&n(et,!0)}function K(L,de,pe){const $=B(M(L.value));de=Math.max(0,a.indexOf(nr),Math.min($.length,de)),g=de,L.setSelectionRange(de,pe,"forward")}const Y={left(L,de){const pe=a.slice(de-1).indexOf(nr)===-1;let $=Math.max(0,de-1);for(;$>=0;$--)if(a[$]===nr){de=$,pe===!0&&de++;break}if($<0&&a[de]!==void 0&&a[de]!==nr)return Y.right(L,0);de>=0&&L.setSelectionRange(de,de,"backward")},right(L,de){const pe=L.value.length;let $=Math.min(pe,de+1);for(;$<=pe;$++)if(a[$]===nr){de=$;break}else a[$-1]===nr&&(de=$);if($>pe&&a[de-1]!==void 0&&a[de-1]!==nr)return Y.left(L,pe);L.setSelectionRange(de,de,"forward")},leftReverse(L,de){const pe=T(L.value.length);let $=Math.max(0,de-1);for(;$>=0;$--)if(pe[$-1]===nr){de=$;break}else if(pe[$]===nr&&(de=$,$===0))break;if($<0&&pe[de]!==void 0&&pe[de]!==nr)return Y.rightReverse(L,0);de>=0&&L.setSelectionRange(de,de,"backward")},rightReverse(L,de){const pe=L.value.length,$=T(pe),be=$.slice(0,de+1).indexOf(nr)===-1;let ue=Math.min(pe,de+1);for(;ue<=pe;ue++)if($[ue-1]===nr){de=ue,de>0&&be===!0&&de--;break}if(ue>pe&&$[de-1]!==void 0&&$[de-1]!==nr)return Y.leftReverse(L,pe);L.setSelectionRange(de,de,"forward")}};function N(L){t("click",L),m=void 0}function A(L){if(t("keydown",L),Sf(L)===!0||L.altKey===!0)return;const de=s.value,pe=de.selectionStart,$=de.selectionEnd;if(L.shiftKey||(m=void 0),L.keyCode===37||L.keyCode===39){L.shiftKey&&m===void 0&&(m=de.selectionDirection==="forward"?pe:$);const be=Y[(L.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(L.preventDefault(),be(de,m===pe?$:pe),L.shiftKey){const ue=de.selectionStart;de.setSelectionRange(Math.min(m,ue),Math.max(m,ue),"forward")}}else L.keyCode===8&&e.reverseFillMask!==!0&&pe===$?(Y.left(de,pe),de.setSelectionRange(de.selectionStart,$,"backward")):L.keyCode===46&&e.reverseFillMask===!0&&pe===$&&(Y.rightReverse(de,$),de.setSelectionRange(pe,de.selectionEnd,"forward"))}function B(L){if(L==null||L==="")return"";if(e.reverseFillMask===!0)return Q(L);const de=d;let pe=0,$="";for(let be=0;be<de.length;be++){const ue=L[pe],ee=de[be];if(typeof ee=="string")$+=ee,ue===ee&&pe++;else if(ue!==void 0&&ee.regex.test(ue))$+=ee.transform!==void 0?ee.transform(ue):ue,pe++;else return $}return $}function Q(L){const de=d,pe=a.indexOf(nr);let $=L.length-1,be="";for(let ue=de.length-1;ue>=0&&$!==-1;ue--){const ee=de[ue];let Be=L[$];if(typeof ee=="string")be=ee+be,Be===ee&&$--;else if(Be!==void 0&&ee.regex.test(Be))do be=(ee.transform!==void 0?ee.transform(Be):Be)+be,$--,Be=L[$];while(pe===ue&&Be!==void 0&&ee.regex.test(Be));else return be}return be}function M(L){return typeof L!="string"||h===void 0?typeof L=="number"?h(""+L):L:h(L)}function ie(L){return l.length-L.length<=0?L:e.reverseFillMask===!0&&L.length!==0?l.slice(0,-L.length)+L:L+l.slice(L.length)}return{innerValue:y,hasMask:p,moveCursorForPaste:K,updateMaskValue:q,onMaskedKeydown:A,onMaskedClick:N}}const kl={name:String};function fb(e){return G(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function kf(e={}){return(t,n,s)=>{t[n](H("input",{class:"hidden"+(s||""),...e.value}))}}function Mm(e){return G(()=>e.name||e.for)}function hb(e,t){function n(){const s=e.modelValue;try{const a="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(s)===s&&("length"in s?Array.from(s):[s]).forEach(l=>{a.items.add(l)}),{files:a.files}}catch{return{files:void 0}}}return G(t===!0?()=>{if(e.type==="file")return n()}:n)}const gb=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,mb=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,vb=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,pb=/[a-z0-9_ -]$/i;function Nm(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(kn.is.firefox===!0?pb.test(n.data)===!1:gb.test(n.data)===!0||mb.test(n.data)===!0||vb.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}var Dn=rn({name:"QInput",inheritAttrs:!1,props:{...tc,...cb,...kl,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...If,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:s}=en(),{$q:a}=s,l={};let d=NaN,h,g,m=null,p;const y=Fe(null),_=Mm(e),{innerValue:b,hasMask:T,moveCursorForPaste:k,updateMaskValue:q,onMaskedKeydown:K,onMaskedClick:Y}=db(e,t,Be,y),N=hb(e,!0),A=G(()=>Sl(b.value)),B=Nm(ue),Q=Of({changeEvent:!0}),M=G(()=>e.type==="textarea"||e.autogrow===!0),ie=G(()=>M.value===!0||["text","search","url","tel","password"].includes(e.type)),L=G(()=>{const re={...Q.splitAttrs.listeners.value,onInput:ue,onPaste:be,onChange:Re,onBlur:et,onFocus:ii};return re.onCompositionstart=re.onCompositionupdate=re.onCompositionend=B,T.value===!0&&(re.onKeydown=K,re.onClick=Y),e.autogrow===!0&&(re.onAnimationend=ee),re}),de=G(()=>{const re={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:_.value,...Q.splitAttrs.attributes.value,id:Q.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return M.value===!1&&(re.type=e.type),e.autogrow===!0&&(re.rows=1),re});St(()=>e.type,()=>{y.value&&(y.value.value=e.modelValue)}),St(()=>e.modelValue,re=>{if(T.value===!0){if(g===!0&&(g=!1,String(re)===d))return;q(re)}else b.value!==re&&(b.value=re,e.type==="number"&&l.hasOwnProperty("value")===!0&&(h===!0?h=!1:delete l.value));e.autogrow===!0&&En(Se)}),St(()=>e.autogrow,re=>{re===!0?En(Se):y.value!==null&&n.rows>0&&(y.value.style.height="auto")}),St(()=>e.dense,()=>{e.autogrow===!0&&En(Se)});function pe(){Dl(()=>{const re=document.activeElement;y.value!==null&&y.value!==re&&(re===null||re.id!==Q.targetUid.value)&&y.value.focus({preventScroll:!0})})}function $(){y.value!==null&&y.value.select()}function be(re){if(T.value===!0&&e.reverseFillMask!==!0){const Ze=re.target;k(Ze,Ze.selectionStart,Ze.selectionEnd)}t("paste",re)}function ue(re){if(!re||!re.target)return;if(e.type==="file"){t("update:modelValue",re.target.files);return}const Ze=re.target.value;if(re.target.qComposing===!0){l.value=Ze;return}if(T.value===!0)q(Ze,!1,re.inputType);else if(Be(Ze),ie.value===!0&&re.target===document.activeElement){const{selectionStart:it,selectionEnd:vt}=re.target;it!==void 0&&vt!==void 0&&En(()=>{re.target===document.activeElement&&Ze.indexOf(re.target.value)===0&&re.target.setSelectionRange(it,vt)})}e.autogrow===!0&&Se()}function ee(re){t("animationend",re),Se()}function Be(re,Ze){p=()=>{m=null,e.type!=="number"&&l.hasOwnProperty("value")===!0&&delete l.value,e.modelValue!==re&&d!==re&&(d=re,Ze===!0&&(g=!0),t("update:modelValue",re),En(()=>{d===re&&(d=NaN)})),p=void 0},e.type==="number"&&(h=!0,l.value=re),e.debounce!==void 0?(m!==null&&clearTimeout(m),l.value=re,m=setTimeout(p,e.debounce)):p()}function Se(){requestAnimationFrame(()=>{const re=y.value;if(re!==null){const Ze=re.parentNode.style,{scrollTop:it}=re,{overflowY:vt,maxHeight:we}=a.platform.is.firefox===!0?{}:window.getComputedStyle(re),oe=vt!==void 0&&vt!=="scroll";oe===!0&&(re.style.overflowY="hidden"),Ze.marginBottom=re.scrollHeight-1+"px",re.style.height="1px",re.style.height=re.scrollHeight+"px",oe===!0&&(re.style.overflowY=parseInt(we,10)<re.scrollHeight?"auto":"hidden"),Ze.marginBottom="",re.scrollTop=it}})}function Re(re){B(re),m!==null&&(clearTimeout(m),m=null),p!==void 0&&p(),t("change",re.target.value)}function et(re){re!==void 0&&ii(re),m!==null&&(clearTimeout(m),m=null),p!==void 0&&p(),h=!1,g=!1,delete l.value,e.type!=="file"&&setTimeout(()=>{y.value!==null&&(y.value.value=b.value!==void 0?b.value:"")})}function ut(){return l.hasOwnProperty("value")===!0?l.value:b.value!==void 0?b.value:""}Ir(()=>{et()}),gr(()=>{e.autogrow===!0&&Se()}),Object.assign(Q,{innerValue:b,fieldClass:G(()=>`q-${M.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:G(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:y,emitValue:Be,hasValue:A,floatingLabel:G(()=>A.value===!0&&(e.type!=="number"||isNaN(b.value)===!1)||Sl(e.displayValue)),getControl:()=>H(M.value===!0?"textarea":"input",{ref:y,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...de.value,...L.value,...e.type!=="file"?{value:ut()}:N.value}),getShadowControl:()=>H("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(M.value===!0?"":" text-no-wrap")},[H("span",{class:"invisible"},ut()),H("span",e.shadowText)])});const me=Df(Q);return Object.assign(s,{focus:pe,select:$,getNativeElement:()=>y.value}),Ao(s,"nativeEl",()=>y.value),me}});function Hd(e,t){const n=e.style;for(const s in t)n[s]=t[s]}function wb(e){if(e==null)return;if(typeof e=="string")try{return document.querySelector(e)||void 0}catch{return}const t=P(e);if(t)return t.$el||t}function Pm(e,t){if(e==null||e.contains(t)===!0)return!0;for(let n=e.nextElementSibling;n!==null;n=n.nextElementSibling)if(n.contains(t))return!0;return!1}function yb(e,t=250){let n=!1,s;return function(){return n===!1&&(n=!0,setTimeout(()=>{n=!1},t),s=e.apply(this,arguments)),s}}function b0(e,t,n,s){n.modifiers.stop===!0&&ii(e);const a=n.modifiers.color;let l=n.modifiers.center;l=l===!0||s===!0;const d=document.createElement("span"),h=document.createElement("span"),g=xl(e),{left:m,top:p,width:y,height:_}=t.getBoundingClientRect(),b=Math.sqrt(y*y+_*_),T=b/2,k=`${(y-b)/2}px`,q=l?k:`${g.left-m-T}px`,K=`${(_-b)/2}px`,Y=l?K:`${g.top-p-T}px`;h.className="q-ripple__inner",Hd(h,{height:`${b}px`,width:`${b}px`,transform:`translate3d(${q},${Y},0) scale3d(.2,.2,1)`,opacity:0}),d.className=`q-ripple${a?" text-"+a:""}`,d.setAttribute("dir","ltr"),d.appendChild(h),t.appendChild(d);const N=()=>{d.remove(),clearTimeout(A)};n.abort.push(N);let A=setTimeout(()=>{h.classList.add("q-ripple__inner--enter"),h.style.transform=`translate3d(${k},${K},0) scale3d(1,1,1)`,h.style.opacity=.2,A=setTimeout(()=>{h.classList.remove("q-ripple__inner--enter"),h.classList.add("q-ripple__inner--leave"),h.style.opacity=0,A=setTimeout(()=>{d.remove(),n.abort.splice(n.abort.indexOf(N),1)},275)},250)},50)}function _0(e,{modifiers:t,value:n,arg:s}){const a=Object.assign({},e.cfg.ripple,t,n);e.modifiers={early:a.early===!0,stop:a.stop===!0,center:a.center===!0,color:a.color||s,keyCodes:[].concat(a.keyCodes||13)}}var nc=_f({name:"ripple",beforeMount(e,t){const n=t.instance.$.appContext.config.globalProperties.$q.config||{};if(n.ripple===!1)return;const s={cfg:n,enabled:t.value!==!1,modifiers:{},abort:[],start(a){s.enabled===!0&&a.qSkipRipple!==!0&&a.type===(s.modifiers.early===!0?"pointerdown":"click")&&b0(a,e,s,a.qKeyEvent===!0)},keystart:yb(a=>{s.enabled===!0&&a.qSkipRipple!==!0&&ss(a,s.modifiers.keyCodes)===!0&&a.type===`key${s.modifiers.early===!0?"down":"up"}`&&b0(a,e,s,!0)},300)};_0(s,t),e.__qripple=s,ao(s,"main",[[e,"pointerdown","start","passive"],[e,"click","start","passive"],[e,"keydown","keystart","passive"],[e,"keyup","keystart","passive"]])},updated(e,t){if(t.oldValue!==t.value){const n=e.__qripple;n!==void 0&&(n.enabled=t.value!==!1,n.enabled===!0&&Object(t.value)===t.value&&_0(n,t))}},beforeUnmount(e){const t=e.__qripple;t!==void 0&&(t.abort.forEach(n=>{n()}),ol(t,"main"),delete e._qripple)}});const Lm={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},xb=Object.keys(Lm),Bm={align:{type:String,validator:e=>xb.includes(e)}};function Fm(e){return G(()=>{const t=e.align===void 0?e.vertical===!0?"stretch":"left":e.align;return`${e.vertical===!0?"items":"justify"}-${Lm[t]}`})}function lu(e){if(Object(e.$parent)===e.$parent)return e.$parent;let{parent:t}=e.$;for(;Object(t)===t;){if(Object(t.proxy)===t.proxy)return t.proxy;t=t.parent}}function Vm(e){return e.appContext.config.globalProperties.$router!==void 0}function sa(e){return e.isUnmounted===!0||e.isDeactivated===!0}function C0(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function S0(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function bb(e,t){for(const n in t){const s=t[n],a=e[n];if(typeof s=="string"){if(s!==a)return!1}else if(Array.isArray(a)===!1||a.length!==s.length||s.some((l,d)=>l!==a[d]))return!1}return!0}function E0(e,t){return Array.isArray(t)===!0?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function _b(e,t){return Array.isArray(e)===!0?E0(e,t):Array.isArray(t)===!0?E0(t,e):e===t}function Cb(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(_b(e[n],t[n])===!1)return!1;return!0}const $m={to:[String,Object],replace:Boolean,href:String,target:String,disable:Boolean},Sb={...$m,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"}};function Um({fallbackTag:e,useDisableForRouterLinkProps:t=!0}={}){const n=en(),{props:s,proxy:a,emit:l}=n,d=Vm(n),h=G(()=>s.disable!==!0&&s.href!==void 0),g=G(t===!0?()=>d===!0&&s.disable!==!0&&h.value!==!0&&s.to!==void 0&&s.to!==null&&s.to!=="":()=>d===!0&&h.value!==!0&&s.to!==void 0&&s.to!==null&&s.to!==""),m=G(()=>g.value===!0?Y(s.to):null),p=G(()=>m.value!==null),y=G(()=>h.value===!0||p.value===!0),_=G(()=>s.type==="a"||y.value===!0?"a":s.tag||e||"div"),b=G(()=>h.value===!0?{href:s.href,target:s.target}:p.value===!0?{href:m.value.href,target:s.target}:{}),T=G(()=>{if(p.value===!1)return-1;const{matched:B}=m.value,{length:Q}=B,M=B[Q-1];if(M===void 0)return-1;const ie=a.$route.matched;if(ie.length===0)return-1;const L=ie.findIndex(S0.bind(null,M));if(L!==-1)return L;const de=C0(B[Q-2]);return Q>1&&C0(M)===de&&ie[ie.length-1].path!==de?ie.findIndex(S0.bind(null,B[Q-2])):L}),k=G(()=>p.value===!0&&T.value!==-1&&bb(a.$route.params,m.value.params)),q=G(()=>k.value===!0&&T.value===a.$route.matched.length-1&&Cb(a.$route.params,m.value.params)),K=G(()=>p.value===!0?q.value===!0?` ${s.exactActiveClass} ${s.activeClass}`:s.exact===!0?"":k.value===!0?` ${s.activeClass}`:"":"");function Y(B){try{return a.$router.resolve(B)}catch{}return null}function N(B,{returnRouterError:Q,to:M=s.to,replace:ie=s.replace}={}){if(s.disable===!0)return B.preventDefault(),Promise.resolve(!1);if(B.metaKey||B.altKey||B.ctrlKey||B.shiftKey||B.button!==void 0&&B.button!==0||s.target==="_blank")return Promise.resolve(!1);B.preventDefault();const L=a.$router[ie===!0?"replace":"push"](M);return Q===!0?L:L.then(()=>{}).catch(()=>{})}function A(B){if(p.value===!0){const Q=M=>N(B,M);l("click",B,Q),B.defaultPrevented!==!0&&Q()}else l("click",B)}return{hasRouterLink:p,hasHrefLink:h,hasLink:y,linkTag:_,resolvedLink:m,linkIsActive:k,linkIsExactActive:q,linkClass:K,linkAttrs:b,getLink:Y,navigateToRouterLink:N,navigateOnClick:A}}const A0={none:0,xs:4,sm:8,md:16,lg:24,xl:32},Eb={xs:8,sm:10,md:14,lg:20,xl:24},Ab=["button","submit","reset"],Tb=/[^\s]\/[^\s]/,Ib=["flat","outline","push","unelevated"];function Ob(e,t){return e.flat===!0?"flat":e.outline===!0?"outline":e.push===!0?"push":e.unelevated===!0?"unelevated":t}const Db={..._a,...$m,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...Ib.reduce((e,t)=>(e[t]=Boolean)&&e,{}),square:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...Bm.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean},kb={...Db,round:Boolean};function Rb(e){const t=Ca(e,Eb),n=Fm(e),{hasRouterLink:s,hasLink:a,linkTag:l,linkAttrs:d,navigateOnClick:h}=Um({fallbackTag:"button"}),g=G(()=>{const q=e.fab===!1&&e.fabMini===!1?t.value:{};return e.padding!==void 0?Object.assign({},q,{padding:e.padding.split(/\s+/).map(K=>K in A0?A0[K]+"px":K).join(" "),minWidth:"0",minHeight:"0"}):q}),m=G(()=>e.rounded===!0||e.fab===!0||e.fabMini===!0),p=G(()=>e.disable!==!0&&e.loading!==!0),y=G(()=>p.value===!0?e.tabindex||0:-1),_=G(()=>Ob(e,"standard")),b=G(()=>{const q={tabindex:y.value};return a.value===!0?Object.assign(q,d.value):Ab.includes(e.type)===!0&&(q.type=e.type),l.value==="a"?(e.disable===!0?q["aria-disabled"]="true":q.href===void 0&&(q.role="button"),s.value!==!0&&Tb.test(e.type)===!0&&(q.type=e.type)):e.disable===!0&&(q.disabled="",q["aria-disabled"]="true"),e.loading===!0&&e.percentage!==void 0&&Object.assign(q,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percentage}),q}),T=G(()=>{let q;e.color!==void 0?e.flat===!0||e.outline===!0?q=`text-${e.textColor||e.color}`:q=`bg-${e.color} text-${e.textColor||"white"}`:e.textColor&&(q=`text-${e.textColor}`);const K=e.round===!0?"round":`rectangle${m.value===!0?" q-btn--rounded":e.square===!0?" q-btn--square":""}`;return`q-btn--${_.value} q-btn--${K}`+(q!==void 0?" "+q:"")+(p.value===!0?" q-btn--actionable q-focusable q-hoverable":e.disable===!0?" disabled":"")+(e.fab===!0?" q-btn--fab":e.fabMini===!0?" q-btn--fab-mini":"")+(e.noCaps===!0?" q-btn--no-uppercase":"")+(e.dense===!0?" q-btn--dense":"")+(e.stretch===!0?" no-border-radius self-stretch":"")+(e.glossy===!0?" glossy":"")+(e.square?" q-btn--square":"")}),k=G(()=>n.value+(e.stack===!0?" column":" row")+(e.noWrap===!0?" no-wrap text-no-wrap":"")+(e.loading===!0?" q-btn__content--hidden":""));return{classes:T,style:g,innerClasses:k,attributes:b,hasLink:a,linkTag:l,navigateOnClick:h,isActionable:p}}const{passiveCapture:ci}=Er;let qo=null,jo=null,Ho=null;var st=rn({name:"QBtn",props:{...kb,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(e,{slots:t,emit:n}){const{proxy:s}=en(),{classes:a,style:l,innerClasses:d,attributes:h,hasLink:g,linkTag:m,navigateOnClick:p,isActionable:y}=Rb(e),_=Fe(null),b=Fe(null);let T=null,k,q=null;const K=G(()=>e.label!==void 0&&e.label!==null&&e.label!==""),Y=G(()=>e.disable===!0||e.ripple===!1?!1:{keyCodes:g.value===!0?[13,32]:[13],...e.ripple===!0?{}:e.ripple}),N=G(()=>({center:e.round})),A=G(()=>{const ue=Math.max(0,Math.min(100,e.percentage));return ue>0?{transition:"transform 0.6s",transform:`translateX(${ue-100}%)`}:{}}),B=G(()=>{if(e.loading===!0)return{onMousedown:be,onTouchstart:be,onClick:be,onKeydown:be,onKeyup:be};if(y.value===!0){const ue={onClick:M,onKeydown:ie,onMousedown:de};if(s.$q.platform.has.touch===!0){const ee=e.onTouchstart!==void 0?"":"Passive";ue[`onTouchstart${ee}`]=L}return ue}return{onClick:Bn}}),Q=G(()=>({ref:_,class:"q-btn q-btn-item non-selectable no-outline "+a.value,style:l.value,...h.value,...B.value}));function M(ue){if(_.value!==null){if(ue!==void 0){if(ue.defaultPrevented===!0)return;const ee=document.activeElement;if(e.type==="submit"&&ee!==document.body&&_.value.contains(ee)===!1&&ee.contains(_.value)===!1){_.value.focus();const Be=()=>{document.removeEventListener("keydown",Bn,!0),document.removeEventListener("keyup",Be,ci),_.value!==null&&_.value.removeEventListener("blur",Be,ci)};document.addEventListener("keydown",Bn,!0),document.addEventListener("keyup",Be,ci),_.value.addEventListener("blur",Be,ci)}}p(ue)}}function ie(ue){_.value!==null&&(n("keydown",ue),ss(ue,[13,32])===!0&&jo!==_.value&&(jo!==null&&$(),ue.defaultPrevented!==!0&&(_.value.focus(),jo=_.value,_.value.classList.add("q-btn--active"),document.addEventListener("keyup",pe,!0),_.value.addEventListener("blur",pe,ci)),Bn(ue)))}function L(ue){_.value!==null&&(n("touchstart",ue),ue.defaultPrevented!==!0&&(qo!==_.value&&(qo!==null&&$(),qo=_.value,T=ue.target,T.addEventListener("touchcancel",pe,ci),T.addEventListener("touchend",pe,ci)),k=!0,q!==null&&clearTimeout(q),q=setTimeout(()=>{q=null,k=!1},200)))}function de(ue){_.value!==null&&(ue.qSkipRipple=k===!0,n("mousedown",ue),ue.defaultPrevented!==!0&&Ho!==_.value&&(Ho!==null&&$(),Ho=_.value,_.value.classList.add("q-btn--active"),document.addEventListener("mouseup",pe,ci)))}function pe(ue){if(_.value!==null&&!(ue!==void 0&&ue.type==="blur"&&document.activeElement===_.value)){if(ue!==void 0&&ue.type==="keyup"){if(jo===_.value&&ss(ue,[13,32])===!0){const ee=new MouseEvent("click",ue);ee.qKeyEvent=!0,ue.defaultPrevented===!0&&jr(ee),ue.cancelBubble===!0&&ii(ee),_.value.dispatchEvent(ee),Bn(ue),ue.qKeyEvent=!0}n("keyup",ue)}$()}}function $(ue){const ee=b.value;ue!==!0&&(qo===_.value||Ho===_.value)&&ee!==null&&ee!==document.activeElement&&(ee.setAttribute("tabindex",-1),ee.focus()),qo===_.value&&(T!==null&&(T.removeEventListener("touchcancel",pe,ci),T.removeEventListener("touchend",pe,ci)),qo=T=null),Ho===_.value&&(document.removeEventListener("mouseup",pe,ci),Ho=null),jo===_.value&&(document.removeEventListener("keyup",pe,!0),_.value!==null&&_.value.removeEventListener("blur",pe,ci),jo=null),_.value!==null&&_.value.classList.remove("q-btn--active")}function be(ue){Bn(ue),ue.qSkipRipple=!0}return Ir(()=>{$(!0)}),Object.assign(s,{click:ue=>{y.value===!0&&M(ue)}}),()=>{let ue=[];e.icon!==void 0&&ue.push(H(Jt,{name:e.icon,left:e.stack!==!0&&K.value===!0,role:"img"})),K.value===!0&&ue.push(H("span",{class:"block"},[e.label])),ue=rs(t.default,ue),e.iconRight!==void 0&&e.round===!1&&ue.push(H(Jt,{name:e.iconRight,right:e.stack!==!0&&K.value===!0,role:"img"}));const ee=[H("span",{class:"q-focus-helper",ref:b})];return e.loading===!0&&e.percentage!==void 0&&ee.push(H("span",{class:"q-btn__progress absolute-full overflow-hidden"+(e.darkPercentage===!0?" q-btn__progress--dark":"")},[H("span",{class:"q-btn__progress-indicator fit block",style:A.value})])),ee.push(H("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+d.value},ue)),e.loading!==null&&ee.push(H(di,{name:"q-transition--fade"},()=>e.loading===!0?[H("span",{key:"loading",class:"absolute-full flex flex-center"},t.loading!==void 0?t.loading():[H(xo)])]:null)),bi(H(m.value,Q.value,ee),[[nc,Y.value,void 0,N.value]])}}}),os=rn({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:n}){const s=en(),a=Fe(null);let l=0;const d=[];function h(b){const T=typeof b=="boolean"?b:e.noErrorFocus!==!0,k=++l,q=(N,A)=>{n(`validation${N===!0?"Success":"Error"}`,A)},K=N=>{const A=N.validate();return typeof A.then=="function"?A.then(B=>({valid:B,comp:N}),B=>({valid:!1,comp:N,err:B})):Promise.resolve({valid:A,comp:N})};return(e.greedy===!0?Promise.all(d.map(K)).then(N=>N.filter(A=>A.valid!==!0)):d.reduce((N,A)=>N.then(()=>K(A).then(B=>{if(B.valid===!1)return Promise.reject(B)})),Promise.resolve()).catch(N=>[N])).then(N=>{if(N===void 0||N.length===0)return k===l&&q(!0),!0;if(k===l){const{comp:A,err:B}=N[0];if(B!==void 0&&console.error(B),q(!1,A),T===!0){const Q=N.find(({comp:M})=>typeof M.focus=="function"&&sa(M.$)===!1);Q!==void 0&&Q.comp.focus()}}return!1})}function g(){l++,d.forEach(b=>{typeof b.resetValidation=="function"&&b.resetValidation()})}function m(b){b!==void 0&&Bn(b);const T=l+1;h().then(k=>{T===l&&k===!0&&(e.onSubmit!==void 0?n("submit",b):b!==void 0&&b.target!==void 0&&typeof b.target.submit=="function"&&b.target.submit())})}function p(b){b!==void 0&&Bn(b),n("reset"),En(()=>{g(),e.autofocus===!0&&e.noResetFocus!==!0&&y()})}function y(){Dl(()=>{if(a.value===null)return;const b=a.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||a.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||a.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(a.value.querySelectorAll("[tabindex]"),T=>T.tabIndex!==-1);b!=null&&b.focus({preventScroll:!0})})}il(om,{bindComponent(b){d.push(b)},unbindComponent(b){const T=d.indexOf(b);T!==-1&&d.splice(T,1)}});let _=!1;return ya(()=>{_=!0}),Wu(()=>{_===!0&&e.autofocus===!0&&y()}),gr(()=>{e.autofocus===!0&&y()}),Object.assign(s.proxy,{validate:h,resetValidation:g,submit:m,reset:p,focus:y,getValidationComponents:()=>d}),()=>H("form",{class:"q-form",ref:a,onSubmit:m,onReset:p},Kn(t.default))}}),Rf=rn({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=en(),s=Pr(sm,es);if(s===es)return console.error("QPage needs to be a deep child of QLayout"),es;if(Pr(Sy,es)===es)return console.error("QPage needs to be child of QPageContainer"),es;const l=G(()=>{const h=(s.header.space===!0?s.header.size:0)+(s.footer.space===!0?s.footer.size:0);if(typeof e.styleFn=="function"){const g=s.isContainer.value===!0?s.containerHeight.value:n.screen.height;return e.styleFn(h,g)}return{minHeight:s.isContainer.value===!0?s.containerHeight.value-h+"px":n.screen.height===0?h!==0?`calc(100vh - ${h}px)`:"100vh":n.screen.height-h+"px"}}),d=G(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>H("main",{class:d.value,style:l.value},Kn(t.default))}});function Mb(e,t,n){let s;function a(){s!==void 0&&(Pd.remove(s),s=void 0)}return Ir(()=>{e.value===!0&&a()}),{removeFromHistory:a,addToHistory(){s={condition:()=>n.value===!0,handler:t},Pd.add(s)}}}function Iu(){let e=null;const t=en();function n(){e!==null&&(clearTimeout(e),e=null)}return ya(n),Ir(n),{removeTimeout:n,registerTimeout(s,a){n(),sa(t)===!1&&(e=setTimeout(()=>{e=null,s()},a))}}}function qm(){let e;const t=en();function n(){e=void 0}return ya(n),Ir(n),{removeTick:n,registerTick(s){e=s,En(()=>{e===s&&(sa(t)===!1&&e(),e=void 0)})}}}const jm={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Hm=["beforeShow","show","beforeHide","hide"];function zm({showing:e,canShow:t,hideOnRouteChange:n,handleShow:s,handleHide:a,processOnMount:l}){const d=en(),{props:h,emit:g,proxy:m}=d;let p;function y(Y){e.value===!0?T(Y):_(Y)}function _(Y){if(h.disable===!0||Y!==void 0&&Y.qAnchorHandled===!0||t!==void 0&&t(Y)!==!0)return;const N=h["onUpdate:modelValue"]!==void 0;N===!0&&(g("update:modelValue",!0),p=Y,En(()=>{p===Y&&(p=void 0)})),(h.modelValue===null||N===!1)&&b(Y)}function b(Y){e.value!==!0&&(e.value=!0,g("beforeShow",Y),s!==void 0?s(Y):g("show",Y))}function T(Y){if(h.disable===!0)return;const N=h["onUpdate:modelValue"]!==void 0;N===!0&&(g("update:modelValue",!1),p=Y,En(()=>{p===Y&&(p=void 0)})),(h.modelValue===null||N===!1)&&k(Y)}function k(Y){e.value!==!1&&(e.value=!1,g("beforeHide",Y),a!==void 0?a(Y):g("hide",Y))}function q(Y){h.disable===!0&&Y===!0?h["onUpdate:modelValue"]!==void 0&&g("update:modelValue",!1):Y===!0!==e.value&&(Y===!0?b:k)(p)}St(()=>h.modelValue,q),n!==void 0&&Vm(d)===!0&&St(()=>m.$route.fullPath,()=>{n.value===!0&&e.value===!0&&T()}),l===!0&&gr(()=>{q(h.modelValue)});const K={show:_,hide:T,toggle:y};return Object.assign(m,K),K}const Wm={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Gm(e,t=()=>{},n=()=>{}){return{transitionProps:G(()=>{const s=`q-transition--${e.transitionShow||t()}`,a=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${s}-enter-from`,enterActiveClass:`${s}-enter-active`,enterToClass:`${s}-enter-to`,leaveFromClass:`${a}-leave-from`,leaveActiveClass:`${a}-leave-active`,leaveToClass:`${a}-leave-to`}}),transitionStyle:G(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let Nb=1,Pb=document.body;function rc(e,t){const n=document.createElement("div");if(n.id=t!==void 0?`q-portal--${t}--${Nb++}`:e,Au.globalNodes!==void 0){const s=Au.globalNodes.class;s!==void 0&&(n.className=s)}return Pb.appendChild(n),n}function Mf(e){e.remove()}const oa=[];function Lb(e){return oa.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Ym(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return lu(e)}else if(e.__qPortal===!0){const n=lu(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=lu(e)}while(e!=null)}function Bb(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=Ym(e,t);continue}e.hide(t)}e=lu(e)}}const Fb=rn({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function Vb(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Xm(e,t,n,s){const a=Fe(!1),l=Fe(!1);let d=null;const h={},g=s==="dialog"&&Vb(e);function m(y){if(y===!0){w0(h),l.value=!0;return}l.value=!1,a.value===!1&&(g===!1&&d===null&&(d=rc(!1,s)),a.value=!0,oa.push(e.proxy),ob(h))}function p(y){if(l.value=!1,y!==!0)return;w0(h),a.value=!1;const _=oa.indexOf(e.proxy);_!==-1&&oa.splice(_,1),d!==null&&(Mf(d),d=null)}return xa(()=>{p(!0)}),e.proxy.__qPortal=!0,Ao(e.proxy,"contentEl",()=>t.value),{showPortal:m,hidePortal:p,portalIsActive:a,portalIsAccessible:l,renderPortal:()=>g===!0?n():a.value===!0?[H(Iw,{to:d},H(Fb,n))]:void 0}}const $b=[Element,String],Ub=[null,document,document.body,document.scrollingElement,document.documentElement];function qb(e,t){let n=wb(t);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return Ub.includes(n)?window:n}function Km(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function Zm(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function Qm(e,t,n=0){const s=arguments[3]===void 0?performance.now():arguments[3],a=Km(e);if(n<=0){a!==t&&zd(e,t);return}requestAnimationFrame(l=>{const d=l-s,h=a+(t-a)/Math.max(d,n)*d;zd(e,h),h!==t&&Qm(e,t,n-d,l)})}function Jm(e,t,n=0){const s=arguments[3]===void 0?performance.now():arguments[3],a=Zm(e);if(n<=0){a!==t&&Wd(e,t);return}requestAnimationFrame(l=>{const d=l-s,h=a+(t-a)/Math.max(d,n)*d;Wd(e,h),h!==t&&Jm(e,t,n-d,l)})}function zd(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function Wd(e,t){if(e===window){window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=t}function nT(e,t,n){if(n){Qm(e,t,n);return}zd(e,t)}function rT(e,t,n){if(n){Jm(e,t,n);return}Wd(e,t)}let Kl;function jb(){if(Kl!==void 0)return Kl;const e=document.createElement("p"),t=document.createElement("div");Hd(e,{width:"100%",height:"200px"}),Hd(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let s=e.offsetWidth;return n===s&&(s=t.clientWidth),t.remove(),Kl=n-s,Kl}function Hb(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}let Ha=0,nd,rd,Ka,id=!1,T0,I0,O0,Js=null;function zb(e){Wb(e)&&Bn(e)}function Wb(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=fy(e),n=e.shiftKey&&!e.deltaX,s=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),a=n||s?e.deltaY:e.deltaX;for(let l=0;l<t.length;l++){const d=t[l];if(Hb(d,s))return s?a<0&&d.scrollTop===0?!0:a>0&&d.scrollTop+d.clientHeight===d.scrollHeight:a<0&&d.scrollLeft===0?!0:a>0&&d.scrollLeft+d.clientWidth===d.scrollWidth}return!0}function D0(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function Zl(e){id!==!0&&(id=!0,requestAnimationFrame(()=>{id=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:s}=document.scrollingElement;(Ka===void 0||t!==window.innerHeight)&&(Ka=n-t,document.scrollingElement.scrollTop=s),s>Ka&&(document.scrollingElement.scrollTop-=Math.ceil((s-Ka)/8))}))}function k0(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:s,overflowX:a}=window.getComputedStyle(t);nd=Zm(window),rd=Km(window),T0=t.style.left,I0=t.style.top,O0=window.location.href,t.style.left=`-${nd}px`,t.style.top=`-${rd}px`,a!=="hidden"&&(a==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),s!=="hidden"&&(s==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,kn.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",Zl,Er.passiveCapture),window.visualViewport.addEventListener("scroll",Zl,Er.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",D0,Er.passiveCapture))}kn.is.desktop===!0&&kn.is.mac===!0&&window[`${e}EventListener`]("wheel",zb,Er.notPassive),e==="remove"&&(kn.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",Zl,Er.passiveCapture),window.visualViewport.removeEventListener("scroll",Zl,Er.passiveCapture)):window.removeEventListener("scroll",D0,Er.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=T0,t.style.top=I0,window.location.href===O0&&window.scrollTo(nd,rd),Ka=void 0)}function Gd(e){let t="add";if(e===!0){if(Ha++,Js!==null){clearTimeout(Js),Js=null;return}if(Ha>1)return}else{if(Ha===0||(Ha--,Ha>0))return;if(t="remove",kn.is.ios===!0&&kn.is.nativeMobile===!0){Js!==null&&clearTimeout(Js),Js=setTimeout(()=>{k0(t),Js=null},100);return}}k0(t)}function Gb(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Gd(t))}}}const go=[];let ma;function Yb(e){ma=e.keyCode===27}function Xb(){ma===!0&&(ma=!1)}function Kb(e){ma===!0&&(ma=!1,ss(e,27)===!0&&go[go.length-1](e))}function ev(e){window[e]("keydown",Yb),window[e]("blur",Xb),window[e]("keyup",Kb),ma=!1}function tv(e){kn.is.desktop===!0&&(go.push(e),go.length===1&&ev("addEventListener"))}function Ou(e){const t=go.indexOf(e);t!==-1&&(go.splice(t,1),go.length===0&&ev("removeEventListener"))}const mo=[];function nv(e){mo[mo.length-1](e)}function Nf(e){kn.is.desktop===!0&&(mo.push(e),mo.length===1&&document.body.addEventListener("focusin",nv))}function Du(e){const t=mo.indexOf(e);t!==-1&&(mo.splice(t,1),mo.length===0&&document.body.removeEventListener("focusin",nv))}let Ql=0;const Zb={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},R0={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Tr=rn({name:"QDialog",inheritAttrs:!1,props:{...jm,...Wm,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...Hm,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:s}){const a=en(),l=Fe(null),d=Fe(!1),h=Fe(!1);let g=null,m=null,p,y;const _=G(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:b}=Gb(),{registerTimeout:T}=Iu(),{registerTick:k,removeTick:q}=qm(),{transitionProps:K,transitionStyle:Y}=Gm(e,()=>R0[e.position][0],()=>R0[e.position][1]),N=G(()=>Y.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:A,hidePortal:B,portalIsAccessible:Q,renderPortal:M}=Xm(a,l,vt,"dialog"),{hide:ie}=zm({showing:d,hideOnRouteChange:_,handleShow:ee,handleHide:Be,processOnMount:!0}),{addToHistory:L,removeFromHistory:de}=Mb(d,ie,_),pe=G(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Zb[e.position]}`+(h.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),$=G(()=>d.value===!0&&e.seamless!==!0),be=G(()=>e.autoClose===!0?{onClick:re}:{}),ue=G(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${$.value===!0?"modal":"seamless"}`,s.class]);St(()=>e.maximized,we=>{d.value===!0&&me(we)}),St($,we=>{b(we),we===!0?(Nf(it),tv(et)):(Du(it),Ou(et))});function ee(we){L(),m=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,me(e.maximized),A(),h.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),k(Se)):q(),T(()=>{if(a.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:oe,bottom:Me}=document.activeElement.getBoundingClientRect(),{innerHeight:he}=window,Ye=window.visualViewport!==void 0?window.visualViewport.height:he;oe>0&&Me>Ye/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Ye,Me>=he?1/0:Math.ceil(document.scrollingElement.scrollTop+Me-Ye/2))),document.activeElement.scrollIntoView()}y=!0,l.value.click(),y=!1}A(!0),h.value=!1,n("show",we)},e.transitionDuration)}function Be(we){q(),de(),ut(!0),h.value=!0,B(),m!==null&&(((we&&we.type.indexOf("key")===0?m.closest('[tabindex]:not([tabindex^="-"])'):void 0)||m).focus(),m=null),T(()=>{B(!0),h.value=!1,n("hide",we)},e.transitionDuration)}function Se(we){Dl(()=>{let oe=l.value;if(oe!==null){if(we!==void 0){const Me=oe.querySelector(we);if(Me!==null){Me.focus({preventScroll:!0});return}}oe.contains(document.activeElement)!==!0&&(oe=oe.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||oe.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||oe.querySelector("[autofocus], [data-autofocus]")||oe,oe.focus({preventScroll:!0}))}})}function Re(we){we&&typeof we.focus=="function"?we.focus({preventScroll:!0}):Se(),n("shake");const oe=l.value;oe!==null&&(oe.classList.remove("q-animate--scale"),oe.classList.add("q-animate--scale"),g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,l.value!==null&&(oe.classList.remove("q-animate--scale"),Se())},170))}function et(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&Re():(n("escapeKey"),ie()))}function ut(we){g!==null&&(clearTimeout(g),g=null),(we===!0||d.value===!0)&&(me(!1),e.seamless!==!0&&(b(!1),Du(it),Ou(et))),we!==!0&&(m=null)}function me(we){we===!0?p!==!0&&(Ql<1&&document.body.classList.add("q-body--dialog"),Ql++,p=!0):p===!0&&(Ql<2&&document.body.classList.remove("q-body--dialog"),Ql--,p=!1)}function re(we){y!==!0&&(ie(we),n("click",we))}function Ze(we){e.persistent!==!0&&e.noBackdropDismiss!==!0?ie(we):e.noShake!==!0&&Re()}function it(we){e.allowFocusOutside!==!0&&Q.value===!0&&Pm(l.value,we.target)!==!0&&Se('[tabindex]:not([tabindex="-1"])')}Object.assign(a.proxy,{focus:Se,shake:Re,__updateRefocusTarget(we){m=we||null}}),Ir(ut);function vt(){return H("div",{role:"dialog","aria-modal":$.value===!0?"true":"false",...s,class:ue.value},[H(di,{name:"q-transition--fade",appear:!0},()=>$.value===!0?H("div",{class:"q-dialog__backdrop fixed-full",style:N.value,"aria-hidden":"true",tabindex:-1,onClick:Ze}):null),H(di,K.value,()=>d.value===!0?H("div",{ref:l,class:pe.value,style:Y.value,tabindex:-1,...be.value},Kn(t.default)):null)])}return M}}),In=rn({name:"QCard",props:{...Jr,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=en(),s=ei(e,n),a=G(()=>"q-card"+(s.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>H(e.tag,{class:a.value},Kn(t.default))}}),Ft=rn({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=G(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>H(e.tag,{class:n.value},Kn(t.default))}}),Si=rn({name:"QCardActions",props:{...Bm,vertical:Boolean},setup(e,{slots:t}){const n=Fm(e),s=G(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>H("div",{class:s.value},Kn(t.default))}});const Qb={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},sd={xs:2,sm:4,md:8,lg:16,xl:24};var va=rn({name:"QSeparator",props:{...Jr,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=en(),n=ei(e,t.proxy.$q),s=G(()=>e.vertical===!0?"vertical":"horizontal"),a=G(()=>` q-separator--${s.value}`),l=G(()=>e.inset!==!1?`${a.value}-${Qb[e.inset]}`:""),d=G(()=>`q-separator${a.value}${l.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(n.value===!0?" q-separator--dark":"")),h=G(()=>{const g={};if(e.size!==void 0&&(g[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const m=e.spaced===!0?`${sd.md}px`:e.spaced in sd?`${sd[e.spaced]}px`:e.spaced,p=e.vertical===!0?["Left","Right"]:["Top","Bottom"];g[`margin${p[0]}`]=g[`margin${p[1]}`]=m}return g});return()=>H("hr",{class:d.value,style:h.value,"aria-orientation":s.value})}});function rv(e,t){const n=Fe(null),s=G(()=>e.disable===!0?null:H("span",{ref:n,class:"no-outline",tabindex:-1}));function a(l){const d=t.value;l!==void 0&&l.type.indexOf("key")===0?d!==null&&document.activeElement!==d&&d.contains(document.activeElement)===!0&&d.focus():n.value!==null&&(l===void 0||d!==null&&d.contains(l.target)===!0)&&n.value.focus()}return{refocusTargetEl:s,refocusTarget:a}}var iv={xs:30,sm:35,md:40,lg:50,xl:60};const Jb=()=>H("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[H("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),H("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var e_=rn({name:"QRadio",props:{...Jr,..._a,...kl,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:t,emit:n}){const{proxy:s}=en(),a=ei(e,s.$q),l=Ca(e,iv),d=Fe(null),{refocusTargetEl:h,refocusTarget:g}=rv(e,d),m=G(()=>Ut(e.modelValue)===Ut(e.val)),p=G(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(a.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),y=G(()=>{const A=e.color!==void 0&&(e.keepColor===!0||m.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${m.value===!0?"truthy":"falsy"}${A}`}),_=G(()=>(m.value===!0?e.checkedIcon:e.uncheckedIcon)||null),b=G(()=>e.disable===!0?-1:e.tabindex||0),T=G(()=>{const A={type:"radio"};return e.name!==void 0&&Object.assign(A,{".checked":m.value===!0,"^checked":m.value===!0?"checked":void 0,name:e.name,value:e.val}),A}),k=kf(T);function q(A){A!==void 0&&(Bn(A),g(A)),e.disable!==!0&&m.value!==!0&&n("update:modelValue",e.val,A)}function K(A){(A.keyCode===13||A.keyCode===32)&&Bn(A)}function Y(A){(A.keyCode===13||A.keyCode===32)&&q(A)}Object.assign(s,{set:q});const N=Jb();return()=>{const A=_.value!==null?[H("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[H(Jt,{class:"q-radio__icon",name:_.value})])]:[N];e.disable!==!0&&k(A,"unshift"," q-radio__native q-ma-none q-pa-none");const B=[H("div",{class:y.value,style:l.value,"aria-hidden":"true"},A)];h.value!==null&&B.push(h.value);const Q=e.label!==void 0?rs(t.default,[e.label]):Kn(t.default);return Q!==void 0&&B.push(H("div",{class:"q-radio__label q-anchor--skip"},Q)),H("div",{ref:d,class:p.value,tabindex:b.value,role:"radio","aria-label":e.label,"aria-checked":m.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:q,onKeydown:K,onKeyup:Y},B)}}});const sv={...Jr,..._a,...kl,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},ov=["update:modelValue"];function av(e,t){const{props:n,slots:s,emit:a,proxy:l}=en(),{$q:d}=l,h=ei(n,d),g=Fe(null),{refocusTargetEl:m,refocusTarget:p}=rv(n,g),y=Ca(n,iv),_=G(()=>n.val!==void 0&&Array.isArray(n.modelValue)),b=G(()=>{const $=Ut(n.val);return _.value===!0?n.modelValue.findIndex(be=>Ut(be)===$):-1}),T=G(()=>_.value===!0?b.value!==-1:Ut(n.modelValue)===Ut(n.trueValue)),k=G(()=>_.value===!0?b.value===-1:Ut(n.modelValue)===Ut(n.falseValue)),q=G(()=>T.value===!1&&k.value===!1),K=G(()=>n.disable===!0?-1:n.tabindex||0),Y=G(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(h.value===!0?` q-${e}--dark`:"")+(n.dense===!0?` q-${e}--dense`:"")+(n.leftLabel===!0?" reverse":"")),N=G(()=>{const $=T.value===!0?"truthy":k.value===!0?"falsy":"indet",be=n.color!==void 0&&(n.keepColor===!0||(e==="toggle"?T.value===!0:k.value!==!0))?` text-${n.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${$}${be}`}),A=G(()=>{const $={type:"checkbox"};return n.name!==void 0&&Object.assign($,{".checked":T.value,"^checked":T.value===!0?"checked":void 0,name:n.name,value:_.value===!0?n.val:n.trueValue}),$}),B=kf(A),Q=G(()=>{const $={tabindex:K.value,role:e==="toggle"?"switch":"checkbox","aria-label":n.label,"aria-checked":q.value===!0?"mixed":T.value===!0?"true":"false"};return n.disable===!0&&($["aria-disabled"]="true"),$});function M($){$!==void 0&&(Bn($),p($)),n.disable!==!0&&a("update:modelValue",ie(),$)}function ie(){if(_.value===!0){if(T.value===!0){const $=n.modelValue.slice();return $.splice(b.value,1),$}return n.modelValue.concat([n.val])}if(T.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else if(k.value===!0){if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}else return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;return n.indeterminateValue}function L($){($.keyCode===13||$.keyCode===32)&&Bn($)}function de($){($.keyCode===13||$.keyCode===32)&&M($)}const pe=t(T,q);return Object.assign(l,{toggle:M}),()=>{const $=pe();n.disable!==!0&&B($,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const be=[H("div",{class:N.value,style:y.value,"aria-hidden":"true"},$)];m.value!==null&&be.push(m.value);const ue=n.label!==void 0?rs(s.default,[n.label]):Kn(s.default);return ue!==void 0&&be.push(H("div",{class:`q-${e}__label q-anchor--skip`},ue)),H("div",{ref:g,class:Y.value,...Q.value,onClick:M,onKeydown:L,onKeyup:de},be)}}const t_=()=>H("div",{key:"svg",class:"q-checkbox__bg absolute"},[H("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[H("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),H("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var lv=rn({name:"QCheckbox",props:sv,emits:ov,setup(e){const t=t_();function n(s,a){const l=G(()=>(s.value===!0?e.checkedIcon:a.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>l.value!==null?[H("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[H(Jt,{class:"q-checkbox__icon",name:l.value})])]:[t]}return av("checkbox",n)}}),ku=rn({name:"QToggle",props:{...sv,icon:String,iconColor:String},emits:ov,setup(e){function t(n,s){const a=G(()=>(n.value===!0?e.checkedIcon:s.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),l=G(()=>n.value===!0?e.iconColor:null);return()=>[H("div",{class:"q-toggle__track"}),H("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},a.value!==void 0?[H(Jt,{name:a.value,color:l.value})]:void 0)]}return av("toggle",t)}});const uv={radio:e_,checkbox:lv,toggle:ku},n_=Object.keys(uv);function od(e,t){if(typeof e=="function")return e;const n=e!==void 0?e:t;return s=>s[n]}var r_=rn({name:"QOptionGroup",props:{...Jr,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(Zr),default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],name:String,type:{type:String,default:"radio",validator:e=>n_.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{proxy:{$q:s}}=en(),a=Array.isArray(e.modelValue);e.type==="radio"?a===!0&&console.error("q-option-group: model should not be array"):a===!1&&console.error("q-option-group: model should be array in your case");const l=ei(e,s),d=G(()=>uv[e.type]),h=G(()=>od(e.optionValue,"value")),g=G(()=>od(e.optionLabel,"label")),m=G(()=>od(e.optionDisable,"disable")),p=G(()=>e.options.map(T=>({val:h.value(T),name:T.name===void 0?e.name:T.name,disable:e.disable||m.value(T),leftLabel:T.leftLabel===void 0?e.leftLabel:T.leftLabel,color:T.color===void 0?e.color:T.color,checkedIcon:T.checkedIcon,uncheckedIcon:T.uncheckedIcon,dark:T.dark===void 0?l.value:T.dark,size:T.size===void 0?e.size:T.size,dense:e.dense,keepColor:T.keepColor===void 0?e.keepColor:T.keepColor}))),y=G(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),_=G(()=>{const T={role:"group"};return e.type==="radio"&&(T.role="radiogroup",e.disable===!0&&(T["aria-disabled"]="true")),T});function b(T){t("update:modelValue",T)}return()=>H("div",{class:y.value,..._.value},e.options.map((T,k)=>{const q=n["label-"+k]!==void 0?()=>n["label-"+k](T):n.label!==void 0?()=>n.label(T):void 0;return H("div",[H(d.value,{label:q===void 0?g.value(T):null,modelValue:e.modelValue,"onUpdate:modelValue":b,...p.value[k]},q)])}))}}),i_=rn({name:"DialogPluginComponent",props:{...Jr,title:String,message:String,prompt:Object,options:Object,progress:[Boolean,Object],html:Boolean,ok:{type:[String,Object,Boolean],default:!0},cancel:[String,Object,Boolean],focus:{type:String,default:"ok",validator:e=>["ok","cancel","none"].includes(e)},stackButtons:Boolean,color:String,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(e,{emit:t}){const{proxy:n}=en(),{$q:s}=n,a=ei(e,s),l=Fe(null),d=Fe(e.prompt!==void 0?e.prompt.model:e.options!==void 0?e.options.model:void 0),h=G(()=>"q-dialog-plugin"+(a.value===!0?" q-dialog-plugin--dark q-dark":"")+(e.progress!==!1?" q-dialog-plugin--progress":"")),g=G(()=>e.color||(a.value===!0?"amber":"primary")),m=G(()=>e.progress===!1?null:Zr(e.progress)===!0?{component:e.progress.spinner||xo,props:{color:e.progress.color||g.value}}:{component:xo,props:{color:g.value}}),p=G(()=>e.prompt!==void 0||e.options!==void 0),y=G(()=>{if(p.value!==!0)return{};const{model:ue,isValid:ee,items:Be,...Se}=e.prompt!==void 0?e.prompt:e.options;return Se}),_=G(()=>Zr(e.ok)===!0||e.ok===!0?s.lang.label.ok:e.ok),b=G(()=>Zr(e.cancel)===!0||e.cancel===!0?s.lang.label.cancel:e.cancel),T=G(()=>e.prompt!==void 0?e.prompt.isValid!==void 0&&e.prompt.isValid(d.value)!==!0:e.options!==void 0?e.options.isValid!==void 0&&e.options.isValid(d.value)!==!0:!1),k=G(()=>({color:g.value,label:_.value,ripple:!1,disable:T.value,...Zr(e.ok)===!0?e.ok:{flat:!0},"data-autofocus":e.focus==="ok"&&p.value!==!0||void 0,onClick:N})),q=G(()=>({color:g.value,label:b.value,ripple:!1,...Zr(e.cancel)===!0?e.cancel:{flat:!0},"data-autofocus":e.focus==="cancel"&&p.value!==!0||void 0,onClick:A}));St(()=>e.prompt&&e.prompt.model,Q),St(()=>e.options&&e.options.model,Q);function K(){l.value.show()}function Y(){l.value.hide()}function N(){t("ok",Ut(d.value)),Y()}function A(){Y()}function B(){t("hide")}function Q(ue){d.value=ue}function M(ue){T.value!==!0&&e.prompt.type!=="textarea"&&ss(ue,13)===!0&&N()}function ie(ue,ee){return e.html===!0?H(Ft,{class:ue,innerHTML:ee}):H(Ft,{class:ue},()=>ee)}function L(){return[H(Dn,{color:g.value,dense:!0,autofocus:!0,dark:a.value,...y.value,modelValue:d.value,"onUpdate:modelValue":Q,onKeyup:M})]}function de(){return[H(r_,{color:g.value,options:e.options.items,dark:a.value,...y.value,modelValue:d.value,"onUpdate:modelValue":Q})]}function pe(){const ue=[];return e.cancel&&ue.push(H(st,q.value)),e.ok&&ue.push(H(st,k.value)),H(Si,{class:e.stackButtons===!0?"items-end":"",vertical:e.stackButtons,align:"right"},()=>ue)}function $(){const ue=[];return e.title&&ue.push(ie("q-dialog__title",e.title)),e.progress!==!1&&ue.push(H(Ft,{class:"q-dialog__progress"},()=>H(m.value.component,m.value.props))),e.message&&ue.push(ie("q-dialog__message",e.message)),e.prompt!==void 0?ue.push(H(Ft,{class:"scroll q-dialog-plugin__form"},L)):e.options!==void 0&&ue.push(H(va,{dark:a.value}),H(Ft,{class:"scroll q-dialog-plugin__form"},de),H(va,{dark:a.value})),(e.ok||e.cancel)&&ue.push(pe()),ue}function be(){return[H(In,{class:[h.value,e.cardClass],style:e.cardStyle,dark:a.value},$)]}return Object.assign(n,{show:K,hide:Y}),()=>H(Tr,{ref:l,onHide:B},be)}});function cv(e,t){for(const n in t)n!=="spinner"&&Object(t[n])===t[n]?(e[n]=Object(e[n])!==e[n]?{}:{...e[n]},cv(e[n],t[n])):e[n]=t[n]}function dv(e,t,n){return s=>{let a,l;const d=t===!0&&s.component!==void 0;if(d===!0){const{component:Y,componentProps:N}=s;a=typeof Y=="string"?n.component(Y):Y,l=N||{}}else{const{class:Y,style:N,...A}=s;a=e,l=A,Y!==void 0&&(A.cardClass=Y),N!==void 0&&(A.cardStyle=N)}let h,g=!1;const m=Fe(null),p=rc(!1,"dialog"),y=Y=>{if(m.value!==null&&m.value[Y]!==void 0){m.value[Y]();return}const N=h.$.subTree;if(N&&N.component){if(N.component.proxy&&N.component.proxy[Y]){N.component.proxy[Y]();return}if(N.component.subTree&&N.component.subTree.component&&N.component.subTree.component.proxy&&N.component.subTree.component.proxy[Y]){N.component.subTree.component.proxy[Y]();return}}console.error("[Quasar] Incorrectly defined Dialog component")},_=[],b=[],T={onOk(Y){return _.push(Y),T},onCancel(Y){return b.push(Y),T},onDismiss(Y){return _.push(Y),b.push(Y),T},hide(){return y("hide"),T},update(Y){if(h!==null){if(d===!0)Object.assign(l,Y);else{const{class:N,style:A,...B}=Y;N!==void 0&&(B.cardClass=N),A!==void 0&&(B.cardStyle=A),cv(l,B)}h.$forceUpdate()}return T}},k=Y=>{g=!0,_.forEach(N=>{N(Y)})},q=()=>{K.unmount(p),Mf(p),K=null,h=null,g!==!0&&b.forEach(Y=>{Y()})};let K=Ef({name:"QGlobalDialog",setup:()=>()=>H(a,{...l,ref:m,onOk:k,onHide:q,onVnodeMounted(...Y){typeof l.onVnodeMounted=="function"&&l.onVnodeMounted(...Y),En(()=>y("show"))}})},n);return h=K.mount(p),T}}var Qr={install({$q:e,parentApp:t}){e.dialog=this.create=dv(i_,!0,t)}};let zo,ad,M0=0,eo=null,yr={},uo={};const fv={group:"__default_quasar_group__",delay:0,message:!1,html:!1,spinnerSize:80,spinnerColor:"",messageColor:"",backgroundColor:"",boxClass:"",spinner:xo,customClass:""},hv={...fv};function s_(e){if(e&&e.group!==void 0&&uo[e.group]!==void 0)return Object.assign(uo[e.group],e);const t=Zr(e)===!0&&e.ignoreDefaults===!0?{...fv,...e}:{...hv,...e};return uo[t.group]=t,t}const zt=Ol({isActive:!1},{show(e){yr=s_(e);const{group:t}=yr;return zt.isActive=!0,zo!==void 0?(yr.uid=M0,ad.$forceUpdate()):(yr.uid=++M0,eo!==null&&clearTimeout(eo),eo=setTimeout(()=>{eo=null;const n=rc("q-loading");zo=Ef({name:"QLoading",setup(){gr(()=>{Gd(!0)});function s(){zt.isActive!==!0&&zo!==void 0&&(Gd(!1),zo.unmount(n),Mf(n),zo=void 0,ad=void 0)}function a(){if(zt.isActive!==!0)return null;const l=[H(yr.spinner,{class:"q-loading__spinner",color:yr.spinnerColor,size:yr.spinnerSize})];return yr.message&&l.push(H("div",{class:"q-loading__message"+(yr.messageColor?` text-${yr.messageColor}`:""),[yr.html===!0?"innerHTML":"textContent"]:yr.message})),H("div",{class:"q-loading fullscreen flex flex-center z-max "+yr.customClass.trim(),key:yr.uid},[H("div",{class:"q-loading__backdrop"+(yr.backgroundColor?` bg-${yr.backgroundColor}`:"")}),H("div",{class:"q-loading__box column items-center "+yr.boxClass},l)])}return()=>H(di,{name:"q-transition--fade",appear:!0,onAfterLeave:s},a)}},zt.__parentApp),ad=zo.mount(n)},yr.delay)),n=>{if(n===void 0||Object(n)!==n){zt.hide(t);return}zt.show({...n,group:t})}},hide(e){if(zt.isActive===!0){if(e===void 0)uo={};else{if(uo[e]===void 0)return;{delete uo[e];const t=Object.keys(uo);if(t.length!==0){const n=t[t.length-1];zt.show({group:n});return}}}eo!==null&&(clearTimeout(eo),eo=null),zt.isActive=!1}},setDefaults(e){Zr(e)===!0&&Object.assign(hv,e)},install({$q:e,parentApp:t}){e.loading=this,zt.__parentApp=t,e.config.loading!==void 0&&this.setDefaults(e.config.loading)}});var o_=rn({name:"QAvatar",props:{..._a,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:t}){const n=Ca(e),s=G(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),a=G(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const l=e.icon!==void 0?[H(Jt,{name:e.icon})]:void 0;return H("div",{class:s.value,style:n.value},[H("div",{class:"q-avatar__content row flex-center overflow-hidden",style:a.value},Em(t.default,l))])}}});let a_=0;const uu={},cu={},pi={},gv={},l_=/^\s*$/,mv=[],u_=[void 0,null,!0,!1,""],Pf=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],c_=["top-left","top-right","bottom-left","bottom-right"],Jo={positive:{icon:e=>e.iconSet.type.positive,color:"positive"},negative:{icon:e=>e.iconSet.type.negative,color:"negative"},warning:{icon:e=>e.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:e=>e.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}};function vv(e,t,n){if(!e)return za("parameter required");let s;const a={textColor:"white"};if(e.ignoreDefaults!==!0&&Object.assign(a,uu),Zr(e)===!1&&(a.type&&Object.assign(a,Jo[a.type]),e={message:e}),Object.assign(a,Jo[e.type||a.type],e),typeof a.icon=="function"&&(a.icon=a.icon(t)),a.spinner?(a.spinner===!0&&(a.spinner=xo),a.spinner=Eo(a.spinner)):a.spinner=!1,a.meta={hasMedia:Boolean(a.spinner!==!1||a.icon||a.avatar),hasText:N0(a.message)||N0(a.caption)},a.position){if(Pf.includes(a.position)===!1)return za("wrong position",e)}else a.position="bottom";if(u_.includes(a.timeout)===!0)a.timeout=5e3;else{const g=Number(a.timeout);if(isNaN(g)||g<0)return za("wrong timeout",e);a.timeout=Number.isFinite(g)?g:0}a.timeout===0?a.progress=!1:a.progress===!0&&(a.meta.progressClass="q-notification__progress"+(a.progressClass?` ${a.progressClass}`:""),a.meta.progressStyle={animationDuration:`${a.timeout+1e3}ms`});const l=(Array.isArray(e.actions)===!0?e.actions:[]).concat(e.ignoreDefaults!==!0&&Array.isArray(uu.actions)===!0?uu.actions:[]).concat(Jo[e.type]!==void 0&&Array.isArray(Jo[e.type].actions)===!0?Jo[e.type].actions:[]),{closeBtn:d}=a;if(d&&l.push({label:typeof d=="string"?d:t.lang.label.close}),a.actions=l.map(({handler:g,noDismiss:m,...p})=>({flat:!0,...p,onClick:typeof g=="function"?()=>{g(),m!==!0&&h()}:()=>{h()}})),a.multiLine===void 0&&(a.multiLine=a.actions.length>1),Object.assign(a.meta,{class:`q-notification row items-stretch q-notification--${a.multiLine===!0?"multi-line":"standard"}`+(a.color!==void 0?` bg-${a.color}`:"")+(a.textColor!==void 0?` text-${a.textColor}`:"")+(a.classes!==void 0?` ${a.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(a.multiLine===!0?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(a.multiLine===!0?"":" col"),leftClass:a.meta.hasText===!0?"additional":"single",attrs:{role:"alert",...a.attrs}}),a.group===!1?(a.group=void 0,a.meta.group=void 0):((a.group===void 0||a.group===!0)&&(a.group=[a.message,a.caption,a.multiline].concat(a.actions.map(g=>`${g.label}*${g.icon}`)).join("|")),a.meta.group=a.group+"|"+a.position),a.actions.length===0?a.actions=void 0:a.meta.actionsClass="q-notification__actions row items-center "+(a.multiLine===!0?"justify-end":"col-auto")+(a.meta.hasMedia===!0?" q-notification__actions--with-media":""),n!==void 0){n.notif.meta.timer&&(clearTimeout(n.notif.meta.timer),n.notif.meta.timer=void 0),a.meta.uid=n.notif.meta.uid;const g=pi[a.position].value.indexOf(n.notif);pi[a.position].value[g]=a}else{const g=cu[a.meta.group];if(g===void 0){if(a.meta.uid=a_++,a.meta.badge=1,["left","right","center"].indexOf(a.position)!==-1)pi[a.position].value.splice(Math.floor(pi[a.position].value.length/2),0,a);else{const m=a.position.indexOf("top")!==-1?"unshift":"push";pi[a.position].value[m](a)}a.group!==void 0&&(cu[a.meta.group]=a)}else{if(g.meta.timer&&(clearTimeout(g.meta.timer),g.meta.timer=void 0),a.badgePosition!==void 0){if(c_.includes(a.badgePosition)===!1)return za("wrong badgePosition",e)}else a.badgePosition=`top-${a.position.indexOf("left")!==-1?"right":"left"}`;a.meta.uid=g.meta.uid,a.meta.badge=g.meta.badge+1,a.meta.badgeClass=`q-notification__badge q-notification__badge--${a.badgePosition}`+(a.badgeColor!==void 0?` bg-${a.badgeColor}`:"")+(a.badgeTextColor!==void 0?` text-${a.badgeTextColor}`:"")+(a.badgeClass?` ${a.badgeClass}`:"");const m=pi[a.position].value.indexOf(g);pi[a.position].value[m]=cu[a.meta.group]=a}}const h=()=>{d_(a),s=void 0};if(a.timeout>0&&(a.meta.timer=setTimeout(()=>{a.meta.timer=void 0,h()},a.timeout+1e3)),a.group!==void 0)return g=>{g!==void 0?za("trying to update a grouped one which is forbidden",e):h()};if(s={dismiss:h,config:e,notif:a},n!==void 0){Object.assign(n,s);return}return g=>{if(s!==void 0)if(g===void 0)s.dismiss();else{const m=Object.assign({},s.config,g,{group:!1,position:a.position});vv(m,t,s)}}}function d_(e){e.meta.timer&&(clearTimeout(e.meta.timer),e.meta.timer=void 0);const t=pi[e.position].value.indexOf(e);if(t!==-1){e.group!==void 0&&delete cu[e.meta.group];const n=mv[""+e.meta.uid];if(n){const{width:s,height:a}=getComputedStyle(n);n.style.left=`${n.offsetLeft}px`,n.style.width=s,n.style.height=a}pi[e.position].value.splice(t,1),typeof e.onDismiss=="function"&&e.onDismiss()}}function N0(e){return e!=null&&l_.test(e)!==!0}function za(e,t){return console.error(`Notify: ${e}`,t),!1}function f_(){return rn({name:"QNotifications",devtools:{hide:!0},setup(){return()=>H("div",{class:"q-notifications"},Pf.map(e=>H(Q2,{key:e,class:gv[e],tag:"div",name:`q-notification--${e}`},()=>pi[e].value.map(t=>{const n=t.meta,s=[];if(n.hasMedia===!0&&(t.spinner!==!1?s.push(H(t.spinner,{class:"q-notification__spinner q-notification__spinner--"+n.leftClass,color:t.spinnerColor,size:t.spinnerSize})):t.icon?s.push(H(Jt,{class:"q-notification__icon q-notification__icon--"+n.leftClass,name:t.icon,color:t.iconColor,size:t.iconSize,role:"img"})):t.avatar&&s.push(H(o_,{class:"q-notification__avatar q-notification__avatar--"+n.leftClass},()=>H("img",{src:t.avatar,"aria-hidden":"true"})))),n.hasText===!0){let l;const d={class:"q-notification__message col"};if(t.html===!0)d.innerHTML=t.caption?`<div>${t.message}</div><div class="q-notification__caption">${t.caption}</div>`:t.message;else{const h=[t.message];l=t.caption?[H("div",h),H("div",{class:"q-notification__caption"},[t.caption])]:h}s.push(H("div",d,l))}const a=[H("div",{class:n.contentClass},s)];return t.progress===!0&&a.push(H("div",{key:`${n.uid}|p|${n.badge}`,class:n.progressClass,style:n.progressStyle})),t.actions!==void 0&&a.push(H("div",{class:n.actionsClass},t.actions.map(l=>H(st,l)))),n.badge>1&&a.push(H("div",{key:`${n.uid}|${n.badge}`,class:t.meta.badgeClass,style:t.badgeStyle},[n.badge])),H("div",{ref:l=>{mv[""+n.uid]=l},key:n.uid,class:n.class,...n.attrs},[H("div",{class:n.wrapperClass},a)])}))))}})}var rr={setDefaults(e){Zr(e)===!0&&Object.assign(uu,e)},registerType(e,t){Zr(t)===!0&&(Jo[e]=t)},install({$q:e,parentApp:t}){if(e.notify=this.create=n=>vv(n,e),e.notify.setDefaults=this.setDefaults,e.notify.registerType=this.registerType,e.config.notify!==void 0&&this.setDefaults(e.config.notify),this.__installed!==!0){Pf.forEach(s=>{pi[s]=Fe([]);const a=["left","center","right"].includes(s)===!0?"center":s.indexOf("top")!==-1?"top":"bottom",l=s.indexOf("left")!==-1?"start":s.indexOf("right")!==-1?"end":"center",d=["left","right"].includes(s)?`items-${s==="left"?"start":"end"} justify-center`:s==="center"?"flex-center":`items-${l}`;gv[s]=`q-notifications__list q-notifications__list--${a} fixed column no-wrap ${d}`});const n=rc("q-notify");Ef(f_(),t).mount(n)}}};const h_=new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",trailingZeroDisplay:"stripIfInteger"});function g_(e){const[t,n]=e.split(" "),[s,a,l]=t.split("/").map(Number),[d,h,g]=n.split(":").map(Number);return new Date(l,a-1,s,d,h,g)}const hn={formatter:h_,parseDateString:g_},m_=e=>{try{return JSON.parse(localStorage.getItem(e))}catch(t){console.error("Failed to set local item:",t)}},v_=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.error("Failed to set local item:",n)}},Xn={getLocalStorageData:m_,setLocalStorageData:v_},p_=us("main",{state:()=>({username:"",password:"",urlEndPoint:"https://script.google.com/macros/s/AKfycbwLnFuwFg0TwlFxD7z8x6Fx2dYsh-IWoFQeYkzdAwvHhrddhNi5TuEgMRwj1TkAc-Ek/exec",userStatus:"",statusServing:"serving",statusWaiting:"waiting",statusOff:"off",listUserData:[],userData:[],menuData:[],isLogin:!1,loadingTable:!1,loadingSelect:!1,slideItems:[],slideItemsUpdate:[],isHaveNotSaveDataYet:!1,isLoadingMenuData:!1,newData:{umsatz:0,notizen:"",menuSelected:[]},updateData:{umsatz:0,notizen:"",menuSelected:[],menu:[]},showAddDialog:!1,showUpdateDialog:!1,showNotizen:!1}),getters:{doubleCount:e=>e.counter*2},actions:{getInit(){Xn.getLocalStorageData("username")&&(this.username=Xn.getLocalStorageData("username")),Xn.getLocalStorageData("password")&&(this.password=Xn.getLocalStorageData("password")),this.isLogin=Xn.getLocalStorageData("isLogin")},async login(e,t){try{zt.show({message:"\u0110ang \u0111\u0103ng nh\u1EADp..."});const n=new Headers;n.append("Content-Type","text/plain;charset=utf-8");const s=JSON.stringify({action:"login",username:e,password:t}),a={method:"POST",headers:n,body:s,redirect:"follow"};(await(await fetch(this.urlEndPoint,a)).json()).success?(this.isLogin=!0,Xn.setLocalStorageData("isLogin",this.isLogin),Xn.setLocalStorageData("username",e),Xn.setLocalStorageData("password",t),this.router.push({name:"DataViewPage"})):alert("Login failed"),zt.hide(),setTimeout(()=>{window.location.reload()},200)}catch(n){console.error("Error logging in:",n),zt.hide()}},logout(){try{Qr.create({title:"X\xE1c nh\u1EADn",message:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n \u0111\u0103ng xu\u1EA9t ?",ok:!0,cancel:!0}).onOk(()=>{localStorage.clear(),this.router.push("/"),setTimeout(()=>{window.location.reload()},100)})}catch(e){console.error("Error when logging out: ",e)}},async fetchData(){try{await this.fetchMenuData(),this.loadingTable=!0,this.loadingSelect=!1;const e=new Headers;e.append("Content-Type","text/plain;charset=utf-8");const t=JSON.stringify({action:"fetchData",username:this.username,password:this.password}),n={method:"POST",headers:e,body:t,redirect:"follow"},a=await(await fetch(this.urlEndPoint,n)).json();if(a.success){let l=a.data.userData||[];this.listUserData=a.data.otherData.sort((d,h)=>h.orderCount-d.orderCount)||[],this.userStatus=a.data.userStatus,this.userData=l.map(d=>{const h=hn.parseDateString(d.datum),g=String(h.getHours()).padStart(2,"0"),m=String(h.getMinutes()).padStart(2,"0"),p=`${g}:${m}`;return{id:d.id,benutzername:d.benutzername,umsatz:d.umsatz,notizen:d.notizen,menu:d.menu,datum:p}}).filter(d=>d),this.userData.forEach((d,h)=>{var m;const g=((m=this.userData[h].menu)==null?void 0:m.length)>1?this.userData[h].menu.split(";"):this.userData[h].menu;this.userData[h].menu.length>1?this.userData[h].menuSelected=g.map(p=>this.menuData.filter(y=>p==y.id)[0]):this.userData[h].menuSelected=this.menuData.filter(p=>this.userData[h].menu==p.id)}),this.userData.length||(this.userData=[])}else alert("Failed to fetch data");this.loadingTable=!1}catch(e){console.error("Error fetching data:",e),this.loadingTable=!1}},async addData(){try{const e=async()=>{zt.show({message:"\u0110ang th\xEAm m\u1EDBi d\u1EEF li\u1EC7u..."});const n=new Headers;n.append("Content-Type","text/plain;charset=utf-8"),this.newData.menuSelected.length>1?this.newData.listSelectedId=this.newData.menuSelected.map(h=>h.id):this.newData.listSelectedId=this.newData.menuSelected[0].id,this.newData.listSelectedId.length>1?this.newData.listSelectedId=this.newData.listSelectedId.join(";"):this.newData.listSelectedId=this.newData.listSelectedId+"";const s=JSON.stringify({action:"addData",username:this.username,password:this.password,data:{umsatz:this.newData.umsatz,notizen:this.newData.notizen,listSelectedId:this.newData.listSelectedId}}),a={method:"POST",headers:n,body:s,redirect:"follow"};(await(await fetch(this.urlEndPoint,a)).json()).success?(rr.create({type:"positive",message:"Th\xEAm m\u1EDBi th\xE0nh c\xF4ng!",position:"top"}),this.newData={umsatz:0,notizen:"",menuSelected:[]},this.showAddDialog=!1):alert("Failed to add data"),zt.hide()};let t=[{label:"Serving",value:"serving",color:"green"},{label:"Waiting",value:"waiting",color:"yellow"},{label:"Off",value:"off",color:"red"}];t=t.filter(n=>n.value!==this.userStatus),Qr.create({title:"Th\xF4ng b\xE1o",message:"B\u1EA1n c\xF3 mu\u1ED1n thay \u0111\u1ED5i tr\u1EA1ng th\xE1i sau khi th\xEAm kh\xF4ng?",options:{type:"radio",model:"opt1",items:t},cancel:!0,persistent:!0}).onOk(async n=>{n!="opt1"?(await e(),await this.updateUserStatus(n),setTimeout(()=>{window.location.reload()},200)):(await e(),this.fetchData())}).onCancel(()=>{}).onDismiss(()=>{})}catch(e){console.error("Error adding data:",e),zt.hide()}},async postUpdateItem(e){try{zt.show({message:"\u0110ang x\u1EED l\xFD..."});const t=new Headers;t.append("Content-Type","text/plain;charset=utf-8"),e.menuSelected.length>1?e.listSelectedId=e.menuSelected.map(d=>d.id):e.listSelectedId=e.menuSelected[0].id,e.listSelectedId.length>1?e.listSelectedId=e.listSelectedId.join(";"):e.listSelectedId=e.listSelectedId+"";const n=JSON.stringify({action:"updateData",id:e.id,username:this.username,password:this.password,data:{umsatz:e.umsatz,notizen:e.notizen,listSelectedId:e.listSelectedId}}),s={method:"POST",headers:t,body:n,redirect:"follow"};(await(await fetch(this.urlEndPoint,s)).json()).success?(rr.create({type:"positive",message:"C\u1EADp nh\u1EADt th\xE0nh c\xF4ng!",position:"top"}),this.showUpdateDialog=!1,this.userData=this.userData.map(d=>d.id===e.id?{...this.updateData,id:e.id,menu:e.listSelectedId}:d),this.isHaveNotSaveDataYet=!1):alert("Error when updating data"),zt.hide()}catch(t){zt.hide(),console.error("Error updating data:",t)}},async deleteData(e){try{Qr.create({title:"X\xE1c nh\u1EADn",message:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a h\xE0ng n\xE0y kh\xF4ng?",ok:!0,cancel:!0}).onOk(async()=>{zt.show({message:"\u0110ang x\xF3a d\u1EEF li\u1EC7u..."});const t=new Headers;t.append("Content-Type","text/plain;charset=utf-8");const n=JSON.stringify({action:"deleteData",username:this.username,password:this.password,id:e}),s={method:"POST",headers:t,body:n,redirect:"follow"};(await(await fetch(this.urlEndPoint,s)).json()).success?(rr.create({type:"positive",message:"X\xF3a th\xE0nh c\xF4ng!",position:"top"}),this.userData=this.userData.filter(d=>d.id!==e)):alert("Failed to delete data"),zt.hide()})}catch(t){console.error("Error deleting data:",t),zt.hide()}},async updateUserStatus(e){this.userStatus=e;const t=new Headers;t.append("Content-Type","text/plain;charset=utf-8");const n=JSON.stringify({action:"updateUserStatus",username:this.username,password:this.password,status:e}),s={method:"POST",headers:t,body:n,redirect:"follow"};(await(await fetch(this.urlEndPoint,s)).json()).success?(this.listUserData=this.listUserData.map(d=>d.name===this.username?{...d,status:e}:d),rr.create({type:"positive",message:"Update status successfully!",position:"top",timeout:1e3})):alert("Error when updating data")},async fetchMenuData(){try{const e=new Headers;e.append("Content-Type","text/plain;charset=utf-8");const t=JSON.stringify({action:"fetchMenuData"}),n={method:"POST",headers:e,body:t,redirect:"follow"},s=JSON.parse(localStorage.getItem("menuData"));if(s)this.menuData=s;else{const l=await(await fetch(this.urlEndPoint,n)).json();l.success&&(this.menuData=l.data||[],this.menuData.length&&(this.menuData=this.menuData.map(d=>({id:d.id,label:d.service,value:parseFloat(d.price)})),this.menuData=this.menuData.map(d=>({...d,filterSearch:`${d.label}${hn.formatter.format(d)}`})),localStorage.setItem("menuData",JSON.stringify(this.menuData))))}}catch(e){this.loadingSelect=!1,console.error("Error fetching data:",e)}},async syncMenu(){try{this.isLoadingMenuData=!0;const e=new Headers;e.append("Content-Type","text/plain;charset=utf-8");const t=JSON.stringify({action:"fetchMenuData"}),n={method:"POST",headers:e,body:t,redirect:"follow"},a=await(await fetch(this.urlEndPoint,n)).json();a.success&&(this.menuData=a.data||[],this.menuData.length&&(this.menuData=this.menuData.map(l=>({id:l.id,label:l.service,value:parseFloat(l.price)})),this.menuData=this.menuData.map(l=>({...l,filterSearch:`${l.label}${hn.formatter.format(l)}`})),localStorage.setItem("menuData",JSON.stringify(this.menuData)))),rr.create({type:"positive",message:"T\u1EA3i m\u1EDBi th\xE0nh c\xF4ng!",position:"top"}),this.isLoadingMenuData=!1}catch(e){this.isLoadingMenuData=!1,this.loadingSelect=!1,console.error("Error fetching data:",e)}},onRightSlide(e,t){this.removeAddMenuItem(e);const n=this.slideItems[t];n&&n.reset()},removeAddMenuItem(e){let t=0;this.newData.menuSelected=this.newData.menuSelected.filter(n=>{if(n.id!==e)return t+=+n.value,n}),this.newData.umsatz=t},onRightSlideUpdate(e,t){this.isHaveNotSaveDataYet=!0,this.removeUpdateMenuItem(e);const n=this.slideItemsUpdate[t];n&&n.reset()},removeUpdateMenuItem(e){let t=0;this.updateData.menuSelected=this.updateData.menuSelected.filter(n=>{if(n.id!==e)return t+=+n.value,n}),this.updateData.umsatz=t},clickToggleAddMenuItem(e){this.newData.menuSelected.map(n=>n.id).includes(e.opt.id)?(this.newData.menuSelected=this.newData.menuSelected.filter(n=>{if(n.id!==e.opt.id)return n}),this.newData.umsatz=+this.newData.umsatz-+e.opt.value):(this.newData.umsatz=+this.newData.umsatz+ +e.opt.value,this.newData.menuSelected.push(e.opt))},clickToggleUpdateMenuItem(e){this.isHaveNotSaveDataYet=!0,this.updateData.menuSelected.map(n=>n.id).includes(e.opt.id)?(this.updateData.menuSelected=this.updateData.menuSelected.filter(n=>{if(n.id!==e.opt.id)return n}),this.updateData.umsatz=+this.updateData.umsatz-+e.opt.value):(this.updateData.umsatz=+this.updateData.umsatz+ +e.opt.value,this.updateData.menuSelected.push(e.opt))},handleClickBackButtonShowAlert(){try{this.isHaveNotSaveDataYet&&Qr.create({title:"C\u1EA3nh b\xE1o",message:"M\u1ECDi thay \u0111\u1ED5i v\u1EABn ch\u01B0a \u0111\u01B0\u1EE3c l\u01B0u, b\u1EA1n c\xF3 mu\u1ED1n c\u1EADp nh\u1EADt kh\xF4ng?",ok:!0,cancel:!0}).onOk(()=>{this.postUpdateItem(this.updateData),this.isHaveNotSaveDataYet=!1}).onCancel(()=>{this.isHaveNotSaveDataYet=!1}),this.showUpdateDialog=!1,this.isHaveNotSaveDataYet=!1}catch(e){console.error("Error when handling handleClickBackButtonShowAlert(): ",e)}}}}),w_=e=>{let t;return e?t=e:typeof fetch=="undefined"?t=(...n)=>Ui(()=>Promise.resolve().then(function(){return Sa}),void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class Lf extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class y_ extends Lf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class x_ extends Lf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class b_ extends Lf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Yd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Yd||(Yd={}));var __=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function h(p){try{m(s.next(p))}catch(y){d(y)}}function g(p){try{m(s.throw(p))}catch(y){d(y)}}function m(p){p.done?l(p.value):a(p.value).then(h,g)}m((s=s.apply(e,t||[])).next())})};class C_{constructor(t,{headers:n={},customFetch:s,region:a=Yd.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=w_(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return __(this,void 0,void 0,function*(){try{const{headers:a,method:l,body:d}=n;let h={},{region:g}=n;g||(g=this.region),g&&g!=="any"&&(h["x-region"]=g);let m;d&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob!="undefined"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=d):typeof d=="string"?(h["Content-Type"]="text/plain",m=d):typeof FormData!="undefined"&&d instanceof FormData?m=d:(h["Content-Type"]="application/json",m=JSON.stringify(d)));const p=yield this.fetch(`${this.url}/${t}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:m}).catch(T=>{throw new y_(T)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new x_(p);if(!p.ok)throw new b_(p);let _=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return _==="application/json"?b=yield p.json():_==="application/octet-stream"?b=yield p.blob():_==="text/event-stream"?b=p:_==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null}}catch(a){return{data:null,error:a}}})}}var Ar=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function S_(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),t}var Kr={},Bf={},ic={},Rl={},sc={},oc={},E_=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")},pa=E_();const A_=pa.fetch;var pv=pa.fetch.bind(pa);const wv=pa.Headers,T_=pa.Request,I_=pa.Response;var Sa=Object.freeze(Object.defineProperty({__proto__:null,fetch:A_,default:pv,Headers:wv,Request:T_,Response:I_},Symbol.toStringTag,{value:"Module"})),O_=S_(Sa),ac={};Object.defineProperty(ac,"__esModule",{value:!0});class D_ extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}ac.default=D_;var yv=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oc,"__esModule",{value:!0});const k_=yv(O_),R_=yv(ac);class M_{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch=="undefined"?this.fetch=k_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var d,h,g;let m=null,p=null,y=null,_=l.status,b=l.statusText;if(l.ok){if(this.method!=="HEAD"){const K=await l.text();K===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=K:p=JSON.parse(K))}const k=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),q=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");k&&q&&q.length>1&&(y=parseInt(q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(m={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,y=null,_=406,b="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const k=await l.text();try{m=JSON.parse(k),Array.isArray(m)&&l.status===404&&(p=[],m=null,_=200,b="OK")}catch{l.status===404&&k===""?(_=204,b="No Content"):m={message:k}}if(m&&this.isMaybeSingle&&((g=m==null?void 0:m.details)===null||g===void 0?void 0:g.includes("0 rows"))&&(m=null,_=200,b="OK"),m&&this.shouldThrowOnError)throw new R_.default(m)}return{error:m,data:p,count:y,status:_,statusText:b}});return this.shouldThrowOnError||(a=a.catch(l=>{var d,h,g;return{error:{message:`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(h=l==null?void 0:l.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(g=l==null?void 0:l.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}}oc.default=M_;var N_=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sc,"__esModule",{value:!0});const P_=N_(oc);class L_ extends P_.default{select(t){let n=!1;const s=(t!=null?t:"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:a,referencedTable:l=a}={}){const d=l?`${l}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s=="undefined"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a=="undefined"?"offset":`${a}.offset`,d=typeof a=="undefined"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${t}`),this.url.searchParams.set(d,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:a=!1,wal:l=!1,format:d="text"}={}){var h;const g=[t?"analyze":null,n?"verbose":null,s?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${m}"; options=${g};`,d==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}sc.default=L_;var B_=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rl,"__esModule",{value:!0});const F_=B_(sc);class V_ extends F_.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${l}fts${d}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}}Rl.default=V_;var $_=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ic,"__esModule",{value:!0});const Wa=$_(Rl);class U_{constructor(t,{headers:n={},schema:s,fetch:a}){this.url=t,this.headers=n,this.schema=s,this.fetch=a}select(t,{head:n=!1,count:s}={}){const a=n?"HEAD":"GET";let l=!1;const d=(t!=null?t:"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",d),s&&(this.headers.Prefer=`count=${s}`),new Wa.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:s=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),n&&l.push(`count=${n}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const d=t.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new Wa.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:a,defaultToNull:l=!0}={}){const d="POST",h=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&h.push(this.headers.Prefer),a&&h.push(`count=${a}`),l||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(t)){const g=t.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(g.length>0){const m=[...new Set(g)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new Wa.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new Wa.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Wa.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}ic.default=U_;var lc={},uc={};Object.defineProperty(uc,"__esModule",{value:!0});uc.version=void 0;uc.version="0.0.0-automated";Object.defineProperty(lc,"__esModule",{value:!0});lc.DEFAULT_HEADERS=void 0;const q_=uc;lc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${q_.version}`};var xv=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bf,"__esModule",{value:!0});const j_=xv(ic),H_=xv(Rl),z_=lc;class Ff{constructor(t,{headers:n={},schema:s,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},z_.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new j_.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ff(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:a=!1,count:l}={}){let d;const h=new URL(`${this.url}/rpc/${t}`);let g;s||a?(d=s?"HEAD":"GET",Object.entries(n).filter(([p,y])=>y!==void 0).map(([p,y])=>[p,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([p,y])=>{h.searchParams.append(p,y)})):(d="POST",g=n);const m=Object.assign({},this.headers);return l&&(m.Prefer=`count=${l}`),new H_.default({method:d,url:h,headers:m,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}Bf.default=Ff;var Ea=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.PostgrestError=Kr.PostgrestBuilder=Kr.PostgrestTransformBuilder=Kr.PostgrestFilterBuilder=Kr.PostgrestQueryBuilder=Kr.PostgrestClient=void 0;const bv=Ea(Bf);Kr.PostgrestClient=bv.default;const _v=Ea(ic);Kr.PostgrestQueryBuilder=_v.default;const Cv=Ea(Rl);Kr.PostgrestFilterBuilder=Cv.default;const Sv=Ea(sc);Kr.PostgrestTransformBuilder=Sv.default;const Ev=Ea(oc);Kr.PostgrestBuilder=Ev.default;const Av=Ea(ac);Kr.PostgrestError=Av.default;var W_=Kr.default={PostgrestClient:bv.default,PostgrestQueryBuilder:_v.default,PostgrestFilterBuilder:Cv.default,PostgrestTransformBuilder:Sv.default,PostgrestBuilder:Ev.default,PostgrestError:Av.default};const{PostgrestClient:G_,PostgrestQueryBuilder:iT,PostgrestFilterBuilder:sT,PostgrestTransformBuilder:oT,PostgrestBuilder:aT,PostgrestError:lT}=W_,Y_="2.11.2",X_={"X-Client-Info":`realtime-js/${Y_}`},K_="1.0.0",Tv=1e4,Z_=1e3;var aa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(aa||(aa={}));var ri;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ri||(ri={}));var wi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(wi||(wi={}));var Xd;(function(e){e.websocket="websocket"})(Xd||(Xd={}));var oo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(oo||(oo={}));class Q_{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const a=n.getUint8(1),l=n.getUint8(2);let d=this.HEADER_LENGTH+2;const h=s.decode(t.slice(d,d+a));d=d+a;const g=s.decode(t.slice(d,d+l));d=d+l;const m=JSON.parse(s.decode(t.slice(d,t.byteLength)));return{ref:null,topic:h,event:g,payload:m}}}class Iv{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Cn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Cn||(Cn={}));const P0=(e,t,n={})=>{var s;const a=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((l,d)=>(l[d]=J_(d,e,t,a),l),{})},J_=(e,t,n,s)=>{const a=t.find(h=>h.name===e),l=a==null?void 0:a.type,d=n[e];return l&&!s.includes(l)?Ov(l,d):Kd(d)},Ov=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return rC(t,n)}switch(e){case Cn.bool:return eC(t);case Cn.float4:case Cn.float8:case Cn.int2:case Cn.int4:case Cn.int8:case Cn.numeric:case Cn.oid:return tC(t);case Cn.json:case Cn.jsonb:return nC(t);case Cn.timestamp:return iC(t);case Cn.abstime:case Cn.date:case Cn.daterange:case Cn.int4range:case Cn.int8range:case Cn.money:case Cn.reltime:case Cn.text:case Cn.time:case Cn.timestamptz:case Cn.timetz:case Cn.tsrange:case Cn.tstzrange:return Kd(t);default:return Kd(t)}},Kd=e=>e,eC=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tC=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},nC=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},rC=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let l;const d=e.slice(1,n);try{l=JSON.parse("["+d+"]")}catch{l=d?d.split(","):[]}return l.map(h=>Ov(t,h))}return e},iC=e=>typeof e=="string"?e.replace(" ","T"):e,Dv=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ld{constructor(t,n,s={},a=Tv){this.channel=t,this.event=n,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var L0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(L0||(L0={}));class cl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:l,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cl.syncState(this.state,a,l,d),this.pendingDiffs.forEach(g=>{this.state=cl.syncDiff(this.state,g,l,d)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},a=>{const{onJoin:l,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=cl.syncDiff(this.state,a,l,d),h())}),this.onJoin((a,l,d)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:d})}),this.onLeave((a,l,d)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,a){const l=this.cloneDeep(t),d=this.transformState(n),h={},g={};return this.map(l,(m,p)=>{d[m]||(g[m]=p)}),this.map(d,(m,p)=>{const y=l[m];if(y){const _=p.map(q=>q.presence_ref),b=y.map(q=>q.presence_ref),T=p.filter(q=>b.indexOf(q.presence_ref)<0),k=y.filter(q=>_.indexOf(q.presence_ref)<0);T.length>0&&(h[m]=T),k.length>0&&(g[m]=k)}else h[m]=p}),this.syncDiff(l,{joins:h,leaves:g},s,a)}static syncDiff(t,n,s,a){const{joins:l,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(l,(h,g)=>{var m;const p=(m=t[h])!==null&&m!==void 0?m:[];if(t[h]=this.cloneDeep(g),p.length>0){const y=t[h].map(b=>b.presence_ref),_=p.filter(b=>y.indexOf(b.presence_ref)<0);t[h].unshift(..._)}s(h,p,g)}),this.map(d,(h,g)=>{let m=t[h];if(!m)return;const p=g.map(y=>y.presence_ref);m=m.filter(y=>p.indexOf(y.presence_ref)<0),t[h]=m,a(h,m,g),m.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const a=t[s];return"metas"in a?n[s]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var B0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(B0||(B0={}));var F0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(F0||(F0={}));var Ji;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ji||(Ji={}));class Vf{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=ri.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ld(this,wi.join,this.params,this.timeout),this.rejoinTimer=new Iv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ri.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ri.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ri.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this._isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ri.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wi.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new cl(this),this.broadcastEndpointURL=Dv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:d,private:h}}=this.params;this._onError(p=>t==null?void 0:t(Ji.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Ji.CLOSED));const g={},m={broadcast:l,presence:d,postgres_changes:(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(p=>p.filter))!==null&&a!==void 0?a:[],private:h};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){t==null||t(Ji.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,b=(y=_==null?void 0:_.length)!==null&&y!==void 0?y:0,T=[];for(let k=0;k<b;k++){const q=_[k],{filter:{event:K,schema:Y,table:N,filter:A}}=q,B=p&&p[k];if(B&&B.event===K&&B.schema===Y&&B.table===N&&B.filter===A)T.push(Object.assign(Object.assign({},q),{id:B.id}));else{this.unsubscribe(),t==null||t(Ji.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(Ji.SUBSCRIBED);return}}).receive("error",p=>{t==null||t(Ji.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ji.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:d}=t,h=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",g={method:"POST",headers:{Authorization:h,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var d,h,g;const m=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ri.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wi.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const a=new ld(this,wi.leave,{},t);a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,n,s){const a=new AbortController,l=setTimeout(()=>a.abort(),s),d=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(l),d}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ld(this,t,n,s);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var a,l;const d=t.toLocaleLowerCase(),{close:h,error:g,leave:m,join:p}=wi;if(s&&[h,g,m,p].indexOf(d)>=0&&s!==this._joinRef())return;let _=this._onMessage(d,n,s);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var T,k,q;return((T=b.filter)===null||T===void 0?void 0:T.event)==="*"||((q=(k=b.filter)===null||k===void 0?void 0:k.event)===null||q===void 0?void 0:q.toLocaleLowerCase())===d}).map(b=>b.callback(_,s)):(l=this.bindings[d])===null||l===void 0||l.filter(b=>{var T,k,q,K,Y,N;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in b){const A=b.id,B=(T=b.filter)===null||T===void 0?void 0:T.event;return A&&((k=n.ids)===null||k===void 0?void 0:k.includes(A))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((q=n.data)===null||q===void 0?void 0:q.type.toLocaleLowerCase()))}else{const A=(Y=(K=b==null?void 0:b.filter)===null||K===void 0?void 0:K.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return A==="*"||A===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===d}).map(b=>{if(typeof _=="object"&&"ids"in _){const T=_.data,{schema:k,table:q,commit_timestamp:K,type:Y,errors:N}=T;_=Object.assign(Object.assign({},{schema:k,table:q,commit_timestamp:K,eventType:Y,new:{},old:{},errors:N}),this._getPayloadRecords(T))}b.callback(_,s)})}_isClosed(){return this.state===ri.closed}_isJoined(){return this.state===ri.joined}_isJoining(){return this.state===ri.joining}_isLeaving(){return this.state===ri.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const a=t.toLocaleLowerCase(),l={type:a,filter:n,callback:s};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Vf.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(wi.close,{},t)}_onError(t){this._on(wi.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ri.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=P0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=P0(t.columns,t.old_record)),n}}const sC=()=>{},oC=typeof WebSocket!="undefined",aC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lC{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=X_,this.params={},this.timeout=Tv,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=sC,this.conn=null,this.sendBuffer=[],this.serializer=new Q_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let d;return l?d=l:typeof fetch=="undefined"?d=(...h)=>Ui(()=>Promise.resolve().then(function(){return Sa}),void 0).then(({default:g})=>g(...h)):d=fetch,(...h)=>d(...h)},this.endPoint=`${t}/${Xd.websocket}`,this.httpEndpoint=Dv(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(l,d)=>d(JSON.stringify(l)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Iv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(oC){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new uC(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ui(()=>import("./browser.960229ac.js").then(function(t){return t.b}),[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:K_}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n!=null?n:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case aa.connecting:return oo.Connecting;case aa.open:return oo.Open;case aa.closing:return oo.Closing;default:return oo.Closed}}isConnected(){return this.connectionState()===oo.Open}channel(t,n={config:{}}){const s=new Vf(`realtime:${t}`,n,this);return this.channels.push(s),s}push(t){const{topic:n,event:s,payload:a,ref:l}=t,d=()=>{this.encode(t,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};this.log("push",`${n} ${s} (${l})`,a),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(a=>{n&&a.updateJoinPayload({access_token:n}),a.joinedOnce&&a._isJoined()&&a._push(wi.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Z_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:a,payload:l,ref:d}=n;d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${s} ${a} ${d&&"("+d+")"||""}`,l),this.channels.filter(h=>h._isMember(s)).forEach(h=>h._trigger(a,l,d)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(wi.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${s}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([aC],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class uC{constructor(t,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=aa.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class $f extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function xr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class cC extends $f{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zd extends $f{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var dC=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function h(p){try{m(s.next(p))}catch(y){d(y)}}function g(p){try{m(s.throw(p))}catch(y){d(y)}}function m(p){p.done?l(p.value):a(p.value).then(h,g)}m((s=s.apply(e,t||[])).next())})};const kv=e=>{let t;return e?t=e:typeof fetch=="undefined"?t=(...n)=>Ui(()=>Promise.resolve().then(function(){return Sa}),void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},fC=()=>dC(void 0,void 0,void 0,function*(){return typeof Response=="undefined"?(yield Ui(()=>Promise.resolve().then(function(){return Sa}),void 0)).Response:Response}),Qd=e=>{if(Array.isArray(e))return e.map(n=>Qd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const a=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[a]=Qd(s)}),t};var To=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function h(p){try{m(s.next(p))}catch(y){d(y)}}function g(p){try{m(s.throw(p))}catch(y){d(y)}}function m(p){p.done?l(p.value):a(p.value).then(h,g)}m((s=s.apply(e,t||[])).next())})};const ud=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hC=(e,t,n)=>To(void 0,void 0,void 0,function*(){const s=yield fC();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{t(new cC(ud(a),e.status||500))}).catch(a=>{t(new Zd(ud(a),a))}):t(new Zd(ud(e),e))}),gC=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(a.body=JSON.stringify(s)),Object.assign(Object.assign({},a),n))};function Ml(e,t,n,s,a,l){return To(this,void 0,void 0,function*(){return new Promise((d,h)=>{e(n,gC(t,s,a,l)).then(g=>{if(!g.ok)throw g;return s!=null&&s.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>hC(g,h,s))})})}function Ru(e,t,n,s){return To(this,void 0,void 0,function*(){return Ml(e,"GET",t,n,s)})}function Is(e,t,n,s,a){return To(this,void 0,void 0,function*(){return Ml(e,"POST",t,s,a,n)})}function mC(e,t,n,s,a){return To(this,void 0,void 0,function*(){return Ml(e,"PUT",t,s,a,n)})}function vC(e,t,n,s){return To(this,void 0,void 0,function*(){return Ml(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Rv(e,t,n,s,a){return To(this,void 0,void 0,function*(){return Ml(e,"DELETE",t,s,a,n)})}var Yr=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function h(p){try{m(s.next(p))}catch(y){d(y)}}function g(p){try{m(s.throw(p))}catch(y){d(y)}}function m(p){p.done?l(p.value):a(p.value).then(h,g)}m((s=s.apply(e,t||[])).next())})};const pC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},V0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wC{constructor(t,n={},s,a){this.url=t,this.headers=n,this.bucketId=s,this.fetch=kv(a)}uploadOrUpdate(t,n,s,a){return Yr(this,void 0,void 0,function*(){try{let l;const d=Object.assign(Object.assign({},V0),a);let h=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob!="undefined"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",s)):typeof FormData!="undefined"&&s instanceof FormData?(l=s,l.append("cacheControl",d.cacheControl),g&&l.append("metadata",this.encodeMetadata(g))):(l=s,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,g&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),a!=null&&a.headers&&(h=Object.assign(Object.assign({},h),a.headers));const m=this._removeEmptyFolders(n),p=this._getFinalPath(m),y=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:t,body:l,headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{})),_=yield y.json();return y.ok?{data:{path:m,id:_.Id,fullPath:_.Key},error:null}:{data:null,error:_}}catch(l){if(xr(l))return{data:null,error:l};throw l}})}upload(t,n,s){return Yr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,a){return Yr(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),d=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",n);try{let g;const m=Object.assign({upsert:V0.upsert},a),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob!="undefined"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",s)):typeof FormData!="undefined"&&s instanceof FormData?(g=s,g.append("cacheControl",m.cacheControl)):(g=s,p["cache-control"]=`max-age=${m.cacheControl}`,p["content-type"]=m.contentType);const y=yield this.fetch(h.toString(),{method:"PUT",body:g,headers:p}),_=yield y.json();return y.ok?{data:{path:l,fullPath:_.Key},error:null}:{data:null,error:_}}catch(g){if(xr(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(t,n){return Yr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const l=yield Is(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),d=new URL(this.url+l.url),h=d.searchParams.get("token");if(!h)throw new $f("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:h},error:null}}catch(s){if(xr(s))return{data:null,error:s};throw s}})}update(t,n,s){return Yr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return Yr(this,void 0,void 0,function*(){try{return{data:yield Is(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(xr(a))return{data:null,error:a};throw a}})}copy(t,n,s){return Yr(this,void 0,void 0,function*(){try{return{data:{path:(yield Is(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(xr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,s){return Yr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),l=yield Is(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const d=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${d}`)},{data:l,error:null}}catch(a){if(xr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,s){return Yr(this,void 0,void 0,function*(){try{const a=yield Is(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),l=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${l}`):null})),error:null}}catch(a){if(xr(a))return{data:null,error:a};throw a}})}download(t,n){return Yr(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)!="undefined"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=l?`?${l}`:"";try{const h=this._getFinalPath(t);return{data:yield(yield Ru(this.fetch,`${this.url}/${a}/${h}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(xr(h))return{data:null,error:h};throw h}})}info(t){return Yr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield Ru(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Qd(s),error:null}}catch(s){if(xr(s))return{data:null,error:s};throw s}})}exists(t){return Yr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield vC(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(xr(s)&&s instanceof Zd){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),a=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&a.push(l);const h=typeof(n==null?void 0:n.transform)!="undefined"?"render/image":"object",g=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});g!==""&&a.push(g);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${m}`)}}}remove(t){return Yr(this,void 0,void 0,function*(){try{return{data:yield Rv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(xr(n))return{data:null,error:n};throw n}})}list(t,n,s){return Yr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},pC),n),{prefix:t||""});return{data:yield Is(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(xr(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer!="undefined"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const yC="2.7.1",xC={"X-Client-Info":`storage-js/${yC}`};var Wo=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function h(p){try{m(s.next(p))}catch(y){d(y)}}function g(p){try{m(s.throw(p))}catch(y){d(y)}}function m(p){p.done?l(p.value):a(p.value).then(h,g)}m((s=s.apply(e,t||[])).next())})};class bC{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},xC),n),this.fetch=kv(s)}listBuckets(){return Wo(this,void 0,void 0,function*(){try{return{data:yield Ru(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(xr(t))return{data:null,error:t};throw t}})}getBucket(t){return Wo(this,void 0,void 0,function*(){try{return{data:yield Ru(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(xr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Wo(this,void 0,void 0,function*(){try{return{data:yield Is(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(xr(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Wo(this,void 0,void 0,function*(){try{return{data:yield mC(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(xr(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Wo(this,void 0,void 0,function*(){try{return{data:yield Is(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(xr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Wo(this,void 0,void 0,function*(){try{return{data:yield Rv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(xr(n))return{data:null,error:n};throw n}})}}class _C extends bC{constructor(t,n={},s){super(t,n,s)}from(t){return new wC(this.url,this.headers,t,this.fetch)}}const CC="2.47.8";let Za="";typeof Deno!="undefined"?Za="deno":typeof document!="undefined"?Za="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?Za="react-native":Za="node";const SC={"X-Client-Info":`supabase-js-${Za}/${CC}`},EC={headers:SC},AC={schema:"public"},TC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},IC={};var OC=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function h(p){try{m(s.next(p))}catch(y){d(y)}}function g(p){try{m(s.throw(p))}catch(y){d(y)}}function m(p){p.done?l(p.value):a(p.value).then(h,g)}m((s=s.apply(e,t||[])).next())})};const DC=e=>{let t;return e?t=e:typeof fetch=="undefined"?t=pv:t=fetch,(...n)=>t(...n)},kC=()=>typeof Headers=="undefined"?wv:Headers,RC=(e,t,n)=>{const s=DC(n),a=kC();return(l,d)=>OC(void 0,void 0,void 0,function*(){var h;const g=(h=yield t())!==null&&h!==void 0?h:e;let m=new a(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),s(l,Object.assign(Object.assign({},d),{headers:m}))})};var MC=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function h(p){try{m(s.next(p))}catch(y){d(y)}}function g(p){try{m(s.throw(p))}catch(y){d(y)}}function m(p){p.done?l(p.value):a(p.value).then(h,g)}m((s=s.apply(e,t||[])).next())})};function NC(e){return e.replace(/\/$/,"")}function PC(e,t){const{db:n,auth:s,realtime:a,global:l}=e,{db:d,auth:h,realtime:g,global:m}=t,p={db:Object.assign(Object.assign({},d),n),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},g),a),global:Object.assign(Object.assign({},m),l),accessToken:()=>MC(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const Mv="2.67.1",LC="http://localhost:9999",BC="supabase.auth.token",FC={"X-Client-Info":`gotrue-js/${Mv}`},$0=10,Jd="X-Supabase-Api-Version",Nv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function VC(e){return Math.round(Date.now()/1e3)+e}function $C(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const vi=()=>typeof document!="undefined",to={tested:!1,writable:!1},dl=()=>{if(!vi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(to.tested)return to.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),to.tested=!0,to.writable=!0}catch{to.tested=!0,to.writable=!1}return to.writable};function cd(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,l)=>{t[l]=a})}catch{}return n.searchParams.forEach((s,a)=>{t[a]=s}),t}const Pv=e=>{let t;return e?t=e:typeof fetch=="undefined"?t=(...n)=>Ui(()=>Promise.resolve().then(function(){return Sa}),void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},UC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Lv=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Jl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},eu=async(e,t)=>{await e.removeItem(t)};function qC(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",s,a,l,d,h,g,m,p=0;for(e=e.replace("-","+").replace("_","/");p<e.length;)d=t.indexOf(e.charAt(p++)),h=t.indexOf(e.charAt(p++)),g=t.indexOf(e.charAt(p++)),m=t.indexOf(e.charAt(p++)),s=d<<2|h>>4,a=(h&15)<<4|g>>2,l=(g&3)<<6|m,n=n+String.fromCharCode(s),g!=64&&a!=0&&(n=n+String.fromCharCode(a)),m!=64&&l!=0&&(n=n+String.fromCharCode(l));return n}class cc{constructor(){this.promise=new cc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}cc.promiseConstructor=Promise;function U0(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=n[1];return JSON.parse(qC(s))}async function jC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function HC(e,t){return new Promise((s,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const d=await e(l);if(!t(l,null,d)){s(d);return}}catch(d){if(!t(l,d)){a(d);return}}})()})}function zC(e){return("0"+e.toString(16)).substr(-2)}function WC(){const t=new Uint32Array(56);if(typeof crypto=="undefined"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let a="";for(let l=0;l<56;l++)a+=n.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,zC).join("")}async function GC(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(s);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}function YC(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function XC(e){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await GC(e);return YC(n)}async function Go(e,t,n=!1){const s=WC();let a=s;n&&(a+="/PASSWORD_RECOVERY"),await Lv(e,`${t}-code-verifier`,a);const l=await XC(s);return[l,s===l?"plain":"s256"]}const KC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZC(e){const t=e.headers.get(Jd);if(!t||!t.match(KC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Uf extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Ht(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class QC extends Uf{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function JC(e){return Ht(e)&&e.name==="AuthApiError"}class Bv extends Uf{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Io extends Uf{constructor(t,n,s,a){super(t,s,a),this.name=n,this.status=s}}class _s extends Io{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eS(e){return Ht(e)&&e.name==="AuthSessionMissingError"}class dd extends Io{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tu extends Io{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class nu extends Io{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tS(e){return Ht(e)&&e.name==="AuthImplicitGrantRedirectError"}class q0 extends Io{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ef extends Io{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function fd(e){return Ht(e)&&e.name==="AuthRetryableFetchError"}class j0 extends Io{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}var nS=globalThis&&globalThis.__rest||function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n};const io=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rS=[502,503,504];async function H0(e){var t;if(!UC(e))throw new ef(io(e),0);if(rS.includes(e.status))throw new ef(io(e),e.status);let n;try{n=await e.json()}catch(l){throw new Bv(io(l),l)}let s;const a=ZC(e);if(a&&a.getTime()>=Nv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new j0(io(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new _s}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,d)=>l&&typeof d=="string",!0))throw new j0(io(n),e.status,n.weak_password.reasons);throw new QC(io(n),e.status||500,s)}const iS=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};async function nn(e,t,n,s){var a;const l=Object.assign({},s==null?void 0:s.headers);l[Jd]||(l[Jd]=Nv["2024-01-01"].name),s!=null&&s.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const d=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(d.redirect_to=s.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await sS(e,t,n+h,{headers:l,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(g):{data:Object.assign({},g),error:null}}async function sS(e,t,n,s,a,l){const d=iS(t,s,a,l);let h;try{h=await e(n,Object.assign({},d))}catch(g){throw console.error(g),new ef(io(g),0)}if(h.ok||await H0(h),s!=null&&s.noResolveJson)return h;try{return await h.json()}catch(g){await H0(g)}}function Cs(e){var t;let n=null;uS(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=VC(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function z0(e){const t=Cs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ks(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function oS(e){return{data:e,error:null}}function aS(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:l}=e,d=nS(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:l},g=Object.assign({},d);return{data:{properties:h,user:g},error:null}}function lS(e){return e}function uS(e){return e.access_token&&e.refresh_token&&e.expires_in}var cS=globalThis&&globalThis.__rest||function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n};class dS{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=Pv(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await nn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ht(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await nn(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ks})}catch(s){if(Ht(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=cS(t,["options"]),a=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await nn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:aS,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ht(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await nn(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ks})}catch(n){if(Ht(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,a,l,d,h,g;try{const m={nextPage:null,lastPage:0,total:0},p=await nn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:lS});if(p.error)throw p.error;const y=await p.json(),_=(d=p.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(g=(h=p.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return b.length>0&&(b.forEach(T=>{const k=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),q=JSON.parse(T.split(";")[1].split("=")[1]);m[`${q}Page`]=k}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Ht(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){try{return await nn(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ks})}catch(n){if(Ht(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await nn(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ks})}catch(s){if(Ht(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){try{return await nn(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ks})}catch(s){if(Ht(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:n,error:s}=await nn(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:s}}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await nn(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ht(n))return{data:null,error:n};throw n}}}const fS={getItem:e=>dl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{!dl()||globalThis.localStorage.setItem(e,t)},removeItem:e=>{!dl()||globalThis.localStorage.removeItem(e)}};function W0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function hS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self!="undefined"&&(self.globalThis=self)}}const Yo={debug:!!(globalThis&&dl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class gS extends Fv{}async function mS(e,t,n){Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new gS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Yo.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}hS();const vS={url:LC,storageKey:BC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ga=30*1e3,G0=3;async function Y0(e,t,n){return await n()}class El{constructor(t){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=El.nextInstanceID,El.nextInstanceID+=1,this.instanceID>0&&vi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},vS),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new dS({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Pv(a.fetch),this.lock=a.lock||Y0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:vi()&&((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0?void 0:n.locks)?this.lock=mS:this.lock=Y0,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:dl()?this.storage=fS:(this.memoryStorage={},this.storage=W0(this.memoryStorage)):(this.memoryStorage={},this.storage=W0(this.memoryStorage)),vi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Mv}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=vi()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",n),n||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:a}=await this._getSessionFromURL(n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),tS(a)){const h=(t=a.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ht(n)?{error:n}:{error:new Bv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,a;try{const l=await nn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Cs}),{data:d,error:h}=l;if(h||!d)return{data:{user:null,session:null},error:h};const g=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(l){if(Ht(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var n,s,a;try{let l;if("email"in t){const{email:p,password:y,options:_}=t;let b=null,T=null;this.flowType==="pkce"&&([b,T]=await Go(this.storage,this.storageKey)),l=await nn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:p,password:y,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:b,code_challenge_method:T},xform:Cs})}else if("phone"in t){const{phone:p,password:y,options:_}=t;l=await nn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(s=_==null?void 0:_.data)!==null&&s!==void 0?s:{},channel:(a=_==null?void 0:_.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Cs})}else throw new tu("You must provide either an email or phone number and a password");const{data:d,error:h}=l;if(h||!d)return{data:{user:null,session:null},error:h};const g=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(l){if(Ht(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let n;if("email"in t){const{email:l,password:d,options:h}=t;n=await nn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:z0})}else if("phone"in t){const{phone:l,password:d,options:h}=t;n=await nn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:z0})}else throw new tu("You must provide either an email or phone number and a password");const{data:s,error:a}=n;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new dd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(n){if(Ht(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,a,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Jl(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(n!=null?n:"").split("/");try{const{data:l,error:d}=await nn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Cs});if(await eu(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new dd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a!=null?a:null}),error:d})}catch(l){if(Ht(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:n,provider:s,token:a,access_token:l,nonce:d}=t,h=await nn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:l,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Cs}),{data:g,error:m}=h;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new dd}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(n){if(Ht(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,a,l,d;try{if("email"in t){const{email:h,options:g}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Go(this.storage,this.storageKey));const{error:y}=await nn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},create_user:(s=g==null?void 0:g.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:p},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in t){const{phone:h,options:g}=t,{data:m,error:p}=await nn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(d=g==null?void 0:g.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:p}}throw new tu("You must provide either an email or phone number.")}catch(h){if(Ht(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(t){var n,s;try{let a,l;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,l=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:h}=await nn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Cs});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,m=d.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(a){if(Ht(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,s,a;try{let l=null,d=null;return this.flowType==="pkce"&&([l,d]=await Go(this.storage,this.storageKey)),await nn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:d}),headers:this.headers,xform:oS})}catch(l){if(Ht(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new _s;const{error:a}=await nn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Ht(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:l}=t,{error:d}=await nn(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in t){const{phone:s,type:a,options:l}=t,{data:d,error:h}=await nn(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new tu("You must provide either an email or phone number and a type")}catch(n){if(Ht(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Jl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let d=this.suppressGetSessionWarning;t=new Proxy(t,{get:(g,m,p)=>(!d&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,p))})}return{data:{session:t},error:null}}const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await nn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ks}):await this._useSession(async n=>{var s,a,l;const{data:d,error:h}=n;if(h)throw h;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _s}:await nn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=d.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:ks})})}catch(n){if(Ht(n))return eS(n)&&(await this._removeSession(),await eu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:a,error:l}=s;if(l)throw l;if(!a.session)throw new _s;const d=a.session;let h=null,g=null;this.flowType==="pkce"&&t.email!=null&&([h,g]=await Go(this.storage,this.storageKey));const{data:m,error:p}=await nn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:g}),jwt:d.access_token,xform:ks});if(p)throw p;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(s){if(Ht(s))return{data:{user:null},error:s};throw s}}_decodeJWT(t){return U0(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _s;const n=Date.now()/1e3;let s=n,a=!0,l=null;const d=U0(t.access_token);if(d.exp&&(s=d.exp,a=s<=n),a){const{session:h,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:g}=await this._getUser(t.access_token);if(g)throw g;l={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(Ht(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:d,error:h}=n;if(h)throw h;t=(s=d.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new _s;const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ht(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t){try{if(!vi())throw new nu("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new nu("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new q0("Not a valid PKCE flow url.");const n=cd(window.location.href);if(t){if(!n.code)throw new q0("No code detected.");const{data:Y,error:N}=await this._exchangeCodeForSession(n.code);if(N)throw N;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:Y.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new nu(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:s,provider_refresh_token:a,access_token:l,refresh_token:d,expires_in:h,expires_at:g,token_type:m}=n;if(!l||!h||!d||!m)throw new nu("No session defined in URL");const p=Math.round(Date.now()/1e3),y=parseInt(h);let _=p+y;g&&(_=parseInt(g));const b=_-p;b*1e3<=Ga&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const T=_-y;p-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,_,p):p-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,_,p);const{data:k,error:q}=await this._getUser(l);if(q)throw q;const K={provider_token:s,provider_refresh_token:a,access_token:l,expires_in:y,expires_at:_,refresh_token:d,token_type:m,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:K,redirectType:n.type},error:null}}catch(n){if(Ht(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const t=cd(window.location.href);return!!(vi()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=cd(window.location.href),n=await Jl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:a,error:l}=n;if(l)return{error:l};const d=(s=a.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:h}=await this.admin.signOut(d,t);if(h&&!(JC(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return t!=="others"&&(await this._removeSession(),await eu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=$C(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,a;try{const{data:{session:l},error:d}=n;if(d)throw d;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,n={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Go(this.storage,this.storageKey,!0));try{return await nn(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(Ht(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:a}=await this._useSession(async l=>{var d,h,g,m,p;const{data:y,error:_}=l;if(_)throw _;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await nn(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return vi()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Ht(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,a;const{data:l,error:d}=n;if(d)throw d;return await nn(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await HC(async a=>(a>0&&await jC(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await nn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Cs})),(a,l)=>{const d=200*Math.pow(2,a);return l&&fd(l)&&Date.now()+d-s<Ga})}catch(s){if(this._debug(n,"error",s),Ht(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),vi()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Jl(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),l=((t=s.expires_at)!==null&&t!==void 0?t:1/0)<a+$0;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${$0}s`),l){if(this.autoRefreshToken&&s.refresh_token){const{error:d}=await this._callRefreshToken(s.refresh_token);d&&(console.error(d),fd(d)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new _s;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new cc;const{data:l,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!l.session)throw new _s;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={session:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),Ht(l)){const d={session:null,error:l};return fd(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const l=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(g){l.push(g)}});if(await Promise.all(d),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Lv(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await eu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vi()&&(window==null?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ga);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/Ga);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ga}ms, refresh threshold is ${G0} ticks`),a<=G0&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Fv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const a=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,d]=await Go(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(d)}`});a.push(h.toString())}if(s!=null&&s.queryParams){const l=new URLSearchParams(s.queryParams);a.push(l.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:a,error:l}=n;return l?{data:null,error:l}:await nn(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,a;const{data:l,error:d}=n;if(d)return{data:null,error:d};const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:g,error:m}=await nn(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&((a=g==null?void 0:g.totp)===null||a===void 0?void 0:a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:l}=n;if(l)return{data:null,error:l};const{data:d,error:h}=await nn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(n){if(Ht(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:l}=n;return l?{data:null,error:l}:await nn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ht(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],a=s.filter(d=>d.factor_type==="totp"&&d.status==="verified"),l=s.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:s,totp:a,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:a},error:l}=t;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const d=this._decodeJWT(a.access_token);let h=null;d.aal&&(h=d.aal);let g=h;((s=(n=a.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(g="aal2");const p=d.amr||[];return{data:{currentLevel:h,nextLevel:g,currentAuthenticationMethods:p},error:null}}))}}El.nextInstanceID=0;const pS=El;class wS extends pS{constructor(t){super(t)}}var yS=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function h(p){try{m(s.next(p))}catch(y){d(y)}}function g(p){try{m(s.throw(p))}catch(y){d(y)}}function m(p){p.done?l(p.value):a(p.value).then(h,g)}m((s=s.apply(e,t||[])).next())})};class xS{constructor(t,n,s){var a,l,d;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=NC(t);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,m={db:AC,realtime:IC,auth:Object.assign(Object.assign({},TC),{storageKey:g}),global:EC},p=PC(s!=null?s:{},m);this.storageKey=(a=p.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=p.global.headers)!==null&&l!==void 0?l:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=p.auth)!==null&&d!==void 0?d:{},this.headers,p.global.fetch),this.fetch=RC(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new G_(`${h}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new C_(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new _C(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return yS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:a,storageKey:l,flowType:d,lock:h,debug:g},m,p){var y;const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wS({url:this.authUrl,headers:Object.assign(Object.assign({},_),m),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:a,flowType:d,lock:h,debug:g,fetch:p,hasCustomAuthorizationHeader:(y="Authorization"in this.headers)!==null&&y!==void 0?y:!1})}_initRealtimeClient(t){return new lC(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bS=(e,t,n)=>new xS(e,t,n),Vv=us("supabase",{state:()=>({menuData:[],dataItem:[],listUserData:[],listDiscount:[],userStatusObject:{},isLogin:!1,isLoadingMainScreen:!1,isShowMoreUsers:!1,loadingSelect:!1,isLoadingHistory:!1,slideItems:[],slideItemsUpdate:[],isHaveNotSaveDataYet:!1,isLoadingMenuData:!1,userStatus:"",statusServing:"serving",statusWaiting:"waiting",statusOff:"off",giftCard:"",newData:{umsatz:0,notizen:"",menuSelected:[],isCustomerOrder:!1,isHaveDiscount:!1,discountObject:{},isHaveGiftCard:!1,giftCardObject:{}},updateData:{umsatz:0,notizen:"",menuSelected:[],menu:[],isCustomerOrder:!1,menuMultipleSelect:[]},listOrderHistories:[],showAddDialog:!1,showUpdateDialog:!1,showHistoryDialog:!1,showNotizen:!1}),actions:{async getInit(){this.listDiscount=await this.getDiscount(),await this.fetchData(),await this.subscribeToTable(),await this.subscribeToTableUserSessions()},async fetchData(){try{await this.fetchMenuData(),await this.getUserStatus(),this.isLoadingMainScreen=!0,this.loadingSelect=!1;const e=new Date;e.setHours(0,0,0,0);const{data:t,error:n}=await $t.from("orders").select("*").order("created_at",{ascending:!0}).gte("created_at",e.toISOString());let s=t||[];this.dataItem=await this.handleDataToDisplay(s),this.isLoadingMainScreen=!1}catch(e){console.error("Error fetching data:",e),this.isLoadingMainScreen=!1}},async fetchOrderItem(e){try{const{data:t,error:n}=await $t.from("order_menu").select("*").eq("order_id",e);return t}catch(t){console.error("Error fetching data:",t)}},async fetchHistoryData(e){try{this.isLoadingHistory=!0;const{data:t,error:n}=await $t.from("order_history").select("*").eq("order_id",e);n?console.error("Error when fetching data in fetchHistoryData(rowId): ",n):this.listOrderHistories=t,this.isLoadingHistory=!1}catch(t){this.isLoadingHistory=!1,console.error("Error fetching data fetchHistoryData(rowId):",t)}},async handleDataToDisplay(e){try{let t=[];return t=await Promise.all(e.map(async n=>{var y;const s=new Date(n.created_at),a=String(s.getHours()).padStart(2,"0"),l=String(s.getMinutes()).padStart(2,"0"),d=`${a}:${l}`,h=await this.fetchOrderItem(n.id);let g=0;h.forEach(_=>{g+=_.price});let m=this.listDiscount.filter(_=>_.id==n.discount)[0];m&&(m.type==="none"?g-=m.value:g-=g/100*m.value);let p=0;return((y=n.giftcard)==null?void 0:y.length)>0&&(p=await this.getGiftCard(n.giftcard)),p&&(g-=p.value),{id:n.id,notizen:n.description,menu:h,datum:d,isHandled:!0,totalPrice:g,discountObject:m||{},giftCardObject:p||{}}}).filter(n=>n)),await Promise.all(t),t.forEach((n,s)=>{t[s].menu.length>1&&(t[s].menuSelected=t[s].menu.map(a=>({...this.menuData.filter(l=>a.menu_id==l.id)[0],quantity:a.quantity})))}),this.newData.menuMultipleSelect=this.menuData.map(n=>{if(n.isMultiSelect)return{id:n.id,label:n.label,price:parseFloat(n.value),selectCount:0,isMultiSelect:!0}}).filter(n=>n),t.length||(t=[]),t}catch(t){console.error("Internal Server Error: ",t)}},async fetchMenuData(){try{const e=JSON.parse(localStorage.getItem("menuData"));if(e)this.menuData=e;else{const{data:t,error:n}=await $t.from("menu").select();t?(this.menuData=t||[],this.menuData.length&&(this.menuData=this.menuData.map(s=>s.isMultiSelect?{id:s.id,label:s.service,value:parseFloat(s.price),selectCount:0,isMultiSelect:!0}:{id:s.id,label:s.service,value:parseFloat(s.price),isMultiSelect:!1}),this.menuData=this.menuData.map(s=>({...s,filterSearch:`${s.label}${hn.formatter.format(s)}`})),Xn.setLocalStorageData("menuData",this.menuData))):console.error("Error when fetching menu data: ",n)}}catch(e){console.error("Internal Server Error: ",e)}},async addData(e){try{Qr.create({title:"Th\xF4ng b\xE1o",message:"X\xE1c nh\u1EADn th\xEAm m\u1EDBi d\u1EEF li\u1EC7u?",ok:!0,cancel:!0}).onOk(async()=>{zt.show({message:"\u0110ang th\xEAm m\u1EDBi d\u1EEF li\u1EC7u..."});const n=[...e.menuSelected.map(g=>{const m=e.menuMultipleSelect.filter(p=>p.id===g.id)[0];return m?{menu_id:g.id,quantity:m.selectCount,price:g.value*m.selectCount}:{menu_id:g.id,quantity:1,price:g.value}})],{id:s,email:a}=Xn.getLocalStorageData("userData"),l={user_id:s,description:e.notizen,is_customer_order:e.isCustomerOrder,menu_items:n,...e.isHaveDiscount?{discount:e.discountObject.id}:{discount:""},...e.isHaveGiftCard?{giftcard:e.giftCardObject.code}:{giftcard:""}};let{data:d,error:h}=await $t.rpc("create_order_with_items_and_log_historyv2",l);h?console.error("Error creating order with items:",h):(this.fetchData(),rr.create({type:"positive",message:"Th\xEAm m\u1EDBi th\xE0nh c\xF4ng!",position:"top"}),this.newData={umsatz:0,notizen:"",menuSelected:[],isCustomerOrder:!1},this.showAddDialog=!1),zt.hide()})}catch(t){zt.hide(),console.error("Internal Server Error: ",t)}},async postUpdateItem(e){try{zt.show({message:"\u0110ang x\u1EED l\xFD..."});const t=e.menuSelected.map(d=>({menu_id:d.id,quantity:d.isMultiSelect?d.selectCount:1,price:d.isMultiSelect?d.selectCount*d.price:d.value})),{id:n,email:s}=Xn.getLocalStorageData("userData");let{data:a,error:l}=await $t.rpc("update_order_with_items_and_log_history",{description:e.notizen,is_customer_order:e.isCustomerOrder,menu_items:t,order_id:e.id,user_id:n});l&&console.error(l),zt.hide()}catch(t){zt.hide(),console.error("Error updating data:",t)}},async deleteData(e){try{Qr.create({title:"X\xE1c nh\u1EADn",message:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a \u0111\u01A1n h\xE0ng n\xE0y kh\xF4ng?",ok:!0,cancel:!0}).onOk(async()=>{zt.show({message:"\u0110ang x\xF3a d\u1EEF li\u1EC7u..."});const t=await $t.from("orders").delete().eq("id",e);let n=this.userStatus;t.status===204?(rr.create({type:"positive",message:"X\xF3a th\xE0nh c\xF4ng!",position:"top"}),zt.hide(),this.dataItem=this.dataItem.filter(s=>s.id!==e)):alert("Failed to delete data")})}catch(t){console.error("Error deleting data:",t),zt.hide()}},async getUserStatus(){try{const{data:e,error:t}=await $t.rpc("fetch_user_order_data");t?console.error("Error fetching user status: ",t):(this.listUserData=e,console.log(this.listUserData))}catch(e){console.error("Internal Server Error: ",e)}},async updateUserStatus(e,t){try{const n={...e.length?{status:e}:{},...t?{orderCount:t}:{}};if(Object.keys(n).length===0)throw new Error("No valid fields provided to update.");const s=Xn.getLocalStorageData("userData"),{data:a,error:l}=await $t.from("user_status").update(n).eq("user_id",s.id);l?alert("Update user status failed."):this.userStatus=e}catch(n){console.error("Internal Server Error: ",n)}},async syncMenu(){try{this.isLoadingMenuData=!0,await this.fetchMenuData(),this.isLoadingMenuData=!1,rr.create({type:"positive",message:"T\u1EA3i m\u1EDBi th\xE0nh c\xF4ng!",position:"top"})}catch(e){this.isLoadingMenuData=!1,this.loadingSelect=!1,console.error("Error fetching data:",e)}},async subscribeToTable(){try{return $t.channel("public:umsatz").on("postgres_changes",{event:"*",schema:"public",table:"umsatz"},async t=>{var m;let n,s={},a,l,d,h,g;switch(t.eventType){case"INSERT":s=t.new,a=new Date(s.created_at),l=String(a.getHours()).padStart(2,"0"),d=String(a.getMinutes()).padStart(2,"0"),h=`${l}:${d}`,s.datum=h,g=((m=s.menu)==null?void 0:m.length)>1?s.menu.split(";"):s.menu,s.menu.length>1?s.menuSelected=g.map(p=>this.menuData.filter(y=>p==y.id)[0]):s.menuSelected=this.menuData.filter(p=>s.menu==p.id),this.dataItem.push(s);break;case"UPDATE":if(n=this.dataItem.findIndex(p=>p.id===t.new.id),n!==-1){const p=this.dataItem[n].datum;this.dataItem[n]={...t.new,datum:p}}break;case"DELETE":this.dataItem=this.dataItem.filter(p=>p.id!==t.old.id);break}}).subscribe()}catch(e){console.error("Error subscribing to changes: ",e)}},async subscribeToTableUserSessions(){try{const e=dc();return $t.channel("public:user_sessions").on("postgres_changes",{event:"*",schema:"public",table:"user_sessions"},async n=>{n&&await e.validateSession()}).subscribe()}catch(e){console.error("Error subscribing to changes: ",e)}},async getDiscount(){try{let{data:e,error:t}=await $t.from("discounts").select();return e}catch(e){console.error("Internal Server Error: ",e)}},async getListAccount(){try{let{data:e,error:t}=await $t.from("users").select("*")}catch(e){console.error("Internal Server Error: ",e)}},async getGiftCard(e){try{const{data:t,error:n}=await $t.from("giftcards").select("*").eq("code",e);return n?!1:t.length>0?t[0]:!1}catch(t){console.error("Internal Server Error: ",t)}},async validateGiftCard(e){try{this.newData.isHaveGiftCard=!1,this.newData.giftCardObject={};const{data:t,error:n}=await $t.rpc("check_giftcard_usage",{giftcard_code:e});if(n){console.error("Error validating gift card:",n);return}t.id?(this.newData.isHaveGiftCard=!0,this.newData.giftCardObject=t):rr.create({type:"negative",message:"Th\u1EBB qu\xE0 t\u1EB7ng kh\xF4ng h\u1EE3p l\u1EC7 ho\u1EB7c \u0111\xE3 h\u1EBFt h\u1EA1n",position:"top",timeout:2e3})}catch(t){console.error("Internal Server Error:",t)}},handleClickDiscount(e){try{this.newData.isHaveDiscount=!0,this.listDiscount=this.listDiscount.map(t=>t.id===e?t.isSelected?(this.newData.isHaveDiscount=!1,this.newData.discountObject={},{...t,isSelected:!1}):(this.newData.discountObject=t,{...t,isSelected:!0}):{...t,isSelected:!1})}catch(t){console.error("Internal Server Error: ",t)}},clickToggleAddMenuItem(e){this.newData.menuSelected.map(n=>n.id).includes(e.opt.id)?(this.newData.menuSelected=this.newData.menuSelected.filter(n=>{if(n.id!==e.opt.id)return n}),this.newData.umsatz=+this.newData.umsatz-+e.opt.value):(this.newData.umsatz=+this.newData.umsatz+ +e.opt.value,this.newData.menuSelected.push(e.opt))},clickToggleUpdateMenuItem(e){this.isHaveNotSaveDataYet=!0,this.updateData.menuSelected.map(n=>n.id).includes(e.opt.id)?(this.updateData.menuSelected=this.updateData.menuSelected.filter(n=>{if(n.id!==e.opt.id)return n}),this.updateData.umsatz=+this.updateData.umsatz-+e.opt.value):(this.updateData.umsatz=+this.updateData.umsatz+ +e.opt.value,this.updateData.menuSelected.push(e.opt))},handleClickBackButtonShowAlert(){try{this.isHaveNotSaveDataYet&&Qr.create({title:"C\u1EA3nh b\xE1o",message:"M\u1ECDi thay \u0111\u1ED5i v\u1EABn ch\u01B0a \u0111\u01B0\u1EE3c l\u01B0u, b\u1EA1n c\xF3 mu\u1ED1n c\u1EADp nh\u1EADt kh\xF4ng?",ok:!0,cancel:!0}).onOk(()=>{this.postUpdateItem(this.updateData),this.isHaveNotSaveDataYet=!1}).onCancel(()=>{this.isHaveNotSaveDataYet=!1}),this.showUpdateDialog=!1,this.isHaveNotSaveDataYet=!1}catch(e){console.error("Error when handling handleClickBackButtonShowAlert(): ",e)}},onRightSlide(e,t){this.removeAddMenuItem(e);const n=this.slideItems[t];n&&n.reset()},removeAddMenuItem(e){let t=0;this.newData.menuSelected=this.newData.menuSelected.filter(n=>{if(n.id!==e)return n.isMultiSelect?(t+=+n.value*n.selectCount,n):(t+=+n.value,n);n.isMultiSelect&&(this.newData.menuMultipleSelect=this.newData.menuMultipleSelect.map(s=>s.id===e?{...s,selectCount:0}:s))}),this.newData.umsatz=t},onRightSlideUpdate(e,t){this.isHaveNotSaveDataYet=!0,this.removeUpdateMenuItem(e);const n=this.slideItemsUpdate[t];n&&n.reset()},removeUpdateMenuItem(e){let t=0;this.updateData.menuSelected=this.updateData.menuSelected.filter(n=>{if(n.id!==e)return t+=+n.value,n}),this.updateData.umsatz=t},clickMultiSelectInAddData(e){try{this.newData.menuSelected=this.newData.menuSelected.filter(n=>!n.isMultiSelect),this.newData.menuMultipleSelect.forEach((n,s)=>{this.newData.menuMultipleSelect[s].id===e.id&&(this.newData.umsatz+=this.newData.menuMultipleSelect[s].price,this.newData.menuMultipleSelect[s].selectCount++)});const t=this.newData.menuMultipleSelect.filter(n=>n.selectCount).map(n=>({...n,value:n.price}));this.newData.menuSelected=[...this.newData.menuSelected,...t]}catch(t){console.error("Internal Server Error clickMultiSelect(selectProp): ",t)}},clickMultiSelectInAddDataMinus(e){try{this.newData.menuSelected=this.newData.menuSelected.filter(n=>!n.isMultiSelect),this.newData.menuMultipleSelect.forEach((n,s)=>{this.newData.menuMultipleSelect[s].id===e.id&&(this.newData.umsatz-=this.newData.menuMultipleSelect[s].price,this.newData.menuMultipleSelect[s].selectCount--)});const t=this.newData.menuMultipleSelect.filter(n=>n.selectCount).map(n=>({...n,value:n.price}));this.newData.menuSelected=[...this.newData.menuSelected,...t]}catch(t){console.error("Internal Server Error clickMultiSelect(selectProp): ",t)}},clickMultiSelectInUpdateData(e){try{this.updateData.menuSelected=this.updateData.menuSelected.filter(n=>!n.isMultiSelect),this.updateData.menuMultipleSelect.forEach((n,s)=>{this.updateData.menuMultipleSelect[s].id===e.id&&(this.updateData.umsatz+=this.updateData.menuMultipleSelect[s].price,this.updateData.menuMultipleSelect[s].selectCount++)});const t=this.updateData.menuMultipleSelect.filter(n=>n.selectCount).map(n=>({...n,value:n.price}));this.updateData.menuSelected=[...this.updateData.menuSelected,...t]}catch(t){console.error("Internal Server Error clickMultiSelect(selectProp): ",t)}},clickMultiSelectInUpdateDataMinus(e){try{this.updateData.menuSelected=this.updateData.menuSelected.filter(n=>!n.isMultiSelect),this.updateData.menuMultipleSelect.forEach((n,s)=>{this.updateData.menuMultipleSelect[s].id===e.id&&(this.updateData.umsatz-=this.updateData.menuMultipleSelect[s].price,this.updateData.menuMultipleSelect[s].selectCount--)});const t=this.updateData.menuMultipleSelect.filter(n=>n.selectCount).map(n=>({...n,value:n.price}));this.updateData.menuSelected=[...this.updateData.menuSelected,...t]}catch(t){console.error("Internal Server Error clickMultiSelect(selectProp): ",t)}}}}),_S="https://elvdmheqahlylncxiwbv.supabase.co",CS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVsdmRtaGVxYWhseWxuY3hpd2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQyNzYzNTksImV4cCI6MjA0OTg1MjM1OX0.6BLFpGc2RI4NQSgyzITmejddBw7wtNVwSuNEexMFAwc",$t=bS(_S,CS),dc=us("authentication",{state:()=>({email:"",password:"",repassword:"",userList:[],isLogin:!1}),actions:{async getInit(){this.isLogin=Xn.getLocalStorageData("isLogin")},async signIn(e,t){try{zt.show({message:"\u0110ang \u0111\u0103ng nh\u1EADp..."});const{data:n,error:s}=await $t.auth.signInWithPassword({email:e.includes("@gmail.com")?e:e+"@gmail.com",password:t});if(s){rr.create({message:"T\xE0i kho\u1EA3n ho\u1EB7c m\u1EADt kh\u1EA9u kh\xF4ng \u0111\xFAng",type:"negative",position:"top",timeout:1e3}),zt.hide(),console.error("Sign-in error:",s.message);return}const a=n.user;await this.getUserAccountData(a.id);const l=this.generateSessionToken(),{data:d,error:h}=await $t.rpc("manage_user_sessions",{user_id:a.id,session_token:l});if(h)throw h;if(localStorage.setItem("session_token",l),n.session){const g=Xn.getLocalStorageData("userAuthInfo"),m=g.dayoff_from,p=g.dayoff_to,_=new Date().toISOString().split("T")[0];if(_<=m||_>=p){zt.hide(),Qr.create({title:"Th\xF4ng b\xE1o",message:"Nh\xE2n vi\xEAn \u0111ang ngh\u1EC9 ph\xE9p, kh\xF4ng th\u1EC3 \u0111\u0103ng nh\u1EADp!",ok:!0,cancel:!1,persistent:""}).onOk(()=>{});return}const T=Xn.getLocalStorageData("userAuthInfo").role;localStorage.setItem("access_token",n.session.access_token),localStorage.setItem("refresh_token",n.session.refresh_token),Xn.setLocalStorageData("userData",n.user),this.isLogin=!0,Xn.setLocalStorageData("isLogin",this.isLogin),T==="admin"?(console.log(T==="admin"),this.router.push("/admin")):this.router.push("/data"),setTimeout(()=>{window.location.reload()},100)}zt.hide()}catch(n){zt.hide(),console.error("Error when handling signIn(email, password): ",n)}},async signOut(){try{Qr.create({title:"X\xE1c nh\u1EADn",message:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n \u0111\u0103ng xu\u1EA9t ?",ok:!0,cancel:!0}).onOk(async()=>{localStorage.clear(),this.router.push("/");const{error:e}=await $t.auth.signOut();if(e){console.error("Error signing out:",e.message);return}setTimeout(()=>{window.location.reload()},100)})}catch(e){console.error("Internal Server Error signOut(): ",e)}},async getUserAccountData(e){try{console.log(e);let{data:t,error:n}=await $t.from("users").select("*").eq("user_id",e);Xn.setLocalStorageData("userAuthInfo",t[0])}catch(t){console.error("Internal Server Error getUserAccountData(): ",t)}},async validateSession(){const e=localStorage.getItem("session_token"),{data:t,error:n}=await $t.from("user_sessions").select("id").eq("session_token",e).single();(n||!t)&&(setTimeout(async()=>{await $t.auth.signOut(),localStorage.clear(),Qr.create({title:"Th\xF4ng b\xE1o",message:"T\xE0i kho\u1EA3n \u0111\xE3 \u0111\u01B0\u1EE3c \u0111\u0103ng nh\u1EADp t\u1EEB m\u1ED9t thi\u1EBFt b\u1ECB kh\xE1c.",ok:!0,cancel:!1,persistent:""}).onOk(()=>{this.router.push("/"),setTimeout(()=>{window.location.reload()},300)})},300),console.error("Session validation failed. User logged out."))},async handleEmailVerification(){const e=new URL(window.location.href),t=e.searchParams.get("access_token"),n=e.searchParams.get("refresh_token");t&&n?(await $t.auth.setSession({access_token:t,refresh_token:n}),this.router.push("/data")):console.error("No tokens found in URL")},generateSessionToken(){return crypto.randomUUID?crypto.randomUUID():([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^(crypto.getRandomValues(new Uint8Array(1))[0]&15)>>e/4).toString(16))}}});const SS={key:0,class:"login-wrapper"},ES={class:"full-width flex flex-center"},AS={key:1},TS={class:"signup-wrapper"},IS={class:"full-width flex flex-center"},OS={__name:"LoginPage",setup(e){p_();const t=dc(),n=Vv();Tf();const s=Fe(!0),a=Fe(!1),l=()=>{a.value=!a.value};return gr(async()=>{await n.fetchMenuData()}),(d,h)=>(Ie(),yt(Rf,{class:"q-pa-md"},{default:le(()=>[s.value?(Ie(),tt("div",SS,[z(os,{onSubmit:h[3]||(h[3]=g=>P(t).signIn(P(t).username,P(t).password)),style:{width:"500px"}},{default:le(()=>[h[11]||(h[11]=ae("div",{class:"text-h6 q-mb-md"},"Vui l\xF2ng \u0111\u0103ng nh\u1EADp",-1)),z(Dn,{modelValue:P(t).username,"onUpdate:modelValue":h[0]||(h[0]=g=>P(t).username=g),label:"T\xEAn \u0111\u0103ng nh\u1EADp",rules:[g=>!!g||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 r\u1ED7ng"],outlined:"",onInput:h[1]||(h[1]=g=>P(t).username=g.toLowerCase())},{append:le(()=>h[10]||(h[10]=[ae("span",{class:"text-subtitle1"},"@gmail.com",-1)])),_:1},8,["modelValue","rules"]),z(Dn,{modelValue:P(t).password,"onUpdate:modelValue":h[2]||(h[2]=g=>P(t).password=g),label:"M\u1EADt kh\u1EA9u",type:a.value?"text":"password",rules:[g=>!!g||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 r\u1ED7ng",g=>g.length>5||"M\u1EADt kh\u1EA9u t\u1ED1i thi\u1EC3u 6 k\xFD t\u1EF1"],outlined:""},{append:le(()=>[z(Jt,{name:a.value?"visibility":"visibility_off",class:"cursor-pointer",onClick:l},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),ae("div",ES,[z(st,{label:"\u0110\u0103ng nh\u1EADp",type:"submit",color:"black",class:"full-width q-py-md"})])]),_:1})])):(Ie(),tt("div",AS,[z(st,{icon:"eva-arrow-ios-back-outline",class:"text-blue q-pl-none",flat:"",onClick:h[4]||(h[4]=g=>s.value=!0)},{default:le(()=>h[12]||(h[12]=[ae("span",{class:"text-subtitle1"},"Quay l\u1EA1i",-1)])),_:1}),ae("div",TS,[z(os,{onSubmit:h[9]||(h[9]=g=>P(t).signUp(P(t).username,P(t).password)),style:{width:"500px"}},{default:le(()=>[h[13]||(h[13]=ae("div",{class:"text-h6 q-mb-md"},"\u0110\u0103ng k\xFD",-1)),z(Dn,{modelValue:P(t).username,"onUpdate:modelValue":h[5]||(h[5]=g=>P(t).username=g),label:"Email",rules:[g=>!!g||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 r\u1ED7ng"],outlined:"",onInput:h[6]||(h[6]=g=>P(t).username=g.toLowerCase())},null,8,["modelValue","rules"]),z(Dn,{modelValue:P(t).password,"onUpdate:modelValue":h[7]||(h[7]=g=>P(t).password=g),label:"M\u1EADt kh\u1EA9u",type:"password",rules:[g=>g.length>5||"M\u1EADt kh\u1EA9u t\u1ED1i thi\u1EC3u 6 k\xFD t\u1EF1"],outlined:""},null,8,["modelValue","rules"]),z(Dn,{modelValue:P(t).repassword,"onUpdate:modelValue":h[8]||(h[8]=g=>P(t).repassword=g),label:"Nh\u1EADp l\u1EA1i m\u1EADt kh\u1EA9u",type:"password",rules:[g=>g===P(t).password||"M\u1EADt kh\u1EA9u kh\xF4ng kh\u1EDBp"],outlined:""},null,8,["modelValue","rules"]),ae("div",IS,[z(st,{label:"\u0110\u0103ng k\xFD",type:"submit",color:"black",class:"full-width q-py-md"})])]),_:1})])]))]),_:1}))}};var DS=ba(OS,[["__scopeId","data-v-3525a9fb"]]),Gn=rn({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=G(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>H("div",{class:n.value},Kn(t.default))}}),Xr=rn({name:"QItem",props:{...Jr,...Sb,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:s}}=en(),a=ei(e,s),{hasLink:l,linkAttrs:d,linkClass:h,linkTag:g,navigateOnClick:m}=Um(),p=Fe(null),y=Fe(null),_=G(()=>e.clickable===!0||l.value===!0||e.tag==="label"),b=G(()=>e.disable!==!0&&_.value===!0),T=G(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(a.value===!0?" q-item--dark":"")+(l.value===!0&&e.active===null?h.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(b.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),k=G(()=>{if(e.insetLevel===void 0)return null;const N=s.lang.rtl===!0?"Right":"Left";return{["padding"+N]:16+e.insetLevel*56+"px"}});function q(N){b.value===!0&&(y.value!==null&&(N.qKeyEvent!==!0&&document.activeElement===p.value?y.value.focus():document.activeElement===y.value&&p.value.focus()),m(N))}function K(N){if(b.value===!0&&ss(N,[13,32])===!0){Bn(N),N.qKeyEvent=!0;const A=new MouseEvent("click",N);A.qKeyEvent=!0,p.value.dispatchEvent(A)}n("keyup",N)}function Y(){const N=jx(t.default,[]);return b.value===!0&&N.unshift(H("div",{class:"q-focus-helper",tabindex:-1,ref:y})),N}return()=>{const N={ref:p,class:T.value,style:k.value,role:"listitem",onClick:q,onKeyup:K};return b.value===!0?(N.tabindex=e.tabindex||"0",Object.assign(N,d.value)):_.value===!0&&(N["aria-disabled"]="true"),H(g.value,N,Y())}}});const kS=["ul","ol"];var si=rn({name:"QList",props:{...Jr,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const n=en(),s=ei(e,n.proxy.$q),a=G(()=>kS.includes(e.tag)?null:"list"),l=G(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(s.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>H(e.tag,{class:l.value,role:a.value},Kn(t.default))}});function $v(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Su.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const RS={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},Uv={...RS,contextMenu:Boolean};function qv({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:s,proxy:a,emit:l}=en(),d=Fe(null);let h=null;function g(b){return d.value===null?!1:b===void 0||b.touches===void 0||b.touches.length<=1}const m={};n===void 0&&(Object.assign(m,{hide(b){a.hide(b)},toggle(b){a.toggle(b),b.qAnchorHandled=!0},toggleKey(b){ss(b,13)===!0&&m.toggle(b)},contextClick(b){a.hide(b),jr(b),En(()=>{a.show(b),b.qAnchorHandled=!0})},prevent:jr,mobileTouch(b){if(m.mobileCleanup(b),g(b)!==!0)return;a.hide(b),d.value.classList.add("non-selectable");const T=b.target;ao(m,"anchor",[[T,"touchmove","mobileCleanup","passive"],[T,"touchend","mobileCleanup","passive"],[T,"touchcancel","mobileCleanup","passive"],[d.value,"contextmenu","prevent","notPassive"]]),h=setTimeout(()=>{h=null,a.show(b),b.qAnchorHandled=!0},300)},mobileCleanup(b){d.value.classList.remove("non-selectable"),h!==null&&(clearTimeout(h),h=null),e.value===!0&&b!==void 0&&$v()}}),n=function(b=s.contextMenu){if(s.noParentEvent===!0||d.value===null)return;let T;b===!0?a.$q.platform.is.mobile===!0?T=[[d.value,"touchstart","mobileTouch","passive"]]:T=[[d.value,"mousedown","hide","passive"],[d.value,"contextmenu","contextClick","notPassive"]]:T=[[d.value,"click","toggle","passive"],[d.value,"keyup","toggleKey","passive"]],ao(m,"anchor",T)});function p(){ol(m,"anchor")}function y(b){for(d.value=b;d.value.classList.contains("q-anchor--skip");)d.value=d.value.parentNode;n()}function _(){if(s.target===!1||s.target===""||a.$el.parentNode===null)d.value=null;else if(s.target===!0)y(a.$el.parentNode);else{let b=s.target;if(typeof s.target=="string")try{b=document.querySelector(s.target)}catch{b=void 0}b!=null?(d.value=b.$el||b,n()):(d.value=null,console.error(`Anchor: target "${s.target}" not found`))}}return St(()=>s.contextMenu,b=>{d.value!==null&&(p(),n(b))}),St(()=>s.target,()=>{d.value!==null&&p(),_()}),St(()=>s.noParentEvent,b=>{d.value!==null&&(b===!0?p():n())}),gr(()=>{_(),t!==!0&&s.modelValue===!0&&d.value===null&&l("update:modelValue",!1)}),Ir(()=>{h!==null&&clearTimeout(h),p()}),{anchorEl:d,canShow:g,anchorEvents:m}}function MS(e,t){const n=Fe(null);let s;function a(h,g){const m=`${g!==void 0?"add":"remove"}EventListener`,p=g!==void 0?g:s;h!==window&&h[m]("scroll",p,Er.passive),window[m]("scroll",p,Er.passive),s=g}function l(){n.value!==null&&(a(n.value),n.value=null)}const d=St(()=>e.noParentEvent,()=>{n.value!==null&&(l(),t())});return Ir(d),{localScrollTarget:n,unconfigureScrollTarget:l,changeScrollEvent:a}}const{notPassiveCapture:Mu}=Er,vo=[];function Nu(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=oa.length-1;for(;n>=0;){const s=oa[n].$;if(s.type.name==="QTooltip"){n--;continue}if(s.type.name!=="QDialog")break;if(s.props.seamless!==!0)return;n--}for(let s=vo.length-1;s>=0;s--){const a=vo[s];if((a.anchorEl.value===null||a.anchorEl.value.contains(t)===!1)&&(t===document.body||a.innerRef.value!==null&&a.innerRef.value.contains(t)===!1))e.qClickOutside=!0,a.onClickOutside(e);else return}}function NS(e){vo.push(e),vo.length===1&&(document.addEventListener("mousedown",Nu,Mu),document.addEventListener("touchstart",Nu,Mu))}function X0(e){const t=vo.findIndex(n=>n===e);t!==-1&&(vo.splice(t,1),vo.length===0&&(document.removeEventListener("mousedown",Nu,Mu),document.removeEventListener("touchstart",Nu,Mu)))}let K0,Z0;function Q0(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function PS(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const tf={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{tf[`${e}#ltr`]=e,tf[`${e}#rtl`]=e});function J0(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:tf[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function LS(e,t){let{top:n,left:s,right:a,bottom:l,width:d,height:h}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],s-=t[0],l+=t[1],a+=t[0],d+=t[0],h+=t[1]),{top:n,bottom:l,height:h,left:s,right:a,width:d,middle:s+(a-s)/2,center:n+(l-n)/2}}function BS(e,t,n){let{top:s,left:a}=e.getBoundingClientRect();return s+=t.top,a+=t.left,n!==void 0&&(s+=n[1],a+=n[0]),{top:s,bottom:s+1,height:1,left:a,right:a+1,width:1,middle:a,center:s}}function FS(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function e1(e,t,n,s){return{top:e[n.vertical]-t[s.vertical],left:e[n.horizontal]-t[s.horizontal]}}function jv(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{jv(e,t+1)},10);return}const{targetEl:n,offset:s,anchorEl:a,anchorOrigin:l,selfOrigin:d,absoluteOffset:h,fit:g,cover:m,maxHeight:p,maxWidth:y}=e;if(kn.is.ios===!0&&window.visualViewport!==void 0){const Q=document.body.style,{offsetLeft:M,offsetTop:ie}=window.visualViewport;M!==K0&&(Q.setProperty("--q-pe-left",M+"px"),K0=M),ie!==Z0&&(Q.setProperty("--q-pe-top",ie+"px"),Z0=ie)}const{scrollLeft:_,scrollTop:b}=n,T=h===void 0?LS(a,m===!0?[0,0]:s):BS(a,h,s);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:y,maxHeight:p,visibility:"visible"});const{offsetWidth:k,offsetHeight:q}=n,{elWidth:K,elHeight:Y}=g===!0||m===!0?{elWidth:Math.max(T.width,k),elHeight:m===!0?Math.max(T.height,q):q}:{elWidth:k,elHeight:q};let N={maxWidth:y,maxHeight:p};(g===!0||m===!0)&&(N.minWidth=T.width+"px",m===!0&&(N.minHeight=T.height+"px")),Object.assign(n.style,N);const A=FS(K,Y);let B=e1(T,A,l,d);if(h===void 0||s===void 0)hd(B,T,A,l,d);else{const{top:Q,left:M}=B;hd(B,T,A,l,d);let ie=!1;if(B.top!==Q){ie=!0;const L=2*s[1];T.center=T.top-=L,T.bottom-=L+2}if(B.left!==M){ie=!0;const L=2*s[0];T.middle=T.left-=L,T.right-=L+2}ie===!0&&(B=e1(T,A,l,d),hd(B,T,A,l,d))}N={top:B.top+"px",left:B.left+"px"},B.maxHeight!==void 0&&(N.maxHeight=B.maxHeight+"px",T.height>B.maxHeight&&(N.minHeight=N.maxHeight)),B.maxWidth!==void 0&&(N.maxWidth=B.maxWidth+"px",T.width>B.maxWidth&&(N.minWidth=N.maxWidth)),Object.assign(n.style,N),n.scrollTop!==b&&(n.scrollTop=b),n.scrollLeft!==_&&(n.scrollLeft=_)}function hd(e,t,n,s,a){const l=n.bottom,d=n.right,h=jb(),g=window.innerHeight-h,m=document.body.clientWidth;if(e.top<0||e.top+l>g)if(a.vertical==="center")e.top=t[s.vertical]>g/2?Math.max(0,g-l):0,e.maxHeight=Math.min(l,g);else if(t[s.vertical]>g/2){const p=Math.min(g,s.vertical==="center"?t.center:s.vertical===a.vertical?t.bottom:t.top);e.maxHeight=Math.min(l,p),e.top=Math.max(0,p-l)}else e.top=Math.max(0,s.vertical==="center"?t.center:s.vertical===a.vertical?t.top:t.bottom),e.maxHeight=Math.min(l,g-e.top);if(e.left<0||e.left+d>m)if(e.maxWidth=Math.min(d,m),a.horizontal==="middle")e.left=t[s.horizontal]>m/2?Math.max(0,m-d):0;else if(t[s.horizontal]>m/2){const p=Math.min(m,s.horizontal==="middle"?t.middle:s.horizontal===a.horizontal?t.right:t.left);e.maxWidth=Math.min(d,p),e.left=Math.max(0,p-e.maxWidth)}else e.left=Math.max(0,s.horizontal==="middle"?t.middle:s.horizontal===a.horizontal?t.left:t.right),e.maxWidth=Math.min(d,m-e.left)}var qf=rn({name:"QMenu",inheritAttrs:!1,props:{...Uv,...jm,...Jr,...Wm,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Q0},self:{type:String,validator:Q0},offset:{type:Array,validator:PS},scrollTarget:$b,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Hm,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:s}){let a=null,l,d,h;const g=en(),{proxy:m}=g,{$q:p}=m,y=Fe(null),_=Fe(!1),b=G(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),T=ei(e,p),{registerTick:k,removeTick:q}=qm(),{registerTimeout:K}=Iu(),{transitionProps:Y,transitionStyle:N}=Gm(e),{localScrollTarget:A,changeScrollEvent:B,unconfigureScrollTarget:Q}=MS(e,Ze),{anchorEl:M,canShow:ie}=qv({showing:_}),{hide:L}=zm({showing:_,canShow:ie,handleShow:ut,handleHide:me,hideOnRouteChange:b,processOnMount:!0}),{showPortal:de,hidePortal:pe,renderPortal:$}=Xm(g,y,Me,"menu"),be={anchorEl:M,innerRef:y,onClickOutside(he){if(e.persistent!==!0&&_.value===!0)return L(he),(he.type==="touchstart"||he.target.classList.contains("q-dialog__backdrop"))&&Bn(he),!0}},ue=G(()=>J0(e.anchor||(e.cover===!0?"center middle":"bottom start"),p.lang.rtl)),ee=G(()=>e.cover===!0?ue.value:J0(e.self||"top start",p.lang.rtl)),Be=G(()=>(e.square===!0?" q-menu--square":"")+(T.value===!0?" q-menu--dark q-dark":"")),Se=G(()=>e.autoClose===!0?{onClick:it}:{}),Re=G(()=>_.value===!0&&e.persistent!==!0);St(Re,he=>{he===!0?(tv(we),NS(be)):(Ou(we),X0(be))});function et(){Dl(()=>{let he=y.value;he&&he.contains(document.activeElement)!==!0&&(he=he.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||he.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||he.querySelector("[autofocus], [data-autofocus]")||he,he.focus({preventScroll:!0}))})}function ut(he){if(a=e.noRefocus===!1?document.activeElement:null,Nf(vt),de(),Ze(),l=void 0,he!==void 0&&(e.touchPosition||e.contextMenu)){const Ye=xl(he);if(Ye.left!==void 0){const{top:nt,left:pt}=M.value.getBoundingClientRect();l={left:Ye.left-pt,top:Ye.top-nt}}}d===void 0&&(d=St(()=>p.screen.width+"|"+p.screen.height+"|"+e.self+"|"+e.anchor+"|"+p.lang.rtl,oe)),e.noFocus!==!0&&document.activeElement.blur(),k(()=>{oe(),e.noFocus!==!0&&et()}),K(()=>{p.platform.is.ios===!0&&(h=e.autoClose,y.value.click()),oe(),de(!0),n("show",he)},e.transitionDuration)}function me(he){q(),pe(),re(!0),a!==null&&(he===void 0||he.qClickOutside!==!0)&&(((he&&he.type.indexOf("key")===0?a.closest('[tabindex]:not([tabindex^="-"])'):void 0)||a).focus(),a=null),K(()=>{pe(!0),n("hide",he)},e.transitionDuration)}function re(he){l=void 0,d!==void 0&&(d(),d=void 0),(he===!0||_.value===!0)&&(Du(vt),Q(),X0(be),Ou(we)),he!==!0&&(a=null)}function Ze(){(M.value!==null||e.scrollTarget!==void 0)&&(A.value=qb(M.value,e.scrollTarget),B(A.value,oe))}function it(he){h!==!0?(Ym(m,he),n("click",he)):h=!1}function vt(he){Re.value===!0&&e.noFocus!==!0&&Pm(y.value,he.target)!==!0&&et()}function we(he){n("escapeKey"),L(he)}function oe(){jv({targetEl:y.value,offset:e.offset,anchorEl:M.value,anchorOrigin:ue.value,selfOrigin:ee.value,absoluteOffset:l,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Me(){return H(di,Y.value,()=>_.value===!0?H("div",{role:"menu",...s,ref:y,tabindex:-1,class:["q-menu q-position-engine scroll"+Be.value,s.class],style:[s.style,N.value],...Se.value},Kn(t.default)):null)}return Ir(re),Object.assign(m,{focus:et,updatePosition:oe}),$}});const VS=["top","middle","bottom"];var Os=rn({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>VS.includes(e)}},setup(e,{slots:t}){const n=G(()=>e.align!==void 0?{verticalAlign:e.align}:null),s=G(()=>{const a=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(a!==void 0?` text-${a}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>H("div",{class:s.value,style:n.value,role:"status","aria-label":e.label},rs(t.default,e.label!==void 0?[e.label]:[]))}});const $S={ratio:[String,Number]};function US(e,t){return G(()=>{const n=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const qS=1.7778;var fc=rn({name:"QImg",props:{...$S,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:qS},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const s=Fe(e.initialRatio),a=US(e,s),l=en(),{registerTimeout:d,removeTimeout:h}=Iu(),{registerTimeout:g,removeTimeout:m}=Iu(),p=G(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),y=G(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),_=[Fe(null),Fe(p.value)],b=Fe(0),T=Fe(!1),k=Fe(!1),q=G(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),K=G(()=>({width:e.width,height:e.height})),Y=G(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),N=G(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function A(){if(m(),e.loadingShowDelay===0){T.value=!0;return}g(()=>{T.value=!0},e.loadingShowDelay)}function B(){m(),T.value=!1}function Q({target:$}){sa(l)===!1&&(h(),s.value=$.naturalHeight===0?.5:$.naturalWidth/$.naturalHeight,M($,1))}function M($,be){be===1e3||sa(l)===!0||($.complete===!0?ie($):d(()=>{M($,be+1)},50))}function ie($){sa(l)!==!0&&(b.value=b.value^1,_[b.value].value=null,B(),$.getAttribute("__qerror")!=="true"&&(k.value=!1),n("load",$.currentSrc||$.src))}function L($){h(),B(),k.value=!0,_[b.value].value=y.value,_[b.value^1].value=p.value,n("error",$)}function de($){const be=_[$].value,ue={key:"img_"+$,class:Y.value,style:N.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...be};return b.value===$?Object.assign(ue,{class:ue.class+"current",onLoad:Q,onError:L}):ue.class+="loaded",H("div",{class:"q-img__container absolute-full",key:"img"+$},H("img",ue))}function pe(){return T.value===!1?H("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Kn(t[k.value===!0?"error":"default"])):H("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[H(xo,{color:e.spinnerColor,size:e.spinnerSize})])}{let $=function(){St(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,be=>{h(),k.value=!1,be===null?(B(),_[b.value^1].value=p.value):A(),_[b.value].value=be},{immediate:!0})};is.value===!0?gr($):$()}return()=>{const $=[];return a.value!==null&&$.push(H("div",{key:"filler",style:a.value})),_[0].value!==null&&$.push(de(0)),_[1].value!==null&&$.push(de(1)),$.push(H(di,{name:"q-transition--fade"},pe)),H("div",{key:"main",class:q.value,style:K.value,role:"img","aria-label":e.alt},$)}}});const jS={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function HS(){const{props:e,proxy:{$q:t}}=en(),n=Pr(sm,es);if(n===es)return console.error("QPageSticky needs to be child of QLayout"),es;const s=G(()=>{const y=e.position;return{top:y.indexOf("top")!==-1,right:y.indexOf("right")!==-1,bottom:y.indexOf("bottom")!==-1,left:y.indexOf("left")!==-1,vertical:y==="top"||y==="bottom",horizontal:y==="left"||y==="right"}}),a=G(()=>n.header.offset),l=G(()=>n.right.offset),d=G(()=>n.footer.offset),h=G(()=>n.left.offset),g=G(()=>{let y=0,_=0;const b=s.value,T=t.lang.rtl===!0?-1:1;b.top===!0&&a.value!==0?_=`${a.value}px`:b.bottom===!0&&d.value!==0&&(_=`${-d.value}px`),b.left===!0&&h.value!==0?y=`${T*h.value}px`:b.right===!0&&l.value!==0&&(y=`${-T*l.value}px`);const k={transform:`translate(${y}, ${_})`};return e.offset&&(k.margin=`${e.offset[1]}px ${e.offset[0]}px`),b.vertical===!0?(h.value!==0&&(k[t.lang.rtl===!0?"right":"left"]=`${h.value}px`),l.value!==0&&(k[t.lang.rtl===!0?"left":"right"]=`${l.value}px`)):b.horizontal===!0&&(a.value!==0&&(k.top=`${a.value}px`),d.value!==0&&(k.bottom=`${d.value}px`)),k}),m=G(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function p(y){const _=Kn(y.default);return H("div",{class:m.value,style:g.value},e.expand===!0?_:[H("div",_)])}return{$layout:n,getStickyContent:p}}var hc=rn({name:"QPageSticky",props:jS,setup(e,{slots:t}){const{getStickyContent:n}=HS();return()=>n(t)}});const jf={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},zS=Object.keys(jf);jf.all=!0;function t1(e){const t={};for(const n of zS)e[n]===!0&&(t[n]=!0);return Object.keys(t).length===0?jf:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const WS=["INPUT","TEXTAREA"];function n1(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&WS.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function gd(e,t,n){const s=xl(e);let a,l=s.left-t.event.x,d=s.top-t.event.y,h=Math.abs(l),g=Math.abs(d);const m=t.direction;m.horizontal===!0&&m.vertical!==!0?a=l<0?"left":"right":m.horizontal!==!0&&m.vertical===!0?a=d<0?"up":"down":m.up===!0&&d<0?(a="up",h>g&&(m.left===!0&&l<0?a="left":m.right===!0&&l>0&&(a="right"))):m.down===!0&&d>0?(a="down",h>g&&(m.left===!0&&l<0?a="left":m.right===!0&&l>0&&(a="right"))):m.left===!0&&l<0?(a="left",h<g&&(m.up===!0&&d<0?a="up":m.down===!0&&d>0&&(a="down"))):m.right===!0&&l>0&&(a="right",h<g&&(m.up===!0&&d<0?a="up":m.down===!0&&d>0&&(a="down")));let p=!1;if(a===void 0&&n===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};a=t.event.lastDir,p=!0,a==="left"||a==="right"?(s.left-=l,h=0,l=0):(s.top-=d,g=0,d=0)}return{synthetic:p,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:s,direction:a,isFirst:t.event.isFirst,isFinal:n===!0,duration:Date.now()-t.event.time,distance:{x:h,y:g},offset:{x:l,y:d},delta:{x:s.left-t.event.lastX,y:s.top-t.event.lastY}}}}let GS=0;var YS=_f({name:"touch-pan",beforeMount(e,{value:t,modifiers:n}){if(n.mouse!==!0&&kn.has.touch!==!0)return;function s(l,d){n.mouse===!0&&d===!0?Bn(l):(n.stop===!0&&ii(l),n.prevent===!0&&jr(l))}const a={uid:"qvtp_"+GS++,handler:t,modifiers:n,direction:t1(n),noop:yo,mouseStart(l){n1(l,a)&&dy(l)&&(ao(a,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),a.start(l,!0))},touchStart(l){if(n1(l,a)){const d=l.target;ao(a,"temp",[[d,"touchmove","move","notPassiveCapture"],[d,"touchcancel","end","passiveCapture"],[d,"touchend","end","passiveCapture"]]),a.start(l)}},start(l,d){if(kn.is.firefox===!0&&Wc(e,!0),a.lastEvt=l,d===!0||n.stop===!0){if(a.direction.all!==!0&&(d!==!0||a.modifiers.mouseAllDir!==!0&&a.modifiers.mousealldir!==!0)){const m=l.type.indexOf("mouse")!==-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&jr(m),l.cancelBubble===!0&&ii(m),Object.assign(m,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[a.uid]:l.qClonedBy.concat(a.uid)}),a.initialEvent={target:l.target,event:m}}ii(l)}const{left:h,top:g}=xl(l);a.event={x:h,y:g,time:Date.now(),mouse:d===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:h,lastY:g}},move(l){if(a.event===void 0)return;const d=xl(l),h=d.left-a.event.x,g=d.top-a.event.y;if(h===0&&g===0)return;a.lastEvt=l;const m=a.event.mouse===!0,p=()=>{s(l,m);let b;n.preserveCursor!==!0&&n.preservecursor!==!0&&(b=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),m===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),$v(),a.styleCleanup=T=>{if(a.styleCleanup=void 0,b!==void 0&&(document.documentElement.style.cursor=b),document.body.classList.remove("non-selectable"),m===!0){const k=()=>{document.body.classList.remove("no-pointer-events--children")};T!==void 0?setTimeout(()=>{k(),T()},50):k()}else T!==void 0&&T()}};if(a.event.detected===!0){a.event.isFirst!==!0&&s(l,a.event.mouse);const{payload:b,synthetic:T}=gd(l,a,!1);b!==void 0&&(a.handler(b)===!1?a.end(l):(a.styleCleanup===void 0&&a.event.isFirst===!0&&p(),a.event.lastX=b.position.left,a.event.lastY=b.position.top,a.event.lastDir=T===!0?void 0:b.direction,a.event.isFirst=!1));return}if(a.direction.all===!0||m===!0&&(a.modifiers.mouseAllDir===!0||a.modifiers.mousealldir===!0)){p(),a.event.detected=!0,a.move(l);return}const y=Math.abs(h),_=Math.abs(g);y!==_&&(a.direction.horizontal===!0&&y>_||a.direction.vertical===!0&&y<_||a.direction.up===!0&&y<_&&g<0||a.direction.down===!0&&y<_&&g>0||a.direction.left===!0&&y>_&&h<0||a.direction.right===!0&&y>_&&h>0?(a.event.detected=!0,a.move(l)):a.end(l,!0))},end(l,d){if(a.event!==void 0){if(ol(a,"temp"),kn.is.firefox===!0&&Wc(e,!1),d===!0)a.styleCleanup!==void 0&&a.styleCleanup(),a.event.detected!==!0&&a.initialEvent!==void 0&&a.initialEvent.target.dispatchEvent(a.initialEvent.event);else if(a.event.detected===!0){a.event.isFirst===!0&&a.handler(gd(l===void 0?a.lastEvt:l,a).payload);const{payload:h}=gd(l===void 0?a.lastEvt:l,a,!0),g=()=>{a.handler(h)};a.styleCleanup!==void 0?a.styleCleanup(g):g()}a.event=void 0,a.initialEvent=void 0,a.lastEvt=void 0}}};if(e.__qtouchpan=a,n.mouse===!0){const l=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";ao(a,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}kn.has.touch===!0&&ao(a,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchpan;n!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&n.end(),n.handler=t.value),n.direction=t1(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),ol(t,"main"),ol(t,"temp"),kn.is.firefox===!0&&Wc(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}});function Hv(){let e=Object.create(null);return{getCache:(t,n)=>e[t]===void 0?e[t]=typeof n=="function"?n():n:e[t],setCache(t,n){e[t]=n},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const r1=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]];var nf=rn({name:"QSlideItem",props:{...Jr,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(e,{slots:t,emit:n}){const{proxy:s}=en(),{$q:a}=s,l=ei(e,a),{getCache:d}=Hv(),h=Fe(null);let g=null,m={},p={},y={};const _=G(()=>a.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),b=G(()=>"q-slide-item q-item-type overflow-hidden"+(l.value===!0?" q-slide-item--dark q-dark":""));function T(){h.value.style.transform="translate(0,0)"}function k(K,Y,N){e.onSlide!==void 0&&n("slide",{side:K,ratio:Y,isReset:N})}function q(K){const Y=h.value;if(K.isFirst)m={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},Y.classList.add("no-transition"),r1.forEach(Q=>{if(t[Q[0]]!==void 0){const M=y[Q[0]];M.style.transform="scale(1)",m.size[Q[0]]=M.getBoundingClientRect()[Q[3]]}}),m.axis=K.direction==="up"||K.direction==="down"?"Y":"X";else if(K.isFinal){Y.classList.remove("no-transition"),m.scale===1?(Y.style.transform=`translate${m.axis}(${m.dir*100}%)`,g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,n(m.showing,{reset:T}),n("action",{side:m.showing,reset:T})},230)):(Y.style.transform="translate(0,0)",k(m.showing,0,!0));return}else K.direction=m.axis==="X"?K.offset.x<0?"left":"right":K.offset.y<0?"up":"down";if(t.left===void 0&&K.direction===_.value.right||t.right===void 0&&K.direction===_.value.left||t.top===void 0&&K.direction==="down"||t.bottom===void 0&&K.direction==="up"){Y.style.transform="translate(0,0)";return}let N,A,B;m.axis==="X"?(A=K.direction==="left"?-1:1,N=A===1?_.value.left:_.value.right,B=K.distance.x):(A=K.direction==="up"?-2:2,N=A===2?"top":"bottom",B=K.distance.y),!(m.dir!==null&&Math.abs(A)!==Math.abs(m.dir))&&(m.dir!==A&&(["left","right","top","bottom"].forEach(Q=>{p[Q]&&(p[Q].style.visibility=N===Q?"visible":"hidden")}),m.showing=N,m.dir=A),m.scale=Math.max(0,Math.min(1,(B-40)/m.size[N])),Y.style.transform=`translate${m.axis}(${B*A/Math.abs(A)}px)`,y[N].style.transform=`scale(${m.scale})`,k(N,m.scale,!1))}return Yu(()=>{p={},y={}}),Ir(()=>{g!==null&&clearTimeout(g)}),Object.assign(s,{reset:T}),()=>{const K=[],Y={left:t[_.value.right]!==void 0,right:t[_.value.left]!==void 0,up:t.bottom!==void 0,down:t.top!==void 0},N=Object.keys(Y).filter(B=>Y[B]===!0);r1.forEach(B=>{const Q=B[0];t[Q]!==void 0&&K.push(H("div",{key:Q,ref:M=>{p[Q]=M},class:`q-slide-item__${Q} absolute-full row no-wrap items-${B[1]} justify-${B[2]}`+(e[Q+"Color"]!==void 0?` bg-${e[Q+"Color"]}`:"")},[H("div",{ref:M=>{y[Q]=M}},t[Q]())]))});const A=H("div",{key:`${N.length===0?"only-":""} content`,ref:h,class:"q-slide-item__content"},Kn(t.default));return N.length===0?K.push(A):K.push(bi(A,d("dir#"+N.join(""),()=>{const B={prevent:!0,stop:!0,mouse:!0};return N.forEach(Q=>{B[Q]=!0}),[[YS,q,void 0,B]]}))),H("div",{class:b.value},K)}}}),co=rn({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=G(()=>parseInt(e.lines,10)),s=G(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),a=G(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>H("div",{style:a.value,class:s.value},Kn(t.default))}}),XS=rn({name:"QField",inheritAttrs:!1,props:{...tc,tag:{type:String,default:"label"}},emits:If,setup(){return Df(Of({tagProp:!0}))}});const KS={xs:8,sm:10,md:14,lg:20,xl:24};var ZS=rn({name:"QChip",props:{...Jr,..._a,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:s}}=en(),a=ei(e,s),l=Ca(e,KS),d=G(()=>e.selected===!0||e.icon!==void 0),h=G(()=>e.selected===!0?e.iconSelected||s.iconSet.chip.selected:e.icon),g=G(()=>e.iconRemove||s.iconSet.chip.remove),m=G(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),p=G(()=>{const q=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(q?` text-${q} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(m.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(a.value===!0?" q-chip--dark q-dark":"")}),y=G(()=>{const q=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},K={...q,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||s.lang.label.remove};return{chip:q,remove:K}});function _(q){q.keyCode===13&&b(q)}function b(q){e.disable||(n("update:selected",!e.selected),n("click",q))}function T(q){(q.keyCode===void 0||q.keyCode===13)&&(Bn(q),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function k(){const q=[];m.value===!0&&q.push(H("div",{class:"q-focus-helper"})),d.value===!0&&q.push(H(Jt,{class:"q-chip__icon q-chip__icon--left",name:h.value}));const K=e.label!==void 0?[H("div",{class:"ellipsis"},[e.label])]:void 0;return q.push(H("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Em(t.default,K))),e.iconRight&&q.push(H(Jt,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&q.push(H(Jt,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:g.value,...y.value.remove,onClick:T,onKeyup:T})),q}return()=>{if(e.modelValue===!1)return;const q={class:p.value,style:l.value};return m.value===!0&&Object.assign(q,y.value.chip,{onClick:b,onKeyup:_}),Hx("div",q,k(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[nc,e.ripple]])}}});let Pu=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,Pu=e.scrollLeft>=0,e.remove()}const yi=1e3,QS=["start","center","end","start-force","center-force","end-force"],zv=Array.prototype.filter,JS=window.getComputedStyle(document.body).overflowAnchor===void 0?yo:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];zv.call(n,a=>a.dataset&&a.dataset.qVsAnchor!==void 0).forEach(a=>{delete a.dataset.qVsAnchor});const s=n[t];s&&s.dataset&&(s.dataset.qVsAnchor="")}))};function la(e,t){return e+t}function md(e,t,n,s,a,l,d,h){const g=e===window?document.scrollingElement||document.documentElement:e,m=a===!0?"offsetWidth":"offsetHeight",p={scrollStart:0,scrollViewSize:-d-h,scrollMaxSize:0,offsetStart:-d,offsetEnd:-h};if(a===!0?(e===window?(p.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,p.scrollViewSize+=document.documentElement.clientWidth):(p.scrollStart=g.scrollLeft,p.scrollViewSize+=g.clientWidth),p.scrollMaxSize=g.scrollWidth,l===!0&&(p.scrollStart=(Pu===!0?p.scrollMaxSize-p.scrollViewSize:0)-p.scrollStart)):(e===window?(p.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,p.scrollViewSize+=document.documentElement.clientHeight):(p.scrollStart=g.scrollTop,p.scrollViewSize+=g.clientHeight),p.scrollMaxSize=g.scrollHeight),n!==null)for(let y=n.previousElementSibling;y!==null;y=y.previousElementSibling)y.classList.contains("q-virtual-scroll--skip")===!1&&(p.offsetStart+=y[m]);if(s!==null)for(let y=s.nextElementSibling;y!==null;y=y.nextElementSibling)y.classList.contains("q-virtual-scroll--skip")===!1&&(p.offsetEnd+=y[m]);if(t!==e){const y=g.getBoundingClientRect(),_=t.getBoundingClientRect();a===!0?(p.offsetStart+=_.left-y.left,p.offsetEnd-=_.width):(p.offsetStart+=_.top-y.top,p.offsetEnd-=_.height),e!==window&&(p.offsetStart+=p.scrollStart),p.offsetEnd+=p.scrollMaxSize-p.offsetStart}return p}function i1(e,t,n,s){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(s===!0&&(t=(Pu===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(s===!0&&(t=(Pu===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function Ya(e,t,n,s){if(n>=s)return 0;const a=t.length,l=Math.floor(n/yi),d=Math.floor((s-1)/yi)+1;let h=e.slice(l,d).reduce(la,0);return n%yi!==0&&(h-=t.slice(l*yi,n).reduce(la,0)),s%yi!==0&&s!==a&&(h-=t.slice(s,d*yi).reduce(la,0)),h}const e3={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},s1={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...e3};function t3({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:s}){const a=en(),{props:l,emit:d,proxy:h}=a,{$q:g}=h;let m,p,y,_=[],b;const T=Fe(0),k=Fe(0),q=Fe({}),K=Fe(null),Y=Fe(null),N=Fe(null),A=Fe({from:0,to:0}),B=G(()=>l.tableColspan!==void 0?l.tableColspan:100);s===void 0&&(s=G(()=>l.virtualScrollItemSize));const Q=G(()=>s.value+";"+l.virtualScrollHorizontal),M=G(()=>Q.value+";"+l.virtualScrollSliceRatioBefore+";"+l.virtualScrollSliceRatioAfter);St(M,()=>{Be()}),St(Q,ie);function ie(){ee(p,!0)}function L(me){ee(me===void 0?p:me)}function de(me,re){const Ze=t();if(Ze==null||Ze.nodeType===8)return;const it=md(Ze,n(),K.value,Y.value,l.virtualScrollHorizontal,g.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd);y!==it.scrollViewSize&&Be(it.scrollViewSize),$(Ze,it,Math.min(e.value-1,Math.max(0,parseInt(me,10)||0)),0,QS.indexOf(re)!==-1?re:p!==-1&&me>p?"end":"start")}function pe(){const me=t();if(me==null||me.nodeType===8)return;const re=md(me,n(),K.value,Y.value,l.virtualScrollHorizontal,g.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd),Ze=e.value-1,it=re.scrollMaxSize-re.offsetStart-re.offsetEnd-k.value;if(m===re.scrollStart)return;if(re.scrollMaxSize<=0){$(me,re,0,0);return}y!==re.scrollViewSize&&Be(re.scrollViewSize),be(A.value.from);const vt=Math.floor(re.scrollMaxSize-Math.max(re.scrollViewSize,re.offsetEnd)-Math.min(b[Ze],re.scrollViewSize/2));if(vt>0&&Math.ceil(re.scrollStart)>=vt){$(me,re,Ze,re.scrollMaxSize-re.offsetEnd-_.reduce(la,0));return}let we=0,oe=re.scrollStart-re.offsetStart,Me=oe;if(oe<=it&&oe+re.scrollViewSize>=T.value)oe-=T.value,we=A.value.from,Me=oe;else for(let he=0;oe>=_[he]&&we<Ze;he++)oe-=_[he],we+=yi;for(;oe>0&&we<Ze;)oe-=b[we],oe>-re.scrollViewSize?(we++,Me=oe):Me=b[we]+oe;$(me,re,we,Me)}function $(me,re,Ze,it,vt){const we=typeof vt=="string"&&vt.indexOf("-force")!==-1,oe=we===!0?vt.replace("-force",""):vt,Me=oe!==void 0?oe:"start";let he=Math.max(0,Ze-q.value[Me]),Ye=he+q.value.total;Ye>e.value&&(Ye=e.value,he=Math.max(0,Ye-q.value.total)),m=re.scrollStart;const nt=he!==A.value.from||Ye!==A.value.to;if(nt===!1&&oe===void 0){Re(Ze);return}const{activeElement:pt}=document,F=N.value;nt===!0&&F!==null&&F!==pt&&F.contains(pt)===!0&&(F.addEventListener("focusout",ue),setTimeout(()=>{F!==null&&F.removeEventListener("focusout",ue)})),JS(F,Ze-he);const X=oe!==void 0?b.slice(he,Ze).reduce(la,0):0;if(nt===!0){const ce=Ye>=A.value.from&&he<=A.value.to?A.value.to:Ye;A.value={from:he,to:ce},T.value=Ya(_,b,0,he),k.value=Ya(_,b,Ye,e.value),requestAnimationFrame(()=>{A.value.to!==Ye&&m===re.scrollStart&&(A.value={from:A.value.from,to:Ye},k.value=Ya(_,b,Ye,e.value))})}requestAnimationFrame(()=>{if(m!==re.scrollStart)return;nt===!0&&be(he);const ce=b.slice(he,Ze).reduce(la,0),Ne=ce+re.offsetStart+T.value,xe=Ne+b[Ze];let ke=Ne+it;if(oe!==void 0){const Pe=ce-X,He=re.scrollStart+Pe;ke=we!==!0&&He<Ne&&xe<He+re.scrollViewSize?He:oe==="end"?xe-re.scrollViewSize:Ne-(oe==="start"?0:Math.round((re.scrollViewSize-b[Ze])/2))}m=ke,i1(me,ke,l.virtualScrollHorizontal,g.lang.rtl),Re(Ze)})}function be(me){const re=N.value;if(re){const Ze=zv.call(re.children,he=>he.classList&&he.classList.contains("q-virtual-scroll--skip")===!1),it=Ze.length,vt=l.virtualScrollHorizontal===!0?he=>he.getBoundingClientRect().width:he=>he.offsetHeight;let we=me,oe,Me;for(let he=0;he<it;){for(oe=vt(Ze[he]),he++;he<it&&Ze[he].classList.contains("q-virtual-scroll--with-prev")===!0;)oe+=vt(Ze[he]),he++;Me=oe-b[we],Me!==0&&(b[we]+=Me,_[Math.floor(we/yi)]+=Me),we++}}}function ue(){N.value!==null&&N.value!==void 0&&N.value.focus()}function ee(me,re){const Ze=1*s.value;(re===!0||Array.isArray(b)===!1)&&(b=[]);const it=b.length;b.length=e.value;for(let we=e.value-1;we>=it;we--)b[we]=Ze;const vt=Math.floor((e.value-1)/yi);_=[];for(let we=0;we<=vt;we++){let oe=0;const Me=Math.min((we+1)*yi,e.value);for(let he=we*yi;he<Me;he++)oe+=b[he];_.push(oe)}p=-1,m=void 0,T.value=Ya(_,b,0,A.value.from),k.value=Ya(_,b,A.value.to,e.value),me>=0?(be(A.value.from),En(()=>{de(me)})):et()}function Be(me){if(me===void 0&&typeof window!="undefined"){const oe=t();oe!=null&&oe.nodeType!==8&&(me=md(oe,n(),K.value,Y.value,l.virtualScrollHorizontal,g.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd).scrollViewSize)}y=me;const re=parseFloat(l.virtualScrollSliceRatioBefore)||0,Ze=parseFloat(l.virtualScrollSliceRatioAfter)||0,it=1+re+Ze,vt=me===void 0||me<=0?1:Math.ceil(me/s.value),we=Math.max(1,vt,Math.ceil((l.virtualScrollSliceSize>0?l.virtualScrollSliceSize:10)/it));q.value={total:Math.ceil(we*it),start:Math.ceil(we*re),center:Math.ceil(we*(.5+re)),end:Math.ceil(we*(1+re)),view:vt}}function Se(me,re){const Ze=l.virtualScrollHorizontal===!0?"width":"height",it={["--q-virtual-scroll-item-"+Ze]:s.value+"px"};return[me==="tbody"?H(me,{class:"q-virtual-scroll__padding",key:"before",ref:K},[H("tr",[H("td",{style:{[Ze]:`${T.value}px`,...it},colspan:B.value})])]):H(me,{class:"q-virtual-scroll__padding",key:"before",ref:K,style:{[Ze]:`${T.value}px`,...it}}),H(me,{class:"q-virtual-scroll__content",key:"content",ref:N,tabindex:-1},re.flat()),me==="tbody"?H(me,{class:"q-virtual-scroll__padding",key:"after",ref:Y},[H("tr",[H("td",{style:{[Ze]:`${k.value}px`,...it},colspan:B.value})])]):H(me,{class:"q-virtual-scroll__padding",key:"after",ref:Y,style:{[Ze]:`${k.value}px`,...it}})]}function Re(me){p!==me&&(l.onVirtualScroll!==void 0&&d("virtualScroll",{index:me,from:A.value.from,to:A.value.to-1,direction:me<p?"decrease":"increase",ref:h}),p=me)}Be();const et=Cf(pe,g.platform.is.ios===!0?120:35);_g(()=>{Be()});let ut=!1;return ya(()=>{ut=!0}),Wu(()=>{if(ut!==!0)return;const me=t();m!==void 0&&me!==void 0&&me!==null&&me.nodeType!==8?i1(me,m,l.virtualScrollHorizontal,g.lang.rtl):de(p)}),Ir(()=>{et.cancel()}),Object.assign(h,{scrollTo:de,reset:ie,refresh:L}),{virtualScrollSliceRange:A,virtualScrollSliceSizeComputed:q,setVirtualScrollSize:Be,onVirtualScrollEvt:et,localResetVirtualScroll:ee,padVirtualScroll:Se,scrollTo:de,reset:ie,refresh:L}}function uT(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function o1(e,t,n){if(n<=t)return t;const s=n-t+1;let a=t+(e-t)%s;return a<t&&(a=s+a),a===0?0:a}function bn(e,t=2,n="0"){if(e==null)return e;const s=""+e;return s.length>=t?s:new Array(t-s.length+1).join(n)+s}const a1=e=>["add","add-unique","toggle"].includes(e),n3=".*+?^${}()|[]\\",r3=Object.keys(tc);function vd(e,t){if(typeof e=="function")return e;const n=e!==void 0?e:t;return s=>s!==null&&typeof s=="object"&&n in s?s[n]:s}var xi=rn({name:"QSelect",inheritAttrs:!1,props:{...s1,...kl,...tc,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:a1},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:s1.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...If,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:s}=en(),{$q:a}=s,l=Fe(!1),d=Fe(!1),h=Fe(-1),g=Fe(""),m=Fe(!1),p=Fe(!1);let y=null,_=null,b,T,k,q=null,K,Y,N,A;const B=Fe(null),Q=Fe(null),M=Fe(null),ie=Fe(null),L=Fe(null),de=Mm(e),pe=Nm(sr),$=G(()=>Array.isArray(e.options)?e.options.length:0),be=G(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ue,virtualScrollSliceSizeComputed:ee,localResetVirtualScroll:Be,padVirtualScroll:Se,onVirtualScrollEvt:Re,scrollTo:et,setVirtualScrollSize:ut}=t3({virtualScrollLength:$,getVirtualScrollTarget:at,getVirtualScrollEl:_r,virtualScrollItemSizeComputed:be}),me=Of(),re=G(()=>{const Z=e.mapOptions===!0&&e.multiple!==!0,qe=e.modelValue!==void 0&&(e.modelValue!==null||Z===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const rt=e.mapOptions===!0&&b!==void 0?b:[],Ct=qe.map(an=>Nt(an,rt));return e.modelValue===null&&Z===!0?Ct.filter(an=>an!==null):Ct}return qe}),Ze=G(()=>{const Z={};return r3.forEach(qe=>{const rt=e[qe];rt!==void 0&&(Z[qe]=rt)}),Z}),it=G(()=>e.optionsDark===null?me.isDark.value:e.optionsDark),vt=G(()=>Sl(re.value)),we=G(()=>{let Z="q-field__input q-placeholder col";return e.hideSelected===!0||re.value.length===0?[Z,e.inputClass]:(Z+=" q-field__input--padding",e.inputClass===void 0?Z:[Z,e.inputClass])}),oe=G(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),Me=G(()=>$.value===0),he=G(()=>re.value.map(Z=>Le.value(Z)).join(", ")),Ye=G(()=>e.displayValue!==void 0?e.displayValue:he.value),nt=G(()=>e.optionsHtml===!0?()=>!0:Z=>Z!=null&&Z.html===!0),pt=G(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||re.value.some(nt.value))),F=G(()=>me.focused.value===!0?e.tabindex:-1),X=G(()=>{const Z={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":l.value===!0?"true":"false","aria-controls":`${me.targetUid.value}_lb`};return h.value>=0&&(Z["aria-activedescendant"]=`${me.targetUid.value}_${h.value}`),Z}),ce=G(()=>({id:`${me.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Ne=G(()=>re.value.map((Z,qe)=>({index:qe,opt:Z,html:nt.value(Z),selected:!0,removeAtIndex:Pt,toggleOption:tn,tabindex:F.value}))),xe=G(()=>{if($.value===0)return[];const{from:Z,to:qe}=ue.value;return e.options.slice(Z,qe).map((rt,Ct)=>{const an=dt.value(rt)===!0,Te=Ue(rt)===!0,Hn=Z+Ct,kt={clickable:!0,active:Te,activeClass:He.value,manualFocus:!0,focused:!1,disable:an,tabindex:-1,dense:e.optionsDense,dark:it.value,role:"option","aria-selected":Te===!0?"true":"false",id:`${me.targetUid.value}_${Hn}`,onClick:()=>{tn(rt)}};return an!==!0&&(h.value===Hn&&(kt.focused=!0),a.platform.is.desktop===!0&&(kt.onMousemove=()=>{l.value===!0&&Kt(Hn)})),{index:Hn,opt:rt,html:nt.value(rt),label:Le.value(rt),selected:kt.active,focused:kt.focused,toggleOption:tn,setOptionIndex:Kt,itemProps:kt}})}),ke=G(()=>e.dropdownIcon!==void 0?e.dropdownIcon:a.iconSet.arrow.dropdown),Pe=G(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),He=G(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ye=G(()=>vd(e.optionValue,"value")),Le=G(()=>vd(e.optionLabel,"label")),dt=G(()=>vd(e.optionDisable,"disable")),Xe=G(()=>re.value.map(ye.value)),ct=G(()=>{const Z={onInput:sr,onChange:pe,onKeydown:pn,onKeyup:Dt,onKeypress:jn,onFocus:mn,onClick(qe){T===!0&&ii(qe)}};return Z.onCompositionstart=Z.onCompositionupdate=Z.onCompositionend=pe,Z});St(re,Z=>{b=Z,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&me.innerLoading.value!==!0&&(d.value!==!0&&l.value!==!0||vt.value!==!0)&&(k!==!0&&ar(),(d.value===!0||l.value===!0)&&or(""))},{immediate:!0}),St(()=>e.fillInput,ar),St(l,Ti),St($,cs);function ot(Z){return e.emitValue===!0?ye.value(Z):Z}function Tt(Z){if(Z!==-1&&Z<re.value.length)if(e.multiple===!0){const qe=e.modelValue.slice();n("remove",{index:Z,value:qe.splice(Z,1)[0]}),n("update:modelValue",qe)}else n("update:modelValue",null)}function Pt(Z){Tt(Z),me.focus()}function ht(Z,qe){const rt=ot(Z);if(e.multiple!==!0){e.fillInput===!0&&un(Le.value(Z),!0,!0),n("update:modelValue",rt);return}if(re.value.length===0){n("add",{index:0,value:rt}),n("update:modelValue",e.multiple===!0?[rt]:rt);return}if(qe===!0&&Ue(Z)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const Ct=e.modelValue.slice();n("add",{index:Ct.length,value:rt}),Ct.push(rt),n("update:modelValue",Ct)}function tn(Z,qe){if(me.editable.value!==!0||Z===void 0||dt.value(Z)===!0)return;const rt=ye.value(Z);if(e.multiple!==!0){qe!==!0&&(un(e.fillInput===!0?Le.value(Z):"",!0,!0),cn()),Q.value!==null&&Q.value.focus(),(re.value.length===0||Ds(ye.value(re.value[0]),rt)!==!0)&&n("update:modelValue",e.emitValue===!0?rt:Z);return}if((T!==!0||m.value===!0)&&me.focus(),mn(),re.value.length===0){const Te=e.emitValue===!0?rt:Z;n("add",{index:0,value:Te}),n("update:modelValue",e.multiple===!0?[Te]:Te);return}const Ct=e.modelValue.slice(),an=Xe.value.findIndex(Te=>Ds(Te,rt));if(an!==-1)n("remove",{index:an,value:Ct.splice(an,1)[0]});else{if(e.maxValues!==void 0&&Ct.length>=e.maxValues)return;const Te=e.emitValue===!0?rt:Z;n("add",{index:Ct.length,value:Te}),Ct.push(Te)}n("update:modelValue",Ct)}function Kt(Z){if(a.platform.is.desktop!==!0)return;const qe=Z!==-1&&Z<$.value?Z:-1;h.value!==qe&&(h.value=qe)}function Mn(Z=1,qe){if(l.value===!0){let rt=h.value;do rt=o1(rt+Z,-1,$.value-1);while(rt!==-1&&rt!==h.value&&dt.value(e.options[rt])===!0);h.value!==rt&&(Kt(rt),et(rt),qe!==!0&&e.useInput===!0&&e.fillInput===!0&&li(rt>=0?Le.value(e.options[rt]):K,!0))}}function Nt(Z,qe){const rt=Ct=>Ds(ye.value(Ct),Z);return e.options.find(rt)||qe.find(rt)||Z}function Ue(Z){const qe=ye.value(Z);return Xe.value.find(rt=>Ds(rt,qe))!==void 0}function mn(Z){e.useInput===!0&&Q.value!==null&&(Z===void 0||Q.value===Z.target&&Z.target.value===he.value)&&Q.value.select()}function Et(Z){ss(Z,27)===!0&&l.value===!0&&(ii(Z),cn(),ar()),n("keyup",Z)}function Dt(Z){const{value:qe}=Z.target;if(Z.keyCode!==void 0){Et(Z);return}if(Z.target.value="",y!==null&&(clearTimeout(y),y=null),_!==null&&(clearTimeout(_),_=null),ar(),typeof qe=="string"&&qe.length!==0){const rt=qe.toLocaleLowerCase(),Ct=Te=>{const Hn=e.options.find(kt=>String(Te.value(kt)).toLocaleLowerCase()===rt);return Hn===void 0?!1:(re.value.indexOf(Hn)===-1?tn(Hn):cn(),!0)},an=Te=>{Ct(ye)!==!0&&Te!==!0&&Ct(Le)!==!0&&or(qe,!0,()=>an(!0))};an()}else me.clearValue(Z)}function jn(Z){n("keypress",Z)}function pn(Z){if(n("keydown",Z),Sf(Z)===!0)return;const qe=g.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),rt=Z.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(h.value!==-1||qe===!0);if(Z.keyCode===27){jr(Z);return}if(Z.keyCode===9&&rt===!1){ft();return}if(Z.target===void 0||Z.target.id!==me.targetUid.value||me.editable.value!==!0)return;if(Z.keyCode===40&&me.innerLoading.value!==!0&&l.value===!1){Bn(Z),Wt();return}if(Z.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&g.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Tt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(Z.keyCode===35||Z.keyCode===36)&&(typeof g.value!="string"||g.value.length===0)&&(Bn(Z),h.value=-1,Mn(Z.keyCode===36?1:-1,e.multiple)),(Z.keyCode===33||Z.keyCode===34)&&ee.value!==void 0&&(Bn(Z),h.value=Math.max(-1,Math.min($.value,h.value+(Z.keyCode===33?-1:1)*ee.value.view)),Mn(Z.keyCode===33?1:-1,e.multiple)),(Z.keyCode===38||Z.keyCode===40)&&(Bn(Z),Mn(Z.keyCode===38?-1:1,e.multiple));const Ct=$.value;if((N===void 0||A<Date.now())&&(N=""),Ct>0&&e.useInput!==!0&&Z.key!==void 0&&Z.key.length===1&&Z.altKey===!1&&Z.ctrlKey===!1&&Z.metaKey===!1&&(Z.keyCode!==32||N.length!==0)){l.value!==!0&&Wt(Z);const an=Z.key.toLocaleLowerCase(),Te=N.length===1&&N[0]===an;A=Date.now()+1500,Te===!1&&(Bn(Z),N+=an);const Hn=new RegExp("^"+N.split("").map(Hr=>n3.indexOf(Hr)!==-1?"\\"+Hr:Hr).join(".*"),"i");let kt=h.value;if(Te===!0||kt<0||Hn.test(Le.value(e.options[kt]))!==!0)do kt=o1(kt+1,-1,Ct-1);while(kt!==h.value&&(dt.value(e.options[kt])===!0||Hn.test(Le.value(e.options[kt]))!==!0));h.value!==kt&&En(()=>{Kt(kt),et(kt),kt>=0&&e.useInput===!0&&e.fillInput===!0&&li(Le.value(e.options[kt]),!0)});return}if(!(Z.keyCode!==13&&(Z.keyCode!==32||e.useInput===!0||N!=="")&&(Z.keyCode!==9||rt===!1))){if(Z.keyCode!==9&&Bn(Z),h.value!==-1&&h.value<Ct){tn(e.options[h.value]);return}if(qe===!0){const an=(Te,Hn)=>{if(Hn){if(a1(Hn)!==!0)return}else Hn=e.newValueMode;if(un("",e.multiple!==!0,!0),Te==null)return;(Hn==="toggle"?tn:ht)(Te,Hn==="add-unique"),e.multiple!==!0&&(Q.value!==null&&Q.value.focus(),cn())};if(e.onNewValue!==void 0?n("newValue",g.value,an):an(g.value),e.multiple!==!0)return}l.value===!0?ft():me.innerLoading.value!==!0&&Wt()}}function _r(){return T===!0?L.value:M.value!==null&&M.value.contentEl!==null?M.value.contentEl:void 0}function at(){return _r()}function mr(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?Ne.value.map(Z=>t["selected-item"](Z)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?Ne.value.map((Z,qe)=>H(ZS,{key:"option-"+qe,removable:me.editable.value===!0&&dt.value(Z.opt)!==!0,dense:!0,textColor:e.color,tabindex:F.value,onRemove(){Z.removeAtIndex(qe)}},()=>H("span",{class:"ellipsis",[Z.html===!0?"innerHTML":"textContent"]:Le.value(Z.opt)}))):[H("span",{[pt.value===!0?"innerHTML":"textContent"]:Ye.value})]}function Jn(){if(Me.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:g.value}):void 0;const Z=t.option!==void 0?t.option:rt=>H(Xr,{key:rt.index,...rt.itemProps},()=>H(Gn,()=>H(co,()=>H("span",{[rt.html===!0?"innerHTML":"textContent"]:rt.label}))));let qe=Se("div",xe.value.map(Z));return t["before-options"]!==void 0&&(qe=t["before-options"]().concat(qe)),rs(t["after-options"],qe)}function ir(Z,qe){const rt=qe===!0?{...X.value,...me.splitAttrs.attributes.value}:void 0,Ct={ref:qe===!0?Q:void 0,key:"i_t",class:we.value,style:e.inputStyle,value:g.value!==void 0?g.value:"",type:"search",...rt,id:qe===!0?me.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":Z===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ct.value};return Z!==!0&&T===!0&&(Array.isArray(Ct.class)===!0?Ct.class=[...Ct.class,"no-pointer-events"]:Ct.class+=" no-pointer-events"),H("input",Ct)}function sr(Z){y!==null&&(clearTimeout(y),y=null),_!==null&&(clearTimeout(_),_=null),!(Z&&Z.target&&Z.target.qComposing===!0)&&(li(Z.target.value||""),k=!0,K=g.value,me.focused.value!==!0&&(T!==!0||m.value===!0)&&me.focus(),e.onFilter!==void 0&&(y=setTimeout(()=>{y=null,or(g.value)},e.inputDebounce)))}function li(Z,qe){g.value!==Z&&(g.value=Z,qe===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",Z):_=setTimeout(()=>{_=null,n("inputValue",Z)},e.inputDebounce))}function un(Z,qe,rt){k=rt!==!0,e.useInput===!0&&(li(Z,!0),(qe===!0||rt!==!0)&&(K=Z),qe!==!0&&or(Z))}function or(Z,qe,rt){if(e.onFilter===void 0||qe!==!0&&me.focused.value!==!0)return;me.innerLoading.value===!0?n("filterAbort"):(me.innerLoading.value=!0,p.value=!0),Z!==""&&e.multiple!==!0&&re.value.length!==0&&k!==!0&&Z===Le.value(re.value[0])&&(Z="");const Ct=setTimeout(()=>{l.value===!0&&(l.value=!1)},10);q!==null&&clearTimeout(q),q=Ct,n("filter",Z,(an,Te)=>{(qe===!0||me.focused.value===!0)&&q===Ct&&(clearTimeout(q),typeof an=="function"&&an(),p.value=!1,En(()=>{me.innerLoading.value=!1,me.editable.value===!0&&(qe===!0?l.value===!0&&cn():l.value===!0?Ti(!0):l.value=!0),typeof Te=="function"&&En(()=>{Te(s)}),typeof rt=="function"&&En(()=>{rt(s)})}))},()=>{me.focused.value===!0&&q===Ct&&(clearTimeout(q),me.innerLoading.value=!1,p.value=!1),l.value===!0&&(l.value=!1)})}function gi(){return H(qf,{ref:M,class:oe.value,style:e.popupContentStyle,modelValue:l.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&Me.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:it.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Pe.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ce.value,onScrollPassive:Re,onBeforeShow:Oo,onBeforeHide:Or,onShow:W},Jn)}function Or(Z){Ii(Z),ft()}function W(){ut()}function se(Z){ii(Z),Q.value!==null&&Q.value.focus(),m.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Oe(Z){ii(Z),En(()=>{m.value=!1})}function ze(){const Z=[H(XS,{class:`col-auto ${me.fieldClass.value}`,...Ze.value,for:me.targetUid.value,dark:it.value,square:!0,loading:p.value,itemAligned:!1,filled:!0,stackLabel:g.value.length!==0,...me.splitAttrs.listeners.value,onFocus:se,onBlur:Oe},{...t,rawControl:()=>me.getControl(!0),before:void 0,after:void 0})];return l.value===!0&&Z.push(H("div",{ref:L,class:oe.value+" scroll",style:e.popupContentStyle,...ce.value,onClick:jr,onScrollPassive:Re},Jn())),H(Tr,{ref:ie,modelValue:d.value,position:e.useInput===!0?"top":void 0,transitionShow:Y,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Oo,onBeforeHide:Qe,onHide:_t,onShow:De},()=>H("div",{class:"q-select__dialog"+(it.value===!0?" q-select__dialog--dark q-dark":"")+(m.value===!0?" q-select__dialog--focused":"")},Z))}function Qe(Z){Ii(Z),ie.value!==null&&ie.value.__updateRefocusTarget(me.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),me.focused.value=!1}function _t(Z){cn(),me.focused.value===!1&&n("blur",Z),ar()}function De(){const Z=document.activeElement;(Z===null||Z.id!==me.targetUid.value)&&Q.value!==null&&Q.value!==Z&&Q.value.focus(),ut()}function ft(){d.value!==!0&&(h.value=-1,l.value===!0&&(l.value=!1),me.focused.value===!1&&(q!==null&&(clearTimeout(q),q=null),me.innerLoading.value===!0&&(n("filterAbort"),me.innerLoading.value=!1,p.value=!1)))}function Wt(Z){me.editable.value===!0&&(T===!0?(me.onControlFocusin(Z),d.value=!0,En(()=>{me.focus()})):me.focus(),e.onFilter!==void 0?or(g.value):(Me.value!==!0||t["no-option"]!==void 0)&&(l.value=!0))}function cn(){d.value=!1,ft()}function ar(){e.useInput===!0&&un(e.multiple!==!0&&e.fillInput===!0&&re.value.length!==0&&Le.value(re.value[0])||"",!0,!0)}function Ti(Z){let qe=-1;if(Z===!0){if(re.value.length!==0){const rt=ye.value(re.value[0]);qe=e.options.findIndex(Ct=>Ds(ye.value(Ct),rt))}Be(qe)}Kt(qe)}function cs(Z,qe){l.value===!0&&me.innerLoading.value===!1&&(Be(-1,!0),En(()=>{l.value===!0&&me.innerLoading.value===!1&&(Z>qe?Be():Ti(!0))}))}function vr(){d.value===!1&&M.value!==null&&M.value.updatePosition()}function Oo(Z){Z!==void 0&&ii(Z),n("popupShow",Z),me.hasPopupOpen=!0,me.onControlFocusin(Z)}function Ii(Z){Z!==void 0&&ii(Z),n("popupHide",Z),me.hasPopupOpen=!1,me.onControlFocusout(Z)}function Lr(){T=a.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||Me.value===!1:!0),Y=a.platform.is.ios===!0&&T===!0&&e.useInput===!0?"fade":e.transitionShow}return Yu(Lr),Tl(vr),Lr(),Ir(()=>{y!==null&&clearTimeout(y),_!==null&&clearTimeout(_)}),Object.assign(s,{showPopup:Wt,hidePopup:cn,removeAtIndex:Tt,add:ht,toggleOption:tn,getOptionIndex:()=>h.value,setOptionIndex:Kt,moveOptionSelection:Mn,filter:or,updateMenuPosition:vr,updateInputValue:un,isOptionSelected:Ue,getEmittingOptionValue:ot,isOptionDisabled:(...Z)=>dt.value.apply(null,Z)===!0,getOptionValue:(...Z)=>ye.value.apply(null,Z),getOptionLabel:(...Z)=>Le.value.apply(null,Z)}),Object.assign(me,{innerValue:re,fieldClass:G(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:B,targetRef:Q,hasValue:vt,showPopup:Wt,floatingLabel:G(()=>e.hideSelected!==!0&&vt.value===!0||typeof g.value=="number"||g.value.length!==0||Sl(e.displayValue)),getControlChild:()=>{if(me.editable.value!==!1&&(d.value===!0||Me.value!==!0||t["no-option"]!==void 0))return T===!0?ze():gi();me.hasPopupOpen===!0&&(me.hasPopupOpen=!1)},controlEvents:{onFocusin(Z){me.onControlFocusin(Z)},onFocusout(Z){me.onControlFocusout(Z,()=>{ar(),ft()})},onClick(Z){if(jr(Z),T!==!0&&l.value===!0){ft(),Q.value!==null&&Q.value.focus();return}Wt(Z)}},getControl:Z=>{const qe=mr(),rt=Z===!0||d.value!==!0||T!==!0;if(e.useInput===!0)qe.push(ir(Z,rt));else if(me.editable.value===!0){const an=rt===!0?X.value:void 0;qe.push(H("input",{ref:rt===!0?Q:void 0,key:"d_t",class:"q-select__focus-target",id:rt===!0?me.targetUid.value:void 0,value:Ye.value,readonly:!0,"data-autofocus":Z===!0||e.autofocus===!0||void 0,...an,onKeydown:pn,onKeyup:Et,onKeypress:jn})),rt===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&qe.push(H("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Dt}))}if(de.value!==void 0&&e.disable!==!0&&Xe.value.length!==0){const an=Xe.value.map(Te=>H("option",{value:Te,selected:!0}));qe.push(H("select",{class:"hidden",name:de.value,multiple:e.multiple},an))}const Ct=e.useInput===!0||rt!==!0?void 0:me.splitAttrs.attributes.value;return H("div",{class:"q-field__native row items-center",...Ct,...me.splitAttrs.listeners.value},qe)},getInnerAppend:()=>e.loading!==!0&&p.value!==!0&&e.hideDropdownIcon!==!0?[H(Jt,{class:"q-select__dropdown-icon"+(l.value===!0?" rotate-180":""),name:ke.value})]:null}),Df(me)}});function l1(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var fl=_f({name:"close-popup",beforeMount(e,{value:t}){const n={depth:l1(t),handler(s){n.depth!==0&&setTimeout(()=>{const a=Lb(e);a!==void 0&&Bb(a,s,n.depth)})},handlerKey(s){ss(s,13)===!0&&n.handler(s)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=l1(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const i3='<g stroke-width="4" stroke-linecap="round"><line y1="17" y2="29" transform="translate(32,32) rotate(180)"><animate attributeName="stroke-opacity" dur="750ms" values="1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0;1" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(210)"><animate attributeName="stroke-opacity" dur="750ms" values="0;1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(240)"><animate attributeName="stroke-opacity" dur="750ms" values=".1;0;1;.85;.7;.65;.55;.45;.35;.25;.15;.1" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(270)"><animate attributeName="stroke-opacity" dur="750ms" values=".15;.1;0;1;.85;.7;.65;.55;.45;.35;.25;.15" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(300)"><animate attributeName="stroke-opacity" dur="750ms" values=".25;.15;.1;0;1;.85;.7;.65;.55;.45;.35;.25" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(330)"><animate attributeName="stroke-opacity" dur="750ms" values=".35;.25;.15;.1;0;1;.85;.7;.65;.55;.45;.35" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(0)"><animate attributeName="stroke-opacity" dur="750ms" values=".45;.35;.25;.15;.1;0;1;.85;.7;.65;.55;.45" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(30)"><animate attributeName="stroke-opacity" dur="750ms" values=".55;.45;.35;.25;.15;.1;0;1;.85;.7;.65;.55" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(60)"><animate attributeName="stroke-opacity" dur="750ms" values=".65;.55;.45;.35;.25;.15;.1;0;1;.85;.7;.65" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(90)"><animate attributeName="stroke-opacity" dur="750ms" values=".7;.65;.55;.45;.35;.25;.15;.1;0;1;.85;.7" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(120)"><animate attributeName="stroke-opacity" dur="750ms" values=".85;.7;.65;.55;.45;.35;.25;.15;.1;0;1;.85" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(150)"><animate attributeName="stroke-opacity" dur="750ms" values="1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0;1" repeatCount="indefinite"></animate></line></g>';var bo=rn({name:"QSpinnerIos",props:Om,setup(e){const{cSize:t,classes:n}=Dm(e);return()=>H("svg",{class:n.value,width:t.value,height:t.value,stroke:"currentColor",fill:"currentColor",viewBox:"0 0 64 64",innerHTML:i3})}});function Hf(){return Pr(im)}const s3=us("scan-qr",{state:()=>({}),actions:{async scanData(e){try{console.log(e),rr.create({message:"\u0110ang qu\xE9t m\xE3 QR..."+e[0].rawValue,color:"info",position:"bottom"});const t=this.onDetectDataScan(e);this.handleGetData(t),t?(rr.create({message:"Qu\xE9t m\xE3 QR th\xE0nh c\xF4ng",color:"positive",position:"bottom"}),this.isShowDialog=!1):rr.create({message:"Qu\xE9t m\xE3 QR kh\xF4ng th\xE0nh c\xF4ng",color:"negative",position:"bottom"})}catch(t){console.error("Internal Server Error scanDataIndexPage(): ",t)}},async onDetectDataScan(e){try{return e[0].rawValue}catch(t){console.error("Internal Server Error onDetectDataScan(): ",t)}}}});var gc="/ffn/assets/nodata.67f52298.jpg",Wv="/ffn/assets/history.314e1a03.png",Gv="/ffn/assets/update.d992d0e6.png",Yv="/ffn/assets/delete.1a0a2a61.png",Xv=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},u1=(e,t,n)=>(Xv(e,t,"read from private field"),n?n.call(e):t.get(e)),o3=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},a3=(e,t,n,s)=>(Xv(e,t,"write to private field"),t.set(e,n),n);const Kv=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"]],l3=[...Kv,["unknown"]].map(e=>e[0]),du=new Map(Kv);function u3(e){for(const[t,n]of du)if(e===n)return t;return"unknown"}function c3(e){if(Zv(e))return{width:e.naturalWidth,height:e.naturalHeight};if(Qv(e))return{width:e.width.baseVal.value,height:e.height.baseVal.value};if(Jv(e))return{width:e.videoWidth,height:e.videoHeight};if(tp(e))return{width:e.width,height:e.height};if(rp(e))return{width:e.displayWidth,height:e.displayHeight};if(ep(e))return{width:e.width,height:e.height};if(np(e))return{width:e.width,height:e.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function Zv(e){try{return e instanceof HTMLImageElement}catch{return!1}}function Qv(e){try{return e instanceof SVGImageElement}catch{return!1}}function Jv(e){try{return e instanceof HTMLVideoElement}catch{return!1}}function ep(e){try{return e instanceof HTMLCanvasElement}catch{return!1}}function tp(e){try{return e instanceof ImageBitmap}catch{return!1}}function np(e){try{return e instanceof OffscreenCanvas}catch{return!1}}function rp(e){try{return e instanceof VideoFrame}catch{return!1}}function ip(e){try{return e instanceof Blob}catch{return!1}}function d3(e){try{return e instanceof ImageData}catch{return!1}}function f3(e,t){try{const n=new OffscreenCanvas(e,t);if(n.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return n;throw void 0}catch{const s=document.createElement("canvas");return s.width=e,s.height=t,s}}async function sp(e){if(Zv(e)&&!await v3(e))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(Qv(e)&&!await p3(e))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(rp(e)&&w3(e))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(Jv(e)&&(e.readyState===0||e.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(tp(e)&&x3(e))throw new DOMException("The image source is detached.","InvalidStateError");const{width:t,height:n}=c3(e);if(t===0||n===0)return null;const s=f3(t,n).getContext("2d");s.drawImage(e,0,0);try{return s.getImageData(0,0,t,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function h3(e){let t;try{if(globalThis.createImageBitmap)t=await createImageBitmap(e);else if(globalThis.Image){t=new Image;let n="";try{n=URL.createObjectURL(e),t.src=n,await t.decode()}finally{URL.revokeObjectURL(n)}}else return e}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await sp(t)}function g3(e){const{width:t,height:n}=e;if(t===0||n===0)return null;const s=e.getContext("2d");try{return s.getImageData(0,0,t,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function m3(e){if(ip(e))return await h3(e);if(d3(e)){if(y3(e))throw new DOMException("The image data has been detached.","InvalidStateError");return e}return ep(e)||np(e)?g3(e):await sp(e)}async function v3(e){try{return await e.decode(),!0}catch{return!1}}async function p3(e){var t;try{return await((t=e.decode)==null?void 0:t.call(e)),!0}catch{return!1}}function w3(e){return e.format===null}function y3(e){return e.data.buffer.byteLength===0}function x3(e){return e.width===0&&e.height===0}function c1(e,t){return e instanceof DOMException?new DOMException(`${t}: ${e.message}`,e.name):e instanceof Error?new e.constructor(`${t}: ${e.message}`):new Error(`${t}: ${e}`)}const d1=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","DXFilmEdge","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","rMQRCode","UPC-A","UPC-E"];function b3(e){return e.join("|")}function _3(e){const t=f1(e);let n=0,s=d1.length-1;for(;n<=s;){const a=Math.floor((n+s)/2),l=d1[a],d=f1(l);if(d===t)return l;d<t?n=a+1:s=a-1}return"None"}function f1(e){return e.toLowerCase().replace(/_-\[\]/g,"")}function C3(e,t){return e.Binarizer[t]}function S3(e,t){return e.CharacterSet[t]}const E3=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function A3(e){return E3[e.value]}function T3(e,t){return e.EanAddOnSymbol[t]}function I3(e,t){return e.TextMode[t]}const wa={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function op(e,t){return{...t,formats:b3(t.formats),binarizer:C3(e,t.binarizer),eanAddOnSymbol:T3(e,t.eanAddOnSymbol),textMode:I3(e,t.textMode),characterSet:S3(e,t.characterSet)}}function ap(e){return{...e,format:_3(e.format),eccLevel:e.eccLevel,contentType:A3(e.contentType)}}const O3={locateFile:(e,t)=>{const n=e.match(/_(.+?)\.wasm$/);return n?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.1.3/dist/${n[1]}/${e}`:t+e}};let h1=new WeakMap;function zf(e,t){var n;const s=h1.get(e);if(s!=null&&s.modulePromise&&t===void 0)return s.modulePromise;const a=(n=s==null?void 0:s.moduleOverrides)!=null?n:O3,l=e({...a});return h1.set(e,{moduleOverrides:a,modulePromise:l}),l}async function D3(e,t,n=wa){const s={...wa,...n},a=await zf(e),{size:l}=t,d=new Uint8Array(await t.arrayBuffer()),h=a._malloc(l);a.HEAPU8.set(d,h);const g=a.readBarcodesFromImage(h,l,op(a,s));a._free(h);const m=[];for(let p=0;p<g.size();++p)m.push(ap(g.get(p)));return m}async function k3(e,t,n=wa){const s={...wa,...n},a=await zf(e),{data:l,width:d,height:h,data:{byteLength:g}}=t,m=a._malloc(g);a.HEAPU8.set(l,m);const p=a.readBarcodesFromPixmap(m,d,h,op(a,s));a._free(m);const y=[];for(let _=0;_<p.size();++_)y.push(ap(p.get(_)));return y}({...wa,formats:[...wa.formats]});var Wf=(()=>{var e=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(t={}){var n=t,s,a;n.ready=new Promise((C,S)=>{s=C,a=S});var l=Object.assign({},n),d="./this.program",h=typeof window=="object",g=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var m="";function p(C){return n.locateFile?n.locateFile(C,m):m+C}var y;(h||g)&&(g?m=self.location.href:typeof document<"u"&&document.currentScript&&(m=document.currentScript.src),e&&(m=e),m.indexOf("blob:")!==0?m=m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):m="",g&&(y=C=>{var S=new XMLHttpRequest;return S.open("GET",C,!1),S.responseType="arraybuffer",S.send(null),new Uint8Array(S.response)})),n.print||console.log.bind(console);var _=n.printErr||console.error.bind(console);Object.assign(n,l),l=null,n.arguments&&n.arguments,n.thisProgram&&(d=n.thisProgram),n.quit&&n.quit;var b;n.wasmBinary&&(b=n.wasmBinary),typeof WebAssembly!="object"&&re("no native wasm support detected");var T,k=!1,q,K,Y,N,A,B,Q,M;function ie(){var C=T.buffer;n.HEAP8=q=new Int8Array(C),n.HEAP16=Y=new Int16Array(C),n.HEAPU8=K=new Uint8Array(C),n.HEAPU16=N=new Uint16Array(C),n.HEAP32=A=new Int32Array(C),n.HEAPU32=B=new Uint32Array(C),n.HEAPF32=Q=new Float32Array(C),n.HEAPF64=M=new Float64Array(C)}var L=[],de=[],pe=[];function $(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)ee(n.preRun.shift());nt(L)}function be(){nt(de)}function ue(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Se(n.postRun.shift());nt(pe)}function ee(C){L.unshift(C)}function Be(C){de.unshift(C)}function Se(C){pe.unshift(C)}var Re=0,et=null;function ut(C){var S;Re++,(S=n.monitorRunDependencies)===null||S===void 0||S.call(n,Re)}function me(C){var S;if(Re--,(S=n.monitorRunDependencies)===null||S===void 0||S.call(n,Re),Re==0&&et){var D=et;et=null,D()}}function re(C){var S;(S=n.onAbort)===null||S===void 0||S.call(n,C),C="Aborted("+C+")",_(C),k=!0,C+=". Build with -sASSERTIONS for more info.";var D=new WebAssembly.RuntimeError(C);throw a(D),D}var Ze="data:application/octet-stream;base64,",it=C=>C.startsWith(Ze),vt;vt="zxing_reader.wasm",it(vt)||(vt=p(vt));function we(C){if(C==vt&&b)return new Uint8Array(b);if(y)return y(C);throw"both async and sync fetching of the wasm failed"}function oe(C){return!b&&(h||g)&&typeof fetch=="function"?fetch(C,{credentials:"same-origin"}).then(S=>{if(!S.ok)throw"failed to load wasm binary file at '"+C+"'";return S.arrayBuffer()}).catch(()=>we(C)):Promise.resolve().then(()=>we(C))}function Me(C,S,D){return oe(C).then(V=>WebAssembly.instantiate(V,S)).then(V=>V).then(D,V=>{_(`failed to asynchronously prepare wasm: ${V}`),re(V)})}function he(C,S,D,V){return!C&&typeof WebAssembly.instantiateStreaming=="function"&&!it(S)&&typeof fetch=="function"?fetch(S,{credentials:"same-origin"}).then(ne=>{var ge=WebAssembly.instantiateStreaming(ne,D);return ge.then(V,function(_e){return _(`wasm streaming compile failed: ${_e}`),_("falling back to ArrayBuffer instantiation"),Me(S,D,V)})}):Me(S,D,V)}function Ye(){var C={a:Gr};function S(V,ne){return Pn=V.exports,T=Pn.ia,ie(),Nl=Pn.ma,Be(Pn.ja),me(),Pn}ut();function D(V){S(V.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(C,S)}catch(V){_(`Module.instantiateWasm callback failed with error: ${V}`),a(V)}return he(b,vt,C,D).catch(a),{}}var nt=C=>{for(;C.length>0;)C.shift()(n)};n.noExitRuntime;var pt=[],F=0,X=C=>{var S=new xe(C);return S.get_caught()||(S.set_caught(!0),F--),S.set_rethrown(!1),pt.push(S),ms(S.excPtr),S.get_exception_ptr()},ce=0,Ne=()=>{Tn(0,0);var C=pt.pop();Fo(C.excPtr),ce=0};function xe(C){this.excPtr=C,this.ptr=C-24,this.set_type=function(S){B[this.ptr+4>>2]=S},this.get_type=function(){return B[this.ptr+4>>2]},this.set_destructor=function(S){B[this.ptr+8>>2]=S},this.get_destructor=function(){return B[this.ptr+8>>2]},this.set_caught=function(S){S=S?1:0,q[this.ptr+12>>0]=S},this.get_caught=function(){return q[this.ptr+12>>0]!=0},this.set_rethrown=function(S){S=S?1:0,q[this.ptr+13>>0]=S},this.get_rethrown=function(){return q[this.ptr+13>>0]!=0},this.init=function(S,D){this.set_adjusted_ptr(0),this.set_type(S),this.set_destructor(D)},this.set_adjusted_ptr=function(S){B[this.ptr+16>>2]=S},this.get_adjusted_ptr=function(){return B[this.ptr+16>>2]},this.get_exception_ptr=function(){var S=Xs(this.get_type());if(S)return B[this.excPtr>>2];var D=this.get_adjusted_ptr();return D!==0?D:this.excPtr}}var ke=C=>{throw ce||(ce=C),ce},Pe=C=>{var S=ce;if(!S)return gs(0),0;var D=new xe(S);D.set_adjusted_ptr(S);var V=D.get_type();if(!V)return gs(0),S;for(var ne in C){var ge=C[ne];if(ge===0||ge===V)break;var _e=D.ptr+16;if(Zt(ge,V,_e))return gs(ge),S}return gs(V),S},He=()=>Pe([]),ye=C=>Pe([C]),Le=(C,S)=>Pe([C,S]),dt=()=>{var C=pt.pop();C||re("no exception to throw");var S=C.excPtr;throw C.get_rethrown()||(pt.push(C),C.set_rethrown(!0),C.set_caught(!1),F++),ce=S,ce},Xe=(C,S,D)=>{var V=new xe(C);throw V.init(S,D),ce=C,F++,ce},ct=()=>F,ot={},Tt=C=>{for(;C.length;){var S=C.pop(),D=C.pop();D(S)}};function Pt(C){return this.fromWireType(A[C>>2])}var ht={},tn={},Kt={},Mn,Nt=C=>{throw new Mn(C)},Ue=(C,S,D)=>{C.forEach(function(Ae){Kt[Ae]=S});function V(Ae){var Ve=D(Ae);Ve.length!==C.length&&Nt("Mismatched type converter count");for(var Ke=0;Ke<C.length;++Ke)Jn(C[Ke],Ve[Ke])}var ne=new Array(S.length),ge=[],_e=0;S.forEach((Ae,Ve)=>{tn.hasOwnProperty(Ae)?ne[Ve]=tn[Ae]:(ge.push(Ae),ht.hasOwnProperty(Ae)||(ht[Ae]=[]),ht[Ae].push(()=>{ne[Ve]=tn[Ae],++_e,_e===ge.length&&V(ne)}))}),ge.length===0&&V(ne)},mn=C=>{var S=ot[C];delete ot[C];var D=S.rawConstructor,V=S.rawDestructor,ne=S.fields,ge=ne.map(_e=>_e.getterReturnType).concat(ne.map(_e=>_e.setterArgumentType));Ue([C],ge,_e=>{var Ae={};return ne.forEach((Ve,Ke)=>{var lt=Ve.fieldName,Ot=_e[Ke],Rt=Ve.getter,qt=Ve.getterContext,Fn=_e[Ke+ne.length],$n=Ve.setter,xn=Ve.setterContext;Ae[lt]={read:wr=>Ot.fromWireType(Rt(qt,wr)),write:(wr,We)=>{var gt=[];$n(xn,wr,Fn.toWireType(gt,We)),Tt(gt)}}}),[{name:S.name,fromWireType:Ve=>{var Ke={};for(var lt in Ae)Ke[lt]=Ae[lt].read(Ve);return V(Ve),Ke},toWireType:(Ve,Ke)=>{for(var lt in Ae)if(!(lt in Ke))throw new TypeError(`Missing field: "${lt}"`);var Ot=D();for(lt in Ae)Ae[lt].write(Ot,Ke[lt]);return Ve!==null&&Ve.push(V,Ot),Ot},argPackAdvance:ir,readValueFromPointer:Pt,destructorFunction:V}]})},Et=(C,S,D,V,ne)=>{},Dt=()=>{for(var C=new Array(256),S=0;S<256;++S)C[S]=String.fromCharCode(S);jn=C},jn,pn=C=>{for(var S="",D=C;K[D];)S+=jn[K[D++]];return S},_r,at=C=>{throw new _r(C)};function mr(C,S){let D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var V=S.name;if(C||at(`type "${V}" must have a positive integer typeid pointer`),tn.hasOwnProperty(C)){if(D.ignoreDuplicateRegistrations)return;at(`Cannot register type '${V}' twice`)}if(tn[C]=S,delete Kt[C],ht.hasOwnProperty(C)){var ne=ht[C];delete ht[C],ne.forEach(ge=>ge())}}function Jn(C,S){let D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!("argPackAdvance"in S))throw new TypeError("registerType registeredInstance requires argPackAdvance");return mr(C,S,D)}var ir=8,sr=(C,S,D,V)=>{S=pn(S),Jn(C,{name:S,fromWireType:function(ne){return!!ne},toWireType:function(ne,ge){return ge?D:V},argPackAdvance:ir,readValueFromPointer:function(ne){return this.fromWireType(K[ne])},destructorFunction:null})},li=C=>({count:C.count,deleteScheduled:C.deleteScheduled,preservePointerOnDelete:C.preservePointerOnDelete,ptr:C.ptr,ptrType:C.ptrType,smartPtr:C.smartPtr,smartPtrType:C.smartPtrType}),un=C=>{function S(D){return D.$$.ptrType.registeredClass.name}at(S(C)+" instance already deleted")},or=!1,gi=C=>{},Or=C=>{C.smartPtr?C.smartPtrType.rawDestructor(C.smartPtr):C.ptrType.registeredClass.rawDestructor(C.ptr)},W=C=>{C.count.value-=1;var S=C.count.value===0;S&&Or(C)},se=(C,S,D)=>{if(S===D)return C;if(D.baseClass===void 0)return null;var V=se(C,S,D.baseClass);return V===null?null:D.downcast(V)},Oe={},ze=()=>Object.keys(ar).length,Qe=()=>{var C=[];for(var S in ar)ar.hasOwnProperty(S)&&C.push(ar[S]);return C},_t=[],De=()=>{for(;_t.length;){var C=_t.pop();C.$$.deleteScheduled=!1,C.delete()}},ft,Wt=C=>{ft=C,_t.length&&ft&&ft(De)},cn=()=>{n.getInheritedInstanceCount=ze,n.getLiveInheritedInstances=Qe,n.flushPendingDeletes=De,n.setDelayFunction=Wt},ar={},Ti=(C,S)=>{for(S===void 0&&at("ptr should not be undefined");C.baseClass;)S=C.upcast(S),C=C.baseClass;return S},cs=(C,S)=>(S=Ti(C,S),ar[S]),vr=(C,S)=>{(!S.ptrType||!S.ptr)&&Nt("makeClassHandle requires ptr and ptrType");var D=!!S.smartPtrType,V=!!S.smartPtr;return D!==V&&Nt("Both smartPtrType and smartPtr must be specified"),S.count={value:1},Ii(Object.create(C,{$$:{value:S,writable:!0}}))};function Oo(C){var S=this.getPointee(C);if(!S)return this.destructor(C),null;var D=cs(this.registeredClass,S);if(D!==void 0){if(D.$$.count.value===0)return D.$$.ptr=S,D.$$.smartPtr=C,D.clone();var V=D.clone();return this.destructor(C),V}function ne(){return this.isSmartPointer?vr(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:S,smartPtrType:this,smartPtr:C}):vr(this.registeredClass.instancePrototype,{ptrType:this,ptr:C})}var ge=this.registeredClass.getActualType(S),_e=Oe[ge];if(!_e)return ne.call(this);var Ae;this.isConst?Ae=_e.constPointerType:Ae=_e.pointerType;var Ve=se(S,this.registeredClass,Ae.registeredClass);return Ve===null?ne.call(this):this.isSmartPointer?vr(Ae.registeredClass.instancePrototype,{ptrType:Ae,ptr:Ve,smartPtrType:this,smartPtr:C}):vr(Ae.registeredClass.instancePrototype,{ptrType:Ae,ptr:Ve})}var Ii=C=>typeof FinalizationRegistry>"u"?(Ii=S=>S,C):(or=new FinalizationRegistry(S=>{W(S.$$)}),Ii=S=>{var D=S.$$,V=!!D.smartPtr;if(V){var ne={$$:D};or.register(S,ne,S)}return S},gi=S=>or.unregister(S),Ii(C)),Lr=()=>{Object.assign(Z.prototype,{isAliasOf(C){if(!(this instanceof Z)||!(C instanceof Z))return!1;var S=this.$$.ptrType.registeredClass,D=this.$$.ptr;C.$$=C.$$;for(var V=C.$$.ptrType.registeredClass,ne=C.$$.ptr;S.baseClass;)D=S.upcast(D),S=S.baseClass;for(;V.baseClass;)ne=V.upcast(ne),V=V.baseClass;return S===V&&D===ne},clone(){if(this.$$.ptr||un(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var C=Ii(Object.create(Object.getPrototypeOf(this),{$$:{value:li(this.$$)}}));return C.$$.count.value+=1,C.$$.deleteScheduled=!1,C},delete(){this.$$.ptr||un(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&at("Object already scheduled for deletion"),gi(this),W(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||un(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&at("Object already scheduled for deletion"),_t.push(this),_t.length===1&&ft&&ft(De),this.$$.deleteScheduled=!0,this}})};function Z(){}var qe=(C,S)=>Object.defineProperty(S,"name",{value:C}),rt=(C,S,D)=>{if(C[S].overloadTable===void 0){var V=C[S];C[S]=function(){return C[S].overloadTable.hasOwnProperty(arguments.length)||at(`Function '${D}' called with an invalid number of arguments (${arguments.length}) - expects one of (${C[S].overloadTable})!`),C[S].overloadTable[arguments.length].apply(this,arguments)},C[S].overloadTable=[],C[S].overloadTable[V.argCount]=V}},Ct=(C,S,D)=>{n.hasOwnProperty(C)?((D===void 0||n[C].overloadTable!==void 0&&n[C].overloadTable[D]!==void 0)&&at(`Cannot register public name '${C}' twice`),rt(n,C,C),n.hasOwnProperty(D)&&at(`Cannot register multiple overloads of a function with the same number of arguments (${D})!`),n[C].overloadTable[D]=S):(n[C]=S,D!==void 0&&(n[C].numArguments=D))},an=48,Te=57,Hn=C=>{if(C===void 0)return"_unknown";C=C.replace(/[^a-zA-Z0-9_]/g,"$");var S=C.charCodeAt(0);return S>=an&&S<=Te?`_${C}`:C};function kt(C,S,D,V,ne,ge,_e,Ae){this.name=C,this.constructor=S,this.instancePrototype=D,this.rawDestructor=V,this.baseClass=ne,this.getActualType=ge,this.upcast=_e,this.downcast=Ae,this.pureVirtualFunctions=[]}var Hr=(C,S,D)=>{for(;S!==D;)S.upcast||at(`Expected null or instance of ${D.name}, got an instance of ${S.name}`),C=S.upcast(C),S=S.baseClass;return C};function mc(C,S){if(S===null)return this.isReference&&at(`null is not a valid ${this.name}`),0;S.$$||at(`Cannot pass "${Bt(S)}" as a ${this.name}`),S.$$.ptr||at(`Cannot pass deleted object as a pointer of type ${this.name}`);var D=S.$$.ptrType.registeredClass,V=Hr(S.$$.ptr,D,this.registeredClass);return V}function ln(C,S){var D;if(S===null)return this.isReference&&at(`null is not a valid ${this.name}`),this.isSmartPointer?(D=this.rawConstructor(),C!==null&&C.push(this.rawDestructor,D),D):0;(!S||!S.$$)&&at(`Cannot pass "${Bt(S)}" as a ${this.name}`),S.$$.ptr||at(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&S.$$.ptrType.isConst&&at(`Cannot convert argument of type ${S.$$.smartPtrType?S.$$.smartPtrType.name:S.$$.ptrType.name} to parameter type ${this.name}`);var V=S.$$.ptrType.registeredClass;if(D=Hr(S.$$.ptr,V,this.registeredClass),this.isSmartPointer)switch(S.$$.smartPtr===void 0&&at("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:S.$$.smartPtrType===this?D=S.$$.smartPtr:at(`Cannot convert argument of type ${S.$$.smartPtrType?S.$$.smartPtrType.name:S.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:D=S.$$.smartPtr;break;case 2:if(S.$$.smartPtrType===this)D=S.$$.smartPtr;else{var ne=S.clone();D=this.rawShare(D,mi.toHandle(()=>ne.delete())),C!==null&&C.push(this.rawDestructor,D)}break;default:at("Unsupporting sharing policy")}return D}function sn(C,S){if(S===null)return this.isReference&&at(`null is not a valid ${this.name}`),0;S.$$||at(`Cannot pass "${Bt(S)}" as a ${this.name}`),S.$$.ptr||at(`Cannot pass deleted object as a pointer of type ${this.name}`),S.$$.ptrType.isConst&&at(`Cannot convert argument of type ${S.$$.ptrType.name} to parameter type ${this.name}`);var D=S.$$.ptrType.registeredClass,V=Hr(S.$$.ptr,D,this.registeredClass);return V}function Gt(C){return this.fromWireType(B[C>>2])}var Aa=()=>{Object.assign(ds.prototype,{getPointee(C){return this.rawGetPointee&&(C=this.rawGetPointee(C)),C},destructor(C){var S;(S=this.rawDestructor)===null||S===void 0||S.call(this,C)},argPackAdvance:ir,readValueFromPointer:Gt,deleteObject(C){C!==null&&C.delete()},fromWireType:Oo})};function ds(C,S,D,V,ne,ge,_e,Ae,Ve,Ke,lt){this.name=C,this.registeredClass=S,this.isReference=D,this.isConst=V,this.isSmartPointer=ne,this.pointeeType=ge,this.sharingPolicy=_e,this.rawGetPointee=Ae,this.rawConstructor=Ve,this.rawShare=Ke,this.rawDestructor=lt,!ne&&S.baseClass===void 0?V?(this.toWireType=mc,this.destructorFunction=null):(this.toWireType=sn,this.destructorFunction=null):this.toWireType=ln}var Do=(C,S,D)=>{n.hasOwnProperty(C)||Nt("Replacing nonexistant public symbol"),n[C].overloadTable!==void 0&&D!==void 0?n[C].overloadTable[D]=S:(n[C]=S,n[C].argCount=D)},zn=(C,S,D)=>{var V=n["dynCall_"+C];return D&&D.length?V.apply(null,[S].concat(D)):V.call(null,S)},ni=[],Nl,Lt=C=>{var S=ni[C];return S||(C>=ni.length&&(ni.length=C+1),ni[C]=S=Nl.get(C)),S},Oi=(C,S,D)=>{if(C.includes("j"))return zn(C,S,D);var V=Lt(S).apply(null,D);return V},vc=(C,S)=>{var D=[];return function(){return D.length=0,Object.assign(D,arguments),Oi(C,S,D)}},pr=(C,S)=>{C=pn(C);function D(){return C.includes("j")?vc(C,S):Lt(S)}var V=D();return typeof V!="function"&&at(`unknown function pointer with signature ${C}: ${S}`),V},wn=(C,S)=>{var D=qe(S,function(V){this.name=S,this.message=V;var ne=new Error(V).stack;ne!==void 0&&(this.stack=this.toString()+`
`+ne.replace(/^Error(:[^\n]*)?\n/,""))});return D.prototype=Object.create(C.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},D},lr,ve=C=>{var S=Bo(C),D=pn(S);return tr(S),D},U=(C,S)=>{var D=[],V={};function ne(ge){if(!V[ge]&&!tn[ge]){if(Kt[ge]){Kt[ge].forEach(ne);return}D.push(ge),V[ge]=!0}}throw S.forEach(ne),new lr(`${C}: `+D.map(ve).join([", "]))},mt=(C,S,D,V,ne,ge,_e,Ae,Ve,Ke,lt,Ot,Rt)=>{lt=pn(lt),ge=pr(ne,ge),Ae&&(Ae=pr(_e,Ae)),Ke&&(Ke=pr(Ve,Ke)),Rt=pr(Ot,Rt);var qt=Hn(lt);Ct(qt,function(){U(`Cannot construct ${lt} due to unbound types`,[V])}),Ue([C,S,D],V?[V]:[],function(Fn){Fn=Fn[0];var $n,xn;V?($n=Fn.registeredClass,xn=$n.instancePrototype):xn=Z.prototype;var wr=qe(lt,function(){if(Object.getPrototypeOf(this)!==We)throw new _r("Use 'new' to construct "+lt);if(gt.constructor_body===void 0)throw new _r(lt+" has no accessible constructor");var eh=gt.constructor_body[arguments.length];if(eh===void 0)throw new _r(`Tried to invoke ctor of ${lt} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(gt.constructor_body).toString()}) parameters instead!`);return eh.apply(this,arguments)}),We=Object.create(xn,{constructor:{value:wr}});wr.prototype=We;var gt=new kt(lt,wr,We,Rt,$n,ge,Ae,Ke);if(gt.baseClass){var Un,dr;(dr=(Un=gt.baseClass).__derivedClasses)!==null&&dr!==void 0||(Un.__derivedClasses=[]),gt.baseClass.__derivedClasses.push(gt)}var Vo=new ds(lt,gt,!0,!1,!1),Ul=new ds(lt+"*",gt,!1,!1,!1),Jf=new ds(lt+" const*",gt,!1,!0,!1);return Oe[C]={pointerType:Ul,constPointerType:Jf},Do(qt,wr),[Vo,Ul,Jf]})},Vn=(C,S)=>{for(var D=[],V=0;V<C;V++)D.push(B[S+V*4>>2]);return D};function zr(C){for(var S=1;S<C.length;++S)if(C[S]!==null&&C[S].destructorFunction===void 0)return!0;return!1}function Ta(C,S,D,V,ne,ge){var _e=S.length;_e<2&&at("argTypes array size mismatch! Must at least get return value and 'this' types!");var Ae=S[1]!==null&&D!==null,Ve=zr(S),Ke=S[0].name!=="void",lt=_e-2,Ot=new Array(lt),Rt=[],qt=[],Fn=function(){arguments.length!==lt&&at(`function ${C} called with ${arguments.length} arguments, expected ${lt}`),qt.length=0;var $n;Rt.length=Ae?2:1,Rt[0]=ne,Ae&&($n=S[1].toWireType(qt,this),Rt[1]=$n);for(var xn=0;xn<lt;++xn)Ot[xn]=S[xn+2].toWireType(qt,arguments[xn]),Rt.push(Ot[xn]);var wr=V.apply(null,Rt);function We(gt){if(Ve)Tt(qt);else for(var Un=Ae?1:2;Un<S.length;Un++){var dr=Un===1?$n:Ot[Un-2];S[Un].destructorFunction!==null&&S[Un].destructorFunction(dr)}if(Ke)return S[0].fromWireType(gt)}return We(wr)};return qe(C,Fn)}var Ia=(C,S,D,V,ne,ge)=>{var _e=Vn(S,D);ne=pr(V,ne),Ue([],[C],function(Ae){Ae=Ae[0];var Ve=`constructor ${Ae.name}`;if(Ae.registeredClass.constructor_body===void 0&&(Ae.registeredClass.constructor_body=[]),Ae.registeredClass.constructor_body[S-1]!==void 0)throw new _r(`Cannot register multiple constructors with identical number of parameters (${S-1}) for class '${Ae.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return Ae.registeredClass.constructor_body[S-1]=()=>{U(`Cannot construct ${Ae.name} due to unbound types`,_e)},Ue([],_e,Ke=>(Ke.splice(1,0,null),Ae.registeredClass.constructor_body[S-1]=Ta(Ve,Ke,null,ne,ge),[])),[]})},Br=C=>{C=C.trim();const S=C.indexOf("(");return S!==-1?C.substr(0,S):C},wt=(C,S,D,V,ne,ge,_e,Ae,Ve)=>{var Ke=Vn(D,V);S=pn(S),S=Br(S),ge=pr(ne,ge),Ue([],[C],function(lt){lt=lt[0];var Ot=`${lt.name}.${S}`;S.startsWith("@@")&&(S=Symbol[S.substring(2)]),Ae&&lt.registeredClass.pureVirtualFunctions.push(S);function Rt(){U(`Cannot call ${Ot} due to unbound types`,Ke)}var qt=lt.registeredClass.instancePrototype,Fn=qt[S];return Fn===void 0||Fn.overloadTable===void 0&&Fn.className!==lt.name&&Fn.argCount===D-2?(Rt.argCount=D-2,Rt.className=lt.name,qt[S]=Rt):(rt(qt,S,Ot),qt[S].overloadTable[D-2]=Rt),Ue([],Ke,function($n){var xn=Ta(Ot,$n,lt,ge,_e);return qt[S].overloadTable===void 0?(xn.argCount=D-2,qt[S]=xn):qt[S].overloadTable[D-2]=xn,[]}),[]})};function An(){Object.assign(Oa.prototype,{get(C){return this.allocated[C]},has(C){return this.allocated[C]!==void 0},allocate(C){var S=this.freelist.pop()||this.allocated.length;return this.allocated[S]=C,S},free(C){this.allocated[C]=void 0,this.freelist.push(C)}})}function Oa(){this.allocated=[void 0],this.freelist=[]}var Wr=new Oa,js=C=>{C>=Wr.reserved&&--Wr.get(C).refcount===0&&Wr.free(C)},ko=()=>{for(var C=0,S=Wr.reserved;S<Wr.allocated.length;++S)Wr.allocated[S]!==void 0&&++C;return C},Da=()=>{Wr.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),Wr.reserved=Wr.allocated.length,n.count_emval_handles=ko},mi={toValue:C=>(C||at("Cannot use deleted val. handle = "+C),Wr.get(C).value),toHandle:C=>{switch(C){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Wr.allocate({refcount:1,value:C})}}},er=(C,S)=>{S=pn(S),Jn(C,{name:S,fromWireType:D=>{var V=mi.toValue(D);return js(D),V},toWireType:(D,V)=>mi.toHandle(V),argPackAdvance:ir,readValueFromPointer:Pt,destructorFunction:null})},Hs=(C,S,D)=>{switch(S){case 1:return D?function(V){return this.fromWireType(q[V>>0])}:function(V){return this.fromWireType(K[V>>0])};case 2:return D?function(V){return this.fromWireType(Y[V>>1])}:function(V){return this.fromWireType(N[V>>1])};case 4:return D?function(V){return this.fromWireType(A[V>>2])}:function(V){return this.fromWireType(B[V>>2])};default:throw new TypeError(`invalid integer width (${S}): ${C}`)}},Di=(C,S,D,V)=>{S=pn(S);function ne(){}ne.values={},Jn(C,{name:S,constructor:ne,fromWireType:function(ge){return this.constructor.values[ge]},toWireType:(ge,_e)=>_e.value,argPackAdvance:ir,readValueFromPointer:Hs(S,D,V),destructorFunction:null}),Ct(S,ne)},xt=(C,S)=>{var D=tn[C];return D===void 0&&at(S+" has unknown type "+ve(C)),D},pc=(C,S,D)=>{var V=xt(C,"enum");S=pn(S);var ne=V.constructor,ge=Object.create(V.constructor.prototype,{value:{value:D},constructor:{value:qe(`${V.name}_${S}`,function(){})}});ne.values[D]=ge,ne[S]=ge},Bt=C=>{if(C===null)return"null";var S=typeof C;return S==="object"||S==="array"||S==="function"?C.toString():""+C},ur=(C,S)=>{switch(S){case 4:return function(D){return this.fromWireType(Q[D>>2])};case 8:return function(D){return this.fromWireType(M[D>>3])};default:throw new TypeError(`invalid float width (${S}): ${C}`)}},wc=(C,S,D)=>{S=pn(S),Jn(C,{name:S,fromWireType:V=>V,toWireType:(V,ne)=>ne,argPackAdvance:ir,readValueFromPointer:ur(S,D),destructorFunction:null})},ka=(C,S,D,V,ne,ge,_e)=>{var Ae=Vn(S,D);C=pn(C),C=Br(C),ne=pr(V,ne),Ct(C,function(){U(`Cannot call ${C} due to unbound types`,Ae)},S-1),Ue([],Ae,function(Ve){var Ke=[Ve[0],null].concat(Ve.slice(1));return Do(C,Ta(C,Ke,null,ne,ge),S-1),[]})},Pl=(C,S,D)=>{switch(S){case 1:return D?V=>q[V>>0]:V=>K[V>>0];case 2:return D?V=>Y[V>>1]:V=>N[V>>1];case 4:return D?V=>A[V>>2]:V=>B[V>>2];default:throw new TypeError(`invalid integer width (${S}): ${C}`)}},Hi=(C,S,D,V,ne)=>{S=pn(S);var ge=lt=>lt;if(V===0){var _e=32-8*D;ge=lt=>lt<<_e>>>_e}var Ae=S.includes("unsigned"),Ve=(lt,Ot)=>{},Ke;Ae?Ke=function(lt,Ot){return Ve(Ot,this.name),Ot>>>0}:Ke=function(lt,Ot){return Ve(Ot,this.name),Ot},Jn(C,{name:S,fromWireType:ge,toWireType:Ke,argPackAdvance:ir,readValueFromPointer:Pl(S,D,V!==0),destructorFunction:null})},yc=(C,S,D)=>{var V=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ne=V[S];function ge(_e){var Ae=B[_e>>2],Ve=B[_e+4>>2];return new ne(q.buffer,Ve,Ae)}D=pn(D),Jn(C,{name:D,fromWireType:ge,argPackAdvance:ir,readValueFromPointer:ge},{ignoreDuplicateRegistrations:!0})},fs=(C,S,D,V)=>{if(!(V>0))return 0;for(var ne=D,ge=D+V-1,_e=0;_e<C.length;++_e){var Ae=C.charCodeAt(_e);if(Ae>=55296&&Ae<=57343){var Ve=C.charCodeAt(++_e);Ae=65536+((Ae&1023)<<10)|Ve&1023}if(Ae<=127){if(D>=ge)break;S[D++]=Ae}else if(Ae<=2047){if(D+1>=ge)break;S[D++]=192|Ae>>6,S[D++]=128|Ae&63}else if(Ae<=65535){if(D+2>=ge)break;S[D++]=224|Ae>>12,S[D++]=128|Ae>>6&63,S[D++]=128|Ae&63}else{if(D+3>=ge)break;S[D++]=240|Ae>>18,S[D++]=128|Ae>>12&63,S[D++]=128|Ae>>6&63,S[D++]=128|Ae&63}}return S[D]=0,D-ne},zs=(C,S,D)=>fs(C,K,S,D),hs=C=>{for(var S=0,D=0;D<C.length;++D){var V=C.charCodeAt(D);V<=127?S++:V<=2047?S+=2:V>=55296&&V<=57343?(S+=4,++D):S+=3}return S},Ra=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ws=(C,S,D)=>{for(var V=S+D,ne=S;C[ne]&&!(ne>=V);)++ne;if(ne-S>16&&C.buffer&&Ra)return Ra.decode(C.subarray(S,ne));for(var ge="";S<ne;){var _e=C[S++];if(!(_e&128)){ge+=String.fromCharCode(_e);continue}var Ae=C[S++]&63;if((_e&224)==192){ge+=String.fromCharCode((_e&31)<<6|Ae);continue}var Ve=C[S++]&63;if((_e&240)==224?_e=(_e&15)<<12|Ae<<6|Ve:_e=(_e&7)<<18|Ae<<12|Ve<<6|C[S++]&63,_e<65536)ge+=String.fromCharCode(_e);else{var Ke=_e-65536;ge+=String.fromCharCode(55296|Ke>>10,56320|Ke&1023)}}return ge},zi=(C,S)=>C?Ws(K,C,S):"",Dr=(C,S)=>{S=pn(S);var D=S==="std::string";Jn(C,{name:S,fromWireType(V){var ne=B[V>>2],ge=V+4,_e;if(D)for(var Ae=ge,Ve=0;Ve<=ne;++Ve){var Ke=ge+Ve;if(Ve==ne||K[Ke]==0){var lt=Ke-Ae,Ot=zi(Ae,lt);_e===void 0?_e=Ot:(_e+="\0",_e+=Ot),Ae=Ke+1}}else{for(var Rt=new Array(ne),Ve=0;Ve<ne;++Ve)Rt[Ve]=String.fromCharCode(K[ge+Ve]);_e=Rt.join("")}return tr(V),_e},toWireType(V,ne){ne instanceof ArrayBuffer&&(ne=new Uint8Array(ne));var ge,_e=typeof ne=="string";_e||ne instanceof Uint8Array||ne instanceof Uint8ClampedArray||ne instanceof Int8Array||at("Cannot pass non-string to std::string"),D&&_e?ge=hs(ne):ge=ne.length;var Ae=Va(4+ge+1),Ve=Ae+4;if(B[Ae>>2]=ge,D&&_e)zs(ne,Ve,ge+1);else if(_e)for(var Ke=0;Ke<ge;++Ke){var lt=ne.charCodeAt(Ke);lt>255&&(tr(Ve),at("String has UTF-16 code units that do not fit in 8 bits")),K[Ve+Ke]=lt}else for(var Ke=0;Ke<ge;++Ke)K[Ve+Ke]=ne[Ke];return V!==null&&V.push(tr,Ae),Ae},argPackAdvance:ir,readValueFromPointer:Gt,destructorFunction(V){tr(V)}})},Ma=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Ll=(C,S)=>{for(var D=C,V=D>>1,ne=V+S/2;!(V>=ne)&&N[V];)++V;if(D=V<<1,D-C>32&&Ma)return Ma.decode(K.subarray(C,D));for(var ge="",_e=0;!(_e>=S/2);++_e){var Ae=Y[C+_e*2>>1];if(Ae==0)break;ge+=String.fromCharCode(Ae)}return ge},Bl=(C,S,D)=>{var V;if((V=D)!==null&&V!==void 0||(D=2147483647),D<2)return 0;D-=2;for(var ne=S,ge=D<C.length*2?D/2:C.length,_e=0;_e<ge;++_e){var Ae=C.charCodeAt(_e);Y[S>>1]=Ae,S+=2}return Y[S>>1]=0,S-ne},xc=C=>C.length*2,bc=(C,S)=>{for(var D=0,V="";!(D>=S/4);){var ne=A[C+D*4>>2];if(ne==0)break;if(++D,ne>=65536){var ge=ne-65536;V+=String.fromCharCode(55296|ge>>10,56320|ge&1023)}else V+=String.fromCharCode(ne)}return V},_c=(C,S,D)=>{var V;if((V=D)!==null&&V!==void 0||(D=2147483647),D<4)return 0;for(var ne=S,ge=ne+D-4,_e=0;_e<C.length;++_e){var Ae=C.charCodeAt(_e);if(Ae>=55296&&Ae<=57343){var Ve=C.charCodeAt(++_e);Ae=65536+((Ae&1023)<<10)|Ve&1023}if(A[S>>2]=Ae,S+=4,S+4>ge)break}return A[S>>2]=0,S-ne},dn=C=>{for(var S=0,D=0;D<C.length;++D){var V=C.charCodeAt(D);V>=55296&&V<=57343&&++D,S+=4}return S},Fl=(C,S,D)=>{D=pn(D);var V,ne,ge,_e,Ae;S===2?(V=Ll,ne=Bl,_e=xc,ge=()=>N,Ae=1):S===4&&(V=bc,ne=_c,_e=dn,ge=()=>B,Ae=2),Jn(C,{name:D,fromWireType:Ve=>{for(var Ke=B[Ve>>2],lt=ge(),Ot,Rt=Ve+4,qt=0;qt<=Ke;++qt){var Fn=Ve+4+qt*S;if(qt==Ke||lt[Fn>>Ae]==0){var $n=Fn-Rt,xn=V(Rt,$n);Ot===void 0?Ot=xn:(Ot+="\0",Ot+=xn),Rt=Fn+S}}return tr(Ve),Ot},toWireType:(Ve,Ke)=>{typeof Ke!="string"&&at(`Cannot pass non-string to C++ string type ${D}`);var lt=_e(Ke),Ot=Va(4+lt+S);return B[Ot>>2]=lt>>Ae,ne(Ke,Ot+4,lt+S),Ve!==null&&Ve.push(tr,Ot),Ot},argPackAdvance:ir,readValueFromPointer:Pt,destructorFunction(Ve){tr(Ve)}})},Ro=(C,S,D,V,ne,ge)=>{ot[C]={name:pn(S),rawConstructor:pr(D,V),rawDestructor:pr(ne,ge),fields:[]}},ki=(C,S,D,V,ne,ge,_e,Ae,Ve,Ke)=>{ot[C].fields.push({fieldName:pn(S),getterReturnType:D,getter:pr(V,ne),getterContext:ge,setterArgumentType:_e,setter:pr(Ae,Ve),setterContext:Ke})},Cc=(C,S)=>{S=pn(S),Jn(C,{isVoid:!0,name:S,argPackAdvance:0,fromWireType:()=>{},toWireType:(D,V)=>{}})},Ce=[],jt=(C,S,D,V)=>(C=Ce[C],S=mi.toValue(S),C(null,S,D,V)),cr={},Mo=C=>{var S=cr[C];return S===void 0?pn(C):S},Na=()=>{if(typeof globalThis=="object")return globalThis;function C(S){S.$$$embind_global$$$=S;var D=typeof $$$embind_global$$$=="object"&&S.$$$embind_global$$$==S;return D||delete S.$$$embind_global$$$,D}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&C(global)?$$$embind_global$$$=global:typeof self=="object"&&C(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},Sc=C=>C===0?mi.toHandle(Na()):(C=Mo(C),mi.toHandle(Na()[C])),Ec=C=>{var S=Ce.length;return Ce.push(C),S},Ac=(C,S)=>{for(var D=new Array(C),V=0;V<C;++V)D[V]=xt(B[S+V*4>>2],"parameter "+V);return D},Pa=Reflect.construct,Wn=(C,S,D)=>{var V=[],ne=C.toWireType(V,D);return V.length&&(B[S>>2]=mi.toHandle(V)),ne},La=(C,S,D)=>{var V=Ac(C,S),ne=V.shift();C--;var ge=new Array(C),_e=(Ve,Ke,lt,Ot)=>{for(var Rt=0,qt=0;qt<C;++qt)ge[qt]=V[qt].readValueFromPointer(Ot+Rt),Rt+=V[qt].argPackAdvance;for(var Fn=D===1?Pa(Ke,ge):Ke.apply(Ve,ge),qt=0;qt<C;++qt){var $n,xn;($n=(xn=V[qt]).deleteObject)===null||$n===void 0||$n.call(xn,ge[qt])}return Wn(ne,lt,Fn)},Ae=`methodCaller<(${V.map(Ve=>Ve.name).join(", ")}) => ${ne.name}>`;return Ec(qe(Ae,_e))},Nn=C=>{C>4&&(Wr.get(C).refcount+=1)},No=C=>{var S=mi.toValue(C);Tt(S),js(C)},Wi=(C,S)=>{C=xt(C,"_emval_take_value");var D=C.readValueFromPointer(S);return mi.toHandle(D)},vn=()=>{re("")},bt=(C,S,D)=>K.copyWithin(C,S,S+D),Tc=()=>2147483648,yn=C=>{var S=T.buffer,D=(C-S.byteLength+65535)/65536;try{return T.grow(D),ie(),1}catch{}},Gi=C=>{var S=K.length;C>>>=0;var D=Tc();if(C>D)return!1;for(var V=(Ve,Ke)=>Ve+(Ke-Ve%Ke)%Ke,ne=1;ne<=4;ne*=2){var ge=S*(1+.2/ne);ge=Math.min(ge,C+100663296);var _e=Math.min(D,V(Math.max(C,ge),65536)),Ae=yn(_e);if(Ae)return!0}return!1},Ri={},Ic=()=>d||"./this.program",kr=()=>{if(!kr.strings){var C=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",S={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:C,_:Ic()};for(var D in Ri)Ri[D]===void 0?delete S[D]:S[D]=Ri[D];var V=[];for(var D in S)V.push(`${D}=${S[D]}`);kr.strings=V}return kr.strings},Ba=(C,S)=>{for(var D=0;D<C.length;++D)q[S++>>0]=C.charCodeAt(D);q[S>>0]=0},Vl=(C,S)=>{var D=0;return kr().forEach((V,ne)=>{var ge=S+D;B[C+ne*4>>2]=ge,Ba(V,ge),D+=V.length+1}),0},Fa=(C,S)=>{var D=kr();B[C>>2]=D.length;var V=0;return D.forEach(ne=>V+=ne.length+1),B[S>>2]=V,0},$l=C=>C,Gs=C=>C%4===0&&(C%100!==0||C%400===0),Oc=(C,S)=>{for(var D=0,V=0;V<=S;D+=C[V++]);return D},Yi=[31,29,31,30,31,30,31,31,30,31,30,31],Po=[31,28,31,30,31,30,31,31,30,31,30,31],Dc=(C,S)=>{for(var D=new Date(C.getTime());S>0;){var V=Gs(D.getFullYear()),ne=D.getMonth(),ge=(V?Yi:Po)[ne];if(S>ge-D.getDate())S-=ge-D.getDate()+1,D.setDate(1),ne<11?D.setMonth(ne+1):(D.setMonth(0),D.setFullYear(D.getFullYear()+1));else return D.setDate(D.getDate()+S),D}return D};function Ys(C,S,D){var V=hs(C)+1,ne=new Array(V);return fs(C,ne,0,ne.length),ne}var kc=(C,S)=>{q.set(C,S)},Mi=(C,S,D,V)=>{var ne=B[V+40>>2],ge={tm_sec:A[V>>2],tm_min:A[V+4>>2],tm_hour:A[V+8>>2],tm_mday:A[V+12>>2],tm_mon:A[V+16>>2],tm_year:A[V+20>>2],tm_wday:A[V+24>>2],tm_yday:A[V+28>>2],tm_isdst:A[V+32>>2],tm_gmtoff:A[V+36>>2],tm_zone:ne?zi(ne):""},_e=zi(D),Ae={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ve in Ae)_e=_e.replace(new RegExp(Ve,"g"),Ae[Ve]);var Ke=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],lt=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ot(We,gt,Un){for(var dr=typeof We=="number"?We.toString():We||"";dr.length<gt;)dr=Un[0]+dr;return dr}function Rt(We,gt){return Ot(We,gt,"0")}function qt(We,gt){function Un(Vo){return Vo<0?-1:Vo>0?1:0}var dr;return(dr=Un(We.getFullYear()-gt.getFullYear()))===0&&(dr=Un(We.getMonth()-gt.getMonth()))===0&&(dr=Un(We.getDate()-gt.getDate())),dr}function Fn(We){switch(We.getDay()){case 0:return new Date(We.getFullYear()-1,11,29);case 1:return We;case 2:return new Date(We.getFullYear(),0,3);case 3:return new Date(We.getFullYear(),0,2);case 4:return new Date(We.getFullYear(),0,1);case 5:return new Date(We.getFullYear()-1,11,31);case 6:return new Date(We.getFullYear()-1,11,30)}}function $n(We){var gt=Dc(new Date(We.tm_year+1900,0,1),We.tm_yday),Un=new Date(gt.getFullYear(),0,4),dr=new Date(gt.getFullYear()+1,0,4),Vo=Fn(Un),Ul=Fn(dr);return qt(Vo,gt)<=0?qt(Ul,gt)<=0?gt.getFullYear()+1:gt.getFullYear():gt.getFullYear()-1}var xn={"%a":We=>Ke[We.tm_wday].substring(0,3),"%A":We=>Ke[We.tm_wday],"%b":We=>lt[We.tm_mon].substring(0,3),"%B":We=>lt[We.tm_mon],"%C":We=>{var gt=We.tm_year+1900;return Rt(gt/100|0,2)},"%d":We=>Rt(We.tm_mday,2),"%e":We=>Ot(We.tm_mday,2," "),"%g":We=>$n(We).toString().substring(2),"%G":We=>$n(We),"%H":We=>Rt(We.tm_hour,2),"%I":We=>{var gt=We.tm_hour;return gt==0?gt=12:gt>12&&(gt-=12),Rt(gt,2)},"%j":We=>Rt(We.tm_mday+Oc(Gs(We.tm_year+1900)?Yi:Po,We.tm_mon-1),3),"%m":We=>Rt(We.tm_mon+1,2),"%M":We=>Rt(We.tm_min,2),"%n":()=>`
`,"%p":We=>We.tm_hour>=0&&We.tm_hour<12?"AM":"PM","%S":We=>Rt(We.tm_sec,2),"%t":()=>"	","%u":We=>We.tm_wday||7,"%U":We=>{var gt=We.tm_yday+7-We.tm_wday;return Rt(Math.floor(gt/7),2)},"%V":We=>{var gt=Math.floor((We.tm_yday+7-(We.tm_wday+6)%7)/7);if((We.tm_wday+371-We.tm_yday-2)%7<=2&&gt++,gt){if(gt==53){var Un=(We.tm_wday+371-We.tm_yday)%7;Un!=4&&(Un!=3||!Gs(We.tm_year))&&(gt=1)}}else{gt=52;var dr=(We.tm_wday+7-We.tm_yday-1)%7;(dr==4||dr==5&&Gs(We.tm_year%400-1))&&gt++}return Rt(gt,2)},"%w":We=>We.tm_wday,"%W":We=>{var gt=We.tm_yday+7-(We.tm_wday+6)%7;return Rt(Math.floor(gt/7),2)},"%y":We=>(We.tm_year+1900).toString().substring(2),"%Y":We=>We.tm_year+1900,"%z":We=>{var gt=We.tm_gmtoff,Un=gt>=0;return gt=Math.abs(gt)/60,gt=gt/60*100+gt%60,(Un?"+":"-")+("0000"+gt).slice(-4)},"%Z":We=>We.tm_zone,"%%":()=>"%"};_e=_e.replace(/%%/g,"\0\0");for(var Ve in xn)_e.includes(Ve)&&(_e=_e.replace(new RegExp(Ve,"g"),xn[Ve](ge)));_e=_e.replace(/\0\0/g,"%");var wr=Ys(_e);return wr.length>S?0:(kc(wr,C),wr.length-1)},Lo=(C,S,D,V,ne)=>Mi(C,S,D,V);Mn=n.InternalError=class extends Error{constructor(C){super(C),this.name="InternalError"}},Dt(),_r=n.BindingError=class extends Error{constructor(C){super(C),this.name="BindingError"}},Lr(),cn(),Aa(),lr=n.UnboundTypeError=wn(Error,"UnboundTypeError"),An(),Da();var Gr={s:X,u:Ne,b:He,g:ye,q:Le,J:dt,f:Xe,V:ct,d:ke,da:mn,Q:Et,_:sr,ca:mt,ba:Ia,w:wt,Y:er,x:Di,h:pc,L:wc,M:ka,t:Hi,o:yc,K:Dr,C:Fl,A:Ro,ea:ki,$:Cc,R:jt,ha:js,fa:Sc,Z:La,N:Nn,O:No,aa:Wi,B:vn,X:bt,W:Gi,T:Vl,U:Fa,E:fe,D:c,F:te,n:Ee,a:r,e:v,m:u,k:x,H:j,v:O,G:J,z:Ge,P:Yt,l:w,j:f,c:o,p:i,I:R,r:je,i:E,y:$e,ga:$l,S:Lo},Pn=Ye(),tr=n._free=C=>(tr=n._free=Pn.ka)(C),Va=n._malloc=C=>(Va=n._malloc=Pn.la)(C),Bo=C=>(Bo=Pn.na)(C),Tn=(C,S)=>(Tn=Pn.oa)(C,S),gs=C=>(gs=Pn.pa)(C),on=()=>(on=Pn.qa)(),Ln=C=>(Ln=Pn.ra)(C),Fo=C=>(Fo=Pn.sa)(C),ms=C=>(ms=Pn.ta)(C),Zt=(C,S,D)=>(Zt=Pn.ua)(C,S,D),Xs=C=>(Xs=Pn.va)(C);n.dynCall_viijii=(C,S,D,V,ne,ge,_e)=>(n.dynCall_viijii=Pn.wa)(C,S,D,V,ne,ge,_e);var I=n.dynCall_jiiii=(C,S,D,V,ne)=>(I=n.dynCall_jiiii=Pn.xa)(C,S,D,V,ne);n.dynCall_iiiiij=(C,S,D,V,ne,ge,_e)=>(n.dynCall_iiiiij=Pn.ya)(C,S,D,V,ne,ge,_e),n.dynCall_iiiiijj=(C,S,D,V,ne,ge,_e,Ae,Ve)=>(n.dynCall_iiiiijj=Pn.za)(C,S,D,V,ne,ge,_e,Ae,Ve),n.dynCall_iiiiiijj=(C,S,D,V,ne,ge,_e,Ae,Ve,Ke)=>(n.dynCall_iiiiiijj=Pn.Aa)(C,S,D,V,ne,ge,_e,Ae,Ve,Ke);function r(C,S){var D=on();try{return Lt(C)(S)}catch(V){if(Ln(D),V!==V+0)throw V;Tn(1,0)}}function i(C,S,D,V){var ne=on();try{Lt(C)(S,D,V)}catch(ge){if(Ln(ne),ge!==ge+0)throw ge;Tn(1,0)}}function o(C,S,D){var V=on();try{Lt(C)(S,D)}catch(ne){if(Ln(V),ne!==ne+0)throw ne;Tn(1,0)}}function u(C,S,D,V){var ne=on();try{return Lt(C)(S,D,V)}catch(ge){if(Ln(ne),ge!==ge+0)throw ge;Tn(1,0)}}function c(C,S,D,V,ne){var ge=on();try{return Lt(C)(S,D,V,ne)}catch(_e){if(Ln(ge),_e!==_e+0)throw _e;Tn(1,0)}}function f(C,S){var D=on();try{Lt(C)(S)}catch(V){if(Ln(D),V!==V+0)throw V;Tn(1,0)}}function v(C,S,D){var V=on();try{return Lt(C)(S,D)}catch(ne){if(Ln(V),ne!==ne+0)throw ne;Tn(1,0)}}function w(C){var S=on();try{Lt(C)()}catch(D){if(Ln(S),D!==D+0)throw D;Tn(1,0)}}function x(C,S,D,V,ne){var ge=on();try{return Lt(C)(S,D,V,ne)}catch(_e){if(Ln(ge),_e!==_e+0)throw _e;Tn(1,0)}}function E(C,S,D,V,ne,ge,_e,Ae,Ve,Ke,lt){var Ot=on();try{Lt(C)(S,D,V,ne,ge,_e,Ae,Ve,Ke,lt)}catch(Rt){if(Ln(Ot),Rt!==Rt+0)throw Rt;Tn(1,0)}}function O(C,S,D,V,ne,ge,_e){var Ae=on();try{return Lt(C)(S,D,V,ne,ge,_e)}catch(Ve){if(Ln(Ae),Ve!==Ve+0)throw Ve;Tn(1,0)}}function R(C,S,D,V,ne){var ge=on();try{Lt(C)(S,D,V,ne)}catch(_e){if(Ln(ge),_e!==_e+0)throw _e;Tn(1,0)}}function j(C,S,D,V,ne,ge){var _e=on();try{return Lt(C)(S,D,V,ne,ge)}catch(Ae){if(Ln(_e),Ae!==Ae+0)throw Ae;Tn(1,0)}}function J(C,S,D,V,ne,ge,_e,Ae){var Ve=on();try{return Lt(C)(S,D,V,ne,ge,_e,Ae)}catch(Ke){if(Ln(Ve),Ke!==Ke+0)throw Ke;Tn(1,0)}}function te(C,S,D,V){var ne=on();try{return Lt(C)(S,D,V)}catch(ge){if(Ln(ne),ge!==ge+0)throw ge;Tn(1,0)}}function fe(C,S,D,V){var ne=on();try{return Lt(C)(S,D,V)}catch(ge){if(Ln(ne),ge!==ge+0)throw ge;Tn(1,0)}}function Ee(C){var S=on();try{return Lt(C)()}catch(D){if(Ln(S),D!==D+0)throw D;Tn(1,0)}}function je(C,S,D,V,ne,ge,_e,Ae){var Ve=on();try{Lt(C)(S,D,V,ne,ge,_e,Ae)}catch(Ke){if(Ln(Ve),Ke!==Ke+0)throw Ke;Tn(1,0)}}function Ge(C,S,D,V,ne,ge,_e,Ae,Ve,Ke,lt,Ot){var Rt=on();try{return Lt(C)(S,D,V,ne,ge,_e,Ae,Ve,Ke,lt,Ot)}catch(qt){if(Ln(Rt),qt!==qt+0)throw qt;Tn(1,0)}}function $e(C,S,D,V,ne,ge,_e,Ae,Ve,Ke,lt,Ot,Rt,qt,Fn,$n){var xn=on();try{Lt(C)(S,D,V,ne,ge,_e,Ae,Ve,Ke,lt,Ot,Rt,qt,Fn,$n)}catch(wr){if(Ln(xn),wr!==wr+0)throw wr;Tn(1,0)}}function Yt(C,S,D,V,ne){var ge=on();try{return I(C,S,D,V,ne)}catch(_e){if(Ln(ge),_e!==_e+0)throw _e;Tn(1,0)}}var It;et=function C(){It||Cr(),It||(et=C)};function Cr(){if(Re>0||($(),Re>0))return;function C(){It||(It=!0,n.calledRun=!0,!k&&(be(),s(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),ue()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),C()},1)):C()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Cr(),t.ready}})();function R3(e){return zf(Wf,e)}async function M3(e,t){return D3(Wf,e,t)}async function N3(e,t){return k3(Wf,e,t)}var Qa;class g1 extends EventTarget{constructor(t={}){var n;super(),o3(this,Qa,void 0);try{const s=(n=t==null?void 0:t.formats)==null?void 0:n.filter(a=>a!=="unknown");if((s==null?void 0:s.length)===0)throw new TypeError("Hint option provided, but is empty.");s==null||s.forEach(a=>{if(!du.has(a))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${a}' is not a valid enum value of type BarcodeFormat.`)}),a3(this,Qa,s!=null?s:[]),R3().then(a=>{this.dispatchEvent(new CustomEvent("load",{detail:a}))}).catch(a=>{this.dispatchEvent(new CustomEvent("error",{detail:a}))})}catch(s){throw c1(s,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return l3.filter(t=>t!=="unknown")}async detect(t){try{const n=await m3(t);if(n===null)return[];let s;try{ip(n)?s=await M3(n,{tryHarder:!0,formats:u1(this,Qa).map(a=>du.get(a))}):s=await N3(n,{tryHarder:!0,formats:u1(this,Qa).map(a=>du.get(a))})}catch(a){throw console.error(a),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return s.map(a=>{const{topLeft:{x:l,y:d},topRight:{x:h,y:g},bottomLeft:{x:m,y:p},bottomRight:{x:y,y:_}}=a.position,b=Math.min(l,h,m,y),T=Math.min(d,g,p,_),k=Math.max(l,h,m,y),q=Math.max(d,g,p,_);return{boundingBox:new DOMRectReadOnly(b,T,k-b,q-T),rawValue:a.text,format:u3(a.format),cornerPoints:[{x:l,y:d},{x:h,y:g},{x:y,y:_},{x:m,y:p}]}})}catch(n){throw c1(n,"Failed to execute 'detect' on 'BarcodeDetector'")}}}Qa=new WeakMap;const lp=(e,t,n="error")=>{let s,a;const l=new Promise((d,h)=>{s=d,a=h,e.addEventListener(t,s),e.addEventListener(n,a)});return l.finally(()=>{e.removeEventListener(t,s),e.removeEventListener(n,a)}),l},m1=e=>new Promise(t=>setTimeout(t,e));class up extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class P3 extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class L3 extends Error{constructor(){super("Loading camera stream timed out after 6 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}let cp;async function B3(e){if(window.BarcodeDetector===void 0)return console.debug("[vue-qrcode-reader] Native BarcodeDetector not supported. Will use polyfill."),new g1({formats:e});const t=await window.BarcodeDetector.getSupportedFormats(),n=e.filter(s=>!t.includes(s));return n.length>0?(console.debug(`[vue-qrcode-reader] Native BarcodeDetector does not support formats ${JSON.stringify(n)}. Will use polyfill.`),new g1({formats:e})):(console.debug("[vue-qrcode-reader] Will use native BarcodeDetector."),new window.BarcodeDetector({formats:e}))}async function dp(e){cp=await B3(e)}const F3=async(e,{detectHandler:t,locateHandler:n,minDelay:s,formats:a})=>{console.debug("[vue-qrcode-reader] start scanning"),await dp(a);const l=d=>async h=>{if(e.readyState===0)console.debug("[vue-qrcode-reader] stop scanning: video element readyState is 0");else{const{lastScanned:g,contentBefore:m,lastScanHadContent:p}=d;if(h-g<s)window.requestAnimationFrame(l(d));else{const y=await cp.detect(e),_=y.some(k=>!m.includes(k.rawValue));_&&t(y);const b=y.length>0;b&&n(y),!b&&p&&n(y);const T={lastScanned:h,lastScanHadContent:b,contentBefore:_?y.map(k=>k.rawValue):m};window.requestAnimationFrame(l(T))}}};l({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())};var fp={},ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.compactObject=mp;ti.deprecated=G3;var V3=ti.detectBrowser=Y3;ti.disableLog=H3;ti.disableWarnings=z3;ti.extractVersion=fu;ti.filterStats=X3;ti.log=W3;ti.walkStats=Lu;ti.wrapPeerConnectionEvent=j3;function $3(e,t,n){return t=U3(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U3(e){var t=q3(e,"string");return Fs(t)==="symbol"?t:String(t)}function q3(e,t){if(Fs(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Fs(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fs(e){return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}var hp=!0,gp=!0;function fu(e,t,n){var s=e.match(t);return s&&s.length>=n&&parseInt(s[n],10)}function j3(e,t,n){if(e.RTCPeerConnection){var s=e.RTCPeerConnection.prototype,a=s.addEventListener;s.addEventListener=function(d,h){if(d!==t)return a.apply(this,arguments);var g=function(m){var p=n(m);p&&(h.handleEvent?h.handleEvent(p):h(p))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(h,g),a.apply(this,[d,g])};var l=s.removeEventListener;s.removeEventListener=function(d,h){if(d!==t||!this._eventMap||!this._eventMap[t])return l.apply(this,arguments);if(!this._eventMap[t].has(h))return l.apply(this,arguments);var g=this._eventMap[t].get(h);return this._eventMap[t].delete(h),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,l.apply(this,[d,g])},Object.defineProperty(s,"on"+t,{get:function(){return this["_on"+t]},set:function(d){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),d&&this.addEventListener(t,this["_on"+t]=d)},enumerable:!0,configurable:!0})}}function H3(e){return typeof e!="boolean"?new Error("Argument type: "+Fs(e)+". Please use a boolean."):(hp=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function z3(e){return typeof e!="boolean"?new Error("Argument type: "+Fs(e)+". Please use a boolean."):(gp=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function W3(){if((typeof window>"u"?"undefined":Fs(window))==="object"){if(hp)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function G3(e,t){gp&&console.warn(e+" is deprecated, please use "+t+" instead.")}function Y3(e){var t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;var n=e.navigator;if(n.mozGetUserMedia)t.browser="firefox",t.version=fu(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=fu(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=fu(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function v1(e){return Object.prototype.toString.call(e)==="[object Object]"}function mp(e){return v1(e)?Object.keys(e).reduce(function(t,n){var s=v1(e[n]),a=s?mp(e[n]):e[n],l=s&&!Object.keys(a).length;return a===void 0||l?t:Object.assign(t,$3({},n,a))},{}):e}function Lu(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(function(s){s.endsWith("Id")?Lu(e,e.get(t[s]),n):s.endsWith("Ids")&&t[s].forEach(function(a){Lu(e,e.get(a),n)})}))}function X3(e,t,n){var s=n?"outbound-rtp":"inbound-rtp",a=new Map;if(t===null)return a;var l=[];return e.forEach(function(d){d.type==="track"&&d.trackIdentifier===t.id&&l.push(d)}),l.forEach(function(d){e.forEach(function(h){h.type===s&&h.trackId===d.id&&Lu(e,h,a)})}),a}Object.defineProperty(fp,"__esModule",{value:!0});var K3=fp.shimGetUserMedia=J3,Z3=Q3(ti);function vp(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(vp=function(s){return s?n:t})(e)}function Q3(e,t){if(e.__esModule)return e;if(e===null||Rs(e)!=="object"&&typeof e!="function")return{default:e};var n=vp(t);if(n&&n.has(e))return n.get(e);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var d=a?Object.getOwnPropertyDescriptor(e,l):null;d&&(d.get||d.set)?Object.defineProperty(s,l,d):s[l]=e[l]}return s.default=e,n&&n.set(e,s),s}function Rs(e){return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}var p1=Z3.log;function J3(e,t){var n=e&&e.navigator;if(n.mediaDevices){var s=function(g){if(Rs(g)!=="object"||g.mandatory||g.optional)return g;var m={};return Object.keys(g).forEach(function(p){if(!(p==="require"||p==="advanced"||p==="mediaSource")){var y=Rs(g[p])==="object"?g[p]:{ideal:g[p]};y.exact!==void 0&&typeof y.exact=="number"&&(y.min=y.max=y.exact);var _=function(T,k){return T?T+k.charAt(0).toUpperCase()+k.slice(1):k==="deviceId"?"sourceId":k};if(y.ideal!==void 0){m.optional=m.optional||[];var b={};typeof y.ideal=="number"?(b[_("min",p)]=y.ideal,m.optional.push(b),b={},b[_("max",p)]=y.ideal,m.optional.push(b)):(b[_("",p)]=y.ideal,m.optional.push(b))}y.exact!==void 0&&typeof y.exact!="number"?(m.mandatory=m.mandatory||{},m.mandatory[_("",p)]=y.exact):["min","max"].forEach(function(T){y[T]!==void 0&&(m.mandatory=m.mandatory||{},m.mandatory[_(T,p)]=y[T])})}}),g.advanced&&(m.optional=(m.optional||[]).concat(g.advanced)),m},a=function(g,m){if(t.version>=61)return m(g);if(g=JSON.parse(JSON.stringify(g)),g&&Rs(g.audio)==="object"){var p=function(T,k,q){k in T&&!(q in T)&&(T[q]=T[k],delete T[k])};g=JSON.parse(JSON.stringify(g)),p(g.audio,"autoGainControl","googAutoGainControl"),p(g.audio,"noiseSuppression","googNoiseSuppression"),g.audio=s(g.audio)}if(g&&Rs(g.video)==="object"){var y=g.video.facingMode;y=y&&(Rs(y)==="object"?y:{ideal:y});var _=t.version<66;if(y&&(y.exact==="user"||y.exact==="environment"||y.ideal==="user"||y.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!_)){delete g.video.facingMode;var b;if(y.exact==="environment"||y.ideal==="environment"?b=["back","rear"]:(y.exact==="user"||y.ideal==="user")&&(b=["front"]),b)return n.mediaDevices.enumerateDevices().then(function(T){T=T.filter(function(q){return q.kind==="videoinput"});var k=T.find(function(q){return b.some(function(K){return q.label.toLowerCase().includes(K)})});return!k&&T.length&&b.includes("back")&&(k=T[T.length-1]),k&&(g.video.deviceId=y.exact?{exact:k.deviceId}:{ideal:k.deviceId}),g.video=s(g.video),p1("chrome: "+JSON.stringify(g)),m(g)})}g.video=s(g.video)}return p1("chrome: "+JSON.stringify(g)),m(g)},l=function(g){return t.version>=64?g:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[g.name]||g.name,message:g.message,constraint:g.constraint||g.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},d=function(g,m,p){a(g,function(y){n.webkitGetUserMedia(y,m,function(_){p&&p(l(_))})})};if(n.getUserMedia=d.bind(n),n.mediaDevices.getUserMedia){var h=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(g){return a(g,function(m){return h(m).then(function(p){if(m.audio&&!p.getAudioTracks().length||m.video&&!p.getVideoTracks().length)throw p.getTracks().forEach(function(y){y.stop()}),new DOMException("","NotFoundError");return p},function(p){return Promise.reject(l(p))})})}}}}var pp={};Object.defineProperty(pp,"__esModule",{value:!0});var eE=pp.shimGetUserMedia=rE,tE=nE(ti);function wp(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(wp=function(s){return s?n:t})(e)}function nE(e,t){if(e.__esModule)return e;if(e===null||ua(e)!=="object"&&typeof e!="function")return{default:e};var n=wp(t);if(n&&n.has(e))return n.get(e);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var d=a?Object.getOwnPropertyDescriptor(e,l):null;d&&(d.get||d.set)?Object.defineProperty(s,l,d):s[l]=e[l]}return s.default=e,n&&n.set(e,s),s}function ua(e){return ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ua(e)}function rE(e,t){var n=e&&e.navigator,s=e&&e.MediaStreamTrack;if(n.getUserMedia=function(g,m,p){tE.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(g).then(m,p)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var a=function(g,m,p){m in g&&!(p in g)&&(g[p]=g[m],delete g[m])},l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(g){return ua(g)==="object"&&ua(g.audio)==="object"&&(g=JSON.parse(JSON.stringify(g)),a(g.audio,"autoGainControl","mozAutoGainControl"),a(g.audio,"noiseSuppression","mozNoiseSuppression")),l(g)},s&&s.prototype.getSettings){var d=s.prototype.getSettings;s.prototype.getSettings=function(){var g=d.apply(this,arguments);return a(g,"mozAutoGainControl","autoGainControl"),a(g,"mozNoiseSuppression","noiseSuppression"),g}}if(s&&s.prototype.applyConstraints){var h=s.prototype.applyConstraints;s.prototype.applyConstraints=function(g){return this.kind==="audio"&&ua(g)==="object"&&(g=JSON.parse(JSON.stringify(g)),a(g,"autoGainControl","mozAutoGainControl"),a(g,"noiseSuppression","mozNoiseSuppression")),h.apply(this,[g])}}}}var ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.shimAudioContext=hE;ji.shimCallbacksAPI=lE;ji.shimConstraints=bp;ji.shimCreateOfferLegacy=fE;var iE=ji.shimGetUserMedia=uE;ji.shimLocalStreamsAPI=oE;ji.shimRTCIceServerUrls=cE;ji.shimRemoteStreamsAPI=aE;ji.shimTrackEventTransceiver=dE;var yp=sE(ti);function xp(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(xp=function(s){return s?n:t})(e)}function sE(e,t){if(e.__esModule)return e;if(e===null||Vs(e)!=="object"&&typeof e!="function")return{default:e};var n=xp(t);if(n&&n.has(e))return n.get(e);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(l!=="default"&&Object.prototype.hasOwnProperty.call(e,l)){var d=a?Object.getOwnPropertyDescriptor(e,l):null;d&&(d.get||d.set)?Object.defineProperty(s,l,d):s[l]=e[l]}return s.default=e,n&&n.set(e,s),s}function Vs(e){return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function oE(e){if(!(Vs(e)!=="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(n){var s=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(function(a){return t.call(s,a,n)}),n.getVideoTracks().forEach(function(a){return t.call(s,a,n)})},e.RTCPeerConnection.prototype.addTrack=function(n){for(var s=this,a=arguments.length,l=new Array(a>1?a-1:0),d=1;d<a;d++)l[d-1]=arguments[d];return l&&l.forEach(function(h){s._localStreams?s._localStreams.includes(h)||s._localStreams.push(h):s._localStreams=[h]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){var s=this;this._localStreams||(this._localStreams=[]);var a=this._localStreams.indexOf(n);if(a!==-1){this._localStreams.splice(a,1);var l=n.getTracks();this.getSenders().forEach(function(d){l.includes(d.track)&&s.removeTrack(d)})}})}}function aE(e){if(!(Vs(e)!=="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(n){var s=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(function(l){if(s._remoteStreams||(s._remoteStreams=[]),!s._remoteStreams.includes(l)){s._remoteStreams.push(l);var d=new Event("addstream");d.stream=l,s.dispatchEvent(d)}})})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(function(a){if(n._remoteStreams||(n._remoteStreams=[]),!(n._remoteStreams.indexOf(a)>=0)){n._remoteStreams.push(a);var l=new Event("addstream");l.stream=a,n.dispatchEvent(l)}})}),t.apply(n,arguments)}}}function lE(e){if(!(Vs(e)!=="object"||!e.RTCPeerConnection)){var t=e.RTCPeerConnection.prototype,n=t.createOffer,s=t.createAnswer,a=t.setLocalDescription,l=t.setRemoteDescription,d=t.addIceCandidate;t.createOffer=function(g,m){var p=arguments.length>=2?arguments[2]:arguments[0],y=n.apply(this,[p]);return m?(y.then(g,m),Promise.resolve()):y},t.createAnswer=function(g,m){var p=arguments.length>=2?arguments[2]:arguments[0],y=s.apply(this,[p]);return m?(y.then(g,m),Promise.resolve()):y};var h=function(g,m,p){var y=a.apply(this,[g]);return p?(y.then(m,p),Promise.resolve()):y};t.setLocalDescription=h,h=function(g,m,p){var y=l.apply(this,[g]);return p?(y.then(m,p),Promise.resolve()):y},t.setRemoteDescription=h,h=function(g,m,p){var y=d.apply(this,[g]);return p?(y.then(m,p),Promise.resolve()):y},t.addIceCandidate=h}}function uE(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,s=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(a){return s(bp(a))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(a,l,d){t.mediaDevices.getUserMedia(a).then(l,d)}.bind(t))}function bp(e){return e&&e.video!==void 0?Object.assign({},e,{video:yp.compactObject(e.video)}):e}function cE(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(n,s){if(n&&n.iceServers){for(var a=[],l=0;l<n.iceServers.length;l++){var d=n.iceServers[l];d.urls===void 0&&d.url?(yp.deprecated("RTCIceServer.url","RTCIceServer.urls"),d=JSON.parse(JSON.stringify(d)),d.urls=d.url,delete d.url,a.push(d)):a.push(n.iceServers[l])}n.iceServers=a}return new t(n,s)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function dE(e){Vs(e)==="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function fE(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);var s=this.getTransceivers().find(function(l){return l.receiver.track.kind==="audio"});n.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):n.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);var a=this.getTransceivers().find(function(l){return l.receiver.track.kind==="video"});n.offerToReceiveVideo===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):n.offerToReceiveVideo===!0&&!a&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function hE(e){Vs(e)!=="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const gE=e=>{let t=!1,n;return(...s)=>(t||(n=e(s),t=!0),n)};function Pi(e,t){if(e===!1)throw new Error(t!=null?t:"assertion failure")}function w1(e){throw new Error("this code should be unreachable")}const mE=gE(()=>{const e=V3(window);switch(e.browser){case"chrome":K3(window,e);break;case"firefox":eE(window,e);break;case"safari":iE(window,e);break;default:throw new up}});let ca=Promise.resolve({type:"stop",data:{}});async function y1(e,t,n){var s,a,l;if(console.debug("[vue-qrcode-reader] starting camera with constraints: ",JSON.stringify(t)),window.isSecureContext!==!0)throw new P3;if(((s=navigator==null?void 0:navigator.mediaDevices)==null?void 0:s.getUserMedia)===void 0)throw new up;mE(),console.debug("[vue-qrcode-reader] calling getUserMedia");const d=await navigator.mediaDevices.getUserMedia({audio:!1,video:t});e.srcObject!==void 0?e.srcObject=d:e.mozSrcObject!==void 0?e.mozSrcObject=d:window.URL.createObjectURL?e.src=window.URL.createObjectURL(d):window.webkitURL?e.src=window.webkitURL.createObjectURL(d):e.src=d.id,e.play(),console.debug("[vue-qrcode-reader] waiting for video element to load"),await Promise.race([lp(e,"loadeddata"),m1(6e3).then(()=>{throw new L3})]),console.debug("[vue-qrcode-reader] video element loaded"),await m1(500);const[h]=d.getVideoTracks(),g=(l=(a=h==null?void 0:h.getCapabilities)==null?void 0:a.call(h))!=null?l:{};let m=!1;return n&&g.torch&&(await h.applyConstraints({advanced:[{torch:!0}]}),m=!0),console.debug("[vue-qrcode-reader] camera ready"),{type:"start",data:{videoEl:e,stream:d,capabilities:g,constraints:t,isTorchOn:m}}}async function vE(e,{constraints:t,torch:n,restart:s=!1}){ca=ca.then(l=>{if(l.type==="start"){const{data:{videoEl:d,stream:h,constraints:g,isTorchOn:m}}=l;return!s&&e===d&&t===g&&n===m?l:_p(d,h,m).then(()=>y1(e,t,n))}else if(l.type==="stop"||l.type==="failed")return y1(e,t,n);w1()}).catch(l=>(console.debug(`[vue-qrcode-reader] starting camera failed with "${l}"`),{type:"failed",error:l}));const a=await ca;if(a.type==="stop")throw new Error("Something went wrong with the camera task queue (start task).");if(a.type==="failed")throw a.error;if(a.type==="start")return a.data.capabilities;w1()}async function _p(e,t,n){console.debug("[vue-qrcode-reader] stopping camera"),e.src="",e.srcObject=null,e.load(),await lp(e,"error");for(const s of t.getTracks())n!=null||await s.applyConstraints({advanced:[{torch:!1}]}),t.removeTrack(s),s.stop();return{type:"stop",data:{}}}async function ru(){if(ca=ca.then(e=>{if(e.type==="stop"||e.type==="failed")return e;const{data:{videoEl:t,stream:n,isTorchOn:s}}=e;return _p(t,n,s)}),(await ca).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")}const pE=qs({__name:"QrcodeStream",props:{constraints:{default:()=>({facingMode:"environment"})},formats:{default:()=>["qr_code"]},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function,default:void 0}},emits:["detect","camera-on","camera-off","error"],setup(e,{emit:t}){const n=e,s=t,a=Fe(n.constraints),l=Fe(n.formats);St(()=>n.constraints,(N,A)=>{JSON.stringify(N)!==JSON.stringify(A)&&(a.value=N)},{deep:!0}),St(()=>n.formats,(N,A)=>{JSON.stringify(N)!==JSON.stringify(A)&&(l.value=N)},{deep:!0});const d=Fe(),h=Fe(),g=Fe(),m=Fe(!1),p=Fe(!1);gr(()=>{p.value=!0}),xa(()=>{ru()});const y=G(()=>({torch:n.torch,constraints:a.value,shouldStream:p.value&&!n.paused}));St(y,async N=>{const A=g.value;Pi(A!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus video element should always be defined.");const B=d.value;Pi(B!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus canvas should always be defined.");const Q=B.getContext("2d");if(Pi(Q!==null,"if cavnas is defined, canvas 2d context should also be non-null"),N.shouldStream){ru(),m.value=!1;try{const M=await vE(A,N);p.value?(m.value=!0,s("camera-on",M)):await ru()}catch(M){s("error",M)}}else B.width=A.videoWidth,B.height=A.videoHeight,Q.drawImage(A,0,0,A.videoWidth,A.videoHeight),ru(),m.value=!1,s("camera-off")},{deep:!0}),St(l,async N=>{p.value&&await dp(N)});const _=G(()=>y.value.shouldStream&&m.value);St(_,N=>{if(N){Pi(d.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus pause frame canvas is defined"),b(d.value),Pi(h.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus tracking canvas is defined"),b(h.value);const A=()=>n.track===void 0?500:40;Pi(g.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus video element is defined"),F3(g.value,{detectHandler:B=>s("detect",B),formats:l.value,locateHandler:T,minDelay:A()})}});const b=N=>{const A=N.getContext("2d");Pi(A!==null,"canvas 2d context should always be non-null"),A.clearRect(0,0,N.width,N.height)},T=N=>{const A=h.value;Pi(A!==void 0,"onLocate handler should only be called when component is mounted. Thus tracking canvas is always defined.");const B=g.value;if(Pi(B!==void 0,"onLocate handler should only be called when component is mounted. Thus video element is always defined."),N.length===0||n.track===void 0)b(A);else{const Q=B.offsetWidth,M=B.offsetHeight,ie=B.videoWidth,L=B.videoHeight,de=Math.max(Q/ie,M/L),pe=ie*de,$=L*de,be=pe/ie,ue=$/L,ee=(Q-pe)/2,Be=(M-$)/2,Se=({x:me,y:re})=>({x:Math.floor(me*be),y:Math.floor(re*ue)}),Re=({x:me,y:re})=>({x:Math.floor(me+ee),y:Math.floor(re+Be)}),et=N.map(me=>{const{boundingBox:re,cornerPoints:Ze}=me,{x:it,y:vt}=Re(Se({x:re.x,y:re.y})),{x:we,y:oe}=Se({x:re.width,y:re.height});return{...me,cornerPoints:Ze.map(Me=>Re(Se(Me))),boundingBox:DOMRectReadOnly.fromRect({x:it,y:vt,width:we,height:oe})}});A.width=B.offsetWidth,A.height=B.offsetHeight;const ut=A.getContext("2d");Pi(ut!==null,"canvas 2d context should always be non-null"),n.track(et,ut)}},k={width:"100%",height:"100%",position:"relative","z-index":"0"},q={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},K={width:"100%",height:"100%","object-fit":"cover"},Y=G(()=>_.value?K:{...K,visibility:"hidden",position:"absolute"});return(N,A)=>(Ie(),tt("div",{style:k},[ae("video",{ref_key:"videoRef",ref:g,style:Ls(Y.value),autoplay:"",muted:"",playsinline:""},null,4),bi(ae("canvas",{id:"qrcode-stream-pause-frame",ref_key:"pauseFrameRef",ref:d,style:K},null,512),[[P2,!_.value]]),ae("canvas",{id:"qrcode-stream-tracking-layer",ref_key:"trackingLayerRef",ref:h,style:q},null,512),ae("div",{style:q},[Vw(N.$slots,"default")])]))}});function wE(e,t){for(const n of e){const[s,...a]=n.cornerPoints;t.strokeStyle="red",t.beginPath(),t.moveTo(s.x,s.y);for(const{x:l,y:d}of a)t.lineTo(l,d);t.lineTo(s.x,s.y),t.closePath(),t.stroke()}}const yE={paintOutline:wE},xE={class:"flex items-center justify-center p-5"},bE={__name:"ScanQrComponent",props:["height","detectFunc","errorFunc","cameraOnFunc"],setup(e){const t=[{text:"outline",value:yE.paintOutline}],n=Fe(t[0]);return(s,a)=>(Ie(),tt("div",xE,[z(P(pE),{class:"full-width",style:Ls({height:`${e.height}px`}),track:n.value.value,onError:e.errorFunc,onDetect:e.detectFunc,onCameraOn:e.cameraOnFunc},null,8,["style","track","onError","onDetect","onCameraOn"]),a[0]||(a[0]=ae("div",{class:"text-center q-mt-lg text-bold text-grey-7"}," VUI L\xD2NG QU\xC9T M\xC3 QR CODE ",-1))]))}};var fr;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(fr||(fr={}));fr.QR_CODE,fr.AZTEC,fr.CODABAR,fr.CODE_39,fr.CODE_93,fr.CODE_128,fr.DATA_MATRIX,fr.MAXICODE,fr.ITF,fr.EAN_13,fr.EAN_8,fr.PDF_417,fr.RSS_14,fr.RSS_EXPANDED,fr.UPC_A,fr.UPC_E,fr.UPC_EAN_EXTENSION;var x1;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(x1||(x1={}));var Bu;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Bu||(Bu={}));var _E=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Bu.SCAN_TYPE_CAMERA,Bu.SCAN_TYPE_FILE],e}(),b1;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(b1||(b1={}));var _1={exports:{}};(function(e,t){(function(n,s){s(t)})(Ar,function(n){function s(I){return I==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,r){I.__proto__=r}||function(I,r){for(var i in r)r.hasOwnProperty(i)&&(I[i]=r[i])};function l(I,r){a(I,r);function i(){this.constructor=I}I.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}function d(I,r){var i=Object.setPrototypeOf;i?i(I,r):I.__proto__=r}function h(I,r){r===void 0&&(r=I.constructor);var i=Error.captureStackTrace;i&&i(I,r)}var g=function(I){l(r,I);function r(i){var o=this.constructor,u=I.call(this,i)||this;return Object.defineProperty(u,"name",{value:o.name,enumerable:!1}),d(u,o.prototype),h(u),u}return r}(Error);class m extends g{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}m.kind="Exception";class p extends m{}p.kind="ArgumentException";class y extends m{}y.kind="IllegalArgumentException";class _{constructor(r){if(this.binarizer=r,r===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,i){return this.binarizer.getBlackRow(r,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,i,o,u){const c=this.binarizer.getLuminanceSource().crop(r,i,o,u);return new _(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class b extends m{static getChecksumInstance(){return new b}}b.kind="ChecksumException";class T{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(r,i,o,u,c){for(;c--;)o[u++]=r[i++]}static currentTimeMillis(){return Date.now()}}class q extends m{}q.kind="IndexOutOfBoundsException";class K extends q{constructor(r=void 0,i=void 0){super(i),this.index=r,this.message=i}}K.kind="ArrayIndexOutOfBoundsException";class Y{static fill(r,i){for(let o=0,u=r.length;o<u;o++)r[o]=i}static fillWithin(r,i,o,u){Y.rangeCheck(r.length,i,o);for(let c=i;c<o;c++)r[c]=u}static rangeCheck(r,i,o){if(i>o)throw new y("fromIndex("+i+") > toIndex("+o+")");if(i<0)throw new K(i);if(o>r)throw new K(o)}static asList(...r){return r}static create(r,i,o){return Array.from({length:r}).map(c=>Array.from({length:i}).fill(o))}static createInt32Array(r,i,o){return Array.from({length:r}).map(c=>Int32Array.from({length:i}).fill(o))}static equals(r,i){if(!r||!i||!r.length||!i.length||r.length!==i.length)return!1;for(let o=0,u=r.length;o<u;o++)if(r[o]!==i[o])return!1;return!0}static hashCode(r){if(r===null)return 0;let i=1;for(const o of r)i=31*i+o;return i}static fillUint8Array(r,i){for(let o=0;o!==r.length;o++)r[o]=i}static copyOf(r,i){return r.slice(0,i)}static copyOfUint8Array(r,i){if(r.length<=i){const o=new Uint8Array(i);return o.set(r),o}return r.slice(0,i)}static copyOfRange(r,i,o){const u=o-i,c=new Int32Array(u);return k.arraycopy(r,i,c,0,u),c}static binarySearch(r,i,o){o===void 0&&(o=Y.numberComparator);let u=0,c=r.length-1;for(;u<=c;){const f=c+u>>1,v=o(i,r[f]);if(v>0)u=f+1;else if(v<0)c=f-1;else return f}return-u-1}static numberComparator(r,i){return r-i}}class N{static numberOfTrailingZeros(r){let i;if(r===0)return 32;let o=31;return i=r<<16,i!==0&&(o-=16,r=i),i=r<<8,i!==0&&(o-=8,r=i),i=r<<4,i!==0&&(o-=4,r=i),i=r<<2,i!==0&&(o-=2,r=i),o-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let i=1;return r>>>16===0&&(i+=16,r<<=16),r>>>24===0&&(i+=8,r<<=8),r>>>28===0&&(i+=4,r<<=4),r>>>30===0&&(i+=2,r<<=2),i-=r>>>31,i}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,i){return Math.trunc(r/i)}static parseInt(r,i=void 0){return parseInt(r,i)}}N.MIN_VALUE_32_BITS=-2147483648,N.MAX_VALUE=Number.MAX_SAFE_INTEGER;class A{constructor(r,i){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,i==null?this.bits=A.makeArray(r):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const i=A.makeArray(r);k.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const i=this.size;if(r>=i)return i;const o=this.bits;let u=Math.floor(r/32),c=o[u];c&=~((1<<(r&31))-1);const f=o.length;for(;c===0;){if(++u===f)return i;c=o[u]}const v=u*32+N.numberOfTrailingZeros(c);return v>i?i:v}getNextUnset(r){const i=this.size;if(r>=i)return i;const o=this.bits;let u=Math.floor(r/32),c=~o[u];c&=~((1<<(r&31))-1);const f=o.length;for(;c===0;){if(++u===f)return i;c=~o[u]}const v=u*32+N.numberOfTrailingZeros(c);return v>i?i:v}setBulk(r,i){this.bits[Math.floor(r/32)]=i}setRange(r,i){if(i<r||r<0||i>this.size)throw new y;if(i===r)return;i--;const o=Math.floor(r/32),u=Math.floor(i/32),c=this.bits;for(let f=o;f<=u;f++){const v=f>o?0:r&31,w=f<u?31:i&31,x=(2<<w)-(1<<v);c[f]|=x}}clear(){const r=this.bits.length,i=this.bits;for(let o=0;o<r;o++)i[o]=0}isRange(r,i,o){if(i<r||r<0||i>this.size)throw new y;if(i===r)return!0;i--;const u=Math.floor(r/32),c=Math.floor(i/32),f=this.bits;for(let v=u;v<=c;v++){const w=v>u?0:r&31,x=v<c?31:i&31,E=(2<<x)-(1<<w)&4294967295;if((f[v]&E)!==(o?E:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,i){if(i<0||i>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let o=i;o>0;o--)this.appendBit((r>>o-1&1)===1)}appendBitArray(r){const i=r.size;this.ensureCapacity(this.size+i);for(let o=0;o<i;o++)this.appendBit(r.get(o))}xor(r){if(this.size!==r.size)throw new y("Sizes don't match");const i=this.bits;for(let o=0,u=i.length;o<u;o++)i[o]^=r.bits[o]}toBytes(r,i,o,u){for(let c=0;c<u;c++){let f=0;for(let v=0;v<8;v++)this.get(r)&&(f|=1<<7-v),r++;i[o+c]=f}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),o=i+1,u=this.bits;for(let c=0;c<o;c++){let f=u[c];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,r[i-c]=f}if(this.size!==o*32){const c=o*32-this.size;let f=r[0]>>>c;for(let v=1;v<o;v++){const w=r[v];f|=w<<32-c,r[v-1]=f,f=w>>>c}r[o-1]=f}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof A))return!1;const i=r;return this.size===i.size&&Y.equals(this.bits,i.bits)}hashCode(){return 31*this.size+Y.hashCode(this.bits)}toString(){let r="";for(let i=0,o=this.size;i<o;i++)(i&7)===0&&(r+=" "),r+=this.get(i)?"X":".";return r}clone(){return new A(this.size,this.bits.slice())}}var B;(function(I){I[I.OTHER=0]="OTHER",I[I.PURE_BARCODE=1]="PURE_BARCODE",I[I.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",I[I.TRY_HARDER=3]="TRY_HARDER",I[I.CHARACTER_SET=4]="CHARACTER_SET",I[I.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",I[I.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",I[I.ASSUME_GS1=7]="ASSUME_GS1",I[I.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",I[I.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",I[I.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(B||(B={}));var Q=B;class M extends m{static getFormatInstance(){return new M}}M.kind="FormatException";var ie;(function(I){I[I.Cp437=0]="Cp437",I[I.ISO8859_1=1]="ISO8859_1",I[I.ISO8859_2=2]="ISO8859_2",I[I.ISO8859_3=3]="ISO8859_3",I[I.ISO8859_4=4]="ISO8859_4",I[I.ISO8859_5=5]="ISO8859_5",I[I.ISO8859_6=6]="ISO8859_6",I[I.ISO8859_7=7]="ISO8859_7",I[I.ISO8859_8=8]="ISO8859_8",I[I.ISO8859_9=9]="ISO8859_9",I[I.ISO8859_10=10]="ISO8859_10",I[I.ISO8859_11=11]="ISO8859_11",I[I.ISO8859_13=12]="ISO8859_13",I[I.ISO8859_14=13]="ISO8859_14",I[I.ISO8859_15=14]="ISO8859_15",I[I.ISO8859_16=15]="ISO8859_16",I[I.SJIS=16]="SJIS",I[I.Cp1250=17]="Cp1250",I[I.Cp1251=18]="Cp1251",I[I.Cp1252=19]="Cp1252",I[I.Cp1256=20]="Cp1256",I[I.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",I[I.UTF8=22]="UTF8",I[I.ASCII=23]="ASCII",I[I.Big5=24]="Big5",I[I.GB18030=25]="GB18030",I[I.EUC_KR=26]="EUC_KR"})(ie||(ie={}));class L{constructor(r,i,o,...u){this.valueIdentifier=r,this.name=o,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=u,L.VALUE_IDENTIFIER_TO_ECI.set(r,this),L.NAME_TO_ECI.set(o,this);const c=this.values;for(let f=0,v=c.length;f!==v;f++){const w=c[f];L.VALUES_TO_ECI.set(w,this)}for(const f of u)L.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new M("incorect value");const i=L.VALUES_TO_ECI.get(r);if(i===void 0)throw new M("incorect value");return i}static getCharacterSetECIByName(r){const i=L.NAME_TO_ECI.get(r);if(i===void 0)throw new M("incorect value");return i}equals(r){if(!(r instanceof L))return!1;const i=r;return this.getName()===i.getName()}}L.VALUE_IDENTIFIER_TO_ECI=new Map,L.VALUES_TO_ECI=new Map,L.NAME_TO_ECI=new Map,L.Cp437=new L(ie.Cp437,Int32Array.from([0,2]),"Cp437"),L.ISO8859_1=new L(ie.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),L.ISO8859_2=new L(ie.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),L.ISO8859_3=new L(ie.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),L.ISO8859_4=new L(ie.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),L.ISO8859_5=new L(ie.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),L.ISO8859_6=new L(ie.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),L.ISO8859_7=new L(ie.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),L.ISO8859_8=new L(ie.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),L.ISO8859_9=new L(ie.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),L.ISO8859_10=new L(ie.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),L.ISO8859_11=new L(ie.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),L.ISO8859_13=new L(ie.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),L.ISO8859_14=new L(ie.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),L.ISO8859_15=new L(ie.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),L.ISO8859_16=new L(ie.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),L.SJIS=new L(ie.SJIS,20,"SJIS","Shift_JIS"),L.Cp1250=new L(ie.Cp1250,21,"Cp1250","windows-1250"),L.Cp1251=new L(ie.Cp1251,22,"Cp1251","windows-1251"),L.Cp1252=new L(ie.Cp1252,23,"Cp1252","windows-1252"),L.Cp1256=new L(ie.Cp1256,24,"Cp1256","windows-1256"),L.UnicodeBigUnmarked=new L(ie.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),L.UTF8=new L(ie.UTF8,26,"UTF8","UTF-8"),L.ASCII=new L(ie.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),L.Big5=new L(ie.Big5,28,"Big5"),L.GB18030=new L(ie.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),L.EUC_KR=new L(ie.EUC_KR,30,"EUC_KR","EUC-KR");class de extends m{}de.kind="UnsupportedOperationException";class pe{static decode(r,i){const o=this.encodingName(i);return this.customDecoder?this.customDecoder(r,o):typeof TextDecoder=="undefined"||this.shouldDecodeOnFallback(o)?this.decodeFallback(r,o):new TextDecoder(o).decode(r)}static shouldDecodeOnFallback(r){return!pe.isBrowser()&&r==="ISO-8859-1"}static encode(r,i){const o=this.encodingName(i);return this.customEncoder?this.customEncoder(r,o):typeof TextEncoder=="undefined"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window!="undefined"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof L?r:L.getCharacterSetECIByName(r)}static decodeFallback(r,i){const o=this.encodingCharacterSet(i);if(pe.isDecodeFallbackSupported(o)){let u="";for(let c=0,f=r.length;c<f;c++){let v=r[c].toString(16);v.length<2&&(v="0"+v),u+="%"+v}return decodeURIComponent(u)}if(o.equals(L.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new de(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(L.UTF8)||r.equals(L.ISO8859_1)||r.equals(L.ASCII)}static encodeFallback(r){const o=btoa(unescape(encodeURIComponent(r))).split(""),u=[];for(let c=0;c<o.length;c++)u.push(o[c].charCodeAt(0));return new Uint8Array(u)}}class ${static castAsNonUtf8Char(r,i=null){const o=i?i.getName():this.ISO88591;return pe.decode(new Uint8Array([r]),o)}static guessEncoding(r,i){if(i!=null&&i.get(Q.CHARACTER_SET)!==void 0)return i.get(Q.CHARACTER_SET).toString();const o=r.length;let u=!0,c=!0,f=!0,v=0,w=0,x=0,E=0,O=0,R=0,j=0,J=0,te=0,fe=0,Ee=0;const je=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let Ge=0;Ge<o&&(u||c||f);Ge++){const $e=r[Ge]&255;f&&(v>0?($e&128)===0?f=!1:v--:($e&128)!==0&&(($e&64)===0?f=!1:(v++,($e&32)===0?w++:(v++,($e&16)===0?x++:(v++,($e&8)===0?E++:f=!1))))),u&&($e>127&&$e<160?u=!1:$e>159&&($e<192||$e===215||$e===247)&&Ee++),c&&(O>0?$e<64||$e===127||$e>252?c=!1:O--:$e===128||$e===160||$e>239?c=!1:$e>160&&$e<224?(R++,J=0,j++,j>te&&(te=j)):$e>127?(O++,j=0,J++,J>fe&&(fe=J)):(j=0,J=0))}return f&&v>0&&(f=!1),c&&O>0&&(c=!1),f&&(je||w+x+E>0)?$.UTF8:c&&($.ASSUME_SHIFT_JIS||te>=3||fe>=3)?$.SHIFT_JIS:u&&c?te===2&&R===2||Ee*10>=o?$.SHIFT_JIS:$.ISO88591:u?$.ISO88591:c?$.SHIFT_JIS:f?$.UTF8:$.PLATFORM_DEFAULT_ENCODING}static format(r,...i){let o=-1;function u(f,v,w,x,E,O){if(f==="%%")return"%";if(i[++o]===void 0)return;f=x?parseInt(x.substr(1)):void 0;let R=E?parseInt(E.substr(1)):void 0,j;switch(O){case"s":j=i[o];break;case"c":j=i[o][0];break;case"f":j=parseFloat(i[o]).toFixed(f);break;case"p":j=parseFloat(i[o]).toPrecision(f);break;case"e":j=parseFloat(i[o]).toExponential(f);break;case"x":j=parseInt(i[o]).toString(R||16);break;case"d":j=parseFloat(parseInt(i[o],R||10).toPrecision(f)).toFixed(0);break}j=typeof j=="object"?JSON.stringify(j):(+j).toString(R);let J=parseInt(w),te=w&&w[0]+""=="0"?"0":" ";for(;j.length<J;)j=v!==void 0?j+te:te+j;return j}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(c,u)}static getBytes(r,i){return pe.encode(r,i)}static getCharCode(r,i=0){return r.charCodeAt(i)}static getCharAt(r){return String.fromCharCode(r)}}$.SHIFT_JIS=L.SJIS.getName(),$.GB2312="GB2312",$.ISO88591=L.ISO8859_1.getName(),$.EUC_JP="EUC_JP",$.UTF8=L.UTF8.getName(),$.PLATFORM_DEFAULT_ENCODING=$.UTF8,$.ASSUME_SHIFT_JIS=!1;class be{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=$.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,i,o){for(let u=i;i<i+o;u++)this.append(r[u]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+1)}substring(r,i){return this.value.substring(r,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+i.length)}}class ue{constructor(r,i,o,u){if(this.width=r,this.height=i,this.rowSize=o,this.bits=u,i==null&&(i=r),this.height=i,r<1||i<1)throw new y("Both dimensions must be greater than 0");o==null&&(o=Math.floor((r+31)/32)),this.rowSize=o,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const i=r.length,o=r[0].length,u=new ue(o,i);for(let c=0;c<i;c++){const f=r[c];for(let v=0;v<o;v++)f[v]&&u.set(v,c)}return u}static parseFromString(r,i,o){if(r===null)throw new y("stringRepresentation cannot be null");const u=new Array(r.length);let c=0,f=0,v=-1,w=0,x=0;for(;x<r.length;)if(r.charAt(x)===`
`||r.charAt(x)==="\r"){if(c>f){if(v===-1)v=c-f;else if(c-f!==v)throw new y("row lengths do not match");f=c,w++}x++}else if(r.substring(x,x+i.length)===i)x+=i.length,u[c]=!0,c++;else if(r.substring(x,x+o.length)===o)x+=o.length,u[c]=!1,c++;else throw new y("illegal character encountered: "+r.substring(x));if(c>f){if(v===-1)v=c-f;else if(c-f!==v)throw new y("row lengths do not match");w++}const E=new ue(v,w);for(let O=0;O<c;O++)u[O]&&E.set(Math.floor(O%v),Math.floor(O/v));return E}get(r,i){const o=i*this.rowSize+Math.floor(r/32);return(this.bits[o]>>>(r&31)&1)!==0}set(r,i){const o=i*this.rowSize+Math.floor(r/32);this.bits[o]|=1<<(r&31)&4294967295}unset(r,i){const o=i*this.rowSize+Math.floor(r/32);this.bits[o]&=~(1<<(r&31)&4294967295)}flip(r,i){const o=i*this.rowSize+Math.floor(r/32);this.bits[o]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new y("input matrix dimensions do not match");const i=new A(Math.floor(this.width/32)+1),o=this.rowSize,u=this.bits;for(let c=0,f=this.height;c<f;c++){const v=c*o,w=r.getRow(c,i).getBitArray();for(let x=0;x<o;x++)u[v+x]^=w[x]}}clear(){const r=this.bits,i=r.length;for(let o=0;o<i;o++)r[o]=0}setRegion(r,i,o,u){if(i<0||r<0)throw new y("Left and top must be nonnegative");if(u<1||o<1)throw new y("Height and width must be at least 1");const c=r+o,f=i+u;if(f>this.height||c>this.width)throw new y("The region must fit inside the matrix");const v=this.rowSize,w=this.bits;for(let x=i;x<f;x++){const E=x*v;for(let O=r;O<c;O++)w[E+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(r,i){i==null||i.getSize()<this.width?i=new A(this.width):i.clear();const o=this.rowSize,u=this.bits,c=r*o;for(let f=0;f<o;f++)i.setBulk(f*32,u[c+f]);return i}setRow(r,i){k.arraycopy(i.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),i=this.getHeight();let o=new A(r),u=new A(r);for(let c=0,f=Math.floor((i+1)/2);c<f;c++)o=this.getRow(c,o),u=this.getRow(i-1-c,u),o.reverse(),u.reverse(),this.setRow(c,u),this.setRow(i-1-c,o)}getEnclosingRectangle(){const r=this.width,i=this.height,o=this.rowSize,u=this.bits;let c=r,f=i,v=-1,w=-1;for(let x=0;x<i;x++)for(let E=0;E<o;E++){const O=u[x*o+E];if(O!==0){if(x<f&&(f=x),x>w&&(w=x),E*32<c){let R=0;for(;(O<<31-R&4294967295)===0;)R++;E*32+R<c&&(c=E*32+R)}if(E*32+31>v){let R=31;for(;O>>>R===0;)R--;E*32+R>v&&(v=E*32+R)}}}return v<c||w<f?null:Int32Array.from([c,f,v-c+1,w-f+1])}getTopLeftOnBit(){const r=this.rowSize,i=this.bits;let o=0;for(;o<i.length&&i[o]===0;)o++;if(o===i.length)return null;const u=o/r;let c=o%r*32;const f=i[o];let v=0;for(;(f<<31-v&4294967295)===0;)v++;return c+=v,Int32Array.from([c,u])}getBottomRightOnBit(){const r=this.rowSize,i=this.bits;let o=i.length-1;for(;o>=0&&i[o]===0;)o--;if(o<0)return null;const u=Math.floor(o/r);let c=Math.floor(o%r)*32;const f=i[o];let v=31;for(;f>>>v===0;)v--;return c+=v,Int32Array.from([c,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof ue))return!1;const i=r;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&Y.equals(this.bits,i.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+Y.hashCode(this.bits),r}toString(r="X ",i="  ",o=`
`){return this.buildToString(r,i,o)}buildToString(r,i,o){let u=new be;for(let c=0,f=this.height;c<f;c++){for(let v=0,w=this.width;v<w;v++)u.append(this.get(v,c)?r:i);u.append(o)}return u.toString()}clone(){return new ue(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends m{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class Be extends T{constructor(r){super(r),this.luminances=Be.EMPTY,this.buckets=new Int32Array(Be.LUMINANCE_BUCKETS)}getBlackRow(r,i){const o=this.getLuminanceSource(),u=o.getWidth();i==null||i.getSize()<u?i=new A(u):i.clear(),this.initArrays(u);const c=o.getRow(r,this.luminances),f=this.buckets;for(let w=0;w<u;w++)f[(c[w]&255)>>Be.LUMINANCE_SHIFT]++;const v=Be.estimateBlackPoint(f);if(u<3)for(let w=0;w<u;w++)(c[w]&255)<v&&i.set(w);else{let w=c[0]&255,x=c[1]&255;for(let E=1;E<u-1;E++){const O=c[E+1]&255;(x*4-w-O)/2<v&&i.set(E),w=x,x=O}}return i}getBlackMatrix(){const r=this.getLuminanceSource(),i=r.getWidth(),o=r.getHeight(),u=new ue(i,o);this.initArrays(i);const c=this.buckets;for(let w=1;w<5;w++){const x=Math.floor(o*w/5),E=r.getRow(x,this.luminances),O=Math.floor(i*4/5);for(let R=Math.floor(i/5);R<O;R++){const j=E[R]&255;c[j>>Be.LUMINANCE_SHIFT]++}}const f=Be.estimateBlackPoint(c),v=r.getMatrix();for(let w=0;w<o;w++){const x=w*i;for(let E=0;E<i;E++)(v[x+E]&255)<f&&u.set(E,w)}return u}createBinarizer(r){return new Be(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const i=this.buckets;for(let o=0;o<Be.LUMINANCE_BUCKETS;o++)i[o]=0}static estimateBlackPoint(r){const i=r.length;let o=0,u=0,c=0;for(let E=0;E<i;E++)r[E]>c&&(u=E,c=r[E]),r[E]>o&&(o=r[E]);let f=0,v=0;for(let E=0;E<i;E++){const O=E-u,R=r[E]*O*O;R>v&&(f=E,v=R)}if(u>f){const E=u;u=f,f=E}if(f-u<=i/16)throw new ee;let w=f-1,x=-1;for(let E=f-1;E>u;E--){const O=E-u,R=O*O*(f-E)*(o-r[E]);R>x&&(w=E,x=R)}return w<<Be.LUMINANCE_SHIFT}}Be.LUMINANCE_BITS=5,Be.LUMINANCE_SHIFT=8-Be.LUMINANCE_BITS,Be.LUMINANCE_BUCKETS=1<<Be.LUMINANCE_BITS,Be.EMPTY=Uint8ClampedArray.from([0]);class Se extends Be{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),i=r.getWidth(),o=r.getHeight();if(i>=Se.MINIMUM_DIMENSION&&o>=Se.MINIMUM_DIMENSION){const u=r.getMatrix();let c=i>>Se.BLOCK_SIZE_POWER;(i&Se.BLOCK_SIZE_MASK)!==0&&c++;let f=o>>Se.BLOCK_SIZE_POWER;(o&Se.BLOCK_SIZE_MASK)!==0&&f++;const v=Se.calculateBlackPoints(u,c,f,i,o),w=new ue(i,o);Se.calculateThresholdForBlock(u,c,f,i,o,v,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new Se(r)}static calculateThresholdForBlock(r,i,o,u,c,f,v){const w=c-Se.BLOCK_SIZE,x=u-Se.BLOCK_SIZE;for(let E=0;E<o;E++){let O=E<<Se.BLOCK_SIZE_POWER;O>w&&(O=w);const R=Se.cap(E,2,o-3);for(let j=0;j<i;j++){let J=j<<Se.BLOCK_SIZE_POWER;J>x&&(J=x);const te=Se.cap(j,2,i-3);let fe=0;for(let je=-2;je<=2;je++){const Ge=f[R+je];fe+=Ge[te-2]+Ge[te-1]+Ge[te]+Ge[te+1]+Ge[te+2]}const Ee=fe/25;Se.thresholdBlock(r,J,O,Ee,u,v)}}}static cap(r,i,o){return r<i?i:r>o?o:r}static thresholdBlock(r,i,o,u,c,f){for(let v=0,w=o*c+i;v<Se.BLOCK_SIZE;v++,w+=c)for(let x=0;x<Se.BLOCK_SIZE;x++)(r[w+x]&255)<=u&&f.set(i+x,o+v)}static calculateBlackPoints(r,i,o,u,c){const f=c-Se.BLOCK_SIZE,v=u-Se.BLOCK_SIZE,w=new Array(o);for(let x=0;x<o;x++){w[x]=new Int32Array(i);let E=x<<Se.BLOCK_SIZE_POWER;E>f&&(E=f);for(let O=0;O<i;O++){let R=O<<Se.BLOCK_SIZE_POWER;R>v&&(R=v);let j=0,J=255,te=0;for(let Ee=0,je=E*u+R;Ee<Se.BLOCK_SIZE;Ee++,je+=u){for(let Ge=0;Ge<Se.BLOCK_SIZE;Ge++){const $e=r[je+Ge]&255;j+=$e,$e<J&&(J=$e),$e>te&&(te=$e)}if(te-J>Se.MIN_DYNAMIC_RANGE)for(Ee++,je+=u;Ee<Se.BLOCK_SIZE;Ee++,je+=u)for(let Ge=0;Ge<Se.BLOCK_SIZE;Ge++)j+=r[je+Ge]&255}let fe=j>>Se.BLOCK_SIZE_POWER*2;if(te-J<=Se.MIN_DYNAMIC_RANGE&&(fe=J/2,x>0&&O>0)){const Ee=(w[x-1][O]+2*w[x][O-1]+w[x-1][O-1])/4;J<Ee&&(fe=Ee)}w[x][O]=fe}}return w}}Se.BLOCK_SIZE_POWER=3,Se.BLOCK_SIZE=1<<Se.BLOCK_SIZE_POWER,Se.BLOCK_SIZE_MASK=Se.BLOCK_SIZE-1,Se.MINIMUM_DIMENSION=Se.BLOCK_SIZE*5,Se.MIN_DYNAMIC_RANGE=24;class Re{constructor(r,i){this.width=r,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,i,o,u){throw new de("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new de("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new de("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let i=new be;for(let o=0;o<this.height;o++){const u=this.getRow(o,r);for(let c=0;c<this.width;c++){const f=u[c]&255;let v;f<64?v="#":f<128?v="+":f<192?v=".":v=" ",i.append(v)}i.append(`
`)}return i.toString()}}class et extends Re{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,i){const o=this.delegate.getRow(r,i),u=this.getWidth();for(let c=0;c<u;c++)o[c]=255-(o[c]&255);return o}getMatrix(){const r=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(i);for(let u=0;u<i;u++)o[u]=255-(r[u]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(r,i,o,u){return new et(this.delegate.crop(r,i,o,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new et(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new et(this.delegate.rotateCounterClockwise45())}}class ut extends Re{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=ut.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const i=r.getContext("2d").getImageData(0,0,r.width,r.height);return ut.toGrayscaleBuffer(i.data,r.width,r.height)}static toGrayscaleBuffer(r,i,o){const u=new Uint8ClampedArray(i*o);for(let c=0,f=0,v=r.length;c<v;c+=4,f++){let w;if(r[c+3]===0)w=255;else{const E=r[c],O=r[c+1],R=r[c+2];w=306*E+601*O+117*R+512>>10}u[f]=w}return u}getRow(r,i){if(r<0||r>=this.getHeight())throw new y("Requested row is outside the image: "+r);const o=this.getWidth(),u=r*o;return i===null?i=this.buffer.slice(u,u+o):(i.length<o&&(i=new Uint8ClampedArray(o)),i.set(this.buffer.slice(u,u+o))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,i,o,u){return super.crop(r,i,o,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const i=this.getTempCanvasElement(),o=i.getContext("2d"),u=r*ut.DEGREE_TO_RADIANS,c=this.canvas.width,f=this.canvas.height,v=Math.ceil(Math.abs(Math.cos(u))*c+Math.abs(Math.sin(u))*f),w=Math.ceil(Math.abs(Math.sin(u))*c+Math.abs(Math.cos(u))*f);return i.width=v,i.height=w,o.translate(v/2,w/2),o.rotate(u),o.drawImage(this.canvas,c/-2,f/-2),this.buffer=ut.makeBufferFromCanvasImageData(i),this}invert(){return new et(this)}}ut.DEGREE_TO_RADIANS=Math.PI/180;class me{constructor(r,i,o){this.deviceId=r,this.label=i,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var re=(globalThis||Ar||self||window||void 0)&&(globalThis||Ar||self||window||void 0).__awaiter||function(I,r,i,o){function u(c){return c instanceof i?c:new i(function(f){f(c)})}return new(i||(i=Promise))(function(c,f){function v(E){try{x(o.next(E))}catch(O){f(O)}}function w(E){try{x(o.throw(E))}catch(O){f(O)}}function x(E){E.done?c(E.value):u(E.value).then(v,w)}x((o=o.apply(I,r||[])).next())})};class Ze{constructor(r,i=500,o){this.reader=r,this.timeBetweenScansMillis=i,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator!="undefined"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return re(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const o of r){const u=o.kind==="video"?"videoinput":o.kind;if(u!=="videoinput")continue;const c=o.deviceId||o.id,f=o.label||`Video device ${i.length+1}`,v=o.groupId,w={deviceId:c,label:f,kind:u,groupId:v};i.push(w)}return i})}getVideoInputDevices(){return re(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new me(i.deviceId,i.label))})}findDeviceById(r){return re(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(o=>o.deviceId===r):null})}decodeFromInputVideoDevice(r,i){return re(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,i)})}decodeOnceFromVideoDevice(r,i){return re(this,void 0,void 0,function*(){this.reset();let o;r?o={deviceId:{exact:r}}:o={facingMode:"environment"};const u={video:o};return yield this.decodeOnceFromConstraints(u,i)})}decodeOnceFromConstraints(r,i){return re(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(o,i)})}decodeOnceFromStream(r,i){return re(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(r,i);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(r,i,o){return re(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,i,o)})}decodeFromVideoDevice(r,i,o){return re(this,void 0,void 0,function*(){let u;r?u={deviceId:{exact:r}}:u={facingMode:"environment"};const c={video:u};return yield this.decodeFromConstraints(c,i,o)})}decodeFromConstraints(r,i,o){return re(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(u,i,o)})}decodeFromStream(r,i,o){return re(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(r,i);return yield this.decodeContinuously(u,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,i){return re(this,void 0,void 0,function*(){const o=this.prepareVideoElement(i);return this.addVideoSource(o,r),this.videoElement=o,this.stream=r,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(r){return new Promise((i,o)=>this.playVideoOnLoad(r,()=>i()))}playVideoOnLoad(r,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",i),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return re(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,i){const o=document.getElementById(r);if(!o)throw new p(`element with id '${r}' not found`);if(o.nodeName.toLowerCase()!==i.toLowerCase())throw new p(`element with id '${r}' must be an ${i} element`);return o}decodeFromImage(r,i){if(!r&&!i)throw new p("either imageElement with a src set or an url must be provided");return i&&!r?this.decodeFromImageUrl(i):this.decodeFromImageElement(r)}decodeFromVideo(r,i){if(!r&&!i)throw new p("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,i,o){if(r===void 0&&i===void 0)throw new p("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrlContinuously(i,o):this.decodeFromVideoElementContinuously(r,o)}decodeFromImageElement(r){if(!r)throw new p("An image element must be provided.");this.reset();const i=this.prepareImageElement(r);this.imageElement=i;let o;return this.isImageLoaded(i)?o=this.decodeOnce(i,!1,!0):o=this._decodeOnLoadImage(i),o}decodeFromVideoElement(r){const i=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(r,i){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(o,i)}_decodeFromVideoElementSetup(r){if(!r)throw new p("A video element must be provided.");this.reset();const i=this.prepareVideoElement(r);return this.videoElement=i,i}decodeFromImageUrl(r){if(!r)throw new p("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const o=this._decodeOnLoadImage(i);return i.src=r,o}decodeFromVideoUrl(r){if(!r)throw new p("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElement(i);return i.src=r,o}decodeFromVideoUrlContinuously(r,i){if(!r)throw new p("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(o,i);return o.src=r,u}_decodeOnLoadImage(r){return new Promise((i,o)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(i,o),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return re(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,i){return re(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,i)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let i;return typeof r=="undefined"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(i=r),i}prepareVideoElement(r){let i;return!r&&typeof document!="undefined"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(i=r),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(r,i=!0,o=!0){this._stopAsyncDecode=!1;const u=(c,f)=>{if(this._stopAsyncDecode){f(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const v=this.decode(r);c(v)}catch(v){const w=i&&v instanceof ee,E=(v instanceof b||v instanceof M)&&o;if(w||E)return setTimeout(u,this._timeBetweenDecodingAttempts,c,f);f(v)}};return new Promise((c,f)=>u(c,f))}decodeContinuously(r,i){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(r);i(u,null),setTimeout(o,this.timeBetweenScansMillis)}catch(u){i(null,u);const c=u instanceof b||u instanceof M,f=u instanceof ee;(c||f)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(r){const i=this.createBinaryBitmap(r);return this.decodeBitmap(i)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,i,o){i||(i={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(r,i,o=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const i=this.getCaptureCanvas(r),o=new ut(i),u=new Se(o);return new _(u)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const i=this.createCaptureCanvas(r);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document=="undefined")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let o,u;return typeof r!="undefined"&&(r instanceof HTMLVideoElement?(o=r.videoWidth,u=r.videoHeight):r instanceof HTMLImageElement&&(o=r.naturalWidth||r.width,u=r.naturalHeight||r.height)),i.style.width=o+"px",i.style.height=u+"px",i.width=o,i.height=u,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){!this.videoElement||(typeof this.videoEndedListener!="undefined"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener!="undefined"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener!="undefined"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){!this.imageElement||(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,i){try{r.srcObject=i}catch{r.src=URL.createObjectURL(i)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class it{constructor(r,i,o=i==null?0:8*i.length,u,c,f=k.currentTimeMillis()){this.text=r,this.rawBytes=i,this.numBits=o,this.resultPoints=u,this.format=c,this.timestamp=f,this.text=r,this.rawBytes=i,o==null?this.numBits=i==null?0:8*i.length:this.numBits=o,this.resultPoints=u,this.format=c,this.resultMetadata=null,f==null?this.timestamp=k.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,i)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const i=this.resultPoints;if(i===null)this.resultPoints=r;else if(r!==null&&r.length>0){const o=new Array(i.length+r.length);k.arraycopy(i,0,o,0,i.length),k.arraycopy(r,0,o,i.length,r.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var vt;(function(I){I[I.AZTEC=0]="AZTEC",I[I.CODABAR=1]="CODABAR",I[I.CODE_39=2]="CODE_39",I[I.CODE_93=3]="CODE_93",I[I.CODE_128=4]="CODE_128",I[I.DATA_MATRIX=5]="DATA_MATRIX",I[I.EAN_8=6]="EAN_8",I[I.EAN_13=7]="EAN_13",I[I.ITF=8]="ITF",I[I.MAXICODE=9]="MAXICODE",I[I.PDF_417=10]="PDF_417",I[I.QR_CODE=11]="QR_CODE",I[I.RSS_14=12]="RSS_14",I[I.RSS_EXPANDED=13]="RSS_EXPANDED",I[I.UPC_A=14]="UPC_A",I[I.UPC_E=15]="UPC_E",I[I.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(vt||(vt={}));var we=vt,oe;(function(I){I[I.OTHER=0]="OTHER",I[I.ORIENTATION=1]="ORIENTATION",I[I.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",I[I.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",I[I.ISSUE_NUMBER=4]="ISSUE_NUMBER",I[I.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",I[I.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",I[I.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",I[I.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",I[I.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",I[I.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(oe||(oe={}));var Me=oe;class he{constructor(r,i,o,u,c=-1,f=-1){this.rawBytes=r,this.text=i,this.byteSegments=o,this.ecLevel=u,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=f,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ye{exp(r){return this.expTable[r]}log(r){if(r===0)throw new y;return this.logTable[r]}static addOrSubtract(r,i){return r^i}}class nt{constructor(r,i){if(i.length===0)throw new y;this.field=r;const o=i.length;if(o>1&&i[0]===0){let u=1;for(;u<o&&i[u]===0;)u++;u===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-u),k.arraycopy(i,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const i=this.coefficients;let o;if(r===1){o=0;for(let f=0,v=i.length;f!==v;f++){const w=i[f];o=Ye.addOrSubtract(o,w)}return o}o=i[0];const u=i.length,c=this.field;for(let f=1;f<u;f++)o=Ye.addOrSubtract(c.multiply(r,o),i[f]);return o}addOrSubtract(r){if(!this.field.equals(r.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,o=r.coefficients;if(i.length>o.length){const f=i;i=o,o=f}let u=new Int32Array(o.length);const c=o.length-i.length;k.arraycopy(o,0,u,0,c);for(let f=c;f<o.length;f++)u[f]=Ye.addOrSubtract(i[f-c],o[f]);return new nt(this.field,u)}multiply(r){if(!this.field.equals(r.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const i=this.coefficients,o=i.length,u=r.coefficients,c=u.length,f=new Int32Array(o+c-1),v=this.field;for(let w=0;w<o;w++){const x=i[w];for(let E=0;E<c;E++)f[w+E]=Ye.addOrSubtract(f[w+E],v.multiply(x,u[E]))}return new nt(v,f)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const i=this.coefficients.length,o=this.field,u=new Int32Array(i),c=this.coefficients;for(let f=0;f<i;f++)u[f]=o.multiply(c[f],r);return new nt(o,u)}multiplyByMonomial(r,i){if(r<0)throw new y;if(i===0)return this.field.getZero();const o=this.coefficients,u=o.length,c=new Int32Array(u+r),f=this.field;for(let v=0;v<u;v++)c[v]=f.multiply(o[v],i);return new nt(f,c)}divide(r){if(!this.field.equals(r.field))throw new y("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new y("Divide by 0");const i=this.field;let o=i.getZero(),u=this;const c=r.getCoefficient(r.getDegree()),f=i.inverse(c);for(;u.getDegree()>=r.getDegree()&&!u.isZero();){const v=u.getDegree()-r.getDegree(),w=i.multiply(u.getCoefficient(u.getDegree()),f),x=r.multiplyByMonomial(v,w),E=i.buildMonomial(v,w);o=o.addOrSubtract(E),u=u.addOrSubtract(x)}return[o,u]}toString(){let r="";for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);if(o!==0){if(o<0?(r+=" - ",o=-o):r.length>0&&(r+=" + "),i===0||o!==1){const u=this.field.log(o);u===0?r+="1":u===1?r+="a":(r+="a^",r+=u)}i!==0&&(i===1?r+="x":(r+="x^",r+=i))}}return r}}class pt extends m{}pt.kind="ArithmeticException";class F extends Ye{constructor(r,i,o){super(),this.primitive=r,this.size=i,this.generatorBase=o;const u=new Int32Array(i);let c=1;for(let v=0;v<i;v++)u[v]=c,c*=2,c>=i&&(c^=r,c&=i-1);this.expTable=u;const f=new Int32Array(i);for(let v=0;v<i-1;v++)f[u[v]]=v;this.logTable=f,this.zero=new nt(this,Int32Array.from([0])),this.one=new nt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new y;if(i===0)return this.zero;const o=new Int32Array(r+1);return o[0]=i,new nt(this,o)}inverse(r){if(r===0)throw new pt;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+N.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}F.AZTEC_DATA_12=new F(4201,4096,1),F.AZTEC_DATA_10=new F(1033,1024,1),F.AZTEC_DATA_6=new F(67,64,1),F.AZTEC_PARAM=new F(19,16,1),F.QR_CODE_FIELD_256=new F(285,256,0),F.DATA_MATRIX_FIELD_256=new F(301,256,1),F.AZTEC_DATA_8=F.DATA_MATRIX_FIELD_256,F.MAXICODE_FIELD_64=F.AZTEC_DATA_6;class X extends m{}X.kind="ReedSolomonException";class ce extends m{}ce.kind="IllegalStateException";class Ne{constructor(r){this.field=r}decode(r,i){const o=this.field,u=new nt(o,r),c=new Int32Array(i);let f=!0;for(let j=0;j<i;j++){const J=u.evaluateAt(o.exp(j+o.getGeneratorBase()));c[c.length-1-j]=J,J!==0&&(f=!1)}if(f)return;const v=new nt(o,c),w=this.runEuclideanAlgorithm(o.buildMonomial(i,1),v,i),x=w[0],E=w[1],O=this.findErrorLocations(x),R=this.findErrorMagnitudes(E,O);for(let j=0;j<O.length;j++){const J=r.length-1-o.log(O[j]);if(J<0)throw new X("Bad error location");r[J]=F.addOrSubtract(r[J],R[j])}}runEuclideanAlgorithm(r,i,o){if(r.getDegree()<i.getDegree()){const j=r;r=i,i=j}const u=this.field;let c=r,f=i,v=u.getZero(),w=u.getOne();for(;f.getDegree()>=(o/2|0);){let j=c,J=v;if(c=f,v=w,c.isZero())throw new X("r_{i-1} was zero");f=j;let te=u.getZero();const fe=c.getCoefficient(c.getDegree()),Ee=u.inverse(fe);for(;f.getDegree()>=c.getDegree()&&!f.isZero();){const je=f.getDegree()-c.getDegree(),Ge=u.multiply(f.getCoefficient(f.getDegree()),Ee);te=te.addOrSubtract(u.buildMonomial(je,Ge)),f=f.addOrSubtract(c.multiplyByMonomial(je,Ge))}if(w=te.multiply(v).addOrSubtract(J),f.getDegree()>=c.getDegree())throw new ce("Division algorithm failed to reduce polynomial?")}const x=w.getCoefficient(0);if(x===0)throw new X("sigmaTilde(0) was zero");const E=u.inverse(x),O=w.multiplyScalar(E),R=f.multiplyScalar(E);return[O,R]}findErrorLocations(r){const i=r.getDegree();if(i===1)return Int32Array.from([r.getCoefficient(1)]);const o=new Int32Array(i);let u=0;const c=this.field;for(let f=1;f<c.getSize()&&u<i;f++)r.evaluateAt(f)===0&&(o[u]=c.inverse(f),u++);if(u!==i)throw new X("Error locator degree does not match number of roots");return o}findErrorMagnitudes(r,i){const o=i.length,u=new Int32Array(o),c=this.field;for(let f=0;f<o;f++){const v=c.inverse(i[f]);let w=1;for(let x=0;x<o;x++)if(f!==x){const E=c.multiply(i[x],v),O=(E&1)===0?E|1:E&-2;w=c.multiply(w,O)}u[f]=c.multiply(r.evaluateAt(v),c.inverse(w)),c.getGeneratorBase()!==0&&(u[f]=c.multiply(u[f],v))}return u}}var xe;(function(I){I[I.UPPER=0]="UPPER",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.DIGIT=3]="DIGIT",I[I.PUNCT=4]="PUNCT",I[I.BINARY=5]="BINARY"})(xe||(xe={}));class ke{decode(r){this.ddata=r;let i=r.getBits(),o=this.extractBits(i),u=this.correctBits(o),c=ke.convertBoolArrayToByteArray(u),f=ke.getEncodedData(u),v=new he(c,f,null,null);return v.setNumBits(u.length),v}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let i=r.length,o=xe.UPPER,u=xe.UPPER,c="",f=0;for(;f<i;)if(u===xe.BINARY){if(i-f<5)break;let v=ke.readCode(r,f,5);if(f+=5,v===0){if(i-f<11)break;v=ke.readCode(r,f,11)+31,f+=11}for(let w=0;w<v;w++){if(i-f<8){f=i;break}const x=ke.readCode(r,f,8);c+=$.castAsNonUtf8Char(x),f+=8}u=o}else{let v=u===xe.DIGIT?4:5;if(i-f<v)break;let w=ke.readCode(r,f,v);f+=v;let x=ke.getCharacter(u,w);x.startsWith("CTRL_")?(o=u,u=ke.getTable(x.charAt(5)),x.charAt(6)==="L"&&(o=u)):(c+=x,u=o)}return c}static getTable(r){switch(r){case"L":return xe.LOWER;case"P":return xe.PUNCT;case"M":return xe.MIXED;case"D":return xe.DIGIT;case"B":return xe.BINARY;case"U":default:return xe.UPPER}}static getCharacter(r,i){switch(r){case xe.UPPER:return ke.UPPER_TABLE[i];case xe.LOWER:return ke.LOWER_TABLE[i];case xe.MIXED:return ke.MIXED_TABLE[i];case xe.PUNCT:return ke.PUNCT_TABLE[i];case xe.DIGIT:return ke.DIGIT_TABLE[i];default:throw new ce("Bad table")}}correctBits(r){let i,o;this.ddata.getNbLayers()<=2?(o=6,i=F.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,i=F.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,i=F.AZTEC_DATA_10):(o=12,i=F.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),c=r.length/o;if(c<u)throw new M;let f=r.length%o,v=new Int32Array(c);for(let R=0;R<c;R++,f+=o)v[R]=ke.readCode(r,f,o);try{new Ne(i).decode(v,c-u)}catch(R){throw new M(R)}let w=(1<<o)-1,x=0;for(let R=0;R<u;R++){let j=v[R];if(j===0||j===w)throw new M;(j===1||j===w-1)&&x++}let E=new Array(u*o-x),O=0;for(let R=0;R<u;R++){let j=v[R];if(j===1||j===w-1)E.fill(j>1,O,O+o-1),O+=o-1;else for(let J=o-1;J>=0;--J)E[O++]=(j&1<<J)!==0}return E}extractBits(r){let i=this.ddata.isCompact(),o=this.ddata.getNbLayers(),u=(i?11:14)+o*4,c=new Int32Array(u),f=new Array(this.totalBitsInLayer(o,i));if(i)for(let v=0;v<c.length;v++)c[v]=v;else{let v=u+1+2*N.truncDivision(N.truncDivision(u,2)-1,15),w=u/2,x=N.truncDivision(v,2);for(let E=0;E<w;E++){let O=E+N.truncDivision(E,15);c[w-E-1]=x-O-1,c[w+E]=x+O+1}}for(let v=0,w=0;v<o;v++){let x=(o-v)*4+(i?9:12),E=v*2,O=u-1-E;for(let R=0;R<x;R++){let j=R*2;for(let J=0;J<2;J++)f[w+j+J]=r.get(c[E+J],c[E+R]),f[w+2*x+j+J]=r.get(c[E+R],c[O-J]),f[w+4*x+j+J]=r.get(c[O-J],c[O-R]),f[w+6*x+j+J]=r.get(c[O-R],c[E+J])}w+=x*8}return f}static readCode(r,i,o){let u=0;for(let c=i;c<i+o;c++)u<<=1,r[c]&&(u|=1);return u}static readByte(r,i){let o=r.length-i;return o>=8?ke.readCode(r,i,8):ke.readCode(r,i,o)<<8-o}static convertBoolArrayToByteArray(r){let i=new Uint8Array((r.length+7)/8);for(let o=0;o<i.length;o++)i[o]=ke.readByte(r,8*o);return i}totalBitsInLayer(r,i){return((i?88:112)+16*r)*r}}ke.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ke.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ke.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ke.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ke.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Pe{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,i,o,u){const c=r-o,f=i-u;return Math.sqrt(c*c+f*f)}static sum(r){let i=0;for(let o=0,u=r.length;o!==u;o++)i+=r[o];return i}}class He{static floatToIntBits(r){return r}}He.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ye{constructor(r,i){this.x=r,this.y=i}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof ye){const i=r;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*He.floatToIntBits(this.x)+He.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const i=this.distance(r[0],r[1]),o=this.distance(r[1],r[2]),u=this.distance(r[0],r[2]);let c,f,v;if(o>=i&&o>=u?(f=r[0],c=r[1],v=r[2]):u>=o&&u>=i?(f=r[1],c=r[0],v=r[2]):(f=r[2],c=r[0],v=r[1]),this.crossProductZ(c,f,v)<0){const w=c;c=v,v=w}r[0]=c,r[1]=f,r[2]=v}static distance(r,i){return Pe.distance(r.x,r.y,i.x,i.y)}static crossProductZ(r,i,o){const u=i.x,c=i.y;return(o.x-u)*(r.y-c)-(o.y-c)*(r.x-u)}}class Le{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class dt extends Le{constructor(r,i,o,u,c){super(r,i),this.compact=o,this.nbDatablocks=u,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Xe{constructor(r,i,o,u){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),i==null&&(i=Xe.INIT_SIZE),o==null&&(o=r.getWidth()/2|0),u==null&&(u=r.getHeight()/2|0);const c=i/2|0;if(this.leftInit=o-c,this.rightInit=o+c,this.upInit=u-c,this.downInit=u+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let r=this.leftInit,i=this.rightInit,o=this.upInit,u=this.downInit,c=!1,f=!0,v=!1,w=!1,x=!1,E=!1,O=!1;const R=this.width,j=this.height;for(;f;){f=!1;let J=!0;for(;(J||!w)&&i<R;)J=this.containsBlackPoint(o,u,i,!1),J?(i++,f=!0,w=!0):w||i++;if(i>=R){c=!0;break}let te=!0;for(;(te||!x)&&u<j;)te=this.containsBlackPoint(r,i,u,!0),te?(u++,f=!0,x=!0):x||u++;if(u>=j){c=!0;break}let fe=!0;for(;(fe||!E)&&r>=0;)fe=this.containsBlackPoint(o,u,r,!1),fe?(r--,f=!0,E=!0):E||r--;if(r<0){c=!0;break}let Ee=!0;for(;(Ee||!O)&&o>=0;)Ee=this.containsBlackPoint(r,i,o,!0),Ee?(o--,f=!0,O=!0):O||o--;if(o<0){c=!0;break}f&&(v=!0)}if(!c&&v){const J=i-r;let te=null;for(let Ge=1;te===null&&Ge<J;Ge++)te=this.getBlackPointOnSegment(r,u-Ge,r+Ge,u);if(te==null)throw new ee;let fe=null;for(let Ge=1;fe===null&&Ge<J;Ge++)fe=this.getBlackPointOnSegment(r,o+Ge,r+Ge,o);if(fe==null)throw new ee;let Ee=null;for(let Ge=1;Ee===null&&Ge<J;Ge++)Ee=this.getBlackPointOnSegment(i,o+Ge,i-Ge,o);if(Ee==null)throw new ee;let je=null;for(let Ge=1;je===null&&Ge<J;Ge++)je=this.getBlackPointOnSegment(i,u-Ge,i-Ge,u);if(je==null)throw new ee;return this.centerEdges(je,te,Ee,fe)}else throw new ee}getBlackPointOnSegment(r,i,o,u){const c=Pe.round(Pe.distance(r,i,o,u)),f=(o-r)/c,v=(u-i)/c,w=this.image;for(let x=0;x<c;x++){const E=Pe.round(r+x*f),O=Pe.round(i+x*v);if(w.get(E,O))return new ye(E,O)}return null}centerEdges(r,i,o,u){const c=r.getX(),f=r.getY(),v=i.getX(),w=i.getY(),x=o.getX(),E=o.getY(),O=u.getX(),R=u.getY(),j=Xe.CORR;return c<this.width/2?[new ye(O-j,R+j),new ye(v+j,w+j),new ye(x-j,E-j),new ye(c+j,f-j)]:[new ye(O+j,R+j),new ye(v+j,w-j),new ye(x-j,E+j),new ye(c-j,f-j)]}containsBlackPoint(r,i,o,u){const c=this.image;if(u){for(let f=r;f<=i;f++)if(c.get(f,o))return!0}else for(let f=r;f<=i;f++)if(c.get(o,f))return!0;return!1}}Xe.INIT_SIZE=10,Xe.CORR=1;class ct{static checkAndNudgePoints(r,i){const o=r.getWidth(),u=r.getHeight();let c=!0;for(let f=0;f<i.length&&c;f+=2){const v=Math.floor(i[f]),w=Math.floor(i[f+1]);if(v<-1||v>o||w<-1||w>u)throw new ee;c=!1,v===-1?(i[f]=0,c=!0):v===o&&(i[f]=o-1,c=!0),w===-1?(i[f+1]=0,c=!0):w===u&&(i[f+1]=u-1,c=!0)}c=!0;for(let f=i.length-2;f>=0&&c;f-=2){const v=Math.floor(i[f]),w=Math.floor(i[f+1]);if(v<-1||v>o||w<-1||w>u)throw new ee;c=!1,v===-1?(i[f]=0,c=!0):v===o&&(i[f]=o-1,c=!0),w===-1?(i[f+1]=0,c=!0):w===u&&(i[f+1]=u-1,c=!0)}}}class ot{constructor(r,i,o,u,c,f,v,w,x){this.a11=r,this.a21=i,this.a31=o,this.a12=u,this.a22=c,this.a32=f,this.a13=v,this.a23=w,this.a33=x}static quadrilateralToQuadrilateral(r,i,o,u,c,f,v,w,x,E,O,R,j,J,te,fe){const Ee=ot.quadrilateralToSquare(r,i,o,u,c,f,v,w);return ot.squareToQuadrilateral(x,E,O,R,j,J,te,fe).times(Ee)}transformPoints(r){const i=r.length,o=this.a11,u=this.a12,c=this.a13,f=this.a21,v=this.a22,w=this.a23,x=this.a31,E=this.a32,O=this.a33;for(let R=0;R<i;R+=2){const j=r[R],J=r[R+1],te=c*j+w*J+O;r[R]=(o*j+f*J+x)/te,r[R+1]=(u*j+v*J+E)/te}}transformPointsWithValues(r,i){const o=this.a11,u=this.a12,c=this.a13,f=this.a21,v=this.a22,w=this.a23,x=this.a31,E=this.a32,O=this.a33,R=r.length;for(let j=0;j<R;j++){const J=r[j],te=i[j],fe=c*J+w*te+O;r[j]=(o*J+f*te+x)/fe,i[j]=(u*J+v*te+E)/fe}}static squareToQuadrilateral(r,i,o,u,c,f,v,w){const x=r-o+c-v,E=i-u+f-w;if(x===0&&E===0)return new ot(o-r,c-o,r,u-i,f-u,i,0,0,1);{const O=o-c,R=v-c,j=u-f,J=w-f,te=O*J-R*j,fe=(x*J-R*E)/te,Ee=(O*E-x*j)/te;return new ot(o-r+fe*o,v-r+Ee*v,r,u-i+fe*u,w-i+Ee*w,i,fe,Ee,1)}}static quadrilateralToSquare(r,i,o,u,c,f,v,w){return ot.squareToQuadrilateral(r,i,o,u,c,f,v,w).buildAdjoint()}buildAdjoint(){return new ot(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new ot(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class Tt extends ct{sampleGrid(r,i,o,u,c,f,v,w,x,E,O,R,j,J,te,fe,Ee,je,Ge){const $e=ot.quadrilateralToQuadrilateral(u,c,f,v,w,x,E,O,R,j,J,te,fe,Ee,je,Ge);return this.sampleGridWithTransform(r,i,o,$e)}sampleGridWithTransform(r,i,o,u){if(i<=0||o<=0)throw new ee;const c=new ue(i,o),f=new Float32Array(2*i);for(let v=0;v<o;v++){const w=f.length,x=v+.5;for(let E=0;E<w;E+=2)f[E]=E/2+.5,f[E+1]=x;u.transformPoints(f),ct.checkAndNudgePoints(r,f);try{for(let E=0;E<w;E+=2)r.get(Math.floor(f[E]),Math.floor(f[E+1]))&&c.set(E/2,v)}catch{throw new ee}}return c}}class Pt{static setGridSampler(r){Pt.gridSampler=r}static getInstance(){return Pt.gridSampler}}Pt.gridSampler=new Tt;class ht{constructor(r,i){this.x=r,this.y=i}toResultPoint(){return new ye(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class tn{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let i=this.getMatrixCenter(),o=this.getBullsEyeCorners(i);if(r){let f=o[0];o[0]=o[2],o[2]=f}this.extractParameters(o);let u=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),c=this.getMatrixCornerPoints(o);return new dt(u,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new ee;let i=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(r[0],r[1],i),this.sampleLine(r[1],r[2],i),this.sampleLine(r[2],r[3],i),this.sampleLine(r[3],r[0],i)]);this.shift=this.getRotation(o,i);let u=0;for(let f=0;f<4;f++){let v=o[(this.shift+f)%4];this.compact?(u<<=7,u+=v>>1&127):(u<<=10,u+=(v>>2&31<<5)+(v>>1&31))}let c=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(r,i){let o=0;r.forEach((u,c,f)=>{let v=(u>>i-2<<1)+(u&1);o=(o<<3)+v}),o=((o&1)<<11)+(o>>1);for(let u=0;u<4;u++)if(N.bitCount(o^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new ee}getCorrectedParameterData(r,i){let o,u;i?(o=7,u=2):(o=10,u=4);let c=o-u,f=new Int32Array(o);for(let w=o-1;w>=0;--w)f[w]=r&15,r>>=4;try{new Ne(F.AZTEC_PARAM).decode(f,c)}catch{throw new ee}let v=0;for(let w=0;w<u;w++)v=(v<<4)+f[w];return v}getBullsEyeCorners(r){let i=r,o=r,u=r,c=r,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(i,f,1,-1),R=this.getFirstDifferent(o,f,1,1),j=this.getFirstDifferent(u,f,-1,1),J=this.getFirstDifferent(c,f,-1,-1);if(this.nbCenterLayers>2){let te=this.distancePoint(J,O)*this.nbCenterLayers/(this.distancePoint(c,i)*(this.nbCenterLayers+2));if(te<.75||te>1.25||!this.isWhiteOrBlackRectangle(O,R,j,J))break}i=O,o=R,u=j,c=J,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let v=new ye(i.getX()+.5,i.getY()-.5),w=new ye(o.getX()+.5,o.getY()+.5),x=new ye(u.getX()-.5,u.getY()+.5),E=new ye(c.getX()-.5,c.getY()-.5);return this.expandSquare([v,w,x,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,i,o,u;try{let v=new Xe(this.image).detect();r=v[0],i=v[1],o=v[2],u=v[3]}catch{let w=this.image.getWidth()/2,x=this.image.getHeight()/2;r=this.getFirstDifferent(new ht(w+7,x-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new ht(w+7,x+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new ht(w-7,x+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new ht(w-7,x-7),!1,-1,-1).toResultPoint()}let c=Pe.round((r.getX()+u.getX()+i.getX()+o.getX())/4),f=Pe.round((r.getY()+u.getY()+i.getY()+o.getY())/4);try{let v=new Xe(this.image,15,c,f).detect();r=v[0],i=v[1],o=v[2],u=v[3]}catch{r=this.getFirstDifferent(new ht(c+7,f-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new ht(c+7,f+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new ht(c-7,f+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new ht(c-7,f-7),!1,-1,-1).toResultPoint()}return c=Pe.round((r.getX()+u.getX()+i.getX()+o.getX())/4),f=Pe.round((r.getY()+u.getY()+i.getY()+o.getY())/4),new ht(c,f)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,i,o,u,c){let f=Pt.getInstance(),v=this.getDimension(),w=v/2-this.nbCenterLayers,x=v/2+this.nbCenterLayers;return f.sampleGrid(r,v,v,w,w,x,w,x,x,w,x,i.getX(),i.getY(),o.getX(),o.getY(),u.getX(),u.getY(),c.getX(),c.getY())}sampleLine(r,i,o){let u=0,c=this.distanceResultPoint(r,i),f=c/o,v=r.getX(),w=r.getY(),x=f*(i.getX()-r.getX())/c,E=f*(i.getY()-r.getY())/c;for(let O=0;O<o;O++)this.image.get(Pe.round(v+O*x),Pe.round(w+O*E))&&(u|=1<<o-O-1);return u}isWhiteOrBlackRectangle(r,i,o,u){let c=3;r=new ht(r.getX()-c,r.getY()+c),i=new ht(i.getX()-c,i.getY()-c),o=new ht(o.getX()+c,o.getY()-c),u=new ht(u.getX()+c,u.getY()+c);let f=this.getColor(u,r);if(f===0)return!1;let v=this.getColor(r,i);return v!==f||(v=this.getColor(i,o),v!==f)?!1:(v=this.getColor(o,u),v===f)}getColor(r,i){let o=this.distancePoint(r,i),u=(i.getX()-r.getX())/o,c=(i.getY()-r.getY())/o,f=0,v=r.getX(),w=r.getY(),x=this.image.get(r.getX(),r.getY()),E=Math.ceil(o);for(let R=0;R<E;R++)v+=u,w+=c,this.image.get(Pe.round(v),Pe.round(w))!==x&&f++;let O=f/o;return O>.1&&O<.9?0:O<=.1===x?1:-1}getFirstDifferent(r,i,o,u){let c=r.getX()+o,f=r.getY()+u;for(;this.isValid(c,f)&&this.image.get(c,f)===i;)c+=o,f+=u;for(c-=o,f-=u;this.isValid(c,f)&&this.image.get(c,f)===i;)c+=o;for(c-=o;this.isValid(c,f)&&this.image.get(c,f)===i;)f+=u;return f-=u,new ht(c,f)}expandSquare(r,i,o){let u=o/(2*i),c=r[0].getX()-r[2].getX(),f=r[0].getY()-r[2].getY(),v=(r[0].getX()+r[2].getX())/2,w=(r[0].getY()+r[2].getY())/2,x=new ye(v+u*c,w+u*f),E=new ye(v-u*c,w-u*f);c=r[1].getX()-r[3].getX(),f=r[1].getY()-r[3].getY(),v=(r[1].getX()+r[3].getX())/2,w=(r[1].getY()+r[3].getY())/2;let O=new ye(v+u*c,w+u*f),R=new ye(v-u*c,w-u*f);return[x,O,E,R]}isValid(r,i){return r>=0&&r<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(r){let i=Pe.round(r.getX()),o=Pe.round(r.getY());return this.isValid(i,o)}distancePoint(r,i){return Pe.distance(r.getX(),r.getY(),i.getX(),i.getY())}distanceResultPoint(r,i){return Pe.distance(r.getX(),r.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(N.truncDivision(this.nbLayers-4,8)+1)+15}}class Kt{decode(r,i=null){let o=null,u=new tn(r.getBlackMatrix()),c=null,f=null;try{let E=u.detectMirror(!1);c=E.getPoints(),this.reportFoundResultPoints(i,c),f=new ke().decode(E)}catch(E){o=E}if(f==null)try{let E=u.detectMirror(!0);c=E.getPoints(),this.reportFoundResultPoints(i,c),f=new ke().decode(E)}catch(E){throw o!=null?o:E}let v=new it(f.getText(),f.getRawBytes(),f.getNumBits(),c,we.AZTEC,k.currentTimeMillis()),w=f.getByteSegments();w!=null&&v.putMetadata(Me.BYTE_SEGMENTS,w);let x=f.getECLevel();return x!=null&&v.putMetadata(Me.ERROR_CORRECTION_LEVEL,x),v}reportFoundResultPoints(r,i){if(r!=null){let o=r.get(Q.NEED_RESULT_POINT_CALLBACK);o!=null&&i.forEach((u,c,f)=>{o.foundPossibleResultPoint(u)})}}reset(){}}class Mn extends Ze{constructor(r=500){super(new Kt,r)}}class Nt{decode(r,i){try{return this.doDecode(r,i)}catch{if(i&&i.get(Q.TRY_HARDER)===!0&&r.isRotateSupported()){const c=r.rotateCounterClockwise(),f=this.doDecode(c,i),v=f.getResultMetadata();let w=270;v!==null&&v.get(Me.ORIENTATION)===!0&&(w=w+v.get(Me.ORIENTATION)%360),f.putMetadata(Me.ORIENTATION,w);const x=f.getResultPoints();if(x!==null){const E=c.getHeight();for(let O=0;O<x.length;O++)x[O]=new ye(E-x[O].getY()-1,x[O].getX())}return f}else throw new ee}}reset(){}doDecode(r,i){const o=r.getWidth(),u=r.getHeight();let c=new A(o);const f=i&&i.get(Q.TRY_HARDER)===!0,v=Math.max(1,u>>(f?8:5));let w;f?w=u:w=15;const x=Math.trunc(u/2);for(let E=0;E<w;E++){const O=Math.trunc((E+1)/2),R=(E&1)===0,j=x+v*(R?O:-O);if(j<0||j>=u)break;try{c=r.getBlackRow(j,c)}catch{continue}for(let J=0;J<2;J++){if(J===1&&(c.reverse(),i&&i.get(Q.NEED_RESULT_POINT_CALLBACK)===!0)){const te=new Map;i.forEach((fe,Ee)=>te.set(Ee,fe)),te.delete(Q.NEED_RESULT_POINT_CALLBACK),i=te}try{const te=this.decodeRow(j,c,i);if(J===1){te.putMetadata(Me.ORIENTATION,180);const fe=te.getResultPoints();fe!==null&&(fe[0]=new ye(o-fe[0].getX()-1,fe[0].getY()),fe[1]=new ye(o-fe[1].getX()-1,fe[1].getY()))}return te}catch{}}}throw new ee}static recordPattern(r,i,o){const u=o.length;for(let x=0;x<u;x++)o[x]=0;const c=r.getSize();if(i>=c)throw new ee;let f=!r.get(i),v=0,w=i;for(;w<c;){if(r.get(w)!==f)o[v]++;else{if(++v===u)break;o[v]=1,f=!f}w++}if(!(v===u||v===u-1&&w===c))throw new ee}static recordPatternInReverse(r,i,o){let u=o.length,c=r.get(i);for(;i>0&&u>=0;)r.get(--i)!==c&&(u--,c=!c);if(u>=0)throw new ee;Nt.recordPattern(r,i+1,o)}static patternMatchVariance(r,i,o){const u=r.length;let c=0,f=0;for(let x=0;x<u;x++)c+=r[x],f+=i[x];if(c<f)return Number.POSITIVE_INFINITY;const v=c/f;o*=v;let w=0;for(let x=0;x<u;x++){const E=r[x],O=i[x]*v,R=E>O?E-O:O-E;if(R>o)return Number.POSITIVE_INFINITY;w+=R}return w/c}}class Ue extends Nt{static findStartPattern(r){const i=r.getSize(),o=r.getNextSet(0);let u=0,c=Int32Array.from([0,0,0,0,0,0]),f=o,v=!1;const w=6;for(let x=o;x<i;x++)if(r.get(x)!==v)c[u]++;else{if(u===w-1){let E=Ue.MAX_AVG_VARIANCE,O=-1;for(let R=Ue.CODE_START_A;R<=Ue.CODE_START_C;R++){const j=Nt.patternMatchVariance(c,Ue.CODE_PATTERNS[R],Ue.MAX_INDIVIDUAL_VARIANCE);j<E&&(E=j,O=R)}if(O>=0&&r.isRange(Math.max(0,f-(x-f)/2),f,!1))return Int32Array.from([f,x,O]);f+=c[0]+c[1],c=c.slice(2,c.length-1),c[u-1]=0,c[u]=0,u--}else u++;c[u]=1,v=!v}throw new ee}static decodeCode(r,i,o){Nt.recordPattern(r,o,i);let u=Ue.MAX_AVG_VARIANCE,c=-1;for(let f=0;f<Ue.CODE_PATTERNS.length;f++){const v=Ue.CODE_PATTERNS[f],w=this.patternMatchVariance(i,v,Ue.MAX_INDIVIDUAL_VARIANCE);w<u&&(u=w,c=f)}if(c>=0)return c;throw new ee}decodeRow(r,i,o){const u=o&&o.get(Q.ASSUME_GS1)===!0,c=Ue.findStartPattern(i),f=c[2];let v=0;const w=new Uint8Array(20);w[v++]=f;let x;switch(f){case Ue.CODE_START_A:x=Ue.CODE_CODE_A;break;case Ue.CODE_START_B:x=Ue.CODE_CODE_B;break;case Ue.CODE_START_C:x=Ue.CODE_CODE_C;break;default:throw new M}let E=!1,O=!1,R="",j=c[0],J=c[1];const te=Int32Array.from([0,0,0,0,0,0]);let fe=0,Ee=0,je=f,Ge=0,$e=!0,Yt=!1,It=!1;for(;!E;){const _e=O;switch(O=!1,fe=Ee,Ee=Ue.decodeCode(i,te,J),w[v++]=Ee,Ee!==Ue.CODE_STOP&&($e=!0),Ee!==Ue.CODE_STOP&&(Ge++,je+=Ge*Ee),j=J,J+=te.reduce((Ae,Ve)=>Ae+Ve,0),Ee){case Ue.CODE_START_A:case Ue.CODE_START_B:case Ue.CODE_START_C:throw new M}switch(x){case Ue.CODE_CODE_A:if(Ee<64)It===Yt?R+=String.fromCharCode(" ".charCodeAt(0)+Ee):R+=String.fromCharCode(" ".charCodeAt(0)+Ee+128),It=!1;else if(Ee<96)It===Yt?R+=String.fromCharCode(Ee-64):R+=String.fromCharCode(Ee+64),It=!1;else switch(Ee!==Ue.CODE_STOP&&($e=!1),Ee){case Ue.CODE_FNC_1:u&&(R.length===0?R+="]C1":R+=String.fromCharCode(29));break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_A:!Yt&&It?(Yt=!0,It=!1):Yt&&It?(Yt=!1,It=!1):It=!0;break;case Ue.CODE_SHIFT:O=!0,x=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_B:x=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_C:x=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:E=!0;break}break;case Ue.CODE_CODE_B:if(Ee<96)It===Yt?R+=String.fromCharCode(" ".charCodeAt(0)+Ee):R+=String.fromCharCode(" ".charCodeAt(0)+Ee+128),It=!1;else switch(Ee!==Ue.CODE_STOP&&($e=!1),Ee){case Ue.CODE_FNC_1:u&&(R.length===0?R+="]C1":R+=String.fromCharCode(29));break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_B:!Yt&&It?(Yt=!0,It=!1):Yt&&It?(Yt=!1,It=!1):It=!0;break;case Ue.CODE_SHIFT:O=!0,x=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_A:x=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_C:x=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:E=!0;break}break;case Ue.CODE_CODE_C:if(Ee<100)Ee<10&&(R+="0"),R+=Ee;else switch(Ee!==Ue.CODE_STOP&&($e=!1),Ee){case Ue.CODE_FNC_1:u&&(R.length===0?R+="]C1":R+=String.fromCharCode(29));break;case Ue.CODE_CODE_A:x=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_B:x=Ue.CODE_CODE_B;break;case Ue.CODE_STOP:E=!0;break}break}_e&&(x=x===Ue.CODE_CODE_A?Ue.CODE_CODE_B:Ue.CODE_CODE_A)}const Cr=J-j;if(J=i.getNextUnset(J),!i.isRange(J,Math.min(i.getSize(),J+(J-j)/2),!1))throw new ee;if(je-=Ge*fe,je%103!==fe)throw new b;const C=R.length;if(C===0)throw new ee;C>0&&$e&&(x===Ue.CODE_CODE_C?R=R.substring(0,C-2):R=R.substring(0,C-1));const S=(c[1]+c[0])/2,D=j+Cr/2,V=w.length,ne=new Uint8Array(V);for(let _e=0;_e<V;_e++)ne[_e]=w[_e];const ge=[new ye(S,r),new ye(D,r)];return new it(R,ne,0,ge,we.CODE_128,new Date().getTime())}}Ue.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ue.MAX_AVG_VARIANCE=.25,Ue.MAX_INDIVIDUAL_VARIANCE=.7,Ue.CODE_SHIFT=98,Ue.CODE_CODE_C=99,Ue.CODE_CODE_B=100,Ue.CODE_CODE_A=101,Ue.CODE_FNC_1=102,Ue.CODE_FNC_2=97,Ue.CODE_FNC_3=96,Ue.CODE_FNC_4_A=101,Ue.CODE_FNC_4_B=100,Ue.CODE_START_A=103,Ue.CODE_START_B=104,Ue.CODE_START_C=105,Ue.CODE_STOP=106;class mn extends Nt{constructor(r=!1,i=!1){super(),this.usingCheckDigit=r,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,i,o){let u=this.counters;u.fill(0),this.decodeRowResult="";let c=mn.findAsteriskPattern(i,u),f=i.getNextSet(c[1]),v=i.getSize(),w,x;do{mn.recordPattern(i,f,u);let te=mn.toNarrowWidePattern(u);if(te<0)throw new ee;w=mn.patternToChar(te),this.decodeRowResult+=w,x=f;for(let fe of u)f+=fe;f=i.getNextSet(f)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let E=0;for(let te of u)E+=te;let O=f-x-E;if(f!==v&&O*2<E)throw new ee;if(this.usingCheckDigit){let te=this.decodeRowResult.length-1,fe=0;for(let Ee=0;Ee<te;Ee++)fe+=mn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ee));if(this.decodeRowResult.charAt(te)!==mn.ALPHABET_STRING.charAt(fe%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,te)}if(this.decodeRowResult.length===0)throw new ee;let R;this.extendedMode?R=mn.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;let j=(c[1]+c[0])/2,J=x+E/2;return new it(R,null,0,[new ye(j,r),new ye(J,r)],we.CODE_39,new Date().getTime())}static findAsteriskPattern(r,i){let o=r.getSize(),u=r.getNextSet(0),c=0,f=u,v=!1,w=i.length;for(let x=u;x<o;x++)if(r.get(x)!==v)i[c]++;else{if(c===w-1){if(this.toNarrowWidePattern(i)===mn.ASTERISK_ENCODING&&r.isRange(Math.max(0,f-Math.floor((x-f)/2)),f,!1))return[f,x];f+=i[0]+i[1],i.copyWithin(0,2,2+c-1),i[c-1]=0,i[c]=0,c--}else c++;i[c]=1,v=!v}throw new ee}static toNarrowWidePattern(r){let i=r.length,o=0,u;do{let c=2147483647;for(let w of r)w<c&&w>o&&(c=w);o=c,u=0;let f=0,v=0;for(let w=0;w<i;w++){let x=r[w];x>o&&(v|=1<<i-1-w,u++,f+=x)}if(u===3){for(let w=0;w<i&&u>0;w++){let x=r[w];if(x>o&&(u--,x*2>=f))return-1}return v}}while(u>3);return-1}static patternToChar(r){for(let i=0;i<mn.CHARACTER_ENCODINGS.length;i++)if(mn.CHARACTER_ENCODINGS[i]===r)return mn.ALPHABET_STRING.charAt(i);if(r===mn.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(r){let i=r.length,o="";for(let u=0;u<i;u++){let c=r.charAt(u);if(c==="+"||c==="$"||c==="%"||c==="/"){let f=r.charAt(u+1),v="\0";switch(c){case"+":if(f>="A"&&f<="Z")v=String.fromCharCode(f.charCodeAt(0)+32);else throw new M;break;case"$":if(f>="A"&&f<="Z")v=String.fromCharCode(f.charCodeAt(0)-64);else throw new M;break;case"%":if(f>="A"&&f<="E")v=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")v=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")v=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")v=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")v="\0";else if(f==="V")v="@";else if(f==="W")v="`";else if(f==="X"||f==="Y"||f==="Z")v="\x7F";else throw new M;break;case"/":if(f>="A"&&f<="O")v=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")v=":";else throw new M;break}o+=v,u++}else o+=c}return o}}mn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",mn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],mn.ASTERISK_ENCODING=148;class Et extends Nt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,i,o){let u=this.decodeStart(i),c=this.decodeEnd(i),f=new be;Et.decodeMiddle(i,u[1],c[0],f);let v=f.toString(),w=null;o!=null&&(w=o.get(Q.ALLOWED_LENGTHS)),w==null&&(w=Et.DEFAULT_ALLOWED_LENGTHS);let x=v.length,E=!1,O=0;for(let J of w){if(x===J){E=!0;break}J>O&&(O=J)}if(!E&&x>O&&(E=!0),!E)throw new M;const R=[new ye(u[1],r),new ye(c[0],r)];return new it(v,null,0,R,we.ITF,new Date().getTime())}static decodeMiddle(r,i,o,u){let c=new Int32Array(10),f=new Int32Array(5),v=new Int32Array(5);for(c.fill(0),f.fill(0),v.fill(0);i<o;){Nt.recordPattern(r,i,c);for(let x=0;x<5;x++){let E=2*x;f[x]=c[E],v[x]=c[E+1]}let w=Et.decodeDigit(f);u.append(w.toString()),w=this.decodeDigit(v),u.append(w.toString()),c.forEach(function(x){i+=x})}}decodeStart(r){let i=Et.skipWhiteSpace(r),o=Et.findGuardPattern(r,i,Et.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(r,o[0]),o}validateQuietZone(r,i){let o=this.narrowLineWidth*10;o=o<i?o:i;for(let u=i-1;o>0&&u>=0&&!r.get(u);u--)o--;if(o!==0)throw new ee}static skipWhiteSpace(r){const i=r.getSize(),o=r.getNextSet(0);if(o===i)throw new ee;return o}decodeEnd(r){r.reverse();try{let i=Et.skipWhiteSpace(r),o;try{o=Et.findGuardPattern(r,i,Et.END_PATTERN_REVERSED[0])}catch(c){c instanceof ee&&(o=Et.findGuardPattern(r,i,Et.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,o[0]);let u=o[0];return o[0]=r.getSize()-o[1],o[1]=r.getSize()-u,o}finally{r.reverse()}}static findGuardPattern(r,i,o){let u=o.length,c=new Int32Array(u),f=r.getSize(),v=!1,w=0,x=i;c.fill(0);for(let E=i;E<f;E++)if(r.get(E)!==v)c[w]++;else{if(w===u-1){if(Nt.patternMatchVariance(c,o,Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE)return[x,E];x+=c[0]+c[1],k.arraycopy(c,2,c,0,w-1),c[w-1]=0,c[w]=0,w--}else w++;c[w]=1,v=!v}throw new ee}static decodeDigit(r){let i=Et.MAX_AVG_VARIANCE,o=-1,u=Et.PATTERNS.length;for(let c=0;c<u;c++){let f=Et.PATTERNS[c],v=Nt.patternMatchVariance(r,f,Et.MAX_INDIVIDUAL_VARIANCE);v<i?(i=v,o=c):v===i&&(o=-1)}if(o>=0)return o%10;throw new ee}}Et.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Et.MAX_AVG_VARIANCE=.38,Et.MAX_INDIVIDUAL_VARIANCE=.5,Et.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Et.START_PATTERN=Int32Array.from([1,1,1,1]),Et.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Dt extends Nt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let i=!1,o,u=0,c=Int32Array.from([0,0,0]);for(;!i;){c=Int32Array.from([0,0,0]),o=Dt.findGuardPattern(r,u,!1,this.START_END_PATTERN,c);let f=o[0];u=o[1];let v=f-(u-f);v>=0&&(i=r.isRange(v,f,!1))}return o}static checkChecksum(r){return Dt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let o=parseInt(r.charAt(i-1),10);return Dt.getStandardUPCEANChecksum(r.substring(0,i-1))===o}static getStandardUPCEANChecksum(r){let i=r.length,o=0;for(let u=i-1;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(c<0||c>9)throw new M;o+=c}o*=3;for(let u=i-2;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(c<0||c>9)throw new M;o+=c}return(1e3-o)%10}static decodeEnd(r,i){return Dt.findGuardPattern(r,i,!1,Dt.START_END_PATTERN,new Int32Array(Dt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,i,o,u){return this.findGuardPattern(r,i,o,u,new Int32Array(u.length))}static findGuardPattern(r,i,o,u,c){let f=r.getSize();i=o?r.getNextUnset(i):r.getNextSet(i);let v=0,w=i,x=u.length,E=o;for(let O=i;O<f;O++)if(r.get(O)!==E)c[v]++;else{if(v===x-1){if(Nt.patternMatchVariance(c,u,Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE)return Int32Array.from([w,O]);w+=c[0]+c[1];let R=c.slice(2,c.length-1);for(let j=0;j<v-1;j++)c[j]=R[j];c[v-1]=0,c[v]=0,v--}else v++;c[v]=1,E=!E}throw new ee}static decodeDigit(r,i,o,u){this.recordPattern(r,o,i);let c=this.MAX_AVG_VARIANCE,f=-1,v=u.length;for(let w=0;w<v;w++){let x=u[w],E=Nt.patternMatchVariance(i,x,Dt.MAX_INDIVIDUAL_VARIANCE);E<c&&(c=E,f=w)}if(f>=0)return f;throw new ee}}Dt.MAX_AVG_VARIANCE=.48,Dt.MAX_INDIVIDUAL_VARIANCE=.7,Dt.START_END_PATTERN=Int32Array.from([1,1,1]),Dt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Dt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Dt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class jn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,o){let u=this.decodeRowStringBuffer,c=this.decodeMiddle(i,o,u),f=u.toString(),v=jn.parseExtensionString(f),w=[new ye((o[0]+o[1])/2,r),new ye(c,r)],x=new it(f,null,0,w,we.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&x.putAllMetadata(v),x}decodeMiddle(r,i,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=i[1],v=0;for(let x=0;x<5&&f<c;x++){let E=Dt.decodeDigit(r,u,f,Dt.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let O of u)f+=O;E>=10&&(v|=1<<4-x),x!==4&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(o.length!==5)throw new ee;let w=this.determineCheckDigit(v);if(jn.extensionChecksum(o.toString())!==w)throw new ee;return f}static extensionChecksum(r){let i=r.length,o=0;for(let u=i-2;u>=0;u-=2)o+=r.charAt(u).charCodeAt(0)-"0".charCodeAt(0);o*=3;for(let u=i-1;u>=0;u-=2)o+=r.charAt(u).charCodeAt(0)-"0".charCodeAt(0);return o*=3,o%10}determineCheckDigit(r){for(let i=0;i<10;i++)if(r===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new ee}static parseExtensionString(r){if(r.length!==5)return null;let i=jn.parseExtension5String(r);return i==null?null:new Map([[Me.SUGGESTED_PRICE,i]])}static parseExtension5String(r){let i;switch(r.charAt(0)){case"0":i="\xA3";break;case"5":i="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let o=parseInt(r.substring(1)),u=(o/100).toString(),c=o%100,f=c<10?"0"+c:c.toString();return i+u+"."+f}}class pn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,o){let u=this.decodeRowStringBuffer,c=this.decodeMiddle(i,o,u),f=u.toString(),v=pn.parseExtensionString(f),w=[new ye((o[0]+o[1])/2,r),new ye(c,r)],x=new it(f,null,0,w,we.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&x.putAllMetadata(v),x}decodeMiddle(r,i,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=i[1],v=0;for(let w=0;w<2&&f<c;w++){let x=Dt.decodeDigit(r,u,f,Dt.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+x%10);for(let E of u)f+=E;x>=10&&(v|=1<<1-w),w!==1&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(o.length!==2)throw new ee;if(parseInt(o.toString())%4!==v)throw new ee;return f}static parseExtensionString(r){return r.length!==2?null:new Map([[Me.ISSUE_NUMBER,parseInt(r)]])}}class _r{static decodeRow(r,i,o){let u=Dt.findGuardPattern(i,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new jn().decodeRow(r,i,u)}catch{return new pn().decodeRow(r,i,u)}}}_r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class at extends Dt{constructor(){super(),this.decodeRowStringBuffer="",at.L_AND_G_PATTERNS=at.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let i=at.L_PATTERNS[r-10],o=new Int32Array(i.length);for(let u=0;u<i.length;u++)o[u]=i[i.length-u-1];at.L_AND_G_PATTERNS[r]=o}}decodeRow(r,i,o){let u=at.findStartGuardPattern(i),c=o==null?null:o.get(Q.NEED_RESULT_POINT_CALLBACK);if(c!=null){const $e=new ye((u[0]+u[1])/2,r);c.foundPossibleResultPoint($e)}let f=this.decodeMiddle(i,u,this.decodeRowStringBuffer),v=f.rowOffset,w=f.resultString;if(c!=null){const $e=new ye(v,r);c.foundPossibleResultPoint($e)}let x=this.decodeEnd(i,v);if(c!=null){const $e=new ye((x[0]+x[1])/2,r);c.foundPossibleResultPoint($e)}let E=x[1],O=E+(E-x[0]);if(O>=i.getSize()||!i.isRange(E,O,!1))throw new ee;let R=w.toString();if(R.length<8)throw new M;if(!at.checkChecksum(R))throw new b;let j=(u[1]+u[0])/2,J=(x[1]+x[0])/2,te=this.getBarcodeFormat(),fe=[new ye(j,r),new ye(J,r)],Ee=new it(R,null,0,fe,te,new Date().getTime()),je=0;try{let $e=_r.decodeRow(r,i,x[1]);Ee.putMetadata(Me.UPC_EAN_EXTENSION,$e.getText()),Ee.putAllMetadata($e.getResultMetadata()),Ee.addResultPoints($e.getResultPoints()),je=$e.getText().length}catch{}let Ge=o==null?null:o.get(Q.ALLOWED_EAN_EXTENSIONS);if(Ge!=null){let $e=!1;for(let Yt in Ge)if(je.toString()===Yt){$e=!0;break}if(!$e)throw new ee}return Ee}decodeEnd(r,i){return at.findGuardPattern(r,i,!1,at.START_END_PATTERN,new Int32Array(at.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return at.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let o=parseInt(r.charAt(i-1),10);return at.getStandardUPCEANChecksum(r.substring(0,i-1))===o}static getStandardUPCEANChecksum(r){let i=r.length,o=0;for(let u=i-1;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(c<0||c>9)throw new M;o+=c}o*=3;for(let u=i-2;u>=0;u-=2){let c=r.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(c<0||c>9)throw new M;o+=c}return(1e3-o)%10}}class mr extends at{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,i,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=i[1],v=0;for(let x=0;x<6&&f<c;x++){let E=at.decodeDigit(r,u,f,at.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let O of u)f+=O;E>=10&&(v|=1<<5-x)}o=mr.determineFirstDigit(o,v),f=at.findGuardPattern(r,f,!0,at.MIDDLE_PATTERN,new Int32Array(at.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&f<c;x++){let E=at.decodeDigit(r,u,f,at.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+E);for(let O of u)f+=O}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return we.EAN_13}static determineFirstDigit(r,i){for(let o=0;o<10;o++)if(i===this.FIRST_DIGIT_ENCODINGS[o])return r=String.fromCharCode("0".charCodeAt(0)+o)+r,r;throw new ee}}mr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Jn extends at{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,i,o){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f=i[1];for(let w=0;w<4&&f<c;w++){let x=at.decodeDigit(r,u,f,at.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+x);for(let E of u)f+=E}f=at.findGuardPattern(r,f,!0,at.MIDDLE_PATTERN,new Int32Array(at.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&f<c;w++){let x=at.decodeDigit(r,u,f,at.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+x);for(let E of u)f+=E}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return we.EAN_8}}class ir extends at{constructor(){super(...arguments),this.ean13Reader=new mr}getBarcodeFormat(){return we.UPC_A}decode(r,i){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,i,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,i,o))}decodeMiddle(r,i,o){return this.ean13Reader.decodeMiddle(r,i,o)}maybeReturnResult(r){let i=r.getText();if(i.charAt(0)==="0"){let o=new it(i.substring(1),null,null,r.getResultPoints(),we.UPC_A);return r.getResultMetadata()!=null&&o.putAllMetadata(r.getResultMetadata()),o}else throw new ee}reset(){this.ean13Reader.reset()}}class sr extends at{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,i,o){const u=this.decodeMiddleCounters.map(x=>x);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const c=r.getSize();let f=i[1],v=0;for(let x=0;x<6&&f<c;x++){const E=sr.decodeDigit(r,u,f,sr.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let O of u)f+=O;E>=10&&(v|=1<<5-x)}let w=sr.determineNumSysAndCheckDigit(o,v);return{rowOffset:f,resultString:w}}decodeEnd(r,i){return sr.findGuardPatternWithoutCounters(r,i,!0,sr.MIDDLE_END_PATTERN)}checkChecksum(r){return at.checkChecksum(sr.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,i){for(let o=0;o<=1;o++)for(let u=0;u<10;u++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][u]){let c=String.fromCharCode("0".charCodeAt(0)+o),f=String.fromCharCode("0".charCodeAt(0)+u);return c+r+f}throw ee.getNotFoundInstance()}getBarcodeFormat(){return we.UPC_E}static convertUPCEtoUPCA(r){const i=r.slice(1,7).split("").map(c=>c.charCodeAt(0)),o=new be;o.append(r.charAt(0));let u=i[5];switch(u){case 0:case 1:case 2:o.appendChars(i,0,2),o.append(u),o.append("0000"),o.appendChars(i,2,3);break;case 3:o.appendChars(i,0,3),o.append("00000"),o.appendChars(i,3,2);break;case 4:o.appendChars(i,0,4),o.append("00000"),o.append(i[4]);break;default:o.appendChars(i,0,5),o.append("0000"),o.append(u);break}return r.length>=8&&o.append(r.charAt(7)),o.toString()}}sr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),sr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class li extends Nt{constructor(r){super();let i=r==null?null:r.get(Q.POSSIBLE_FORMATS),o=[];s(i)?(o.push(new mr),o.push(new ir),o.push(new Jn),o.push(new sr)):(i.indexOf(we.EAN_13)>-1&&o.push(new mr),i.indexOf(we.UPC_A)>-1&&o.push(new ir),i.indexOf(we.EAN_8)>-1&&o.push(new Jn),i.indexOf(we.UPC_E)>-1&&o.push(new sr)),this.readers=o}decodeRow(r,i,o){for(let u of this.readers)try{const c=u.decodeRow(r,i,o),f=c.getBarcodeFormat()===we.EAN_13&&c.getText().charAt(0)==="0",v=o==null?null:o.get(Q.POSSIBLE_FORMATS),w=v==null||v.includes(we.UPC_A);if(f&&w){const x=c.getRawBytes(),E=new it(c.getText().substring(1),x,x?x.length:null,c.getResultPoints(),we.UPC_A);return E.putAllMetadata(c.getResultMetadata()),E}return c}catch{}throw new ee}reset(){for(let r of this.readers)r.reset()}}class un extends Nt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,i){for(let o=0;o<i.length;o++)if(Nt.patternMatchVariance(r,i[o],un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return o;throw new ee}static count(r){return Pe.sum(new Int32Array(r))}static increment(r,i){let o=0,u=i[0];for(let c=1;c<r.length;c++)i[c]>u&&(u=i[c],o=c);r[o]++}static decrement(r,i){let o=0,u=i[0];for(let c=1;c<r.length;c++)i[c]<u&&(u=i[c],o=c);r[o]--}static isFinderPattern(r){let i=r[0]+r[1],o=i+r[2]+r[3],u=i/o;if(u>=un.MIN_FINDER_PATTERN_RATIO&&u<=un.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let v of r)v>f&&(f=v),v<c&&(c=v);return f<10*c}return!1}}un.MAX_AVG_VARIANCE=.2,un.MAX_INDIVIDUAL_VARIANCE=.45,un.MIN_FINDER_PATTERN_RATIO=9.5/12,un.MAX_FINDER_PATTERN_RATIO=12.5/14;class or{constructor(r,i){this.value=r,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof or))return!1;const i=r;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class gi{constructor(r,i,o,u,c){this.value=r,this.startEnd=i,this.value=r,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new ye(o,c)),this.resultPoints.push(new ye(u,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof gi))return!1;const i=r;return this.value===i.value}hashCode(){return this.value}}class Or{constructor(){}static getRSSvalue(r,i,o){let u=0;for(let w of r)u+=w;let c=0,f=0,v=r.length;for(let w=0;w<v-1;w++){let x;for(x=1,f|=1<<w;x<r[w];x++,f&=~(1<<w)){let E=Or.combins(u-x-1,v-w-2);if(o&&f===0&&u-x-(v-w-1)>=v-w-1&&(E-=Or.combins(u-x-(v-w),v-w-2)),v-w-1>1){let O=0;for(let R=u-x-(v-w-2);R>i;R--)O+=Or.combins(u-x-R-1,v-w-3);E-=O*(v-1-w)}else u-x>i&&E--;c+=E}u-=x}return c}static combins(r,i){let o,u;r-i>i?(u=i,o=r-i):(u=r-i,o=i);let c=1,f=1;for(let v=r;v>o;v--)c*=v,f<=u&&(c/=f,f++);for(;f<=u;)c/=f,f++;return c}}class W{static buildBitArray(r){let i=r.length*2-1;r[r.length-1].getRightChar()==null&&(i-=1);let o=12*i,u=new A(o),c=0,v=r[0].getRightChar().getValue();for(let w=11;w>=0;--w)(v&1<<w)!=0&&u.set(c),c++;for(let w=1;w<r.length;++w){let x=r[w],E=x.getLeftChar().getValue();for(let O=11;O>=0;--O)(E&1<<O)!=0&&u.set(c),c++;if(x.getRightChar()!=null){let O=x.getRightChar().getValue();for(let R=11;R>=0;--R)(O&1<<R)!=0&&u.set(c),c++}}return u}}class se{constructor(r,i){i?this.decodedInformation=null:(this.finished=r,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Oe{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class ze extends Oe{constructor(r,i){super(r),this.value=i}getValue(){return this.value}isFNC1(){return this.value===ze.FNC1}}ze.FNC1="$";class Qe extends Oe{constructor(r,i,o){super(r),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class _t extends Oe{constructor(r,i,o){if(super(r),i<0||i>10||o<0||o>10)throw new M;this.firstDigit=i,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===_t.FNC1}isSecondDigitFNC1(){return this.secondDigit===_t.FNC1}isAnyFNC1(){return this.firstDigit===_t.FNC1||this.secondDigit===_t.FNC1}}_t.FNC1=10;class De{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new ee;let i=r.substring(0,2);for(let c of De.TWO_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===De.VARIABLE_LENGTH?De.processVariableAI(2,c[2],r):De.processFixedAI(2,c[1],r);if(r.length<3)throw new ee;let o=r.substring(0,3);for(let c of De.THREE_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===De.VARIABLE_LENGTH?De.processVariableAI(3,c[2],r):De.processFixedAI(3,c[1],r);for(let c of De.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===De.VARIABLE_LENGTH?De.processVariableAI(4,c[2],r):De.processFixedAI(4,c[1],r);if(r.length<4)throw new ee;let u=r.substring(0,4);for(let c of De.FOUR_DIGIT_DATA_LENGTH)if(c[0]===u)return c[1]===De.VARIABLE_LENGTH?De.processVariableAI(4,c[2],r):De.processFixedAI(4,c[1],r);throw new ee}static processFixedAI(r,i,o){if(o.length<r)throw new ee;let u=o.substring(0,r);if(o.length<r+i)throw new ee;let c=o.substring(r,r+i),f=o.substring(r+i),v="("+u+")"+c,w=De.parseFieldsInGeneralPurpose(f);return w==null?v:v+w}static processVariableAI(r,i,o){let u=o.substring(0,r),c;o.length<r+i?c=o.length:c=r+i;let f=o.substring(r,c),v=o.substring(c),w="("+u+")"+f,x=De.parseFieldsInGeneralPurpose(v);return x==null?w:w+x}}De.VARIABLE_LENGTH=[],De.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",De.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",De.VARIABLE_LENGTH,20],["22",De.VARIABLE_LENGTH,29],["30",De.VARIABLE_LENGTH,8],["37",De.VARIABLE_LENGTH,8],["90",De.VARIABLE_LENGTH,30],["91",De.VARIABLE_LENGTH,30],["92",De.VARIABLE_LENGTH,30],["93",De.VARIABLE_LENGTH,30],["94",De.VARIABLE_LENGTH,30],["95",De.VARIABLE_LENGTH,30],["96",De.VARIABLE_LENGTH,30],["97",De.VARIABLE_LENGTH,3],["98",De.VARIABLE_LENGTH,30],["99",De.VARIABLE_LENGTH,30]],De.THREE_DIGIT_DATA_LENGTH=[["240",De.VARIABLE_LENGTH,30],["241",De.VARIABLE_LENGTH,30],["242",De.VARIABLE_LENGTH,6],["250",De.VARIABLE_LENGTH,30],["251",De.VARIABLE_LENGTH,30],["253",De.VARIABLE_LENGTH,17],["254",De.VARIABLE_LENGTH,20],["400",De.VARIABLE_LENGTH,30],["401",De.VARIABLE_LENGTH,30],["402",17],["403",De.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",De.VARIABLE_LENGTH,20],["421",De.VARIABLE_LENGTH,15],["422",3],["423",De.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],De.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",De.VARIABLE_LENGTH,15],["391",De.VARIABLE_LENGTH,18],["392",De.VARIABLE_LENGTH,15],["393",De.VARIABLE_LENGTH,18],["703",De.VARIABLE_LENGTH,30]],De.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",De.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",De.VARIABLE_LENGTH,20],["8003",De.VARIABLE_LENGTH,30],["8004",De.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",De.VARIABLE_LENGTH,30],["8008",De.VARIABLE_LENGTH,12],["8018",18],["8020",De.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",De.VARIABLE_LENGTH,70],["8200",De.VARIABLE_LENGTH,70]];class ft{constructor(r){this.buffer=new be,this.information=r}decodeAllCodes(r,i){let o=i,u=null;do{let c=this.decodeGeneralPurposeField(o,u),f=De.parseFieldsInGeneralPurpose(c.getNewString());if(f!=null&&r.append(f),c.isRemaining()?u=""+c.getRemainingValue():u=null,o===c.getNewPosition())break;o=c.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let i=r;i<r+3;++i)if(this.information.get(i))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(r,4);return c===0?new _t(this.information.getSize(),_t.FNC1,_t.FNC1):new _t(this.information.getSize(),c-1,_t.FNC1)}let i=this.extractNumericValueFromBitArray(r,7),o=(i-8)/11,u=(i-8)%11;return new _t(r+7,o,u)}extractNumericValueFromBitArray(r,i){return ft.extractNumericValueFromBitArray(this.information,r,i)}static extractNumericValueFromBitArray(r,i,o){let u=0;for(let c=0;c<o;++c)r.get(i+c)&&(u|=1<<o-c-1);return u}decodeGeneralPurposeField(r,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(r);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Qe(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Qe(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,i;do{let o=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),r=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),r=i.isFinished()):(i=this.parseNumericBlock(),r=i.isFinished()),!(o!==this.current.getPosition())&&!r)break}while(!r);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let i;return r.isSecondDigitFNC1()?i=new Qe(this.current.getPosition(),this.buffer.toString()):i=new Qe(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new se(!0,i)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let i=new Qe(this.current.getPosition(),this.buffer.toString());return new se(!0,i)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new se(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new Qe(this.current.getPosition(),this.buffer.toString());return new se(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new se(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new Qe(this.current.getPosition(),this.buffer.toString());return new se(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new se(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<116)return!0;if(r+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(r,8);return u>=232&&u<253}decodeIsoIec646(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new ze(r+5,ze.FNC1);if(i>=5&&i<15)return new ze(r+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<90)return new ze(r+7,""+(o+1));if(o>=90&&o<116)return new ze(r+7,""+(o+7));let u=this.extractNumericValueFromBitArray(r,8),c;switch(u){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new M}return new ze(r+8,c)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,6);return o>=16&&o<63}decodeAlphanumeric(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new ze(r+5,ze.FNC1);if(i>=5&&i<15)return new ze(r+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(r,6);if(o>=32&&o<58)return new ze(r+6,""+(o+33));let u;switch(o){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new ce("Decoding invalid alphanumeric value: "+o)}return new ze(r+6,u)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<5&&i+r<this.information.getSize();++i)if(i===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+i))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let i=r;i<r+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<4&&i+r<this.information.getSize();++i)if(this.information.get(r+i))return!1;return!0}}class Wt{constructor(r){this.information=r,this.generalDecoder=new ft(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class cn extends Wt{constructor(r){super(r)}encodeCompressedGtin(r,i){r.append("(01)");let o=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,i,o)}encodeCompressedGtinWithoutAI(r,i,o){for(let u=0;u<4;++u){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*u,10);c/100===0&&r.append("0"),c/10===0&&r.append("0"),r.append(c)}cn.appendCheckDigit(r,o)}static appendCheckDigit(r,i){let o=0;for(let u=0;u<13;u++){let c=r.charAt(u+i).charCodeAt(0)-"0".charCodeAt(0);o+=(u&1)===0?3*c:c}o=10-o%10,o===10&&(o=0),r.append(o)}}cn.GTIN_SIZE=40;class ar extends cn{constructor(r){super(r)}parseInformation(){let r=new be;r.append("(01)");let i=r.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(ar.HEADER_SIZE,4);return r.append(o),this.encodeCompressedGtinWithoutAI(r,ar.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(r,ar.HEADER_SIZE+44)}}ar.HEADER_SIZE=1+1+2;class Ti extends Wt{constructor(r){super(r)}parseInformation(){let r=new be;return this.getGeneralDecoder().decodeAllCodes(r,Ti.HEADER_SIZE)}}Ti.HEADER_SIZE=2+1+2;class cs extends cn{constructor(r){super(r)}encodeCompressedWeight(r,i,o){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i,o);this.addWeightCode(r,u);let c=this.checkWeight(u),f=1e5;for(let v=0;v<5;++v)c/f===0&&r.append("0"),f/=10;r.append(c)}}class vr extends cs{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=vr.HEADER_SIZE+cs.GTIN_SIZE+vr.WEIGHT_SIZE)throw new ee;let r=new be;return this.encodeCompressedGtin(r,vr.HEADER_SIZE),this.encodeCompressedWeight(r,vr.HEADER_SIZE+cs.GTIN_SIZE,vr.WEIGHT_SIZE),r.toString()}}vr.HEADER_SIZE=4+1,vr.WEIGHT_SIZE=15;class Oo extends vr{constructor(r){super(r)}addWeightCode(r,i){r.append("(3103)")}checkWeight(r){return r}}class Ii extends vr{constructor(r){super(r)}addWeightCode(r,i){i<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class Lr extends cn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<Lr.HEADER_SIZE+cn.GTIN_SIZE)throw new ee;let r=new be;this.encodeCompressedGtin(r,Lr.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Lr.HEADER_SIZE+cn.GTIN_SIZE,Lr.LAST_DIGIT_SIZE);r.append("(392"),r.append(i),r.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Lr.HEADER_SIZE+cn.GTIN_SIZE+Lr.LAST_DIGIT_SIZE,null);return r.append(o.getNewString()),r.toString()}}Lr.HEADER_SIZE=5+1+2,Lr.LAST_DIGIT_SIZE=2;class Z extends cn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<Z.HEADER_SIZE+cn.GTIN_SIZE)throw new ee;let r=new be;this.encodeCompressedGtin(r,Z.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Z.HEADER_SIZE+cn.GTIN_SIZE,Z.LAST_DIGIT_SIZE);r.append("(393"),r.append(i),r.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Z.HEADER_SIZE+cn.GTIN_SIZE+Z.LAST_DIGIT_SIZE,Z.FIRST_THREE_DIGITS_SIZE);o/100==0&&r.append("0"),o/10==0&&r.append("0"),r.append(o);let u=this.getGeneralDecoder().decodeGeneralPurposeField(Z.HEADER_SIZE+cn.GTIN_SIZE+Z.LAST_DIGIT_SIZE+Z.FIRST_THREE_DIGITS_SIZE,null);return r.append(u.getNewString()),r.toString()}}Z.HEADER_SIZE=5+1+2,Z.LAST_DIGIT_SIZE=2,Z.FIRST_THREE_DIGITS_SIZE=10;class qe extends cs{constructor(r,i,o){super(r),this.dateCode=o,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=qe.HEADER_SIZE+qe.GTIN_SIZE+qe.WEIGHT_SIZE+qe.DATE_SIZE)throw new ee;let r=new be;return this.encodeCompressedGtin(r,qe.HEADER_SIZE),this.encodeCompressedWeight(r,qe.HEADER_SIZE+qe.GTIN_SIZE,qe.WEIGHT_SIZE),this.encodeCompressedDate(r,qe.HEADER_SIZE+qe.GTIN_SIZE+qe.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i,qe.DATE_SIZE);if(o==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let u=o%32;o/=32;let c=o%12+1;o/=12;let f=o;f/10==0&&r.append("0"),r.append(f),c/10==0&&r.append("0"),r.append(c),u/10==0&&r.append("0"),r.append(u)}addWeightCode(r,i){r.append("("),r.append(this.firstAIdigits),r.append(i/1e5),r.append(")")}checkWeight(r){return r%1e5}}qe.HEADER_SIZE=7+1,qe.WEIGHT_SIZE=20,qe.DATE_SIZE=16;function rt(I){try{if(I.get(1))return new ar(I);if(!I.get(2))return new Ti(I);switch(ft.extractNumericValueFromBitArray(I,1,4)){case 4:return new Oo(I);case 5:return new Ii(I)}switch(ft.extractNumericValueFromBitArray(I,1,5)){case 12:return new Lr(I);case 13:return new Z(I)}switch(ft.extractNumericValueFromBitArray(I,1,7)){case 56:return new qe(I,"310","11");case 57:return new qe(I,"320","11");case 58:return new qe(I,"310","13");case 59:return new qe(I,"320","13");case 60:return new qe(I,"310","15");case 61:return new qe(I,"320","15");case 62:return new qe(I,"310","17");case 63:return new qe(I,"320","17")}}catch(r){throw console.log(r),new ce("unknown decoder: "+I)}}class Ct{constructor(r,i,o,u){this.leftchar=r,this.rightchar=i,this.finderpattern=o,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,i){return r instanceof Ct?Ct.equalsOrNull(r.leftchar,i.leftchar)&&Ct.equalsOrNull(r.rightchar,i.rightchar)&&Ct.equalsOrNull(r.finderpattern,i.finderpattern):!1}static equalsOrNull(r,i){return r===null?i===null:Ct.equals(r,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class an{constructor(r,i,o){this.pairs=r,this.rowNumber=i,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,i){return r instanceof an?this.checkEqualitity(r,i)&&r.wasReversed===i.wasReversed:!1}checkEqualitity(r,i){if(!r||!i)return;let o;return r.forEach((u,c)=>{i.forEach(f=>{u.getLeftChar().getValue()===f.getLeftChar().getValue()&&u.getRightChar().getValue()===f.getRightChar().getValue()&&u.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(o=!0)})}),o}}class Te extends un{constructor(r){super(...arguments),this.pairs=new Array(Te.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,i,o){this.pairs.length=0,this.startFromEven=!1;try{return Te.constructResult(this.decodeRow2pairs(r,i))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,Te.constructResult(this.decodeRow2pairs(r,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,i){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,r))}catch(c){if(c instanceof ee){if(!this.pairs.length)throw new ee;o=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(r,!1),u){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new ee}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return r&&(this.rows=this.rows.reverse()),i}checkRows(r,i){for(let o=i;o<this.rows.length;o++){let u=this.rows[o];this.pairs.length=0;for(let f of r)this.pairs.push(f.getPairs());if(this.pairs.push(u.getPairs()),!Te.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(r);c.push(u);try{return this.checkRows(c,o+1)}catch(f){this.verbose&&console.log(f)}}throw new ee}static isValidSequence(r){for(let i of Te.FINDER_PATTERN_SEQUENCES){if(r.length>i.length)continue;let o=!0;for(let u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!=i[u]){o=!1;break}if(o)return!0}return!1}storeRow(r,i){let o=0,u=!1,c=!1;for(;o<this.rows.length;){let f=this.rows[o];if(f.getRowNumber()>r){c=f.isEquivalent(this.pairs);break}u=f.isEquivalent(this.pairs),o++}c||u||Te.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new an(this.pairs,r,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,i){for(let o of i)if(o.getPairs().length!==r.length){for(let u of o.getPairs())for(let c of r)if(Ct.equals(u,c))break}}static isPartialRow(r,i){for(let o of i){let u=!0;for(let c of r){let f=!1;for(let v of o.getPairs())if(c.equals(v)){f=!0;break}if(!f){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(r){let i=W.buildBitArray(r),u=rt(i).parseInformation(),c=r[0].getFinderPattern().getResultPoints(),f=r[r.length-1].getFinderPattern().getResultPoints(),v=[c[0],c[1],f[0],f[1]];return new it(u,null,null,v,we.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),i=r.getLeftChar(),o=r.getRightChar();if(o==null)return!1;let u=o.getChecksumPortion(),c=2;for(let v=1;v<this.pairs.size();++v){let w=this.pairs.get(v);u+=w.getLeftChar().getChecksumPortion(),c++;let x=w.getRightChar();x!=null&&(u+=x.getChecksumPortion(),c++)}return u%=211,211*(c-4)+u==i.getValue()}static getNextSecondBar(r,i){let o;return r.get(i)?(o=r.getNextUnset(i),o=r.getNextSet(o)):(o=r.getNextSet(i),o=r.getNextUnset(o)),o}retrieveNextPair(r,i,o){let u=i.length%2==0;this.startFromEven&&(u=!u);let c,f=!0,v=-1;do this.findNextPair(r,i,v),c=this.parseFoundFinderPattern(r,o,u),c==null?v=Te.getNextSecondBar(r,this.startEnd[0]):f=!1;while(f);let w=this.decodeDataCharacter(r,c,u,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new ee;let x;try{x=this.decodeDataCharacter(r,c,u,!1)}catch(E){x=null,this.verbose&&console.log(E)}return new Ct(w,x,c,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,i,o){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),f;o>=0?f=o:this.isEmptyPair(i)?f=0:f=i[i.length-1].getFinderPattern().getStartEnd()[1];let v=i.length%2!=0;this.startFromEven&&(v=!v);let w=!1;for(;f<c&&(w=!r.get(f),!!w);)f++;let x=0,E=f;for(let O=f;O<c;O++)if(r.get(O)!=w)u[x]++;else{if(x==3){if(v&&Te.reverseCounters(u),Te.isFinderPattern(u)){this.startEnd[0]=E,this.startEnd[1]=O;return}v&&Te.reverseCounters(u),E+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,x--}else x++;u[x]=1,w=!w}throw new ee}static reverseCounters(r){let i=r.length;for(let o=0;o<i/2;++o){let u=r[o];r[o]=r[i-o-1],r[i-o-1]=u}}parseFoundFinderPattern(r,i,o){let u,c,f;if(o){let x=this.startEnd[0]-1;for(;x>=0&&!r.get(x);)x--;x++,u=this.startEnd[0]-x,c=x,f=this.startEnd[1]}else c=this.startEnd[0],f=r.getNextUnset(this.startEnd[1]+1),u=f-this.startEnd[1];let v=this.getDecodeFinderCounters();k.arraycopy(v,0,v,1,v.length-1),v[0]=u;let w;try{w=this.parseFinderValue(v,Te.FINDER_PATTERNS)}catch{return null}return new gi(w,[c,f],c,f,i)}decodeDataCharacter(r,i,o,u){let c=this.getDataCharacterCounters();for(let D=0;D<c.length;D++)c[D]=0;if(u)Te.recordPatternInReverse(r,i.getStartEnd()[0],c);else{Te.recordPattern(r,i.getStartEnd()[1],c);for(let D=0,V=c.length-1;D<V;D++,V--){let ne=c[D];c[D]=c[V],c[V]=ne}}let f=17,v=Pe.sum(new Int32Array(c))/f,w=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(v-w)/w>.3)throw new ee;let x=this.getOddCounts(),E=this.getEvenCounts(),O=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let D=0;D<c.length;D++){let V=1*c[D]/v,ne=V+.5;if(ne<1){if(V<.3)throw new ee;ne=1}else if(ne>8){if(V>8.7)throw new ee;ne=8}let ge=D/2;(D&1)==0?(x[ge]=ne,O[ge]=V-ne):(E[ge]=ne,R[ge]=V-ne)}this.adjustOddEvenCounts(f);let j=4*i.getValue()+(o?0:2)+(u?0:1)-1,J=0,te=0;for(let D=x.length-1;D>=0;D--){if(Te.isNotA1left(i,o,u)){let V=Te.WEIGHTS[j][2*D];te+=x[D]*V}J+=x[D]}let fe=0;for(let D=E.length-1;D>=0;D--)if(Te.isNotA1left(i,o,u)){let V=Te.WEIGHTS[j][2*D+1];fe+=E[D]*V}let Ee=te+fe;if((J&1)!=0||J>13||J<4)throw new ee;let je=(13-J)/2,Ge=Te.SYMBOL_WIDEST[je],$e=9-Ge,Yt=Or.getRSSvalue(x,Ge,!0),It=Or.getRSSvalue(E,$e,!1),Cr=Te.EVEN_TOTAL_SUBSET[je],C=Te.GSUM[je],S=Yt*Cr+It+C;return new or(S,Ee)}static isNotA1left(r,i,o){return!(r.getValue()==0&&i&&o)}adjustOddEvenCounts(r){let i=Pe.sum(new Int32Array(this.getOddCounts())),o=Pe.sum(new Int32Array(this.getEvenCounts())),u=!1,c=!1;i>13?c=!0:i<4&&(u=!0);let f=!1,v=!1;o>13?v=!0:o<4&&(f=!0);let w=i+o-r,x=(i&1)==1,E=(o&1)==0;if(w==1)if(x){if(E)throw new ee;c=!0}else{if(!E)throw new ee;v=!0}else if(w==-1)if(x){if(E)throw new ee;u=!0}else{if(!E)throw new ee;f=!0}else if(w==0){if(x){if(!E)throw new ee;i<o?(u=!0,v=!0):(c=!0,f=!0)}else if(E)throw new ee}else throw new ee;if(u){if(c)throw new ee;Te.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Te.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(v)throw new ee;Te.increment(this.getEvenCounts(),this.getOddRoundingErrors())}v&&Te.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Te.SYMBOL_WIDEST=[7,5,4,3,1],Te.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Te.GSUM=[0,348,1388,2948,3988],Te.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Te.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Te.FINDER_PAT_A=0,Te.FINDER_PAT_B=1,Te.FINDER_PAT_C=2,Te.FINDER_PAT_D=3,Te.FINDER_PAT_E=4,Te.FINDER_PAT_F=5,Te.FINDER_PATTERN_SEQUENCES=[[Te.FINDER_PAT_A,Te.FINDER_PAT_A],[Te.FINDER_PAT_A,Te.FINDER_PAT_B,Te.FINDER_PAT_B],[Te.FINDER_PAT_A,Te.FINDER_PAT_C,Te.FINDER_PAT_B,Te.FINDER_PAT_D],[Te.FINDER_PAT_A,Te.FINDER_PAT_E,Te.FINDER_PAT_B,Te.FINDER_PAT_D,Te.FINDER_PAT_C],[Te.FINDER_PAT_A,Te.FINDER_PAT_E,Te.FINDER_PAT_B,Te.FINDER_PAT_D,Te.FINDER_PAT_D,Te.FINDER_PAT_F],[Te.FINDER_PAT_A,Te.FINDER_PAT_E,Te.FINDER_PAT_B,Te.FINDER_PAT_D,Te.FINDER_PAT_E,Te.FINDER_PAT_F,Te.FINDER_PAT_F],[Te.FINDER_PAT_A,Te.FINDER_PAT_A,Te.FINDER_PAT_B,Te.FINDER_PAT_B,Te.FINDER_PAT_C,Te.FINDER_PAT_C,Te.FINDER_PAT_D,Te.FINDER_PAT_D],[Te.FINDER_PAT_A,Te.FINDER_PAT_A,Te.FINDER_PAT_B,Te.FINDER_PAT_B,Te.FINDER_PAT_C,Te.FINDER_PAT_C,Te.FINDER_PAT_D,Te.FINDER_PAT_E,Te.FINDER_PAT_E],[Te.FINDER_PAT_A,Te.FINDER_PAT_A,Te.FINDER_PAT_B,Te.FINDER_PAT_B,Te.FINDER_PAT_C,Te.FINDER_PAT_C,Te.FINDER_PAT_D,Te.FINDER_PAT_E,Te.FINDER_PAT_F,Te.FINDER_PAT_F],[Te.FINDER_PAT_A,Te.FINDER_PAT_A,Te.FINDER_PAT_B,Te.FINDER_PAT_B,Te.FINDER_PAT_C,Te.FINDER_PAT_D,Te.FINDER_PAT_D,Te.FINDER_PAT_E,Te.FINDER_PAT_E,Te.FINDER_PAT_F,Te.FINDER_PAT_F]],Te.MAX_PAIRS=11;class Hn extends or{constructor(r,i,o){super(r,i),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class kt extends un{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,i,o){const u=this.decodePair(i,!1,r,o);kt.addOrTally(this.possibleLeftPairs,u),i.reverse();let c=this.decodePair(i,!0,r,o);kt.addOrTally(this.possibleRightPairs,c),i.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let v of this.possibleRightPairs)if(v.getCount()>1&&kt.checkChecksum(f,v))return kt.constructResult(f,v)}throw new ee}static addOrTally(r,i){if(i==null)return;let o=!1;for(let u of r)if(u.getValue()===i.getValue()){u.incrementCount(),o=!0;break}o||r.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,i){let o=4537077*r.getValue()+i.getValue(),u=new String(o).toString(),c=new be;for(let x=13-u.length;x>0;x--)c.append("0");c.append(u);let f=0;for(let x=0;x<13;x++){let E=c.charAt(x).charCodeAt(0)-"0".charCodeAt(0);f+=(x&1)===0?3*E:E}f=10-f%10,f===10&&(f=0),c.append(f.toString());let v=r.getFinderPattern().getResultPoints(),w=i.getFinderPattern().getResultPoints();return new it(c.toString(),null,0,[v[0],v[1],w[0],w[1]],we.RSS_14,new Date().getTime())}static checkChecksum(r,i){let o=(r.getChecksumPortion()+16*i.getChecksumPortion())%79,u=9*r.getFinderPattern().getValue()+i.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,o===u}decodePair(r,i,o,u){try{let c=this.findFinderPattern(r,i),f=this.parseFoundFinderPattern(r,o,i,c),v=u==null?null:u.get(Q.NEED_RESULT_POINT_CALLBACK);if(v!=null){let E=(c[0]+c[1])/2;i&&(E=r.getSize()-1-E),v.foundPossibleResultPoint(new ye(E,o))}let w=this.decodeDataCharacter(r,f,!0),x=this.decodeDataCharacter(r,f,!1);return new Hn(1597*w.getValue()+x.getValue(),w.getChecksumPortion()+4*x.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(r,i,o){let u=this.getDataCharacterCounters();for(let fe=0;fe<u.length;fe++)u[fe]=0;if(o)Nt.recordPatternInReverse(r,i.getStartEnd()[0],u);else{Nt.recordPattern(r,i.getStartEnd()[1]+1,u);for(let fe=0,Ee=u.length-1;fe<Ee;fe++,Ee--){let je=u[fe];u[fe]=u[Ee],u[Ee]=je}}let c=o?16:15,f=Pe.sum(new Int32Array(u))/c,v=this.getOddCounts(),w=this.getEvenCounts(),x=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let fe=0;fe<u.length;fe++){let Ee=u[fe]/f,je=Math.floor(Ee+.5);je<1?je=1:je>8&&(je=8);let Ge=Math.floor(fe/2);(fe&1)===0?(v[Ge]=je,x[Ge]=Ee-je):(w[Ge]=je,E[Ge]=Ee-je)}this.adjustOddEvenCounts(o,c);let O=0,R=0;for(let fe=v.length-1;fe>=0;fe--)R*=9,R+=v[fe],O+=v[fe];let j=0,J=0;for(let fe=w.length-1;fe>=0;fe--)j*=9,j+=w[fe],J+=w[fe];let te=R+3*j;if(o){if((O&1)!==0||O>12||O<4)throw new ee;let fe=(12-O)/2,Ee=kt.OUTSIDE_ODD_WIDEST[fe],je=9-Ee,Ge=Or.getRSSvalue(v,Ee,!1),$e=Or.getRSSvalue(w,je,!0),Yt=kt.OUTSIDE_EVEN_TOTAL_SUBSET[fe],It=kt.OUTSIDE_GSUM[fe];return new or(Ge*Yt+$e+It,te)}else{if((J&1)!==0||J>10||J<4)throw new ee;let fe=(10-J)/2,Ee=kt.INSIDE_ODD_WIDEST[fe],je=9-Ee,Ge=Or.getRSSvalue(v,Ee,!0),$e=Or.getRSSvalue(w,je,!1),Yt=kt.INSIDE_ODD_TOTAL_SUBSET[fe],It=kt.INSIDE_GSUM[fe];return new or($e*Yt+Ge+It,te)}}findFinderPattern(r,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=r.getSize(),c=!1,f=0;for(;f<u&&(c=!r.get(f),i!==c);)f++;let v=0,w=f;for(let x=f;x<u;x++)if(r.get(x)!==c)o[v]++;else{if(v===3){if(un.isFinderPattern(o))return[w,x];w+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,v--}else v++;o[v]=1,c=!c}throw new ee}parseFoundFinderPattern(r,i,o,u){let c=r.get(u[0]),f=u[0]-1;for(;f>=0&&c!==r.get(f);)f--;f++;const v=u[0]-f,w=this.getDecodeFinderCounters(),x=new Int32Array(w.length);k.arraycopy(w,0,x,1,w.length-1),x[0]=v;const E=this.parseFinderValue(x,kt.FINDER_PATTERNS);let O=f,R=u[1];return o&&(O=r.getSize()-1-O,R=r.getSize()-1-R),new gi(E,[f,u[1]],O,R,i)}adjustOddEvenCounts(r,i){let o=Pe.sum(new Int32Array(this.getOddCounts())),u=Pe.sum(new Int32Array(this.getEvenCounts())),c=!1,f=!1,v=!1,w=!1;r?(o>12?f=!0:o<4&&(c=!0),u>12?w=!0:u<4&&(v=!0)):(o>11?f=!0:o<5&&(c=!0),u>10?w=!0:u<4&&(v=!0));let x=o+u-i,E=(o&1)===(r?1:0),O=(u&1)===1;if(x===1)if(E){if(O)throw new ee;f=!0}else{if(!O)throw new ee;w=!0}else if(x===-1)if(E){if(O)throw new ee;c=!0}else{if(!O)throw new ee;v=!0}else if(x===0){if(E){if(!O)throw new ee;o<u?(c=!0,w=!0):(f=!0,v=!0)}else if(O)throw new ee}else throw new ee;if(c){if(f)throw new ee;un.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&un.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(w)throw new ee;un.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&un.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}kt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],kt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],kt.OUTSIDE_GSUM=[0,161,961,2015,2715],kt.INSIDE_GSUM=[0,336,1036,1516],kt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],kt.INSIDE_ODD_WIDEST=[2,4,6,8],kt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Hr extends Nt{constructor(r,i){super(),this.readers=[],this.verbose=i===!0;const o=r?r.get(Q.POSSIBLE_FORMATS):null,u=r&&r.get(Q.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(we.EAN_13)||o.includes(we.UPC_A)||o.includes(we.EAN_8)||o.includes(we.UPC_E))&&this.readers.push(new li(r)),o.includes(we.CODE_39)&&this.readers.push(new mn(u)),o.includes(we.CODE_128)&&this.readers.push(new Ue),o.includes(we.ITF)&&this.readers.push(new Et),o.includes(we.RSS_14)&&this.readers.push(new kt),o.includes(we.RSS_EXPANDED)&&this.readers.push(new Te(this.verbose))):(this.readers.push(new li(r)),this.readers.push(new mn),this.readers.push(new li(r)),this.readers.push(new Ue),this.readers.push(new Et),this.readers.push(new kt),this.readers.push(new Te(this.verbose)))}decodeRow(r,i,o){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(r,i,o)}catch{}throw new ee}reset(){this.readers.forEach(r=>r.reset())}}class mc extends Ze{constructor(r=500,i){super(new Hr(i),r,i)}}class ln{constructor(r,i,o){this.ecCodewords=r,this.ecBlocks=[i],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class sn{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Gt{constructor(r,i,o,u,c,f){this.versionNumber=r,this.symbolSizeRows=i,this.symbolSizeColumns=o,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=c,this.ecBlocks=f;let v=0;const w=f.getECCodewords(),x=f.getECBlocks();for(let E of x)v+=E.getCount()*(E.getDataCodewords()+w);this.totalCodewords=v}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,i){if((r&1)!==0||(i&1)!==0)throw new M;for(let o of Gt.VERSIONS)if(o.symbolSizeRows===r&&o.symbolSizeColumns===i)return o;throw new M}toString(){return""+this.versionNumber}static buildVersions(){return[new Gt(1,10,10,8,8,new ln(5,new sn(1,3))),new Gt(2,12,12,10,10,new ln(7,new sn(1,5))),new Gt(3,14,14,12,12,new ln(10,new sn(1,8))),new Gt(4,16,16,14,14,new ln(12,new sn(1,12))),new Gt(5,18,18,16,16,new ln(14,new sn(1,18))),new Gt(6,20,20,18,18,new ln(18,new sn(1,22))),new Gt(7,22,22,20,20,new ln(20,new sn(1,30))),new Gt(8,24,24,22,22,new ln(24,new sn(1,36))),new Gt(9,26,26,24,24,new ln(28,new sn(1,44))),new Gt(10,32,32,14,14,new ln(36,new sn(1,62))),new Gt(11,36,36,16,16,new ln(42,new sn(1,86))),new Gt(12,40,40,18,18,new ln(48,new sn(1,114))),new Gt(13,44,44,20,20,new ln(56,new sn(1,144))),new Gt(14,48,48,22,22,new ln(68,new sn(1,174))),new Gt(15,52,52,24,24,new ln(42,new sn(2,102))),new Gt(16,64,64,14,14,new ln(56,new sn(2,140))),new Gt(17,72,72,16,16,new ln(36,new sn(4,92))),new Gt(18,80,80,18,18,new ln(48,new sn(4,114))),new Gt(19,88,88,20,20,new ln(56,new sn(4,144))),new Gt(20,96,96,22,22,new ln(68,new sn(4,174))),new Gt(21,104,104,24,24,new ln(56,new sn(6,136))),new Gt(22,120,120,18,18,new ln(68,new sn(6,175))),new Gt(23,132,132,20,20,new ln(62,new sn(8,163))),new Gt(24,144,144,22,22,new ln(62,new sn(8,156),new sn(2,155))),new Gt(25,8,18,6,16,new ln(7,new sn(1,5))),new Gt(26,8,32,6,14,new ln(11,new sn(1,10))),new Gt(27,12,26,10,24,new ln(14,new sn(1,16))),new Gt(28,12,36,10,16,new ln(18,new sn(1,22))),new Gt(29,16,36,14,16,new ln(24,new sn(1,32))),new Gt(30,16,48,14,22,new ln(28,new sn(1,49)))]}}Gt.VERSIONS=Gt.buildVersions();class Aa{constructor(r){const i=r.getHeight();if(i<8||i>144||(i&1)!==0)throw new M;this.version=Aa.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new ue(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const i=r.getHeight(),o=r.getWidth();return Gt.getVersionForDimensions(i,o)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let i=0,o=4,u=0;const c=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let v=!1,w=!1,x=!1,E=!1;do if(o===c&&u===0&&!v)r[i++]=this.readCorner1(c,f)&255,o-=2,u+=2,v=!0;else if(o===c-2&&u===0&&(f&3)!==0&&!w)r[i++]=this.readCorner2(c,f)&255,o-=2,u+=2,w=!0;else if(o===c+4&&u===2&&(f&7)===0&&!x)r[i++]=this.readCorner3(c,f)&255,o-=2,u+=2,x=!0;else if(o===c-2&&u===0&&(f&7)===4&&!E)r[i++]=this.readCorner4(c,f)&255,o-=2,u+=2,E=!0;else{do o<c&&u>=0&&!this.readMappingMatrix.get(u,o)&&(r[i++]=this.readUtah(o,u,c,f)&255),o-=2,u+=2;while(o>=0&&u<f);o+=1,u+=3;do o>=0&&u<f&&!this.readMappingMatrix.get(u,o)&&(r[i++]=this.readUtah(o,u,c,f)&255),o+=2,u-=2;while(o<c&&u>=0);o+=3,u+=1}while(o<c||u<f);if(i!==this.version.getTotalCodewords())throw new M;return r}readModule(r,i,o,u){return r<0&&(r+=o,i+=4-(o+4&7)),i<0&&(i+=u,r+=4-(u+4&7)),this.readMappingMatrix.set(i,r),this.mappingBitMatrix.get(i,r)}readUtah(r,i,o,u){let c=0;return this.readModule(r-2,i-2,o,u)&&(c|=1),c<<=1,this.readModule(r-2,i-1,o,u)&&(c|=1),c<<=1,this.readModule(r-1,i-2,o,u)&&(c|=1),c<<=1,this.readModule(r-1,i-1,o,u)&&(c|=1),c<<=1,this.readModule(r-1,i,o,u)&&(c|=1),c<<=1,this.readModule(r,i-2,o,u)&&(c|=1),c<<=1,this.readModule(r,i-1,o,u)&&(c|=1),c<<=1,this.readModule(r,i,o,u)&&(c|=1),c}readCorner1(r,i){let o=0;return this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,1,r,i)&&(o|=1),o<<=1,this.readModule(r-1,2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o<<=1,this.readModule(2,i-1,r,i)&&(o|=1),o<<=1,this.readModule(3,i-1,r,i)&&(o|=1),o}readCorner2(r,i){let o=0;return this.readModule(r-3,0,r,i)&&(o|=1),o<<=1,this.readModule(r-2,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(0,i-4,r,i)&&(o|=1),o<<=1,this.readModule(0,i-3,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o}readCorner3(r,i){let o=0;return this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,i-1,r,i)&&(o|=1),o<<=1,this.readModule(0,i-3,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-3,r,i)&&(o|=1),o<<=1,this.readModule(1,i-2,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o}readCorner4(r,i){let o=0;return this.readModule(r-3,0,r,i)&&(o|=1),o<<=1,this.readModule(r-2,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o<<=1,this.readModule(2,i-1,r,i)&&(o|=1),o<<=1,this.readModule(3,i-1,r,i)&&(o|=1),o}extractDataRegion(r){const i=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(r.getHeight()!==i)throw new y("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),f=i/u|0,v=o/c|0,w=f*u,x=v*c,E=new ue(x,w);for(let O=0;O<f;++O){const R=O*u;for(let j=0;j<v;++j){const J=j*c;for(let te=0;te<u;++te){const fe=O*(u+2)+1+te,Ee=R+te;for(let je=0;je<c;++je){const Ge=j*(c+2)+1+je;if(r.get(Ge,fe)){const $e=J+je;E.set($e,Ee)}}}}}return E}}class ds{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i){const o=i.getECBlocks();let u=0;const c=o.getECBlocks();for(let te of c)u+=te.getCount();const f=new Array(u);let v=0;for(let te of c)for(let fe=0;fe<te.getCount();fe++){const Ee=te.getDataCodewords(),je=o.getECCodewords()+Ee;f[v++]=new ds(Ee,new Uint8Array(je))}const x=f[0].codewords.length-o.getECCodewords(),E=x-1;let O=0;for(let te=0;te<E;te++)for(let fe=0;fe<v;fe++)f[fe].codewords[te]=r[O++];const R=i.getVersionNumber()===24,j=R?8:v;for(let te=0;te<j;te++)f[te].codewords[x-1]=r[O++];const J=f[0].codewords.length;for(let te=x;te<J;te++)for(let fe=0;fe<v;fe++){const Ee=R?(fe+8)%v:fe,je=R&&Ee>7?te-1:te;f[Ee].codewords[je]=r[O++]}if(O!==r.length)throw new y;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Do{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new y(""+r);let i=0,o=this.bitOffset,u=this.byteOffset;const c=this.bytes;if(o>0){const f=8-o,v=r<f?r:f,w=f-v,x=255>>8-v<<w;i=(c[u]&x)>>w,r-=v,o+=v,o===8&&(o=0,u++)}if(r>0){for(;r>=8;)i=i<<8|c[u]&255,u++,r-=8;if(r>0){const f=8-r,v=255>>f<<f;i=i<<r|(c[u]&v)>>f,o+=r}}return this.bitOffset=o,this.byteOffset=u,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var zn;(function(I){I[I.PAD_ENCODE=0]="PAD_ENCODE",I[I.ASCII_ENCODE=1]="ASCII_ENCODE",I[I.C40_ENCODE=2]="C40_ENCODE",I[I.TEXT_ENCODE=3]="TEXT_ENCODE",I[I.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",I[I.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",I[I.BASE256_ENCODE=6]="BASE256_ENCODE"})(zn||(zn={}));class ni{static decode(r){const i=new Do(r),o=new be,u=new be,c=new Array;let f=zn.ASCII_ENCODE;do if(f===zn.ASCII_ENCODE)f=this.decodeAsciiSegment(i,o,u);else{switch(f){case zn.C40_ENCODE:this.decodeC40Segment(i,o);break;case zn.TEXT_ENCODE:this.decodeTextSegment(i,o);break;case zn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,o);break;case zn.EDIFACT_ENCODE:this.decodeEdifactSegment(i,o);break;case zn.BASE256_ENCODE:this.decodeBase256Segment(i,o,c);break;default:throw new M}f=zn.ASCII_ENCODE}while(f!==zn.PAD_ENCODE&&i.available()>0);return u.length()>0&&o.append(u.toString()),new he(r,o.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(r,i,o){let u=!1;do{let c=r.readBits(8);if(c===0)throw new M;if(c<=128)return u&&(c+=128),i.append(String.fromCharCode(c-1)),zn.ASCII_ENCODE;if(c===129)return zn.PAD_ENCODE;if(c<=229){const f=c-130;f<10&&i.append("0"),i.append(""+f)}else switch(c){case 230:return zn.C40_ENCODE;case 231:return zn.BASE256_ENCODE;case 232:i.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:u=!0;break;case 236:i.append("[)>05"),o.insert(0,"");break;case 237:i.append("[)>06"),o.insert(0,"");break;case 238:return zn.ANSIX12_ENCODE;case 239:return zn.TEXT_ENCODE;case 240:return zn.EDIFACT_ENCODE;case 241:break;default:if(c!==254||r.available()!==0)throw new M;break}}while(r.available()>0);return zn.ASCII_ENCODE}static decodeC40Segment(r,i){let o=!1;const u=[];let c=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),u);for(let v=0;v<3;v++){const w=u[v];switch(c){case 0:if(w<3)c=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[w];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else throw new M;break;case 1:o?(i.append(String.fromCharCode(w+128)),o=!1):i.append(String.fromCharCode(w)),c=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[w];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else switch(w){case 27:i.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new M}c=0;break;case 3:o?(i.append(String.fromCharCode(w+224)),o=!1):i.append(String.fromCharCode(w+96)),c=0;break;default:throw new M}}}while(r.available()>0)}static decodeTextSegment(r,i){let o=!1,u=[],c=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),u);for(let v=0;v<3;v++){const w=u[v];switch(c){case 0:if(w<3)c=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[w];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else throw new M;break;case 1:o?(i.append(String.fromCharCode(w+128)),o=!1):i.append(String.fromCharCode(w)),c=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[w];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else switch(w){case 27:i.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new M}c=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[w];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x),c=0}else throw new M;break;default:throw new M}}}while(r.available()>0)}static decodeAnsiX12Segment(r,i){const o=[];do{if(r.available()===8)return;const u=r.readBits(8);if(u===254)return;this.parseTwoBytes(u,r.readBits(8),o);for(let c=0;c<3;c++){const f=o[c];switch(f){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(f<14)i.append(String.fromCharCode(f+44));else if(f<40)i.append(String.fromCharCode(f+51));else throw new M;break}}}while(r.available()>0)}static parseTwoBytes(r,i,o){let u=(r<<8)+i-1,c=Math.floor(u/1600);o[0]=c,u-=c*1600,c=Math.floor(u/40),o[1]=c,o[2]=u-c*40}static decodeEdifactSegment(r,i){do{if(r.available()<=16)return;for(let o=0;o<4;o++){let u=r.readBits(6);if(u===31){const c=8-r.getBitOffset();c!==8&&r.readBits(c);return}(u&32)===0&&(u|=64),i.append(String.fromCharCode(u))}}while(r.available()>0)}static decodeBase256Segment(r,i,o){let u=1+r.getByteOffset();const c=this.unrandomize255State(r.readBits(8),u++);let f;if(c===0?f=r.available()/8|0:c<250?f=c:f=250*(c-249)+this.unrandomize255State(r.readBits(8),u++),f<0)throw new M;const v=new Uint8Array(f);for(let w=0;w<f;w++){if(r.available()<8)throw new M;v[w]=this.unrandomize255State(r.readBits(8),u++)}o.push(v);try{i.append(pe.decode(v,$.ISO88591))}catch(w){throw new ce("Platform does not support required encoding: "+w.message)}}static unrandomize255State(r,i){const o=149*i%255+1,u=r-o;return u>=0?u:u+256}}ni.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ni.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ni.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ni.TEXT_SHIFT2_SET_CHARS=ni.C40_SHIFT2_SET_CHARS,ni.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Nl{constructor(){this.rsDecoder=new Ne(F.DATA_MATRIX_FIELD_256)}decode(r){const i=new Aa(r),o=i.getVersion(),u=i.readCodewords(),c=ds.getDataBlocks(u,o);let f=0;for(let x of c)f+=x.getNumDataCodewords();const v=new Uint8Array(f),w=c.length;for(let x=0;x<w;x++){const E=c[x],O=E.getCodewords(),R=E.getNumDataCodewords();this.correctErrors(O,R);for(let j=0;j<R;j++)v[j*w+x]=O[j]}return ni.decode(v)}correctErrors(r,i){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-i)}catch{throw new b}for(let u=0;u<i;u++)r[u]=o[u]}}class Lt{constructor(r){this.image=r,this.rectangleDetector=new Xe(this.image)}detect(){const r=this.rectangleDetector.detect();let i=this.detectSolid1(r);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new ee;i=this.shiftToModuleCenter(i);const o=i[0],u=i[1],c=i[2],f=i[3];let v=this.transitionsBetween(o,f)+1,w=this.transitionsBetween(c,f)+1;(v&1)===1&&(v+=1),(w&1)===1&&(w+=1),4*v<7*w&&4*w<7*v&&(v=w=Math.max(v,w));let x=Lt.sampleGrid(this.image,o,u,c,f,v,w);return new Le(x,[o,u,c,f])}static shiftPoint(r,i,o){let u=(i.getX()-r.getX())/(o+1),c=(i.getY()-r.getY())/(o+1);return new ye(r.getX()+u,r.getY()+c)}static moveAway(r,i,o){let u=r.getX(),c=r.getY();return u<i?u-=1:u+=1,c<o?c-=1:c+=1,new ye(u,c)}detectSolid1(r){let i=r[0],o=r[1],u=r[3],c=r[2],f=this.transitionsBetween(i,o),v=this.transitionsBetween(o,u),w=this.transitionsBetween(u,c),x=this.transitionsBetween(c,i),E=f,O=[c,i,o,u];return E>v&&(E=v,O[0]=i,O[1]=o,O[2]=u,O[3]=c),E>w&&(E=w,O[0]=o,O[1]=u,O[2]=c,O[3]=i),E>x&&(O[0]=u,O[1]=c,O[2]=i,O[3]=o),O}detectSolid2(r){let i=r[0],o=r[1],u=r[2],c=r[3],f=this.transitionsBetween(i,c),v=Lt.shiftPoint(o,u,(f+1)*4),w=Lt.shiftPoint(u,o,(f+1)*4),x=this.transitionsBetween(v,i),E=this.transitionsBetween(w,c);return x<E?(r[0]=i,r[1]=o,r[2]=u,r[3]=c):(r[0]=o,r[1]=u,r[2]=c,r[3]=i),r}correctTopRight(r){let i=r[0],o=r[1],u=r[2],c=r[3],f=this.transitionsBetween(i,c),v=this.transitionsBetween(o,c),w=Lt.shiftPoint(i,o,(v+1)*4),x=Lt.shiftPoint(u,o,(f+1)*4);f=this.transitionsBetween(w,c),v=this.transitionsBetween(x,c);let E=new ye(c.getX()+(u.getX()-o.getX())/(f+1),c.getY()+(u.getY()-o.getY())/(f+1)),O=new ye(c.getX()+(i.getX()-o.getX())/(v+1),c.getY()+(i.getY()-o.getY())/(v+1));if(!this.isValid(E))return this.isValid(O)?O:null;if(!this.isValid(O))return E;let R=this.transitionsBetween(w,E)+this.transitionsBetween(x,E),j=this.transitionsBetween(w,O)+this.transitionsBetween(x,O);return R>j?E:O}shiftToModuleCenter(r){let i=r[0],o=r[1],u=r[2],c=r[3],f=this.transitionsBetween(i,c)+1,v=this.transitionsBetween(u,c)+1,w=Lt.shiftPoint(i,o,v*4),x=Lt.shiftPoint(u,o,f*4);f=this.transitionsBetween(w,c)+1,v=this.transitionsBetween(x,c)+1,(f&1)===1&&(f+=1),(v&1)===1&&(v+=1);let E=(i.getX()+o.getX()+u.getX()+c.getX())/4,O=(i.getY()+o.getY()+u.getY()+c.getY())/4;i=Lt.moveAway(i,E,O),o=Lt.moveAway(o,E,O),u=Lt.moveAway(u,E,O),c=Lt.moveAway(c,E,O);let R,j;return w=Lt.shiftPoint(i,o,v*4),w=Lt.shiftPoint(w,c,f*4),R=Lt.shiftPoint(o,i,v*4),R=Lt.shiftPoint(R,u,f*4),x=Lt.shiftPoint(u,c,v*4),x=Lt.shiftPoint(x,o,f*4),j=Lt.shiftPoint(c,u,v*4),j=Lt.shiftPoint(j,i,f*4),[w,R,x,j]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,i,o,u,c,f,v){return Pt.getInstance().sampleGrid(r,f,v,.5,.5,f-.5,.5,f-.5,v-.5,.5,v-.5,i.getX(),i.getY(),c.getX(),c.getY(),u.getX(),u.getY(),o.getX(),o.getY())}transitionsBetween(r,i){let o=Math.trunc(r.getX()),u=Math.trunc(r.getY()),c=Math.trunc(i.getX()),f=Math.trunc(i.getY()),v=Math.abs(f-u)>Math.abs(c-o);if(v){let te=o;o=u,u=te,te=c,c=f,f=te}let w=Math.abs(c-o),x=Math.abs(f-u),E=-w/2,O=u<f?1:-1,R=o<c?1:-1,j=0,J=this.image.get(v?u:o,v?o:u);for(let te=o,fe=u;te!==c;te+=R){let Ee=this.image.get(v?fe:te,v?te:fe);if(Ee!==J&&(j++,J=Ee),E+=x,E>0){if(fe===f)break;fe+=O,E-=w}}return j}}class Oi{constructor(){this.decoder=new Nl}decode(r,i=null){let o,u;if(i!=null&&i.has(Q.PURE_BARCODE)){const x=Oi.extractPureBits(r.getBlackMatrix());o=this.decoder.decode(x),u=Oi.NO_POINTS}else{const x=new Lt(r.getBlackMatrix()).detect();o=this.decoder.decode(x.getBits()),u=x.getPoints()}const c=o.getRawBytes(),f=new it(o.getText(),c,8*c.length,u,we.DATA_MATRIX,k.currentTimeMillis()),v=o.getByteSegments();v!=null&&f.putMetadata(Me.BYTE_SEGMENTS,v);const w=o.getECLevel();return w!=null&&f.putMetadata(Me.ERROR_CORRECTION_LEVEL,w),f}reset(){}static extractPureBits(r){const i=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(i==null||o==null)throw new ee;const u=this.moduleSize(i,r);let c=i[1];const f=o[1];let v=i[0];const x=(o[0]-v+1)/u,E=(f-c+1)/u;if(x<=0||E<=0)throw new ee;const O=u/2;c+=O,v+=O;const R=new ue(x,E);for(let j=0;j<E;j++){const J=c+j*u;for(let te=0;te<x;te++)r.get(v+te*u,J)&&R.set(te,j)}return R}static moduleSize(r,i){const o=i.getWidth();let u=r[0];const c=r[1];for(;u<o&&i.get(u,c);)u++;if(u===o)throw new ee;const f=u-r[0];if(f===0)throw new ee;return f}}Oi.NO_POINTS=[];class vc extends Ze{constructor(r=500){super(new Oi,r)}}var pr;(function(I){I[I.L=0]="L",I[I.M=1]="M",I[I.Q=2]="Q",I[I.H=3]="H"})(pr||(pr={}));class wn{constructor(r,i,o){this.value=r,this.stringValue=i,this.bits=o,wn.FOR_BITS.set(o,this),wn.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return wn.L;case"M":return wn.M;case"Q":return wn.Q;case"H":return wn.H;default:throw new p(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof wn))return!1;const i=r;return this.value===i.value}static forBits(r){if(r<0||r>=wn.FOR_BITS.size)throw new y;return wn.FOR_BITS.get(r)}}wn.FOR_BITS=new Map,wn.FOR_VALUE=new Map,wn.L=new wn(pr.L,"L",1),wn.M=new wn(pr.M,"M",0),wn.Q=new wn(pr.Q,"Q",3),wn.H=new wn(pr.H,"H",2);class lr{constructor(r){this.errorCorrectionLevel=wn.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,i){return N.bitCount(r^i)}static decodeFormatInformation(r,i){const o=lr.doDecodeFormatInformation(r,i);return o!==null?o:lr.doDecodeFormatInformation(r^lr.FORMAT_INFO_MASK_QR,i^lr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,i){let o=Number.MAX_SAFE_INTEGER,u=0;for(const c of lr.FORMAT_INFO_DECODE_LOOKUP){const f=c[0];if(f===r||f===i)return new lr(c[1]);let v=lr.numBitsDiffering(r,f);v<o&&(u=c[1],o=v),r!==i&&(v=lr.numBitsDiffering(i,f),v<o&&(u=c[1],o=v))}return o<=3?new lr(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof lr))return!1;const i=r;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}lr.FORMAT_INFO_MASK_QR=21522,lr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ve{constructor(r,...i){this.ecCodewordsPerBlock=r,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const i=this.ecBlocks;for(const o of i)r+=o.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class U{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class mt{constructor(r,i,...o){this.versionNumber=r,this.alignmentPatternCenters=i,this.ecBlocks=o;let u=0;const c=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();for(const v of f)u+=v.getCount()*(v.getDataCodewords()+c);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new M;try{return this.getVersionForNumber((r-17)/4)}catch{throw new M}}static getVersionForNumber(r){if(r<1||r>40)throw new y;return mt.VERSIONS[r-1]}static decodeVersionInformation(r){let i=Number.MAX_SAFE_INTEGER,o=0;for(let u=0;u<mt.VERSION_DECODE_INFO.length;u++){const c=mt.VERSION_DECODE_INFO[u];if(c===r)return mt.getVersionForNumber(u+7);const f=lr.numBitsDiffering(r,c);f<i&&(o=u+7,i=f)}return i<=3?mt.getVersionForNumber(o):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),i=new ue(r);i.setRegion(0,0,9,9),i.setRegion(r-8,0,8,9),i.setRegion(0,r-8,9,8);const o=this.alignmentPatternCenters.length;for(let u=0;u<o;u++){const c=this.alignmentPatternCenters[u]-2;for(let f=0;f<o;f++)u===0&&(f===0||f===o-1)||u===o-1&&f===0||i.setRegion(this.alignmentPatternCenters[f]-2,c,5,5)}return i.setRegion(6,9,1,r-17),i.setRegion(9,6,r-17,1),this.versionNumber>6&&(i.setRegion(r-11,0,3,6),i.setRegion(0,r-11,6,3)),i}toString(){return""+this.versionNumber}}mt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),mt.VERSIONS=[new mt(1,new Int32Array(0),new ve(7,new U(1,19)),new ve(10,new U(1,16)),new ve(13,new U(1,13)),new ve(17,new U(1,9))),new mt(2,Int32Array.from([6,18]),new ve(10,new U(1,34)),new ve(16,new U(1,28)),new ve(22,new U(1,22)),new ve(28,new U(1,16))),new mt(3,Int32Array.from([6,22]),new ve(15,new U(1,55)),new ve(26,new U(1,44)),new ve(18,new U(2,17)),new ve(22,new U(2,13))),new mt(4,Int32Array.from([6,26]),new ve(20,new U(1,80)),new ve(18,new U(2,32)),new ve(26,new U(2,24)),new ve(16,new U(4,9))),new mt(5,Int32Array.from([6,30]),new ve(26,new U(1,108)),new ve(24,new U(2,43)),new ve(18,new U(2,15),new U(2,16)),new ve(22,new U(2,11),new U(2,12))),new mt(6,Int32Array.from([6,34]),new ve(18,new U(2,68)),new ve(16,new U(4,27)),new ve(24,new U(4,19)),new ve(28,new U(4,15))),new mt(7,Int32Array.from([6,22,38]),new ve(20,new U(2,78)),new ve(18,new U(4,31)),new ve(18,new U(2,14),new U(4,15)),new ve(26,new U(4,13),new U(1,14))),new mt(8,Int32Array.from([6,24,42]),new ve(24,new U(2,97)),new ve(22,new U(2,38),new U(2,39)),new ve(22,new U(4,18),new U(2,19)),new ve(26,new U(4,14),new U(2,15))),new mt(9,Int32Array.from([6,26,46]),new ve(30,new U(2,116)),new ve(22,new U(3,36),new U(2,37)),new ve(20,new U(4,16),new U(4,17)),new ve(24,new U(4,12),new U(4,13))),new mt(10,Int32Array.from([6,28,50]),new ve(18,new U(2,68),new U(2,69)),new ve(26,new U(4,43),new U(1,44)),new ve(24,new U(6,19),new U(2,20)),new ve(28,new U(6,15),new U(2,16))),new mt(11,Int32Array.from([6,30,54]),new ve(20,new U(4,81)),new ve(30,new U(1,50),new U(4,51)),new ve(28,new U(4,22),new U(4,23)),new ve(24,new U(3,12),new U(8,13))),new mt(12,Int32Array.from([6,32,58]),new ve(24,new U(2,92),new U(2,93)),new ve(22,new U(6,36),new U(2,37)),new ve(26,new U(4,20),new U(6,21)),new ve(28,new U(7,14),new U(4,15))),new mt(13,Int32Array.from([6,34,62]),new ve(26,new U(4,107)),new ve(22,new U(8,37),new U(1,38)),new ve(24,new U(8,20),new U(4,21)),new ve(22,new U(12,11),new U(4,12))),new mt(14,Int32Array.from([6,26,46,66]),new ve(30,new U(3,115),new U(1,116)),new ve(24,new U(4,40),new U(5,41)),new ve(20,new U(11,16),new U(5,17)),new ve(24,new U(11,12),new U(5,13))),new mt(15,Int32Array.from([6,26,48,70]),new ve(22,new U(5,87),new U(1,88)),new ve(24,new U(5,41),new U(5,42)),new ve(30,new U(5,24),new U(7,25)),new ve(24,new U(11,12),new U(7,13))),new mt(16,Int32Array.from([6,26,50,74]),new ve(24,new U(5,98),new U(1,99)),new ve(28,new U(7,45),new U(3,46)),new ve(24,new U(15,19),new U(2,20)),new ve(30,new U(3,15),new U(13,16))),new mt(17,Int32Array.from([6,30,54,78]),new ve(28,new U(1,107),new U(5,108)),new ve(28,new U(10,46),new U(1,47)),new ve(28,new U(1,22),new U(15,23)),new ve(28,new U(2,14),new U(17,15))),new mt(18,Int32Array.from([6,30,56,82]),new ve(30,new U(5,120),new U(1,121)),new ve(26,new U(9,43),new U(4,44)),new ve(28,new U(17,22),new U(1,23)),new ve(28,new U(2,14),new U(19,15))),new mt(19,Int32Array.from([6,30,58,86]),new ve(28,new U(3,113),new U(4,114)),new ve(26,new U(3,44),new U(11,45)),new ve(26,new U(17,21),new U(4,22)),new ve(26,new U(9,13),new U(16,14))),new mt(20,Int32Array.from([6,34,62,90]),new ve(28,new U(3,107),new U(5,108)),new ve(26,new U(3,41),new U(13,42)),new ve(30,new U(15,24),new U(5,25)),new ve(28,new U(15,15),new U(10,16))),new mt(21,Int32Array.from([6,28,50,72,94]),new ve(28,new U(4,116),new U(4,117)),new ve(26,new U(17,42)),new ve(28,new U(17,22),new U(6,23)),new ve(30,new U(19,16),new U(6,17))),new mt(22,Int32Array.from([6,26,50,74,98]),new ve(28,new U(2,111),new U(7,112)),new ve(28,new U(17,46)),new ve(30,new U(7,24),new U(16,25)),new ve(24,new U(34,13))),new mt(23,Int32Array.from([6,30,54,78,102]),new ve(30,new U(4,121),new U(5,122)),new ve(28,new U(4,47),new U(14,48)),new ve(30,new U(11,24),new U(14,25)),new ve(30,new U(16,15),new U(14,16))),new mt(24,Int32Array.from([6,28,54,80,106]),new ve(30,new U(6,117),new U(4,118)),new ve(28,new U(6,45),new U(14,46)),new ve(30,new U(11,24),new U(16,25)),new ve(30,new U(30,16),new U(2,17))),new mt(25,Int32Array.from([6,32,58,84,110]),new ve(26,new U(8,106),new U(4,107)),new ve(28,new U(8,47),new U(13,48)),new ve(30,new U(7,24),new U(22,25)),new ve(30,new U(22,15),new U(13,16))),new mt(26,Int32Array.from([6,30,58,86,114]),new ve(28,new U(10,114),new U(2,115)),new ve(28,new U(19,46),new U(4,47)),new ve(28,new U(28,22),new U(6,23)),new ve(30,new U(33,16),new U(4,17))),new mt(27,Int32Array.from([6,34,62,90,118]),new ve(30,new U(8,122),new U(4,123)),new ve(28,new U(22,45),new U(3,46)),new ve(30,new U(8,23),new U(26,24)),new ve(30,new U(12,15),new U(28,16))),new mt(28,Int32Array.from([6,26,50,74,98,122]),new ve(30,new U(3,117),new U(10,118)),new ve(28,new U(3,45),new U(23,46)),new ve(30,new U(4,24),new U(31,25)),new ve(30,new U(11,15),new U(31,16))),new mt(29,Int32Array.from([6,30,54,78,102,126]),new ve(30,new U(7,116),new U(7,117)),new ve(28,new U(21,45),new U(7,46)),new ve(30,new U(1,23),new U(37,24)),new ve(30,new U(19,15),new U(26,16))),new mt(30,Int32Array.from([6,26,52,78,104,130]),new ve(30,new U(5,115),new U(10,116)),new ve(28,new U(19,47),new U(10,48)),new ve(30,new U(15,24),new U(25,25)),new ve(30,new U(23,15),new U(25,16))),new mt(31,Int32Array.from([6,30,56,82,108,134]),new ve(30,new U(13,115),new U(3,116)),new ve(28,new U(2,46),new U(29,47)),new ve(30,new U(42,24),new U(1,25)),new ve(30,new U(23,15),new U(28,16))),new mt(32,Int32Array.from([6,34,60,86,112,138]),new ve(30,new U(17,115)),new ve(28,new U(10,46),new U(23,47)),new ve(30,new U(10,24),new U(35,25)),new ve(30,new U(19,15),new U(35,16))),new mt(33,Int32Array.from([6,30,58,86,114,142]),new ve(30,new U(17,115),new U(1,116)),new ve(28,new U(14,46),new U(21,47)),new ve(30,new U(29,24),new U(19,25)),new ve(30,new U(11,15),new U(46,16))),new mt(34,Int32Array.from([6,34,62,90,118,146]),new ve(30,new U(13,115),new U(6,116)),new ve(28,new U(14,46),new U(23,47)),new ve(30,new U(44,24),new U(7,25)),new ve(30,new U(59,16),new U(1,17))),new mt(35,Int32Array.from([6,30,54,78,102,126,150]),new ve(30,new U(12,121),new U(7,122)),new ve(28,new U(12,47),new U(26,48)),new ve(30,new U(39,24),new U(14,25)),new ve(30,new U(22,15),new U(41,16))),new mt(36,Int32Array.from([6,24,50,76,102,128,154]),new ve(30,new U(6,121),new U(14,122)),new ve(28,new U(6,47),new U(34,48)),new ve(30,new U(46,24),new U(10,25)),new ve(30,new U(2,15),new U(64,16))),new mt(37,Int32Array.from([6,28,54,80,106,132,158]),new ve(30,new U(17,122),new U(4,123)),new ve(28,new U(29,46),new U(14,47)),new ve(30,new U(49,24),new U(10,25)),new ve(30,new U(24,15),new U(46,16))),new mt(38,Int32Array.from([6,32,58,84,110,136,162]),new ve(30,new U(4,122),new U(18,123)),new ve(28,new U(13,46),new U(32,47)),new ve(30,new U(48,24),new U(14,25)),new ve(30,new U(42,15),new U(32,16))),new mt(39,Int32Array.from([6,26,54,82,110,138,166]),new ve(30,new U(20,117),new U(4,118)),new ve(28,new U(40,47),new U(7,48)),new ve(30,new U(43,24),new U(22,25)),new ve(30,new U(10,15),new U(67,16))),new mt(40,Int32Array.from([6,30,58,86,114,142,170]),new ve(30,new U(19,118),new U(6,119)),new ve(28,new U(18,47),new U(31,48)),new ve(30,new U(34,24),new U(34,25)),new ve(30,new U(20,15),new U(61,16)))];var Vn;(function(I){I[I.DATA_MASK_000=0]="DATA_MASK_000",I[I.DATA_MASK_001=1]="DATA_MASK_001",I[I.DATA_MASK_010=2]="DATA_MASK_010",I[I.DATA_MASK_011=3]="DATA_MASK_011",I[I.DATA_MASK_100=4]="DATA_MASK_100",I[I.DATA_MASK_101=5]="DATA_MASK_101",I[I.DATA_MASK_110=6]="DATA_MASK_110",I[I.DATA_MASK_111=7]="DATA_MASK_111"})(Vn||(Vn={}));class zr{constructor(r,i){this.value=r,this.isMasked=i}unmaskBitMatrix(r,i){for(let o=0;o<i;o++)for(let u=0;u<i;u++)this.isMasked(o,u)&&r.flip(u,o)}}zr.values=new Map([[Vn.DATA_MASK_000,new zr(Vn.DATA_MASK_000,(I,r)=>(I+r&1)===0)],[Vn.DATA_MASK_001,new zr(Vn.DATA_MASK_001,(I,r)=>(I&1)===0)],[Vn.DATA_MASK_010,new zr(Vn.DATA_MASK_010,(I,r)=>r%3===0)],[Vn.DATA_MASK_011,new zr(Vn.DATA_MASK_011,(I,r)=>(I+r)%3===0)],[Vn.DATA_MASK_100,new zr(Vn.DATA_MASK_100,(I,r)=>(Math.floor(I/2)+Math.floor(r/3)&1)===0)],[Vn.DATA_MASK_101,new zr(Vn.DATA_MASK_101,(I,r)=>I*r%6===0)],[Vn.DATA_MASK_110,new zr(Vn.DATA_MASK_110,(I,r)=>I*r%6<3)],[Vn.DATA_MASK_111,new zr(Vn.DATA_MASK_111,(I,r)=>(I+r+I*r%3&1)===0)]]);class Ta{constructor(r){const i=r.getHeight();if(i<21||(i&3)!==1)throw new M;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let c=0;c<6;c++)r=this.copyBit(c,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let c=5;c>=0;c--)r=this.copyBit(8,c,r);const i=this.bitMatrix.getHeight();let o=0;const u=i-7;for(let c=i-1;c>=u;c--)o=this.copyBit(8,c,o);for(let c=i-8;c<i;c++)o=this.copyBit(c,8,o);if(this.parsedFormatInfo=lr.decodeFormatInformation(r,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new M}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),i=Math.floor((r-17)/4);if(i<=6)return mt.getVersionForNumber(i);let o=0;const u=r-11;for(let f=5;f>=0;f--)for(let v=r-9;v>=u;v--)o=this.copyBit(v,f,o);let c=mt.decodeVersionInformation(o);if(c!==null&&c.getDimensionForVersion()===r)return this.parsedVersion=c,c;o=0;for(let f=5;f>=0;f--)for(let v=r-9;v>=u;v--)o=this.copyBit(f,v,o);if(c=mt.decodeVersionInformation(o),c!==null&&c.getDimensionForVersion()===r)return this.parsedVersion=c,c;throw new M}copyBit(r,i,o){return(this.isMirror?this.bitMatrix.get(i,r):this.bitMatrix.get(r,i))?o<<1|1:o<<1}readCodewords(){const r=this.readFormatInformation(),i=this.readVersion(),o=zr.values.get(r.getDataMask()),u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u);const c=i.buildFunctionPattern();let f=!0;const v=new Uint8Array(i.getTotalCodewords());let w=0,x=0,E=0;for(let O=u-1;O>0;O-=2){O===6&&O--;for(let R=0;R<u;R++){const j=f?u-1-R:R;for(let J=0;J<2;J++)c.get(O-J,j)||(E++,x<<=1,this.bitMatrix.get(O-J,j)&&(x|=1),E===8&&(v[w++]=x,E=0,x=0))}f=!f}if(w!==i.getTotalCodewords())throw new M;return v}remask(){if(this.parsedFormatInfo===null)return;const r=zr.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let i=0,o=r.getWidth();i<o;i++)for(let u=i+1,c=r.getHeight();u<c;u++)r.get(i,u)!==r.get(u,i)&&(r.flip(u,i),r.flip(i,u))}}class Ia{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i,o){if(r.length!==i.getTotalCodewords())throw new y;const u=i.getECBlocksForLevel(o);let c=0;const f=u.getECBlocks();for(const J of f)c+=J.getCount();const v=new Array(c);let w=0;for(const J of f)for(let te=0;te<J.getCount();te++){const fe=J.getDataCodewords(),Ee=u.getECCodewordsPerBlock()+fe;v[w++]=new Ia(fe,new Uint8Array(Ee))}const x=v[0].codewords.length;let E=v.length-1;for(;E>=0&&v[E].codewords.length!==x;)E--;E++;const O=x-u.getECCodewordsPerBlock();let R=0;for(let J=0;J<O;J++)for(let te=0;te<w;te++)v[te].codewords[J]=r[R++];for(let J=E;J<w;J++)v[J].codewords[O]=r[R++];const j=v[0].codewords.length;for(let J=O;J<j;J++)for(let te=0;te<w;te++){const fe=te<E?J:J+1;v[te].codewords[fe]=r[R++]}return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Br;(function(I){I[I.TERMINATOR=0]="TERMINATOR",I[I.NUMERIC=1]="NUMERIC",I[I.ALPHANUMERIC=2]="ALPHANUMERIC",I[I.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",I[I.BYTE=4]="BYTE",I[I.ECI=5]="ECI",I[I.KANJI=6]="KANJI",I[I.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",I[I.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",I[I.HANZI=9]="HANZI"})(Br||(Br={}));class wt{constructor(r,i,o,u){this.value=r,this.stringValue=i,this.characterCountBitsForVersions=o,this.bits=u,wt.FOR_BITS.set(u,this),wt.FOR_VALUE.set(r,this)}static forBits(r){const i=wt.FOR_BITS.get(r);if(i===void 0)throw new y;return i}getCharacterCountBits(r){const i=r.getVersionNumber();let o;return i<=9?o=0:i<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof wt))return!1;const i=r;return this.value===i.value}toString(){return this.stringValue}}wt.FOR_BITS=new Map,wt.FOR_VALUE=new Map,wt.TERMINATOR=new wt(Br.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),wt.NUMERIC=new wt(Br.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),wt.ALPHANUMERIC=new wt(Br.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),wt.STRUCTURED_APPEND=new wt(Br.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),wt.BYTE=new wt(Br.BYTE,"BYTE",Int32Array.from([8,16,16]),4),wt.ECI=new wt(Br.ECI,"ECI",Int32Array.from([0,0,0]),7),wt.KANJI=new wt(Br.KANJI,"KANJI",Int32Array.from([8,10,12]),8),wt.FNC1_FIRST_POSITION=new wt(Br.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),wt.FNC1_SECOND_POSITION=new wt(Br.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),wt.HANZI=new wt(Br.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class An{static decode(r,i,o,u){const c=new Do(r);let f=new be;const v=new Array;let w=-1,x=-1;try{let E=null,O=!1,R;do{if(c.available()<4)R=wt.TERMINATOR;else{const j=c.readBits(4);R=wt.forBits(j)}switch(R){case wt.TERMINATOR:break;case wt.FNC1_FIRST_POSITION:case wt.FNC1_SECOND_POSITION:O=!0;break;case wt.STRUCTURED_APPEND:if(c.available()<16)throw new M;w=c.readBits(8),x=c.readBits(8);break;case wt.ECI:const j=An.parseECIValue(c);if(E=L.getCharacterSetECIByValue(j),E===null)throw new M;break;case wt.HANZI:const J=c.readBits(4),te=c.readBits(R.getCharacterCountBits(i));J===An.GB2312_SUBSET&&An.decodeHanziSegment(c,f,te);break;default:const fe=c.readBits(R.getCharacterCountBits(i));switch(R){case wt.NUMERIC:An.decodeNumericSegment(c,f,fe);break;case wt.ALPHANUMERIC:An.decodeAlphanumericSegment(c,f,fe,O);break;case wt.BYTE:An.decodeByteSegment(c,f,fe,E,v,u);break;case wt.KANJI:An.decodeKanjiSegment(c,f,fe);break;default:throw new M}break}}while(R!==wt.TERMINATOR)}catch{throw new M}return new he(r,f.toString(),v.length===0?null:v,o===null?null:o.toString(),w,x)}static decodeHanziSegment(r,i,o){if(o*13>r.available())throw new M;const u=new Uint8Array(2*o);let c=0;for(;o>0;){const f=r.readBits(13);let v=f/96<<8&4294967295|f%96;v<959?v+=41377:v+=42657,u[c]=v>>8&255,u[c+1]=v&255,c+=2,o--}try{i.append(pe.decode(u,$.GB2312))}catch(f){throw new M(f)}}static decodeKanjiSegment(r,i,o){if(o*13>r.available())throw new M;const u=new Uint8Array(2*o);let c=0;for(;o>0;){const f=r.readBits(13);let v=f/192<<8&4294967295|f%192;v<7936?v+=33088:v+=49472,u[c]=v>>8,u[c+1]=v,c+=2,o--}try{i.append(pe.decode(u,$.SHIFT_JIS))}catch(f){throw new M(f)}}static decodeByteSegment(r,i,o,u,c,f){if(8*o>r.available())throw new M;const v=new Uint8Array(o);for(let x=0;x<o;x++)v[x]=r.readBits(8);let w;u===null?w=$.guessEncoding(v,f):w=u.getName();try{i.append(pe.decode(v,w))}catch(x){throw new M(x)}c.push(v)}static toAlphaNumericChar(r){if(r>=An.ALPHANUMERIC_CHARS.length)throw new M;return An.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,i,o,u){const c=i.length();for(;o>1;){if(r.available()<11)throw new M;const f=r.readBits(11);i.append(An.toAlphaNumericChar(Math.floor(f/45))),i.append(An.toAlphaNumericChar(f%45)),o-=2}if(o===1){if(r.available()<6)throw new M;i.append(An.toAlphaNumericChar(r.readBits(6)))}if(u)for(let f=c;f<i.length();f++)i.charAt(f)==="%"&&(f<i.length()-1&&i.charAt(f+1)==="%"?i.deleteCharAt(f+1):i.setCharAt(f,String.fromCharCode(29)))}static decodeNumericSegment(r,i,o){for(;o>=3;){if(r.available()<10)throw new M;const u=r.readBits(10);if(u>=1e3)throw new M;i.append(An.toAlphaNumericChar(Math.floor(u/100))),i.append(An.toAlphaNumericChar(Math.floor(u/10)%10)),i.append(An.toAlphaNumericChar(u%10)),o-=3}if(o===2){if(r.available()<7)throw new M;const u=r.readBits(7);if(u>=100)throw new M;i.append(An.toAlphaNumericChar(Math.floor(u/10))),i.append(An.toAlphaNumericChar(u%10))}else if(o===1){if(r.available()<4)throw new M;const u=r.readBits(4);if(u>=10)throw new M;i.append(An.toAlphaNumericChar(u))}}static parseECIValue(r){const i=r.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const o=r.readBits(8);return(i&63)<<8&4294967295|o}if((i&224)===192){const o=r.readBits(16);return(i&31)<<16&4294967295|o}throw new M}}An.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",An.GB2312_SUBSET=1;class Oa{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const i=r[0];r[0]=r[2],r[2]=i}}class Wr{constructor(){this.rsDecoder=new Ne(F.QR_CODE_FIELD_256)}decodeBooleanArray(r,i){return this.decodeBitMatrix(ue.parseFromBooleanArray(r),i)}decodeBitMatrix(r,i){const o=new Ta(r);let u=null;try{return this.decodeBitMatrixParser(o,i)}catch(c){u=c}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const c=this.decodeBitMatrixParser(o,i);return c.setOther(new Oa(!0)),c}catch(c){throw u!==null?u:c}}decodeBitMatrixParser(r,i){const o=r.readVersion(),u=r.readFormatInformation().getErrorCorrectionLevel(),c=r.readCodewords(),f=Ia.getDataBlocks(c,o,u);let v=0;for(const E of f)v+=E.getNumDataCodewords();const w=new Uint8Array(v);let x=0;for(const E of f){const O=E.getCodewords(),R=E.getNumDataCodewords();this.correctErrors(O,R);for(let j=0;j<R;j++)w[x++]=O[j]}return An.decode(w,o,u,i)}correctErrors(r,i){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-i)}catch{throw new b}for(let u=0;u<i;u++)r[u]=o[u]}}class js extends ye{constructor(r,i,o){super(r,i),this.estimatedModuleSize=o}aboutEquals(r,i,o){if(Math.abs(i-this.getY())<=r&&Math.abs(o-this.getX())<=r){const u=Math.abs(r-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(r,i,o){const u=(this.getX()+i)/2,c=(this.getY()+r)/2,f=(this.estimatedModuleSize+o)/2;return new js(u,c,f)}}class ko{constructor(r,i,o,u,c,f,v){this.image=r,this.startX=i,this.startY=o,this.width=u,this.height=c,this.moduleSize=f,this.resultPointCallback=v,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,i=this.height,o=this.width,u=r+o,c=this.startY+i/2,f=new Int32Array(3),v=this.image;for(let w=0;w<i;w++){const x=c+((w&1)===0?Math.floor((w+1)/2):-Math.floor((w+1)/2));f[0]=0,f[1]=0,f[2]=0;let E=r;for(;E<u&&!v.get(E,x);)E++;let O=0;for(;E<u;){if(v.get(E,x))if(O===1)f[1]++;else if(O===2){if(this.foundPatternCross(f)){const R=this.handlePossibleCenter(f,x,E);if(R!==null)return R}f[0]=f[2],f[1]=1,f[2]=0,O=1}else f[++O]++;else O===1&&O++,f[O]++;E++}if(this.foundPatternCross(f)){const R=this.handlePossibleCenter(f,x,u);if(R!==null)return R}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(r,i){return i-r[2]-r[1]/2}foundPatternCross(r){const i=this.moduleSize,o=i/2;for(let u=0;u<3;u++)if(Math.abs(i-r[u])>=o)return!1;return!0}crossCheckVertical(r,i,o,u){const c=this.image,f=c.getHeight(),v=this.crossCheckStateCount;v[0]=0,v[1]=0,v[2]=0;let w=r;for(;w>=0&&c.get(i,w)&&v[1]<=o;)v[1]++,w--;if(w<0||v[1]>o)return NaN;for(;w>=0&&!c.get(i,w)&&v[0]<=o;)v[0]++,w--;if(v[0]>o)return NaN;for(w=r+1;w<f&&c.get(i,w)&&v[1]<=o;)v[1]++,w++;if(w===f||v[1]>o)return NaN;for(;w<f&&!c.get(i,w)&&v[2]<=o;)v[2]++,w++;if(v[2]>o)return NaN;const x=v[0]+v[1]+v[2];return 5*Math.abs(x-u)>=2*u?NaN:this.foundPatternCross(v)?ko.centerFromEnd(v,w):NaN}handlePossibleCenter(r,i,o){const u=r[0]+r[1]+r[2],c=ko.centerFromEnd(r,o),f=this.crossCheckVertical(i,c,2*r[1],u);if(!isNaN(f)){const v=(r[0]+r[1]+r[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(v,f,c))return x.combineEstimate(f,c,v);const w=new js(c,f,v);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class Da extends ye{constructor(r,i,o,u){super(r,i),this.estimatedModuleSize=o,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,i,o){if(Math.abs(i-this.getY())<=r&&Math.abs(o-this.getX())<=r){const u=Math.abs(r-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(r,i,o){const u=this.count+1,c=(this.count*this.getX()+i)/u,f=(this.count*this.getY()+r)/u,v=(this.count*this.estimatedModuleSize+o)/u;return new Da(c,f,v,u)}}class mi{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class er{constructor(r,i){this.image=r,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const i=r!=null&&r.get(Q.TRY_HARDER)!==void 0,o=r!=null&&r.get(Q.PURE_BARCODE)!==void 0,u=this.image,c=u.getHeight(),f=u.getWidth();let v=Math.floor(3*c/(4*er.MAX_MODULES));(v<er.MIN_SKIP||i)&&(v=er.MIN_SKIP);let w=!1;const x=new Int32Array(5);for(let O=v-1;O<c&&!w;O+=v){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let R=0;for(let j=0;j<f;j++)if(u.get(j,O))(R&1)===1&&R++,x[R]++;else if((R&1)===0)if(R===4)if(er.foundPatternCross(x)){if(this.handlePossibleCenter(x,O,j,o)===!0)if(v=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const te=this.findRowSkip();te>x[2]&&(O+=te-x[2]-v,j=f-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,R=3;continue}R=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,R=3;else x[++R]++;else x[R]++;er.foundPatternCross(x)&&this.handlePossibleCenter(x,O,f,o)===!0&&(v=x[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const E=this.selectBestPatterns();return ye.orderBestPatterns(E),new mi(E)}static centerFromEnd(r,i){return i-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let i=0;for(let c=0;c<5;c++){const f=r[c];if(f===0)return!1;i+=f}if(i<7)return!1;const o=i/7,u=o/2;return Math.abs(o-r[0])<u&&Math.abs(o-r[1])<u&&Math.abs(3*o-r[2])<3*u&&Math.abs(o-r[3])<u&&Math.abs(o-r[4])<u}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,i,o,u){const c=this.getCrossCheckStateCount();let f=0;const v=this.image;for(;r>=f&&i>=f&&v.get(i-f,r-f);)c[2]++,f++;if(r<f||i<f)return!1;for(;r>=f&&i>=f&&!v.get(i-f,r-f)&&c[1]<=o;)c[1]++,f++;if(r<f||i<f||c[1]>o)return!1;for(;r>=f&&i>=f&&v.get(i-f,r-f)&&c[0]<=o;)c[0]++,f++;if(c[0]>o)return!1;const w=v.getHeight(),x=v.getWidth();for(f=1;r+f<w&&i+f<x&&v.get(i+f,r+f);)c[2]++,f++;if(r+f>=w||i+f>=x)return!1;for(;r+f<w&&i+f<x&&!v.get(i+f,r+f)&&c[3]<o;)c[3]++,f++;if(r+f>=w||i+f>=x||c[3]>=o)return!1;for(;r+f<w&&i+f<x&&v.get(i+f,r+f)&&c[4]<o;)c[4]++,f++;if(c[4]>=o)return!1;const E=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(E-u)<2*u&&er.foundPatternCross(c)}crossCheckVertical(r,i,o,u){const c=this.image,f=c.getHeight(),v=this.getCrossCheckStateCount();let w=r;for(;w>=0&&c.get(i,w);)v[2]++,w--;if(w<0)return NaN;for(;w>=0&&!c.get(i,w)&&v[1]<=o;)v[1]++,w--;if(w<0||v[1]>o)return NaN;for(;w>=0&&c.get(i,w)&&v[0]<=o;)v[0]++,w--;if(v[0]>o)return NaN;for(w=r+1;w<f&&c.get(i,w);)v[2]++,w++;if(w===f)return NaN;for(;w<f&&!c.get(i,w)&&v[3]<o;)v[3]++,w++;if(w===f||v[3]>=o)return NaN;for(;w<f&&c.get(i,w)&&v[4]<o;)v[4]++,w++;if(v[4]>=o)return NaN;const x=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(x-u)>=2*u?NaN:er.foundPatternCross(v)?er.centerFromEnd(v,w):NaN}crossCheckHorizontal(r,i,o,u){const c=this.image,f=c.getWidth(),v=this.getCrossCheckStateCount();let w=r;for(;w>=0&&c.get(w,i);)v[2]++,w--;if(w<0)return NaN;for(;w>=0&&!c.get(w,i)&&v[1]<=o;)v[1]++,w--;if(w<0||v[1]>o)return NaN;for(;w>=0&&c.get(w,i)&&v[0]<=o;)v[0]++,w--;if(v[0]>o)return NaN;for(w=r+1;w<f&&c.get(w,i);)v[2]++,w++;if(w===f)return NaN;for(;w<f&&!c.get(w,i)&&v[3]<o;)v[3]++,w++;if(w===f||v[3]>=o)return NaN;for(;w<f&&c.get(w,i)&&v[4]<o;)v[4]++,w++;if(v[4]>=o)return NaN;const x=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(x-u)>=u?NaN:er.foundPatternCross(v)?er.centerFromEnd(v,w):NaN}handlePossibleCenter(r,i,o,u){const c=r[0]+r[1]+r[2]+r[3]+r[4];let f=er.centerFromEnd(r,o),v=this.crossCheckVertical(i,Math.floor(f),r[2],c);if(!isNaN(v)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(v),r[2],c),!isNaN(f)&&(!u||this.crossCheckDiagonal(Math.floor(v),Math.floor(f),r[2],c)))){const w=c/7;let x=!1;const E=this.possibleCenters;for(let O=0,R=E.length;O<R;O++){const j=E[O];if(j.aboutEquals(w,v,f)){E[O]=j.combineEstimate(v,f,w),x=!0;break}}if(!x){const O=new Da(f,v,w);E.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const o of this.possibleCenters)if(o.getCount()>=er.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,i=0;const o=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=er.CENTER_QUORUM&&(r++,i+=f.getEstimatedModuleSize());if(r<3)return!1;const u=i/o;let c=0;for(const f of this.possibleCenters)c+=Math.abs(f.getEstimatedModuleSize()-u);return c<=.05*i}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new ee;const i=this.possibleCenters;let o;if(r>3){let u=0,c=0;for(const w of this.possibleCenters){const x=w.getEstimatedModuleSize();u+=x,c+=x*x}o=u/r;let f=Math.sqrt(c/r-o*o);i.sort((w,x)=>{const E=Math.abs(x.getEstimatedModuleSize()-o),O=Math.abs(w.getEstimatedModuleSize()-o);return E<O?-1:E>O?1:0});const v=Math.max(.2*o,f);for(let w=0;w<i.length&&i.length>3;w++){const x=i[w];Math.abs(x.getEstimatedModuleSize()-o)>v&&(i.splice(w,1),w--)}}if(i.length>3){let u=0;for(const c of i)u+=c.getEstimatedModuleSize();o=u/i.length,i.sort((c,f)=>{if(f.getCount()===c.getCount()){const v=Math.abs(f.getEstimatedModuleSize()-o),w=Math.abs(c.getEstimatedModuleSize()-o);return v<w?1:v>w?-1:0}else return f.getCount()-c.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}er.CENTER_QUORUM=2,er.MIN_SKIP=3,er.MAX_MODULES=57;class Hs{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(Q.NEED_RESULT_POINT_CALLBACK);const o=new er(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(o)}processFinderPatternInfo(r){const i=r.getTopLeft(),o=r.getTopRight(),u=r.getBottomLeft(),c=this.calculateModuleSize(i,o,u);if(c<1)throw new ee("No pattern found in proccess finder.");const f=Hs.computeDimension(i,o,u,c),v=mt.getProvisionalVersionForDimension(f),w=v.getDimensionForVersion()-7;let x=null;if(v.getAlignmentPatternCenters().length>0){const j=o.getX()-i.getX()+u.getX(),J=o.getY()-i.getY()+u.getY(),te=1-3/w,fe=Math.floor(i.getX()+te*(j-i.getX())),Ee=Math.floor(i.getY()+te*(J-i.getY()));for(let je=4;je<=16;je<<=1)try{x=this.findAlignmentInRegion(c,fe,Ee,je);break}catch(Ge){if(!(Ge instanceof ee))throw Ge}}const E=Hs.createTransform(i,o,u,x,f),O=Hs.sampleGrid(this.image,E,f);let R;return x===null?R=[u,i,o]:R=[u,i,o,x],new Le(O,R)}static createTransform(r,i,o,u,c){const f=c-3.5;let v,w,x,E;return u!==null?(v=u.getX(),w=u.getY(),x=f-3,E=x):(v=i.getX()-r.getX()+o.getX(),w=i.getY()-r.getY()+o.getY(),x=f,E=f),ot.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,x,E,3.5,f,r.getX(),r.getY(),i.getX(),i.getY(),v,w,o.getX(),o.getY())}static sampleGrid(r,i,o){return Pt.getInstance().sampleGridWithTransform(r,o,o,i)}static computeDimension(r,i,o,u){const c=Pe.round(ye.distance(r,i)/u),f=Pe.round(ye.distance(r,o)/u);let v=Math.floor((c+f)/2)+7;switch(v&3){case 0:v++;break;case 2:v--;break;case 3:throw new ee("Dimensions could be not found.")}return v}calculateModuleSize(r,i,o){return(this.calculateModuleSizeOneWay(r,i)+this.calculateModuleSizeOneWay(r,o))/2}calculateModuleSizeOneWay(r,i){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(i.getX()),Math.floor(i.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(o)?u/7:isNaN(u)?o/7:(o+u)/14}sizeOfBlackWhiteBlackRunBothWays(r,i,o,u){let c=this.sizeOfBlackWhiteBlackRun(r,i,o,u),f=1,v=r-(o-r);v<0?(f=r/(r-v),v=0):v>=this.image.getWidth()&&(f=(this.image.getWidth()-1-r)/(v-r),v=this.image.getWidth()-1);let w=Math.floor(i-(u-i)*f);return f=1,w<0?(f=i/(i-w),w=0):w>=this.image.getHeight()&&(f=(this.image.getHeight()-1-i)/(w-i),w=this.image.getHeight()-1),v=Math.floor(r+(v-r)*f),c+=this.sizeOfBlackWhiteBlackRun(r,i,v,w),c-1}sizeOfBlackWhiteBlackRun(r,i,o,u){const c=Math.abs(u-i)>Math.abs(o-r);if(c){let j=r;r=i,i=j,j=o,o=u,u=j}const f=Math.abs(o-r),v=Math.abs(u-i);let w=-f/2;const x=r<o?1:-1,E=i<u?1:-1;let O=0;const R=o+x;for(let j=r,J=i;j!==R;j+=x){const te=c?J:j,fe=c?j:J;if(O===1===this.image.get(te,fe)){if(O===2)return Pe.distance(j,J,r,i);O++}if(w+=v,w>0){if(J===u)break;J+=E,w-=f}}return O===2?Pe.distance(o+x,u,r,i):NaN}findAlignmentInRegion(r,i,o,u){const c=Math.floor(u*r),f=Math.max(0,i-c),v=Math.min(this.image.getWidth()-1,i+c);if(v-f<r*3)throw new ee("Alignment top exceeds estimated module size.");const w=Math.max(0,o-c),x=Math.min(this.image.getHeight()-1,o+c);if(x-w<r*3)throw new ee("Alignment bottom exceeds estimated module size.");return new ko(this.image,f,w,v-f,x-w,r,this.resultPointCallback).find()}}class Di{constructor(){this.decoder=new Wr}getDecoder(){return this.decoder}decode(r,i){let o,u;if(i!=null&&i.get(Q.PURE_BARCODE)!==void 0){const w=Di.extractPureBits(r.getBlackMatrix());o=this.decoder.decodeBitMatrix(w,i),u=Di.NO_POINTS}else{const w=new Hs(r.getBlackMatrix()).detect(i);o=this.decoder.decodeBitMatrix(w.getBits(),i),u=w.getPoints()}o.getOther()instanceof Oa&&o.getOther().applyMirroredCorrection(u);const c=new it(o.getText(),o.getRawBytes(),void 0,u,we.QR_CODE,void 0),f=o.getByteSegments();f!==null&&c.putMetadata(Me.BYTE_SEGMENTS,f);const v=o.getECLevel();return v!==null&&c.putMetadata(Me.ERROR_CORRECTION_LEVEL,v),o.hasStructuredAppend()&&(c.putMetadata(Me.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),c.putMetadata(Me.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),c}reset(){}static extractPureBits(r){const i=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(i===null||o===null)throw new ee;const u=this.moduleSize(i,r);let c=i[1],f=o[1],v=i[0],w=o[0];if(v>=w||c>=f)throw new ee;if(f-c!==w-v&&(w=v+(f-c),w>=r.getWidth()))throw new ee;const x=Math.round((w-v+1)/u),E=Math.round((f-c+1)/u);if(x<=0||E<=0)throw new ee;if(E!==x)throw new ee;const O=Math.floor(u/2);c+=O,v+=O;const R=v+Math.floor((x-1)*u)-w;if(R>0){if(R>O)throw new ee;v-=R}const j=c+Math.floor((E-1)*u)-f;if(j>0){if(j>O)throw new ee;c-=j}const J=new ue(x,E);for(let te=0;te<E;te++){const fe=c+Math.floor(te*u);for(let Ee=0;Ee<x;Ee++)r.get(v+Math.floor(Ee*u),fe)&&J.set(Ee,te)}return J}static moduleSize(r,i){const o=i.getHeight(),u=i.getWidth();let c=r[0],f=r[1],v=!0,w=0;for(;c<u&&f<o;){if(v!==i.get(c,f)){if(++w===5)break;v=!v}c++,f++}if(c===u||f===o)throw new ee;return(c-r[0])/7}}Di.NO_POINTS=new Array;class xt{PDF417Common(){}static getBitCountSum(r){return Pe.sum(r)}static toIntArray(r){if(r==null||!r.length)return xt.EMPTY_INT_ARRAY;const i=new Int32Array(r.length);let o=0;for(const u of r)i[o++]=u;return i}static getCodeword(r){const i=Y.binarySearch(xt.SYMBOL_TABLE,r&262143);return i<0?-1:(xt.CODEWORD_TABLE[i]-1)%xt.NUMBER_OF_CODEWORDS}}xt.NUMBER_OF_CODEWORDS=929,xt.MAX_CODEWORDS_IN_BARCODE=xt.NUMBER_OF_CODEWORDS-1,xt.MIN_ROWS_IN_BARCODE=3,xt.MAX_ROWS_IN_BARCODE=90,xt.MODULES_IN_CODEWORD=17,xt.MODULES_IN_STOP_PATTERN=18,xt.BARS_IN_MODULE=8,xt.EMPTY_INT_ARRAY=new Int32Array([]),xt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),xt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class pc{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Bt{static detectMultiple(r,i,o){let u=r.getBlackMatrix(),c=Bt.detect(o,u);return c.length||(u=u.clone(),u.rotate180(),c=Bt.detect(o,u)),new pc(u,c)}static detect(r,i){const o=new Array;let u=0,c=0,f=!1;for(;u<i.getHeight();){const v=Bt.findVertices(i,u,c);if(v[0]==null&&v[3]==null){if(!f)break;f=!1,c=0;for(const w of o)w[1]!=null&&(u=Math.trunc(Math.max(u,w[1].getY()))),w[3]!=null&&(u=Math.max(u,Math.trunc(w[3].getY())));u+=Bt.ROW_STEP;continue}if(f=!0,o.push(v),!r)break;v[2]!=null?(c=Math.trunc(v[2].getX()),u=Math.trunc(v[2].getY())):(c=Math.trunc(v[4].getX()),u=Math.trunc(v[4].getY()))}return o}static findVertices(r,i,o){const u=r.getHeight(),c=r.getWidth(),f=new Array(8);return Bt.copyToResult(f,Bt.findRowsWithPattern(r,u,c,i,o,Bt.START_PATTERN),Bt.INDEXES_START_PATTERN),f[4]!=null&&(o=Math.trunc(f[4].getX()),i=Math.trunc(f[4].getY())),Bt.copyToResult(f,Bt.findRowsWithPattern(r,u,c,i,o,Bt.STOP_PATTERN),Bt.INDEXES_STOP_PATTERN),f}static copyToResult(r,i,o){for(let u=0;u<o.length;u++)r[o[u]]=i[u]}static findRowsWithPattern(r,i,o,u,c,f){const v=new Array(4);let w=!1;const x=new Int32Array(f.length);for(;u<i;u+=Bt.ROW_STEP){let O=Bt.findGuardPattern(r,c,u,o,!1,f,x);if(O!=null){for(;u>0;){const R=Bt.findGuardPattern(r,c,--u,o,!1,f,x);if(R!=null)O=R;else{u++;break}}v[0]=new ye(O[0],u),v[1]=new ye(O[1],u),w=!0;break}}let E=u+1;if(w){let O=0,R=Int32Array.from([Math.trunc(v[0].getX()),Math.trunc(v[1].getX())]);for(;E<i;E++){const j=Bt.findGuardPattern(r,R[0],E,o,!1,f,x);if(j!=null&&Math.abs(R[0]-j[0])<Bt.MAX_PATTERN_DRIFT&&Math.abs(R[1]-j[1])<Bt.MAX_PATTERN_DRIFT)R=j,O=0;else{if(O>Bt.SKIPPED_ROW_COUNT_MAX)break;O++}}E-=O+1,v[2]=new ye(R[0],E),v[3]=new ye(R[1],E)}return E-u<Bt.BARCODE_MIN_HEIGHT&&Y.fill(v,null),v}static findGuardPattern(r,i,o,u,c,f,v){Y.fillWithin(v,0,v.length,0);let w=i,x=0;for(;r.get(w,o)&&w>0&&x++<Bt.MAX_PIXEL_DRIFT;)w--;let E=w,O=0,R=f.length;for(let j=c;E<u;E++)if(r.get(E,o)!==j)v[O]++;else{if(O===R-1){if(Bt.patternMatchVariance(v,f,Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE)return new Int32Array([w,E]);w+=v[0]+v[1],k.arraycopy(v,2,v,0,O-1),v[O-1]=0,v[O]=0,O--}else O++;v[O]=1,j=!j}return O===R-1&&Bt.patternMatchVariance(v,f,Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE?new Int32Array([w,E-1]):null}static patternMatchVariance(r,i,o){let u=r.length,c=0,f=0;for(let x=0;x<u;x++)c+=r[x],f+=i[x];if(c<f)return 1/0;let v=c/f;o*=v;let w=0;for(let x=0;x<u;x++){let E=r[x],O=i[x]*v,R=E>O?E-O:O-E;if(R>o)return 1/0;w+=R}return w/c}}Bt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Bt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Bt.MAX_AVG_VARIANCE=.42,Bt.MAX_INDIVIDUAL_VARIANCE=.8,Bt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Bt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Bt.MAX_PIXEL_DRIFT=3,Bt.MAX_PATTERN_DRIFT=5,Bt.SKIPPED_ROW_COUNT_MAX=25,Bt.ROW_STEP=5,Bt.BARCODE_MIN_HEIGHT=10;class ur{constructor(r,i){if(i.length===0)throw new y;this.field=r;let o=i.length;if(o>1&&i[0]===0){let u=1;for(;u<o&&i[u]===0;)u++;u===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-u),k.arraycopy(i,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let u=0;for(let c of this.coefficients)u=this.field.add(u,c);return u}let i=this.coefficients[0],o=this.coefficients.length;for(let u=1;u<o;u++)i=this.field.add(this.field.multiply(r,i),this.coefficients[u]);return i}add(r){if(!this.field.equals(r.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,o=r.coefficients;if(i.length>o.length){let f=i;i=o,o=f}let u=new Int32Array(o.length),c=o.length-i.length;k.arraycopy(o,0,u,0,c);for(let f=c;f<o.length;f++)u[f]=this.field.add(i[f-c],o[f]);return new ur(this.field,u)}subtract(r){if(!this.field.equals(r.field))throw new y("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof ur?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new ur(this.field,new Int32Array([0]));let i=this.coefficients,o=i.length,u=r.coefficients,c=u.length,f=new Int32Array(o+c-1);for(let v=0;v<o;v++){let w=i[v];for(let x=0;x<c;x++)f[v+x]=this.field.add(f[v+x],this.field.multiply(w,u[x]))}return new ur(this.field,f)}negative(){let r=this.coefficients.length,i=new Int32Array(r);for(let o=0;o<r;o++)i[o]=this.field.subtract(0,this.coefficients[o]);return new ur(this.field,i)}multiplyScalar(r){if(r===0)return new ur(this.field,new Int32Array([0]));if(r===1)return this;let i=this.coefficients.length,o=new Int32Array(i);for(let u=0;u<i;u++)o[u]=this.field.multiply(this.coefficients[u],r);return new ur(this.field,o)}multiplyByMonomial(r,i){if(r<0)throw new y;if(i===0)return new ur(this.field,new Int32Array([0]));let o=this.coefficients.length,u=new Int32Array(o+r);for(let c=0;c<o;c++)u[c]=this.field.multiply(this.coefficients[c],i);return new ur(this.field,u)}toString(){let r=new be;for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);o!==0&&(o<0?(r.append(" - "),o=-o):r.length()>0&&r.append(" + "),(i===0||o!==1)&&r.append(o),i!==0&&(i===1?r.append("x"):(r.append("x^"),r.append(i))))}return r.toString()}}class wc{add(r,i){return(r+i)%this.modulus}subtract(r,i){return(this.modulus+r-i)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new y;return this.logTable[r]}inverse(r){if(r===0)throw new pt;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class ka extends wc{constructor(r,i){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let o=1;for(let u=0;u<r;u++)this.expTable[u]=o,o=o*i%r;for(let u=0;u<r-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new ur(this,new Int32Array([0])),this.one=new ur(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new y;if(i===0)return this.zero;let o=new Int32Array(r+1);return o[0]=i,new ur(this,o)}}ka.PDF417_GF=new ka(xt.NUMBER_OF_CODEWORDS,3);class Pl{constructor(){this.field=ka.PDF417_GF}decode(r,i,o){let u=new ur(this.field,r),c=new Int32Array(i),f=!1;for(let J=i;J>0;J--){let te=u.evaluateAt(this.field.exp(J));c[i-J]=te,te!==0&&(f=!0)}if(!f)return 0;let v=this.field.getOne();if(o!=null)for(const J of o){let te=this.field.exp(r.length-1-J),fe=new ur(this.field,new Int32Array([this.field.subtract(0,te),1]));v=v.multiply(fe)}let w=new ur(this.field,c),x=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),w,i),E=x[0],O=x[1],R=this.findErrorLocations(E),j=this.findErrorMagnitudes(O,E,R);for(let J=0;J<R.length;J++){let te=r.length-1-this.field.log(R[J]);if(te<0)throw b.getChecksumInstance();r[te]=this.field.subtract(r[te],j[J])}return R.length}runEuclideanAlgorithm(r,i,o){if(r.getDegree()<i.getDegree()){let R=r;r=i,i=R}let u=r,c=i,f=this.field.getZero(),v=this.field.getOne();for(;c.getDegree()>=Math.round(o/2);){let R=u,j=f;if(u=c,f=v,u.isZero())throw b.getChecksumInstance();c=R;let J=this.field.getZero(),te=u.getCoefficient(u.getDegree()),fe=this.field.inverse(te);for(;c.getDegree()>=u.getDegree()&&!c.isZero();){let Ee=c.getDegree()-u.getDegree(),je=this.field.multiply(c.getCoefficient(c.getDegree()),fe);J=J.add(this.field.buildMonomial(Ee,je)),c=c.subtract(u.multiplyByMonomial(Ee,je))}v=J.multiply(f).subtract(j).negative()}let w=v.getCoefficient(0);if(w===0)throw b.getChecksumInstance();let x=this.field.inverse(w),E=v.multiply(x),O=c.multiply(x);return[E,O]}findErrorLocations(r){let i=r.getDegree(),o=new Int32Array(i),u=0;for(let c=1;c<this.field.getSize()&&u<i;c++)r.evaluateAt(c)===0&&(o[u]=this.field.inverse(c),u++);if(u!==i)throw b.getChecksumInstance();return o}findErrorMagnitudes(r,i,o){let u=i.getDegree(),c=new Int32Array(u);for(let x=1;x<=u;x++)c[u-x]=this.field.multiply(x,i.getCoefficient(x));let f=new ur(this.field,c),v=o.length,w=new Int32Array(v);for(let x=0;x<v;x++){let E=this.field.inverse(o[x]),O=this.field.subtract(0,r.evaluateAt(E)),R=this.field.inverse(f.evaluateAt(E));w[x]=this.field.multiply(O,R)}return w}}class Hi{constructor(r,i,o,u,c){r instanceof Hi?this.constructor_2(r):this.constructor_1(r,i,o,u,c)}constructor_1(r,i,o,u,c){const f=i==null||o==null,v=u==null||c==null;if(f&&v)throw new ee;f?(i=new ye(0,u.getY()),o=new ye(0,c.getY())):v&&(u=new ye(r.getWidth()-1,i.getY()),c=new ye(r.getWidth()-1,o.getY())),this.image=r,this.topLeft=i,this.bottomLeft=o,this.topRight=u,this.bottomRight=c,this.minX=Math.trunc(Math.min(i.getX(),o.getX())),this.maxX=Math.trunc(Math.max(u.getX(),c.getX())),this.minY=Math.trunc(Math.min(i.getY(),u.getY())),this.maxY=Math.trunc(Math.max(o.getY(),c.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,i){return r==null?i:i==null?r:new Hi(r.image,r.topLeft,r.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(r,i,o){let u=this.topLeft,c=this.bottomLeft,f=this.topRight,v=this.bottomRight;if(r>0){let w=o?this.topLeft:this.topRight,x=Math.trunc(w.getY()-r);x<0&&(x=0);let E=new ye(w.getX(),x);o?u=E:f=E}if(i>0){let w=o?this.bottomLeft:this.bottomRight,x=Math.trunc(w.getY()+i);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let E=new ye(w.getX(),x);o?c=E:v=E}return new Hi(this.image,u,c,f,v)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class yc{constructor(r,i,o,u){this.columnCount=r,this.errorCorrectionLevel=u,this.rowCountUpperPart=i,this.rowCountLowerPart=o,this.rowCount=i+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class fs{constructor(){this.buffer=""}static form(r,i){let o=-1;function u(f,v,w,x,E,O){if(f==="%%")return"%";if(i[++o]===void 0)return;f=x?parseInt(x.substr(1)):void 0;let R=E?parseInt(E.substr(1)):void 0,j;switch(O){case"s":j=i[o];break;case"c":j=i[o][0];break;case"f":j=parseFloat(i[o]).toFixed(f);break;case"p":j=parseFloat(i[o]).toPrecision(f);break;case"e":j=parseFloat(i[o]).toExponential(f);break;case"x":j=parseInt(i[o]).toString(R||16);break;case"d":j=parseFloat(parseInt(i[o],R||10).toPrecision(f)).toFixed(0);break}j=typeof j=="object"?JSON.stringify(j):(+j).toString(R);let J=parseInt(w),te=w&&w[0]+""=="0"?"0":" ";for(;j.length<J;)j=v!==void 0?j+te:te+j;return j}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(c,u)}format(r,...i){this.buffer+=fs.form(r,i)}toString(){return this.buffer}}class zs{constructor(r){this.boundingBox=new Hi(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let i=this.getCodeword(r);if(i!=null)return i;for(let o=1;o<zs.MAX_NEARBY_DISTANCE;o++){let u=this.imageRowToCodewordIndex(r)-o;if(u>=0&&(i=this.codewords[u],i!=null)||(u=this.imageRowToCodewordIndex(r)+o,u<this.codewords.length&&(i=this.codewords[u],i!=null)))return i}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,i){this.codewords[this.imageRowToCodewordIndex(r)]=i}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new fs;let i=0;for(const o of this.codewords){if(o==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}return r.toString()}}zs.MAX_NEARBY_DISTANCE=5;class hs{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let i=this.values.get(r);i==null&&(i=0),i++,this.values.set(r,i)}getValue(){let r=-1,i=new Array;for(const[o,u]of this.values.entries()){const c={getKey:()=>o,getValue:()=>u};c.getValue()>r?(r=c.getValue(),i=[],i.push(c.getKey())):c.getValue()===r&&i.push(c.getKey())}return xt.toIntArray(i)}getConfidence(r){return this.values.get(r)}}class Ra extends zs{constructor(r,i){super(r),this._isLeft=i}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,r);let o=this.getBoundingBox(),u=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),v=this.imageRowToCodewordIndex(Math.trunc(c.getY())),w=-1,x=1,E=0;for(let O=f;O<v;O++){if(i[O]==null)continue;let R=i[O],j=R.getRowNumber()-w;if(j===0)E++;else if(j===1)x=Math.max(x,E),E=1,w=R.getRowNumber();else if(j<0||R.getRowNumber()>=r.getRowCount()||j>O)i[O]=null;else{let J;x>2?J=(x-2)*j:J=j;let te=J>=O;for(let fe=1;fe<=J&&!te;fe++)te=i[O-fe]!=null;te?i[O]=null:(w=R.getRowNumber(),E=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let i=new Int32Array(r.getRowCount());for(let o of this.getCodewords())if(o!=null){let u=o.getRowNumber();if(u>=i.length)continue;i[u]++}return i}adjustIncompleteIndicatorColumnRowNumbers(r){let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),u=this._isLeft?i.getBottomLeft():i.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),v=this.getCodewords(),w=-1;for(let x=c;x<f;x++){if(v[x]==null)continue;let E=v[x];E.setRowNumberAsRowIndicatorColumn();let O=E.getRowNumber()-w;O===0||(O===1?w=E.getRowNumber():E.getRowNumber()>=r.getRowCount()?v[x]=null:w=E.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),i=new hs,o=new hs,u=new hs,c=new hs;for(let v of r){if(v==null)continue;v.setRowNumberAsRowIndicatorColumn();let w=v.getValue()%30,x=v.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:o.setValue(w*3+1);break;case 1:c.setValue(w/3),u.setValue(w%3);break;case 2:i.setValue(w+1);break}}if(i.getValue().length===0||o.getValue().length===0||u.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+u.getValue()[0]<xt.MIN_ROWS_IN_BARCODE||o.getValue()[0]+u.getValue()[0]>xt.MAX_ROWS_IN_BARCODE)return null;let f=new yc(i.getValue()[0],o.getValue()[0],u.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(r,f),f}removeIncorrectCodewords(r,i){for(let o=0;o<r.length;o++){let u=r[o];if(r[o]==null)continue;let c=u.getValue()%30,f=u.getRowNumber();if(f>i.getRowCount()){r[o]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:c*3+1!==i.getRowCountUpperPart()&&(r[o]=null);break;case 1:(Math.trunc(c/3)!==i.getErrorCorrectionLevel()||c%3!==i.getRowCountLowerPart())&&(r[o]=null);break;case 2:c+1!==i.getColumnCount()&&(r[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ws{constructor(r,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=xt.MAX_CODEWORDS_IN_BARCODE,i;do i=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let o=this.detectionResultColumns[i].getCodewords();for(let u=0;u<o.length;u++)o[u]!=null&&(o[u].hasValidRowNumber()||this.adjustRowNumbers(i,u,o))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++)if(r[o]!=null&&i[o]!=null&&r[o].getRowNumber()===i[o].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let c=this.detectionResultColumns[u].getCodewords()[o];c!=null&&(c.setRowNumber(r[o].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let u=i[o].getRowNumber(),c=0;for(let f=this.barcodeColumnCount+1;f>0&&c<this.ADJUST_ROW_NUMBER_SKIP;f--){let v=this.detectionResultColumns[f].getCodewords()[o];v!=null&&(c=Ws.adjustRowNumberIfValid(u,c,v),v.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,i=this.detectionResultColumns[0].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let u=i[o].getRowNumber(),c=0;for(let f=1;f<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;f++){let v=this.detectionResultColumns[f].getCodewords()[o];v!=null&&(c=Ws.adjustRowNumberIfValid(u,c,v),v.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,i,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(r)?(o.setRowNumber(r),i=0):++i),i}adjustRowNumbers(r,i,o){if(!this.detectionResultColumns[r-1])return;let u=o[i],c=this.detectionResultColumns[r-1].getCodewords(),f=c;this.detectionResultColumns[r+1]!=null&&(f=this.detectionResultColumns[r+1].getCodewords());let v=new Array(14);v[2]=c[i],v[3]=f[i],i>0&&(v[0]=o[i-1],v[4]=c[i-1],v[5]=f[i-1]),i>1&&(v[8]=o[i-2],v[10]=c[i-2],v[11]=f[i-2]),i<o.length-1&&(v[1]=o[i+1],v[6]=c[i+1],v[7]=f[i+1]),i<o.length-2&&(v[9]=o[i+2],v[12]=c[i+2],v[13]=f[i+2]);for(let w of v)if(Ws.adjustRowNumber(u,w))return}static adjustRowNumber(r,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===r.getBucket()?(r.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,i){this.detectionResultColumns[r]=i}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new fs;for(let o=0;o<r.getCodewords().length;o++){i.format("CW %3d:",o);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){i.format("    |   ");continue}let c=this.detectionResultColumns[u].getCodewords()[o];if(c==null){i.format("    |   ");continue}i.format(" %3d|%3d",c.getRowNumber(),c.getValue())}i.format("%n")}return i.toString()}}class zi{constructor(r,i,o,u){this.rowNumber=zi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(i),this.bucket=Math.trunc(o),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==zi.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}zi.BARCODE_ROW_UNKNOWN=-1;class Dr{static initialize(){for(let r=0;r<xt.SYMBOL_TABLE.length;r++){let i=xt.SYMBOL_TABLE[r],o=i&1;for(let u=0;u<xt.BARS_IN_MODULE;u++){let c=0;for(;(i&1)===o;)c+=1,i>>=1;o=i&1,Dr.RATIOS_TABLE[r]||(Dr.RATIOS_TABLE[r]=new Array(xt.BARS_IN_MODULE)),Dr.RATIOS_TABLE[r][xt.BARS_IN_MODULE-u-1]=Math.fround(c/xt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let i=Dr.getDecodedCodewordValue(Dr.sampleBitCounts(r));return i!==-1?i:Dr.getClosestDecodedValue(r)}static sampleBitCounts(r){let i=Pe.sum(r),o=new Int32Array(xt.BARS_IN_MODULE),u=0,c=0;for(let f=0;f<xt.MODULES_IN_CODEWORD;f++){let v=i/(2*xt.MODULES_IN_CODEWORD)+f*i/xt.MODULES_IN_CODEWORD;c+r[u]<=v&&(c+=r[u],u++),o[u]++}return o}static getDecodedCodewordValue(r){let i=Dr.getBitValue(r);return xt.getCodeword(i)===-1?-1:i}static getBitValue(r){let i=0;for(let o=0;o<r.length;o++)for(let u=0;u<r[o];u++)i=i<<1|(o%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(r){let i=Pe.sum(r),o=new Array(xt.BARS_IN_MODULE);if(i>1)for(let f=0;f<o.length;f++)o[f]=Math.fround(r[f]/i);let u=He.MAX_VALUE,c=-1;this.bSymbolTableReady||Dr.initialize();for(let f=0;f<Dr.RATIOS_TABLE.length;f++){let v=0,w=Dr.RATIOS_TABLE[f];for(let x=0;x<xt.BARS_IN_MODULE;x++){let E=Math.fround(w[x]-o[x]);if(v+=Math.fround(E*E),v>=u)break}v<u&&(u=v,c=xt.SYMBOL_TABLE[f])}return c}}Dr.bSymbolTableReady=!1,Dr.RATIOS_TABLE=new Array(xt.SYMBOL_TABLE.length).map(I=>new Array(xt.BARS_IN_MODULE));class Ma{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class Ll{static parseLong(r,i=void 0){return parseInt(r,i)}}class Bl extends m{}Bl.kind="NullPointerException";class xc{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,i,o){if(r==null)throw new Bl;if(i<0||i>r.length||o<0||i+o>r.length||i+o<0)throw new q;if(o===0)return;for(let u=0;u<o;u++)this.write(r[i+u])}flush(){}close(){}}class bc extends m{}class _c extends xc{constructor(r=32){if(super(),this.count=0,r<0)throw new y("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let o=this.buf.length<<1;if(o-r<0&&(o=r),o<0){if(r<0)throw new bc;o=N.MAX_VALUE}this.buf=Y.copyOfUint8Array(this.buf,o)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,i,o){if(i<0||i>r.length||o<0||i+o-r.length>0)throw new q;this.ensureCapacity(this.count+o),k.arraycopy(r,i,this.buf,this.count,o),this.count+=o}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Y.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var dn;(function(I){I[I.ALPHA=0]="ALPHA",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.PUNCT=3]="PUNCT",I[I.ALPHA_SHIFT=4]="ALPHA_SHIFT",I[I.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(dn||(dn={}));function Fl(){if(typeof window!="undefined")return window.BigInt||null;if(typeof Ar!="undefined")return Ar.BigInt||null;if(typeof self!="undefined")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ro;function ki(I){if(typeof Ro=="undefined"&&(Ro=Fl()),Ro===null)throw new Error("BigInt is not supported!");return Ro(I)}function Cc(){let I=[];I[0]=ki(1);let r=ki(900);I[1]=r;for(let i=2;i<16;i++)I[i]=I[i-1]*r;return I}class Ce{static decode(r,i){let o=new be(""),u=L.ISO8859_1;o.enableDecoding(u);let c=1,f=r[c++],v=new Ma;for(;c<r[0];){switch(f){case Ce.TEXT_COMPACTION_MODE_LATCH:c=Ce.textCompaction(r,c,o);break;case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:c=Ce.byteCompaction(f,r,u,c,o);break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[c++]);break;case Ce.NUMERIC_COMPACTION_MODE_LATCH:c=Ce.numericCompaction(r,c,o);break;case Ce.ECI_CHARSET:L.getCharacterSetECIByValue(r[c++]);break;case Ce.ECI_GENERAL_PURPOSE:c+=2;break;case Ce.ECI_USER_DEFINED:c++;break;case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=Ce.decodeMacroBlock(r,c,v);break;case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:throw new M;default:c--,c=Ce.textCompaction(r,c,o);break}if(c<r.length)f=r[c++];else throw M.getFormatInstance()}if(o.length()===0)throw M.getFormatInstance();let w=new he(null,o.toString(),null,i);return w.setOther(v),w}static decodeMacroBlock(r,i,o){if(i+Ce.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw M.getFormatInstance();let u=new Int32Array(Ce.NUMBER_OF_SEQUENCE_CODEWORDS);for(let v=0;v<Ce.NUMBER_OF_SEQUENCE_CODEWORDS;v++,i++)u[v]=r[i];o.setSegmentIndex(N.parseInt(Ce.decodeBase900toBase10(u,Ce.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new be;i=Ce.textCompaction(r,i,c),o.setFileId(c.toString());let f=-1;for(r[i]===Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=i+1);i<r[0];)switch(r[i]){case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,r[i]){case Ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let v=new be;i=Ce.textCompaction(r,i+1,v),o.setFileName(v.toString());break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new be;i=Ce.textCompaction(r,i+1,w),o.setSender(w.toString());break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new be;i=Ce.textCompaction(r,i+1,x),o.setAddressee(x.toString());break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new be;i=Ce.numericCompaction(r,i+1,E),o.setSegmentCount(N.parseInt(E.toString()));break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new be;i=Ce.numericCompaction(r,i+1,O),o.setTimestamp(Ll.parseLong(O.toString()));break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let R=new be;i=Ce.numericCompaction(r,i+1,R),o.setChecksum(N.parseInt(R.toString()));break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let j=new be;i=Ce.numericCompaction(r,i+1,j),o.setFileSize(Ll.parseLong(j.toString()));break;default:throw M.getFormatInstance()}break;case Ce.MACRO_PDF417_TERMINATOR:i++,o.setLastSegment(!0);break;default:throw M.getFormatInstance()}if(f!==-1){let v=i-f;o.isLastSegment()&&v--,o.setOptionalData(Y.copyOfRange(r,f,f+v))}return i}static textCompaction(r,i,o){let u=new Int32Array((r[0]-i)*2),c=new Int32Array((r[0]-i)*2),f=0,v=!1;for(;i<r[0]&&!v;){let w=r[i++];if(w<Ce.TEXT_COMPACTION_MODE_LATCH)u[f]=w/30,u[f+1]=w%30,f+=2;else switch(w){case Ce.TEXT_COMPACTION_MODE_LATCH:u[f++]=Ce.TEXT_COMPACTION_MODE_LATCH;break;case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:case Ce.NUMERIC_COMPACTION_MODE_LATCH:case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:i--,v=!0;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[f]=Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=r[i++],c[f]=w,f++;break}}return Ce.decodeTextCompaction(u,c,f,o),i}static decodeTextCompaction(r,i,o,u){let c=dn.ALPHA,f=dn.ALPHA,v=0;for(;v<o;){let w=r[v],x="";switch(c){case dn.ALPHA:if(w<26)x=String.fromCharCode(65+w);else switch(w){case 26:x=" ";break;case Ce.LL:c=dn.LOWER;break;case Ce.ML:c=dn.MIXED;break;case Ce.PS:f=c,c=dn.PUNCT_SHIFT;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[v]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:c=dn.ALPHA;break}break;case dn.LOWER:if(w<26)x=String.fromCharCode(97+w);else switch(w){case 26:x=" ";break;case Ce.AS:f=c,c=dn.ALPHA_SHIFT;break;case Ce.ML:c=dn.MIXED;break;case Ce.PS:f=c,c=dn.PUNCT_SHIFT;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[v]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:c=dn.ALPHA;break}break;case dn.MIXED:if(w<Ce.PL)x=Ce.MIXED_CHARS[w];else switch(w){case Ce.PL:c=dn.PUNCT;break;case 26:x=" ";break;case Ce.LL:c=dn.LOWER;break;case Ce.AL:c=dn.ALPHA;break;case Ce.PS:f=c,c=dn.PUNCT_SHIFT;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[v]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:c=dn.ALPHA;break}break;case dn.PUNCT:if(w<Ce.PAL)x=Ce.PUNCT_CHARS[w];else switch(w){case Ce.PAL:c=dn.ALPHA;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[v]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:c=dn.ALPHA;break}break;case dn.ALPHA_SHIFT:if(c=f,w<26)x=String.fromCharCode(65+w);else switch(w){case 26:x=" ";break;case Ce.TEXT_COMPACTION_MODE_LATCH:c=dn.ALPHA;break}break;case dn.PUNCT_SHIFT:if(c=f,w<Ce.PAL)x=Ce.PUNCT_CHARS[w];else switch(w){case Ce.PAL:c=dn.ALPHA;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[v]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:c=dn.ALPHA;break}break}x!==""&&u.append(x),v++}}static byteCompaction(r,i,o,u,c){let f=new _c,v=0,w=0,x=!1;switch(r){case Ce.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),O=i[u++];for(;u<i[0]&&!x;)switch(E[v++]=O,w=900*w+O,O=i[u++],O){case Ce.TEXT_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.NUMERIC_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:u--,x=!0;break;default:if(v%5===0&&v>0){for(let R=0;R<6;++R)f.write(Number(ki(w)>>ki(8*(5-R))));w=0,v=0}break}u===i[0]&&O<Ce.TEXT_COMPACTION_MODE_LATCH&&(E[v++]=O);for(let R=0;R<v;R++)f.write(E[R]);break;case Ce.BYTE_COMPACTION_MODE_LATCH_6:for(;u<i[0]&&!x;){let R=i[u++];if(R<Ce.TEXT_COMPACTION_MODE_LATCH)v++,w=900*w+R;else switch(R){case Ce.TEXT_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.NUMERIC_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:u--,x=!0;break}if(v%5===0&&v>0){for(let j=0;j<6;++j)f.write(Number(ki(w)>>ki(8*(5-j))));w=0,v=0}}break}return c.append(pe.decode(f.toByteArray(),o)),u}static numericCompaction(r,i,o){let u=0,c=!1,f=new Int32Array(Ce.MAX_NUMERIC_CODEWORDS);for(;i<r[0]&&!c;){let v=r[i++];if(i===r[0]&&(c=!0),v<Ce.TEXT_COMPACTION_MODE_LATCH)f[u]=v,u++;else switch(v){case Ce.TEXT_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:i--,c=!0;break}(u%Ce.MAX_NUMERIC_CODEWORDS===0||v===Ce.NUMERIC_COMPACTION_MODE_LATCH||c)&&u>0&&(o.append(Ce.decodeBase900toBase10(f,u)),u=0)}return i}static decodeBase900toBase10(r,i){let o=ki(0);for(let c=0;c<i;c++)o+=Ce.EXP900[i-c-1]*ki(r[c]);let u=o.toString();if(u.charAt(0)!=="1")throw new M;return u.substring(1)}}Ce.TEXT_COMPACTION_MODE_LATCH=900,Ce.BYTE_COMPACTION_MODE_LATCH=901,Ce.NUMERIC_COMPACTION_MODE_LATCH=902,Ce.BYTE_COMPACTION_MODE_LATCH_6=924,Ce.ECI_USER_DEFINED=925,Ce.ECI_GENERAL_PURPOSE=926,Ce.ECI_CHARSET=927,Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ce.MACRO_PDF417_TERMINATOR=922,Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ce.MAX_NUMERIC_CODEWORDS=15,Ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ce.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ce.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ce.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ce.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ce.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ce.PL=25,Ce.LL=27,Ce.AS=27,Ce.ML=28,Ce.AL=28,Ce.PS=29,Ce.PAL=29,Ce.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ce.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ce.EXP900=Fl()?Cc():[],Ce.NUMBER_OF_SEQUENCE_CODEWORDS=2;class jt{constructor(){}static decode(r,i,o,u,c,f,v){let w=new Hi(r,i,o,u,c),x=null,E=null,O;for(let J=!0;;J=!1){if(i!=null&&(x=jt.getRowIndicatorColumn(r,w,i,!0,f,v)),u!=null&&(E=jt.getRowIndicatorColumn(r,w,u,!1,f,v)),O=jt.merge(x,E),O==null)throw ee.getNotFoundInstance();let te=O.getBoundingBox();if(J&&te!=null&&(te.getMinY()<w.getMinY()||te.getMaxY()>w.getMaxY()))w=te;else break}O.setBoundingBox(w);let R=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,x),O.setDetectionResultColumn(R,E);let j=x!=null;for(let J=1;J<=R;J++){let te=j?J:R-J;if(O.getDetectionResultColumn(te)!==void 0)continue;let fe;te===0||te===R?fe=new Ra(w,te===0):fe=new zs(w),O.setDetectionResultColumn(te,fe);let Ee=-1,je=Ee;for(let Ge=w.getMinY();Ge<=w.getMaxY();Ge++){if(Ee=jt.getStartColumn(O,te,Ge,j),Ee<0||Ee>w.getMaxX()){if(je===-1)continue;Ee=je}let $e=jt.detectCodeword(r,w.getMinX(),w.getMaxX(),j,Ee,Ge,f,v);$e!=null&&(fe.setCodeword(Ge,$e),je=Ee,f=Math.min(f,$e.getWidth()),v=Math.max(v,$e.getWidth()))}}return jt.createDecoderResult(O)}static merge(r,i){if(r==null&&i==null)return null;let o=jt.getBarcodeMetadata(r,i);if(o==null)return null;let u=Hi.merge(jt.adjustBoundingBox(r),jt.adjustBoundingBox(i));return new Ws(o,u)}static adjustBoundingBox(r){if(r==null)return null;let i=r.getRowHeights();if(i==null)return null;let o=jt.getMax(i),u=0;for(let v of i)if(u+=o-v,v>0)break;let c=r.getCodewords();for(let v=0;u>0&&c[v]==null;v++)u--;let f=0;for(let v=i.length-1;v>=0&&(f+=o-i[v],!(i[v]>0));v--);for(let v=c.length-1;f>0&&c[v]==null;v--)f--;return r.getBoundingBox().addMissingRows(u,f,r.isLeft())}static getMax(r){let i=-1;for(let o of r)i=Math.max(i,o);return i}static getBarcodeMetadata(r,i){let o;if(r==null||(o=r.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let u;return i==null||(u=i.getBarcodeMetadata())==null?o:o.getColumnCount()!==u.getColumnCount()&&o.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&o.getRowCount()!==u.getRowCount()?null:o}static getRowIndicatorColumn(r,i,o,u,c,f){let v=new Ra(i,u);for(let w=0;w<2;w++){let x=w===0?1:-1,E=Math.trunc(Math.trunc(o.getX()));for(let O=Math.trunc(Math.trunc(o.getY()));O<=i.getMaxY()&&O>=i.getMinY();O+=x){let R=jt.detectCodeword(r,0,r.getWidth(),u,E,O,c,f);R!=null&&(v.setCodeword(O,R),u?E=R.getStartX():E=R.getEndX())}}return v}static adjustCodewordCount(r,i){let o=i[0][1],u=o.getValue(),c=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-jt.getNumberOfECCodeWords(r.getBarcodeECLevel());if(u.length===0){if(c<1||c>xt.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();o.setValue(c)}else u[0]!==c&&o.setValue(c)}static createDecoderResult(r){let i=jt.createBarcodeMatrix(r);jt.adjustCodewordCount(r,i);let o=new Array,u=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),c=[],f=new Array;for(let w=0;w<r.getBarcodeRowCount();w++)for(let x=0;x<r.getBarcodeColumnCount();x++){let E=i[w][x+1].getValue(),O=w*r.getBarcodeColumnCount()+x;E.length===0?o.push(O):E.length===1?u[O]=E[0]:(f.push(O),c.push(E))}let v=new Array(c.length);for(let w=0;w<v.length;w++)v[w]=c[w];return jt.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),u,xt.toIntArray(o),xt.toIntArray(f),v)}static createDecoderResultFromAmbiguousValues(r,i,o,u,c){let f=new Int32Array(u.length),v=100;for(;v-- >0;){for(let w=0;w<f.length;w++)i[u[w]]=c[w][f[w]];try{return jt.decodeCodewords(i,r,o)}catch(w){if(!(w instanceof b))throw w}if(f.length===0)throw b.getChecksumInstance();for(let w=0;w<f.length;w++)if(f[w]<c[w].length-1){f[w]++;break}else if(f[w]=0,w===f.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(r){let i=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let u=0;u<i.length;u++)for(let c=0;c<i[u].length;c++)i[u][c]=new hs;let o=0;for(let u of r.getDetectionResultColumns()){if(u!=null){for(let c of u.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=0){if(f>=i.length)continue;i[f][o].setValue(c.getValue())}}}o++}return i}static isValidBarcodeColumn(r,i){return i>=0&&i<=r.getBarcodeColumnCount()+1}static getStartColumn(r,i,o,u){let c=u?1:-1,f=null;if(jt.isValidBarcodeColumn(r,i-c)&&(f=r.getDetectionResultColumn(i-c).getCodeword(o)),f!=null)return u?f.getEndX():f.getStartX();if(f=r.getDetectionResultColumn(i).getCodewordNearby(o),f!=null)return u?f.getStartX():f.getEndX();if(jt.isValidBarcodeColumn(r,i-c)&&(f=r.getDetectionResultColumn(i-c).getCodewordNearby(o)),f!=null)return u?f.getEndX():f.getStartX();let v=0;for(;jt.isValidBarcodeColumn(r,i-c);){i-=c;for(let w of r.getDetectionResultColumn(i).getCodewords())if(w!=null)return(u?w.getEndX():w.getStartX())+c*v*(w.getEndX()-w.getStartX());v++}return u?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,i,o,u,c,f,v,w){c=jt.adjustCodewordStartColumn(r,i,o,u,c,f);let x=jt.getModuleBitCount(r,i,o,u,c,f);if(x==null)return null;let E,O=Pe.sum(x);if(u)E=c+O;else{for(let J=0;J<x.length/2;J++){let te=x[J];x[J]=x[x.length-1-J],x[x.length-1-J]=te}E=c,c=E-O}if(!jt.checkCodewordSkew(O,v,w))return null;let R=Dr.getDecodedValue(x),j=xt.getCodeword(R);return j===-1?null:new zi(c,E,jt.getCodewordBucketNumber(R),j)}static getModuleBitCount(r,i,o,u,c,f){let v=c,w=new Int32Array(8),x=0,E=u?1:-1,O=u;for(;(u?v<o:v>=i)&&x<w.length;)r.get(v,f)===O?(w[x]++,v+=E):(x++,O=!O);return x===w.length||v===(u?o:i)&&x===w.length-1?w:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,i,o,u,c,f){let v=c,w=u?-1:1;for(let x=0;x<2;x++){for(;(u?v>=i:v<o)&&u===r.get(v,f);){if(Math.abs(c-v)>jt.CODEWORD_SKEW_SIZE)return c;v+=w}w=-w,u=!u}return v}static checkCodewordSkew(r,i,o){return i-jt.CODEWORD_SKEW_SIZE<=r&&r<=o+jt.CODEWORD_SKEW_SIZE}static decodeCodewords(r,i,o){if(r.length===0)throw M.getFormatInstance();let u=1<<i+1,c=jt.correctErrors(r,o,u);jt.verifyCodewordCount(r,u);let f=Ce.decode(r,""+i);return f.setErrorsCorrected(c),f.setErasures(o.length),f}static correctErrors(r,i,o){if(i!=null&&i.length>o/2+jt.MAX_ERRORS||o<0||o>jt.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return jt.errorCorrection.decode(r,o,i)}static verifyCodewordCount(r,i){if(r.length<4)throw M.getFormatInstance();let o=r[0];if(o>r.length)throw M.getFormatInstance();if(o===0)if(i<r.length)r[0]=r.length-i;else throw M.getFormatInstance()}static getBitCountForCodeword(r){let i=new Int32Array(8),o=0,u=i.length-1;for(;!((r&1)!==o&&(o=r&1,u--,u<0));)i[u]++,r>>=1;return i}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return jt.getCodewordBucketNumber(jt.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let i=new fs;for(let o=0;o<r.length;o++){i.format("Row %2d: ",o);for(let u=0;u<r[o].length;u++){let c=r[o][u];c.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}i.format("%n")}return i.toString()}}jt.CODEWORD_SKEW_SIZE=2,jt.MAX_ERRORS=3,jt.MAX_EC_CODEWORDS=512,jt.errorCorrection=new Pl;class cr{decode(r,i=null){let o=cr.decode(r,i,!1);if(o==null||o.length===0||o[0]==null)throw ee.getNotFoundInstance();return o[0]}decodeMultiple(r,i=null){try{return cr.decode(r,i,!0)}catch(o){throw o instanceof M||o instanceof b?ee.getNotFoundInstance():o}}static decode(r,i,o){const u=new Array,c=Bt.detectMultiple(r,i,o);for(const f of c.getPoints()){const v=jt.decode(c.getBits(),f[4],f[5],f[6],f[7],cr.getMinCodewordWidth(f),cr.getMaxCodewordWidth(f)),w=new it(v.getText(),v.getRawBytes(),void 0,f,we.PDF_417);w.putMetadata(Me.ERROR_CORRECTION_LEVEL,v.getECLevel());const x=v.getOther();x!=null&&w.putMetadata(Me.PDF417_EXTRA_METADATA,x),u.push(w)}return u.map(f=>f)}static getMaxWidth(r,i){return r==null||i==null?0:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMinWidth(r,i){return r==null||i==null?N.MAX_VALUE:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(cr.getMaxWidth(r[0],r[4]),cr.getMaxWidth(r[6],r[2])*xt.MODULES_IN_CODEWORD/xt.MODULES_IN_STOP_PATTERN),Math.max(cr.getMaxWidth(r[1],r[5]),cr.getMaxWidth(r[7],r[3])*xt.MODULES_IN_CODEWORD/xt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(cr.getMinWidth(r[0],r[4]),cr.getMinWidth(r[6],r[2])*xt.MODULES_IN_CODEWORD/xt.MODULES_IN_STOP_PATTERN),Math.min(cr.getMinWidth(r[1],r[5]),cr.getMinWidth(r[7],r[3])*xt.MODULES_IN_CODEWORD/xt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Mo extends m{}Mo.kind="ReaderException";class Na{constructor(r,i){this.verbose=r===!0,i&&this.setHints(i)}decode(r,i){return i&&this.setHints(i),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const i=!s(r)&&r.get(Q.TRY_HARDER)===!0,o=s(r)?null:r.get(Q.POSSIBLE_FORMATS),u=new Array;if(!s(o)){const c=o.some(f=>f===we.UPC_A||f===we.UPC_E||f===we.EAN_13||f===we.EAN_8||f===we.CODABAR||f===we.CODE_39||f===we.CODE_93||f===we.CODE_128||f===we.ITF||f===we.RSS_14||f===we.RSS_EXPANDED);c&&!i&&u.push(new Hr(r,this.verbose)),o.includes(we.QR_CODE)&&u.push(new Di),o.includes(we.DATA_MATRIX)&&u.push(new Oi),o.includes(we.AZTEC)&&u.push(new Kt),o.includes(we.PDF_417)&&u.push(new cr),c&&i&&u.push(new Hr(r,this.verbose))}u.length===0&&(i||u.push(new Hr(r,this.verbose)),u.push(new Di),u.push(new Oi),u.push(new Kt),u.push(new cr),i&&u.push(new Hr(r,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new Mo("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(r,this.hints)}catch(o){if(o instanceof Mo)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class Sc extends Ze{constructor(r=null,i=500){const o=new Na;o.setHints(r),super(o,i)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class Ec extends Ze{constructor(r=500){super(new cr,r)}}class Ac extends Ze{constructor(r=500){super(new Di,r)}}var Pa;(function(I){I[I.ERROR_CORRECTION=0]="ERROR_CORRECTION",I[I.CHARACTER_SET=1]="CHARACTER_SET",I[I.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",I[I.MIN_SIZE=3]="MIN_SIZE",I[I.MAX_SIZE=4]="MAX_SIZE",I[I.MARGIN=5]="MARGIN",I[I.PDF417_COMPACT=6]="PDF417_COMPACT",I[I.PDF417_COMPACTION=7]="PDF417_COMPACTION",I[I.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",I[I.AZTEC_LAYERS=9]="AZTEC_LAYERS",I[I.QR_VERSION=10]="QR_VERSION"})(Pa||(Pa={}));var Wn=Pa;class La{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new nt(r,Int32Array.from([1])))}buildGenerator(r){const i=this.cachedGenerators;if(r>=i.length){let o=i[i.length-1];const u=this.field;for(let c=i.length;c<=r;c++){const f=o.multiply(new nt(u,Int32Array.from([1,u.exp(c-1+u.getGeneratorBase())])));i.push(f),o=f}}return i[r]}encode(r,i){if(i===0)throw new y("No error correction bytes");const o=r.length-i;if(o<=0)throw new y("No data bytes provided");const u=this.buildGenerator(i),c=new Int32Array(o);k.arraycopy(r,0,c,0,o);let f=new nt(this.field,c);f=f.multiplyByMonomial(i,1);const w=f.divide(u)[1].getCoefficients(),x=i-w.length;for(let E=0;E<x;E++)r[o+E]=0;k.arraycopy(w,0,r,o+x,w.length)}}class Nn{constructor(){}static applyMaskPenaltyRule1(r){return Nn.applyMaskPenaltyRule1Internal(r,!0)+Nn.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let i=0;const o=r.getArray(),u=r.getWidth(),c=r.getHeight();for(let f=0;f<c-1;f++){const v=o[f];for(let w=0;w<u-1;w++){const x=v[w];x===v[w+1]&&x===o[f+1][w]&&x===o[f+1][w+1]&&i++}}return Nn.N2*i}static applyMaskPenaltyRule3(r){let i=0;const o=r.getArray(),u=r.getWidth(),c=r.getHeight();for(let f=0;f<c;f++)for(let v=0;v<u;v++){const w=o[f];v+6<u&&w[v]===1&&w[v+1]===0&&w[v+2]===1&&w[v+3]===1&&w[v+4]===1&&w[v+5]===0&&w[v+6]===1&&(Nn.isWhiteHorizontal(w,v-4,v)||Nn.isWhiteHorizontal(w,v+7,v+11))&&i++,f+6<c&&o[f][v]===1&&o[f+1][v]===0&&o[f+2][v]===1&&o[f+3][v]===1&&o[f+4][v]===1&&o[f+5][v]===0&&o[f+6][v]===1&&(Nn.isWhiteVertical(o,v,f-4,f)||Nn.isWhiteVertical(o,v,f+7,f+11))&&i++}return i*Nn.N3}static isWhiteHorizontal(r,i,o){i=Math.max(i,0),o=Math.min(o,r.length);for(let u=i;u<o;u++)if(r[u]===1)return!1;return!0}static isWhiteVertical(r,i,o,u){o=Math.max(o,0),u=Math.min(u,r.length);for(let c=o;c<u;c++)if(r[c][i]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let i=0;const o=r.getArray(),u=r.getWidth(),c=r.getHeight();for(let w=0;w<c;w++){const x=o[w];for(let E=0;E<u;E++)x[E]===1&&i++}const f=r.getHeight()*r.getWidth();return Math.floor(Math.abs(i*2-f)*10/f)*Nn.N4}static getDataMaskBit(r,i,o){let u,c;switch(r){case 0:u=o+i&1;break;case 1:u=o&1;break;case 2:u=i%3;break;case 3:u=(o+i)%3;break;case 4:u=Math.floor(o/2)+Math.floor(i/3)&1;break;case 5:c=o*i,u=(c&1)+c%3;break;case 6:c=o*i,u=(c&1)+c%3&1;break;case 7:c=o*i,u=c%3+(o+i&1)&1;break;default:throw new y("Invalid mask pattern: "+r)}return u===0}static applyMaskPenaltyRule1Internal(r,i){let o=0;const u=i?r.getHeight():r.getWidth(),c=i?r.getWidth():r.getHeight(),f=r.getArray();for(let v=0;v<u;v++){let w=0,x=-1;for(let E=0;E<c;E++){const O=i?f[v][E]:f[E][v];O===x?w++:(w>=5&&(o+=Nn.N1+(w-5)),w=1,x=O)}w>=5&&(o+=Nn.N1+(w-5))}return o}}Nn.N1=3,Nn.N2=3,Nn.N3=40,Nn.N4=10;class No{constructor(r,i){this.width=r,this.height=i;const o=new Array(i);for(let u=0;u!==i;u++)o[u]=new Uint8Array(r);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(r,i){return this.bytes[i][r]}getArray(){return this.bytes}setNumber(r,i,o){this.bytes[i][r]=o}setBoolean(r,i,o){this.bytes[i][r]=o?1:0}clear(r){for(const i of this.bytes)Y.fill(i,r)}equals(r){if(!(r instanceof No))return!1;const i=r;if(this.width!==i.width||this.height!==i.height)return!1;for(let o=0,u=this.height;o<u;++o){const c=this.bytes[o],f=i.bytes[o];for(let v=0,w=this.width;v<w;++v)if(c[v]!==f[v])return!1}return!0}toString(){const r=new be;for(let i=0,o=this.height;i<o;++i){const u=this.bytes[i];for(let c=0,f=this.width;c<f;++c)switch(u[c]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class Wi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new be;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<Wi.NUM_MASK_PATTERNS}}Wi.NUM_MASK_PATTERNS=8;class vn extends m{}vn.kind="WriterException";class bt{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,i,o,u,c){bt.clearMatrix(c),bt.embedBasicPatterns(o,c),bt.embedTypeInfo(i,u,c),bt.maybeEmbedVersionInfo(o,c),bt.embedDataBits(r,u,c)}static embedBasicPatterns(r,i){bt.embedPositionDetectionPatternsAndSeparators(i),bt.embedDarkDotAtLeftBottomCorner(i),bt.maybeEmbedPositionAdjustmentPatterns(r,i),bt.embedTimingPatterns(i)}static embedTypeInfo(r,i,o){const u=new A;bt.makeTypeInfoBits(r,i,u);for(let c=0,f=u.getSize();c<f;++c){const v=u.get(u.getSize()-1-c),w=bt.TYPE_INFO_COORDINATES[c],x=w[0],E=w[1];if(o.setBoolean(x,E,v),c<8){const O=o.getWidth()-c-1,R=8;o.setBoolean(O,R,v)}else{const R=o.getHeight()-7+(c-8);o.setBoolean(8,R,v)}}}static maybeEmbedVersionInfo(r,i){if(r.getVersionNumber()<7)return;const o=new A;bt.makeVersionInfoBits(r,o);let u=6*3-1;for(let c=0;c<6;++c)for(let f=0;f<3;++f){const v=o.get(u);u--,i.setBoolean(c,i.getHeight()-11+f,v),i.setBoolean(i.getHeight()-11+f,c,v)}}static embedDataBits(r,i,o){let u=0,c=-1,f=o.getWidth()-1,v=o.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);v>=0&&v<o.getHeight();){for(let w=0;w<2;++w){const x=f-w;if(!bt.isEmpty(o.get(x,v)))continue;let E;u<r.getSize()?(E=r.get(u),++u):E=!1,i!==255&&Nn.getDataMaskBit(i,x,v)&&(E=!E),o.setBoolean(x,v,E)}v+=c}c=-c,v+=c,f-=2}if(u!==r.getSize())throw new vn("Not all bits consumed: "+u+"/"+r.getSize())}static findMSBSet(r){return 32-N.numberOfLeadingZeros(r)}static calculateBCHCode(r,i){if(i===0)throw new y("0 polynomial");const o=bt.findMSBSet(i);for(r<<=o-1;bt.findMSBSet(r)>=o;)r^=i<<bt.findMSBSet(r)-o;return r}static makeTypeInfoBits(r,i,o){if(!Wi.isValidMaskPattern(i))throw new vn("Invalid mask pattern");const u=r.getBits()<<3|i;o.appendBits(u,5);const c=bt.calculateBCHCode(u,bt.TYPE_INFO_POLY);o.appendBits(c,10);const f=new A;if(f.appendBits(bt.TYPE_INFO_MASK_PATTERN,15),o.xor(f),o.getSize()!==15)throw new vn("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(r,i){i.appendBits(r.getVersionNumber(),6);const o=bt.calculateBCHCode(r.getVersionNumber(),bt.VERSION_INFO_POLY);if(i.appendBits(o,12),i.getSize()!==18)throw new vn("should not happen but we got: "+i.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let i=8;i<r.getWidth()-8;++i){const o=(i+1)%2;bt.isEmpty(r.get(i,6))&&r.setNumber(i,6,o),bt.isEmpty(r.get(6,i))&&r.setNumber(6,i,o)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new vn;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,i,o){for(let u=0;u<8;++u){if(!bt.isEmpty(o.get(r+u,i)))throw new vn;o.setNumber(r+u,i,0)}}static embedVerticalSeparationPattern(r,i,o){for(let u=0;u<7;++u){if(!bt.isEmpty(o.get(r,i+u)))throw new vn;o.setNumber(r,i+u,0)}}static embedPositionAdjustmentPattern(r,i,o){for(let u=0;u<5;++u){const c=bt.POSITION_ADJUSTMENT_PATTERN[u];for(let f=0;f<5;++f)o.setNumber(r+f,i+u,c[f])}}static embedPositionDetectionPattern(r,i,o){for(let u=0;u<7;++u){const c=bt.POSITION_DETECTION_PATTERN[u];for(let f=0;f<7;++f)o.setNumber(r+f,i+u,c[f])}}static embedPositionDetectionPatternsAndSeparators(r){const i=bt.POSITION_DETECTION_PATTERN[0].length;bt.embedPositionDetectionPattern(0,0,r),bt.embedPositionDetectionPattern(r.getWidth()-i,0,r),bt.embedPositionDetectionPattern(0,r.getWidth()-i,r);const o=8;bt.embedHorizontalSeparationPattern(0,o-1,r),bt.embedHorizontalSeparationPattern(r.getWidth()-o,o-1,r),bt.embedHorizontalSeparationPattern(0,r.getWidth()-o,r);const u=7;bt.embedVerticalSeparationPattern(u,0,r),bt.embedVerticalSeparationPattern(r.getHeight()-u-1,0,r),bt.embedVerticalSeparationPattern(u,r.getHeight()-u,r)}static maybeEmbedPositionAdjustmentPatterns(r,i){if(r.getVersionNumber()<2)return;const o=r.getVersionNumber()-1,u=bt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let c=0,f=u.length;c!==f;c++){const v=u[c];if(v>=0)for(let w=0;w!==f;w++){const x=u[w];x>=0&&bt.isEmpty(i.get(x,v))&&bt.embedPositionAdjustmentPattern(x-2,v-2,i)}}}}bt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),bt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),bt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),bt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),bt.VERSION_INFO_POLY=7973,bt.TYPE_INFO_POLY=1335,bt.TYPE_INFO_MASK_PATTERN=21522;class Tc{constructor(r,i){this.dataBytes=r,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class yn{constructor(){}static calculateMaskPenalty(r){return Nn.applyMaskPenaltyRule1(r)+Nn.applyMaskPenaltyRule2(r)+Nn.applyMaskPenaltyRule3(r)+Nn.applyMaskPenaltyRule4(r)}static encode(r,i,o=null){let u=yn.DEFAULT_BYTE_MODE_ENCODING;const c=o!==null&&o.get(Wn.CHARACTER_SET)!==void 0;c&&(u=o.get(Wn.CHARACTER_SET).toString());const f=this.chooseMode(r,u),v=new A;if(f===wt.BYTE&&(c||yn.DEFAULT_BYTE_MODE_ENCODING!==u)){const Ge=L.getCharacterSetECIByName(u);Ge!==void 0&&this.appendECI(Ge,v)}this.appendModeInfo(f,v);const w=new A;this.appendBytes(r,f,w,u);let x;if(o!==null&&o.get(Wn.QR_VERSION)!==void 0){const Ge=Number.parseInt(o.get(Wn.QR_VERSION).toString(),10);x=mt.getVersionForNumber(Ge);const $e=this.calculateBitsNeeded(f,v,w,x);if(!this.willFit($e,x,i))throw new vn("Data too big for requested version")}else x=this.recommendVersion(i,f,v,w);const E=new A;E.appendBitArray(v);const O=f===wt.BYTE?w.getSizeInBytes():r.length;this.appendLengthInfo(O,x,f,E),E.appendBitArray(w);const R=x.getECBlocksForLevel(i),j=x.getTotalCodewords()-R.getTotalECCodewords();this.terminateBits(j,E);const J=this.interleaveWithECBytes(E,x.getTotalCodewords(),j,R.getNumBlocks()),te=new Wi;te.setECLevel(i),te.setMode(f),te.setVersion(x);const fe=x.getDimensionForVersion(),Ee=new No(fe,fe),je=this.chooseMaskPattern(J,i,x,Ee);return te.setMaskPattern(je),bt.buildMatrix(J,i,x,je,Ee),te.setMatrix(Ee),te}static recommendVersion(r,i,o,u){const c=this.calculateBitsNeeded(i,o,u,mt.getVersionForNumber(1)),f=this.chooseVersion(c,r),v=this.calculateBitsNeeded(i,o,u,f);return this.chooseVersion(v,r)}static calculateBitsNeeded(r,i,o,u){return i.getSize()+r.getCharacterCountBits(u)+o.getSize()}static getAlphanumericCode(r){return r<yn.ALPHANUMERIC_TABLE.length?yn.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,i=null){if(L.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(r))return wt.KANJI;let o=!1,u=!1;for(let c=0,f=r.length;c<f;++c){const v=r.charAt(c);if(yn.isDigit(v))o=!0;else if(this.getAlphanumericCode(v.charCodeAt(0))!==-1)u=!0;else return wt.BYTE}return u?wt.ALPHANUMERIC:o?wt.NUMERIC:wt.BYTE}static isOnlyDoubleByteKanji(r){let i;try{i=pe.encode(r,L.SJIS)}catch{return!1}const o=i.length;if(o%2!==0)return!1;for(let u=0;u<o;u+=2){const c=i[u]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(r,i,o,u){let c=Number.MAX_SAFE_INTEGER,f=-1;for(let v=0;v<Wi.NUM_MASK_PATTERNS;v++){bt.buildMatrix(r,i,o,v,u);let w=this.calculateMaskPenalty(u);w<c&&(c=w,f=v)}return f}static chooseVersion(r,i){for(let o=1;o<=40;o++){const u=mt.getVersionForNumber(o);if(yn.willFit(r,u,i))return u}throw new vn("Data too big")}static willFit(r,i,o){const u=i.getTotalCodewords(),f=i.getECBlocksForLevel(o).getTotalECCodewords(),v=u-f,w=(r+7)/8;return v>=w}static terminateBits(r,i){const o=r*8;if(i.getSize()>o)throw new vn("data bits cannot fit in the QR Code"+i.getSize()+" > "+o);for(let f=0;f<4&&i.getSize()<o;++f)i.appendBit(!1);const u=i.getSize()&7;if(u>0)for(let f=u;f<8;f++)i.appendBit(!1);const c=r-i.getSizeInBytes();for(let f=0;f<c;++f)i.appendBits((f&1)===0?236:17,8);if(i.getSize()!==o)throw new vn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,i,o,u,c,f){if(u>=o)throw new vn("Block ID too large");const v=r%o,w=o-v,x=Math.floor(r/o),E=x+1,O=Math.floor(i/o),R=O+1,j=x-O,J=E-R;if(j!==J)throw new vn("EC bytes mismatch");if(o!==w+v)throw new vn("RS blocks mismatch");if(r!==(O+j)*w+(R+J)*v)throw new vn("Total bytes mismatch");u<w?(c[0]=O,f[0]=j):(c[0]=R,f[0]=J)}static interleaveWithECBytes(r,i,o,u){if(r.getSizeInBytes()!==o)throw new vn("Number of bits and data bytes does not match");let c=0,f=0,v=0;const w=new Array;for(let E=0;E<u;++E){const O=new Int32Array(1),R=new Int32Array(1);yn.getNumDataBytesAndNumECBytesForBlockID(i,o,u,E,O,R);const j=O[0],J=new Uint8Array(j);r.toBytes(8*c,J,0,j);const te=yn.generateECBytes(J,R[0]);w.push(new Tc(J,te)),f=Math.max(f,j),v=Math.max(v,te.length),c+=O[0]}if(o!==c)throw new vn("Data bytes does not match offset");const x=new A;for(let E=0;E<f;++E)for(const O of w){const R=O.getDataBytes();E<R.length&&x.appendBits(R[E],8)}for(let E=0;E<v;++E)for(const O of w){const R=O.getErrorCorrectionBytes();E<R.length&&x.appendBits(R[E],8)}if(i!==x.getSizeInBytes())throw new vn("Interleaving error: "+i+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(r,i){const o=r.length,u=new Int32Array(o+i);for(let f=0;f<o;f++)u[f]=r[f]&255;new La(F.QR_CODE_FIELD_256).encode(u,i);const c=new Uint8Array(i);for(let f=0;f<i;f++)c[f]=u[o+f];return c}static appendModeInfo(r,i){i.appendBits(r.getBits(),4)}static appendLengthInfo(r,i,o,u){const c=o.getCharacterCountBits(i);if(r>=1<<c)throw new vn(r+" is bigger than "+((1<<c)-1));u.appendBits(r,c)}static appendBytes(r,i,o,u){switch(i){case wt.NUMERIC:yn.appendNumericBytes(r,o);break;case wt.ALPHANUMERIC:yn.appendAlphanumericBytes(r,o);break;case wt.BYTE:yn.append8BitBytes(r,o,u);break;case wt.KANJI:yn.appendKanjiBytes(r,o);break;default:throw new vn("Invalid mode: "+i)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const i=yn.getDigit(r);return i>=0&&i<=9}static appendNumericBytes(r,i){const o=r.length;let u=0;for(;u<o;){const c=yn.getDigit(r.charAt(u));if(u+2<o){const f=yn.getDigit(r.charAt(u+1)),v=yn.getDigit(r.charAt(u+2));i.appendBits(c*100+f*10+v,10),u+=3}else if(u+1<o){const f=yn.getDigit(r.charAt(u+1));i.appendBits(c*10+f,7),u+=2}else i.appendBits(c,4),u++}}static appendAlphanumericBytes(r,i){const o=r.length;let u=0;for(;u<o;){const c=yn.getAlphanumericCode(r.charCodeAt(u));if(c===-1)throw new vn;if(u+1<o){const f=yn.getAlphanumericCode(r.charCodeAt(u+1));if(f===-1)throw new vn;i.appendBits(c*45+f,11),u+=2}else i.appendBits(c,6),u++}}static append8BitBytes(r,i,o){let u;try{u=pe.encode(r,o)}catch(c){throw new vn(c)}for(let c=0,f=u.length;c!==f;c++){const v=u[c];i.appendBits(v,8)}}static appendKanjiBytes(r,i){let o;try{o=pe.encode(r,L.SJIS)}catch(c){throw new vn(c)}const u=o.length;for(let c=0;c<u;c+=2){const f=o[c]&255,v=o[c+1]&255,w=f<<8&4294967295|v;let x=-1;if(w>=33088&&w<=40956?x=w-33088:w>=57408&&w<=60351&&(x=w-49472),x===-1)throw new vn("Invalid byte sequence");const E=(x>>8)*192+(x&255);i.appendBits(E,13)}}static appendECI(r,i){i.appendBits(wt.ECI.getBits(),4),i.appendBits(r.getValue(),8)}}yn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),yn.DEFAULT_BYTE_MODE_ENCODING=L.UTF8.getName();class Gi{write(r,i,o,u=null){if(r.length===0)throw new y("Found empty contents");if(i<0||o<0)throw new y("Requested dimensions are too small: "+i+"x"+o);let c=wn.L,f=Gi.QUIET_ZONE_SIZE;u!==null&&(u.get(Wn.ERROR_CORRECTION)!==void 0&&(c=wn.fromString(u.get(Wn.ERROR_CORRECTION).toString())),u.get(Wn.MARGIN)!==void 0&&(f=Number.parseInt(u.get(Wn.MARGIN).toString(),10)));const v=yn.encode(r,c,u);return this.renderResult(v,i,o,f)}writeToDom(r,i,o,u,c=null){typeof r=="string"&&(r=document.querySelector(r));const f=this.write(i,o,u,c);r&&r.appendChild(f)}renderResult(r,i,o,u){const c=r.getMatrix();if(c===null)throw new ce;const f=c.getWidth(),v=c.getHeight(),w=f+u*2,x=v+u*2,E=Math.max(i,w),O=Math.max(o,x),R=Math.min(Math.floor(E/w),Math.floor(O/x)),j=Math.floor((E-f*R)/2),J=Math.floor((O-v*R)/2),te=this.createSVGElement(E,O);for(let fe=0,Ee=J;fe<v;fe++,Ee+=R)for(let je=0,Ge=j;je<f;je++,Ge+=R)if(c.get(je,fe)===1){const $e=this.createSvgRectElement(Ge,Ee,R,R);te.appendChild($e)}return te}createSVGElement(r,i){const o=document.createElementNS(Gi.SVG_NS,"svg");return o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",i.toString()),o}createSvgRectElement(r,i,o,u){const c=document.createElementNS(Gi.SVG_NS,"rect");return c.setAttributeNS(null,"x",r.toString()),c.setAttributeNS(null,"y",i.toString()),c.setAttributeNS(null,"height",o.toString()),c.setAttributeNS(null,"width",u.toString()),c.setAttributeNS(null,"fill","#000000"),c}}Gi.QUIET_ZONE_SIZE=4,Gi.SVG_NS="http://www.w3.org/2000/svg";class Ri{encode(r,i,o,u,c){if(r.length===0)throw new y("Found empty contents");if(i!==we.QR_CODE)throw new y("Can only encode QR_CODE, but got "+i);if(o<0||u<0)throw new y(`Requested dimensions are too small: ${o}x${u}`);let f=wn.L,v=Ri.QUIET_ZONE_SIZE;c!==null&&(c.get(Wn.ERROR_CORRECTION)!==void 0&&(f=wn.fromString(c.get(Wn.ERROR_CORRECTION).toString())),c.get(Wn.MARGIN)!==void 0&&(v=Number.parseInt(c.get(Wn.MARGIN).toString(),10)));const w=yn.encode(r,f,c);return Ri.renderResult(w,o,u,v)}static renderResult(r,i,o,u){const c=r.getMatrix();if(c===null)throw new ce;const f=c.getWidth(),v=c.getHeight(),w=f+u*2,x=v+u*2,E=Math.max(i,w),O=Math.max(o,x),R=Math.min(Math.floor(E/w),Math.floor(O/x)),j=Math.floor((E-f*R)/2),J=Math.floor((O-v*R)/2),te=new ue(E,O);for(let fe=0,Ee=J;fe<v;fe++,Ee+=R)for(let je=0,Ge=j;je<f;je++,Ge+=R)c.get(je,fe)===1&&te.setRegion(Ge,Ee,R,R);return te}}Ri.QUIET_ZONE_SIZE=4;class Ic{encode(r,i,o,u,c){let f;switch(i){case we.QR_CODE:f=new Ri;break;default:throw new y("No encoder available for format "+i)}return f.encode(r,i,o,u,c)}}class kr extends Re{constructor(r,i,o,u,c,f,v,w){if(super(f,v),this.yuvData=r,this.dataWidth=i,this.dataHeight=o,this.left=u,this.top=c,u+f>i||c+v>o)throw new y("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(f,v)}getRow(r,i){if(r<0||r>=this.getHeight())throw new y("Requested row is outside the image: "+r);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const u=(r+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,u,i,0,o),i}getMatrix(){const r=this.getWidth(),i=this.getHeight();if(r===this.dataWidth&&i===this.dataHeight)return this.yuvData;const o=r*i,u=new Uint8ClampedArray(o);let c=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return k.arraycopy(this.yuvData,c,u,0,o),u;for(let f=0;f<i;f++){const v=f*r;k.arraycopy(this.yuvData,c,u,v,r),c+=this.dataWidth}return u}isCropSupported(){return!0}crop(r,i,o,u){return new kr(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+i,o,u,!1)}renderThumbnail(){const r=this.getWidth()/kr.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/kr.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(r*i),u=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let f=0;f<i;f++){const v=f*r;for(let w=0;w<r;w++){const x=u[c+w*kr.THUMBNAIL_SCALE_FACTOR]&255;o[v+w]=4278190080|x*65793}c+=this.dataWidth*kr.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/kr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/kr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,i){const o=this.yuvData;for(let u=0,c=this.top*this.dataWidth+this.left;u<i;u++,c+=this.dataWidth){const f=c+r/2;for(let v=c,w=c+r-1;v<f;v++,w--){const x=o[v];o[v]=o[w],o[w]=x}}}invert(){return new et(this)}}kr.THUMBNAIL_SCALE_FACTOR=2;class Ba extends Re{constructor(r,i,o,u,c,f,v){if(super(i,o),this.dataWidth=u,this.dataHeight=c,this.left=f,this.top=v,r.BYTES_PER_ELEMENT===4){const w=i*o,x=new Uint8ClampedArray(w);for(let E=0;E<w;E++){const O=r[E],R=O>>16&255,j=O>>7&510,J=O&255;x[E]=(R+j+J)/4&255}this.luminances=x}else this.luminances=r;if(u===void 0&&(this.dataWidth=i),c===void 0&&(this.dataHeight=o),f===void 0&&(this.left=0),v===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+o>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(r,i){if(r<0||r>=this.getHeight())throw new y("Requested row is outside the image: "+r);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const u=(r+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,u,i,0,o),i}getMatrix(){const r=this.getWidth(),i=this.getHeight();if(r===this.dataWidth&&i===this.dataHeight)return this.luminances;const o=r*i,u=new Uint8ClampedArray(o);let c=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return k.arraycopy(this.luminances,c,u,0,o),u;for(let f=0;f<i;f++){const v=f*r;k.arraycopy(this.luminances,c,u,v,r),c+=this.dataWidth}return u}isCropSupported(){return!0}crop(r,i,o,u){return new Ba(this.luminances,o,u,this.dataWidth,this.dataHeight,this.left+r,this.top+i)}invert(){return new et(this)}}class Vl extends L{static forName(r){return this.getCharacterSetECIByName(r)}}class Fa{}Fa.ISO_8859_1=L.ISO8859_1;class $l{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class Gs{static singletonList(r){return[r]}static min(r,i){return r.sort(i)[0]}}class Oc{constructor(r){this.previous=r}getPrevious(){return this.previous}}class Yi extends Oc{constructor(r,i,o){super(r),this.value=i,this.bitCount=o}appendTo(r,i){r.appendBits(this.value,this.bitCount)}add(r,i){return new Yi(this,r,i)}addBinaryShift(r,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Yi(this,r,i)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+N.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class Po extends Yi{constructor(r,i,o){super(r,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=o}appendTo(r,i){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):o===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(i[this.binaryShiftStart+o],8)}addBinaryShift(r,i){return new Po(this,r,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Dc(I,r,i){return new Po(I,r,i)}function Ys(I,r,i){return new Yi(I,r,i)}const kc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Mi=0,Lo=1,Gr=2,Pn=3,tr=4,Va=new Yi(null,0,0),Bo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(9<<16)+(30<<4)+14,0,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(4<<16)+14,(9<<16)+(14<<5)+28,0,(9<<16)+(14<<5)+29,(14<<16)+(14<<10)+(29<<5)+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,(10<<16)+(29<<5)+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,(10<<16)+(31<<5)+28,(10<<16)+(31<<5)+30,(10<<16)+(31<<5)+29,0])];function Tn(I){for(let r of I)Y.fill(r,-1);return I[Mi][tr]=0,I[Lo][tr]=0,I[Lo][Mi]=28,I[Pn][tr]=0,I[Gr][tr]=0,I[Gr][Mi]=15,I}const gs=Tn(Y.createInt32Array(6,6));class on{constructor(r,i,o,u){this.token=r,this.mode=i,this.binaryShiftByteCount=o,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,i){let o=this.bitCount,u=this.token;if(r!==this.mode){let f=Bo[this.mode][r];u=Ys(u,f&65535,f>>16),o+=f>>16}let c=r===Gr?4:5;return u=Ys(u,i,c),new on(u,r,0,o+c)}shiftAndAppend(r,i){let o=this.token,u=this.mode===Gr?4:5;return o=Ys(o,gs[this.mode][r],u),o=Ys(o,i,5),new on(o,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(r){let i=this.token,o=this.mode,u=this.bitCount;if(this.mode===tr||this.mode===Gr){let v=Bo[o][Mi];i=Ys(i,v&65535,v>>16),u+=v>>16,o=Mi}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new on(i,o,this.binaryShiftByteCount+1,u+c);return f.binaryShiftByteCount===2047+31&&(f=f.endBinaryShift(r+1)),f}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Dc(i,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new on(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let i=this.bitCount+(Bo[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?i+=on.calculateBinaryShiftCost(r)-on.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(i+=10),i<=r.bitCount}toBitArray(r){let i=[];for(let u=this.endBinaryShift(r.length).token;u!==null;u=u.getPrevious())i.unshift(u);let o=new A;for(const u of i)u.appendTo(o,r);return o}toString(){return $.format("%s bits=%d bytes=%d",kc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}on.INITIAL_STATE=new on(Va,Mi,0,0);function Ln(I){const r=$.getCharCode(" "),i=$.getCharCode("."),o=$.getCharCode(",");I[Mi][r]=1;const u=$.getCharCode("Z"),c=$.getCharCode("A");for(let R=c;R<=u;R++)I[Mi][R]=R-c+2;I[Lo][r]=1;const f=$.getCharCode("z"),v=$.getCharCode("a");for(let R=v;R<=f;R++)I[Lo][R]=R-v+2;I[Gr][r]=1;const w=$.getCharCode("9"),x=$.getCharCode("0");for(let R=x;R<=w;R++)I[Gr][R]=R-x+2;I[Gr][o]=12,I[Gr][i]=13;const E=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"];for(let R=0;R<E.length;R++)I[Pn][$.getCharCode(E[R])]=R;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let R=0;R<O.length;R++)$.getCharCode(O[R])>0&&(I[tr][$.getCharCode(O[R])]=R);return I}const Fo=Ln(Y.createInt32Array(5,256));class ms{constructor(r){this.text=r}encode(){const r=$.getCharCode(" "),i=$.getCharCode(`
`);let o=Gs.singletonList(on.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let f,v=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case $.getCharCode("\r"):f=v===i?2:0;break;case $.getCharCode("."):f=v===r?3:0;break;case $.getCharCode(","):f=v===r?4:0;break;case $.getCharCode(":"):f=v===r?5:0;break;default:f=0}f>0?(o=ms.updateStateListForPair(o,c,f),c++):o=this.updateStateListForChar(o,c)}return Gs.min(o,(c,f)=>c.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,i){const o=[];for(let u of r)this.updateStateForChar(u,i,o);return ms.simplifyStates(o)}updateStateForChar(r,i,o){let u=this.text[i]&255,c=Fo[r.getMode()][u]>0,f=null;for(let v=0;v<=tr;v++){let w=Fo[v][u];if(w>0){if(f==null&&(f=r.endBinaryShift(i)),!c||v===r.getMode()||v===Gr){const x=f.latchAndAppend(v,w);o.push(x)}if(!c&&gs[r.getMode()][v]>=0){const x=f.shiftAndAppend(v,w);o.push(x)}}}if(r.getBinaryShiftByteCount()>0||Fo[r.getMode()][u]===0){let v=r.addBinaryShiftChar(i);o.push(v)}}static updateStateListForPair(r,i,o){const u=[];for(let c of r)this.updateStateForPair(c,i,o,u);return this.simplifyStates(u)}static updateStateForPair(r,i,o,u){let c=r.endBinaryShift(i);if(u.push(c.latchAndAppend(tr,o)),r.getMode()!==tr&&u.push(c.shiftAndAppend(tr,o)),o===3||o===4){let f=c.latchAndAppend(Gr,16-o).latchAndAppend(Gr,1);u.push(f)}if(r.getBinaryShiftByteCount()>0){let f=r.addBinaryShiftChar(i).addBinaryShiftChar(i+1);u.push(f)}}static simplifyStates(r){let i=[];for(const o of r){let u=!0;for(const c of i){if(c.isBetterThanOrEqualTo(o)){u=!1;break}o.isBetterThanOrEqualTo(c)&&(i=i.filter(f=>f!==c))}u&&i.push(o)}return i}}class Zt{constructor(){}static encodeBytes(r){return Zt.encode(r,Zt.DEFAULT_EC_PERCENT,Zt.DEFAULT_AZTEC_LAYERS)}static encode(r,i,o){let u=new ms(r).encode(),c=N.truncDivision(u.getSize()*i,100)+11,f=u.getSize()+c,v,w,x,E,O;if(o!==Zt.DEFAULT_AZTEC_LAYERS){if(v=o<0,w=Math.abs(o),w>(v?Zt.MAX_NB_BITS_COMPACT:Zt.MAX_NB_BITS))throw new y($.format("Illegal value %s for layers",o));x=Zt.totalBitsInLayer(w,v),E=Zt.WORD_SIZE[w];let $e=x-x%E;if(O=Zt.stuffBits(u,E),O.getSize()+c>$e)throw new y("Data to large for user specified layer");if(v&&O.getSize()>E*64)throw new y("Data to large for user specified layer")}else{E=0,O=null;for(let $e=0;;$e++){if($e>Zt.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(v=$e<=3,w=v?$e+1:$e,x=Zt.totalBitsInLayer(w,v),f>x)continue;(O==null||E!==Zt.WORD_SIZE[w])&&(E=Zt.WORD_SIZE[w],O=Zt.stuffBits(u,E));let Yt=x-x%E;if(!(v&&O.getSize()>E*64)&&O.getSize()+c<=Yt)break}}let R=Zt.generateCheckWords(O,x,E),j=O.getSize()/E,J=Zt.generateModeMessage(v,w,j),te=(v?11:14)+w*4,fe=new Int32Array(te),Ee;if(v){Ee=te;for(let $e=0;$e<fe.length;$e++)fe[$e]=$e}else{Ee=te+1+2*N.truncDivision(N.truncDivision(te,2)-1,15);let $e=N.truncDivision(te,2),Yt=N.truncDivision(Ee,2);for(let It=0;It<$e;It++){let Cr=It+N.truncDivision(It,15);fe[$e-It-1]=Yt-Cr-1,fe[$e+It]=Yt+Cr+1}}let je=new ue(Ee);for(let $e=0,Yt=0;$e<w;$e++){let It=(w-$e)*4+(v?9:12);for(let Cr=0;Cr<It;Cr++){let C=Cr*2;for(let S=0;S<2;S++)R.get(Yt+C+S)&&je.set(fe[$e*2+S],fe[$e*2+Cr]),R.get(Yt+It*2+C+S)&&je.set(fe[$e*2+Cr],fe[te-1-$e*2-S]),R.get(Yt+It*4+C+S)&&je.set(fe[te-1-$e*2-S],fe[te-1-$e*2-Cr]),R.get(Yt+It*6+C+S)&&je.set(fe[te-1-$e*2-Cr],fe[$e*2+S])}Yt+=It*8}if(Zt.drawModeMessage(je,v,Ee,J),v)Zt.drawBullsEye(je,N.truncDivision(Ee,2),5);else{Zt.drawBullsEye(je,N.truncDivision(Ee,2),7);for(let $e=0,Yt=0;$e<N.truncDivision(te,2)-1;$e+=15,Yt+=16)for(let It=N.truncDivision(Ee,2)&1;It<Ee;It+=2)je.set(N.truncDivision(Ee,2)-Yt,It),je.set(N.truncDivision(Ee,2)+Yt,It),je.set(It,N.truncDivision(Ee,2)-Yt),je.set(It,N.truncDivision(Ee,2)+Yt)}let Ge=new $l;return Ge.setCompact(v),Ge.setSize(Ee),Ge.setLayers(w),Ge.setCodeWords(j),Ge.setMatrix(je),Ge}static drawBullsEye(r,i,o){for(let u=0;u<o;u+=2)for(let c=i-u;c<=i+u;c++)r.set(c,i-u),r.set(c,i+u),r.set(i-u,c),r.set(i+u,c);r.set(i-o,i-o),r.set(i-o+1,i-o),r.set(i-o,i-o+1),r.set(i+o,i-o),r.set(i+o,i-o+1),r.set(i+o,i+o-1)}static generateModeMessage(r,i,o){let u=new A;return r?(u.appendBits(i-1,2),u.appendBits(o-1,6),u=Zt.generateCheckWords(u,28,4)):(u.appendBits(i-1,5),u.appendBits(o-1,11),u=Zt.generateCheckWords(u,40,4)),u}static drawModeMessage(r,i,o,u){let c=N.truncDivision(o,2);if(i)for(let f=0;f<7;f++){let v=c-3+f;u.get(f)&&r.set(v,c-5),u.get(f+7)&&r.set(c+5,v),u.get(20-f)&&r.set(v,c+5),u.get(27-f)&&r.set(c-5,v)}else for(let f=0;f<10;f++){let v=c-5+f+N.truncDivision(f,5);u.get(f)&&r.set(v,c-7),u.get(f+10)&&r.set(c+7,v),u.get(29-f)&&r.set(v,c+7),u.get(39-f)&&r.set(c-7,v)}}static generateCheckWords(r,i,o){let u=r.getSize()/o,c=new La(Zt.getGF(o)),f=N.truncDivision(i,o),v=Zt.bitsToWords(r,o,f);c.encode(v,f-u);let w=i%o,x=new A;x.appendBits(0,w);for(const E of Array.from(v))x.appendBits(E,o);return x}static bitsToWords(r,i,o){let u=new Int32Array(o),c,f;for(c=0,f=r.getSize()/i;c<f;c++){let v=0;for(let w=0;w<i;w++)v|=r.get(c*i+w)?1<<i-w-1:0;u[c]=v}return u}static getGF(r){switch(r){case 4:return F.AZTEC_PARAM;case 6:return F.AZTEC_DATA_6;case 8:return F.AZTEC_DATA_8;case 10:return F.AZTEC_DATA_10;case 12:return F.AZTEC_DATA_12;default:throw new y("Unsupported word size "+r)}}static stuffBits(r,i){let o=new A,u=r.getSize(),c=(1<<i)-2;for(let f=0;f<u;f+=i){let v=0;for(let w=0;w<i;w++)(f+w>=u||r.get(f+w))&&(v|=1<<i-1-w);(v&c)===c?(o.appendBits(v&c,i),f--):(v&c)===0?(o.appendBits(v|1,i),f--):o.appendBits(v,i)}return o}static totalBitsInLayer(r,i){return((i?88:112)+16*r)*r}}Zt.DEFAULT_EC_PERCENT=33,Zt.DEFAULT_AZTEC_LAYERS=0,Zt.MAX_NB_BITS=32,Zt.MAX_NB_BITS_COMPACT=4,Zt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Xs{encode(r,i,o,u){return this.encodeWithHints(r,i,o,u,null)}encodeWithHints(r,i,o,u,c){let f=Fa.ISO_8859_1,v=Zt.DEFAULT_EC_PERCENT,w=Zt.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(Wn.CHARACTER_SET)&&(f=Vl.forName(c.get(Wn.CHARACTER_SET).toString())),c.has(Wn.ERROR_CORRECTION)&&(v=N.parseInt(c.get(Wn.ERROR_CORRECTION).toString())),c.has(Wn.AZTEC_LAYERS)&&(w=N.parseInt(c.get(Wn.AZTEC_LAYERS).toString()))),Xs.encodeLayers(r,i,o,u,f,v,w)}static encodeLayers(r,i,o,u,c,f,v){if(i!==we.AZTEC)throw new y("Can only encode AZTEC, but got "+i);let w=Zt.encode($.getBytes(r,c),f,v);return Xs.renderResult(w,o,u)}static renderResult(r,i,o){let u=r.getMatrix();if(u==null)throw new ce;let c=u.getWidth(),f=u.getHeight(),v=Math.max(i,c),w=Math.max(o,f),x=Math.min(v/c,w/f),E=(v-c*x)/2,O=(w-f*x)/2,R=new ue(v,w);for(let j=0,J=O;j<f;j++,J+=x)for(let te=0,fe=E;te<c;te++,fe+=x)u.get(te,j)&&R.setRegion(fe,J,x,x);return R}}n.AbstractExpandedDecoder=Wt,n.ArgumentException=p,n.ArithmeticException=pt,n.AztecCode=$l,n.AztecCodeReader=Kt,n.AztecCodeWriter=Xs,n.AztecDecoder=ke,n.AztecDetector=tn,n.AztecDetectorResult=dt,n.AztecEncoder=Zt,n.AztecHighLevelEncoder=ms,n.AztecPoint=ht,n.BarcodeFormat=we,n.Binarizer=T,n.BinaryBitmap=_,n.BitArray=A,n.BitMatrix=ue,n.BitSource=Do,n.BrowserAztecCodeReader=Mn,n.BrowserBarcodeReader=mc,n.BrowserCodeReader=Ze,n.BrowserDatamatrixCodeReader=vc,n.BrowserMultiFormatReader=Sc,n.BrowserPDF417Reader=Ec,n.BrowserQRCodeReader=Ac,n.BrowserQRCodeSvgWriter=Gi,n.CharacterSetECI=L,n.ChecksumException=b,n.Code128Reader=Ue,n.Code39Reader=mn,n.DataMatrixDecodedBitStreamParser=ni,n.DataMatrixReader=Oi,n.DecodeHintType=Q,n.DecoderResult=he,n.DefaultGridSampler=Tt,n.DetectorResult=Le,n.EAN13Reader=mr,n.EncodeHintType=Wn,n.Exception=m,n.FormatException=M,n.GenericGF=F,n.GenericGFPoly=nt,n.GlobalHistogramBinarizer=Be,n.GridSampler=ct,n.GridSamplerInstance=Pt,n.HTMLCanvasElementLuminanceSource=ut,n.HybridBinarizer=Se,n.ITFReader=Et,n.IllegalArgumentException=y,n.IllegalStateException=ce,n.InvertedLuminanceSource=et,n.LuminanceSource=Re,n.MathUtils=Pe,n.MultiFormatOneDReader=Hr,n.MultiFormatReader=Na,n.MultiFormatWriter=Ic,n.NotFoundException=ee,n.OneDReader=Nt,n.PDF417DecodedBitStreamParser=Ce,n.PDF417DecoderErrorCorrection=Pl,n.PDF417Reader=cr,n.PDF417ResultMetadata=Ma,n.PerspectiveTransform=ot,n.PlanarYUVLuminanceSource=kr,n.QRCodeByteMatrix=No,n.QRCodeDataMask=zr,n.QRCodeDecodedBitStreamParser=An,n.QRCodeDecoderErrorCorrectionLevel=wn,n.QRCodeDecoderFormatInformation=lr,n.QRCodeEncoder=yn,n.QRCodeEncoderQRCode=Wi,n.QRCodeMaskUtil=Nn,n.QRCodeMatrixUtil=bt,n.QRCodeMode=wt,n.QRCodeReader=Di,n.QRCodeVersion=mt,n.QRCodeWriter=Ri,n.RGBLuminanceSource=Ba,n.RSS14Reader=kt,n.RSSExpandedReader=Te,n.ReaderException=Mo,n.ReedSolomonDecoder=Ne,n.ReedSolomonEncoder=La,n.ReedSolomonException=X,n.Result=it,n.ResultMetadataType=Me,n.ResultPoint=ye,n.StringUtils=$,n.UnsupportedOperationException=de,n.VideoInputDevice=me,n.WhiteRectangleDetector=Xe,n.WriterException=vn,n.ZXingArrays=Y,n.ZXingCharset=Vl,n.ZXingInteger=N,n.ZXingStandardCharsets=Fa,n.ZXingStringBuilder=be,n.ZXingStringEncoding=pe,n.ZXingSystem=k,n.createAbstractExpandedDecoder=rt,Object.defineProperty(n,"__esModule",{value:!0})})})(_1,_1.exports);globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var Gf=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var Cp=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var s={advanced:[n]};return this.track.applyConstraints(s)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),CE=function(e){Gf(t,e);function t(n,s){return e.call(this,n,s)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var s={};s[this.name]=n;var a={advanced:[s]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),s=n[this.name];return{min:s.min,max:s.max,step:s.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Cp);(function(e){Gf(t,e);function t(n){return e.call(this,"zoom",n)||this}return t})(CE);(function(e){Gf(t,e);function t(n){return e.call(this,"torch",n)||this}return t})(Cp);globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var C1;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(C1||(C1={}));var SE=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}();(function(e){SE(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(_E);globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var S1;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(S1||(S1={}));const EE={key:0,class:"q-my-sm"},AE={key:0},TE={key:1,class:"column"},IE={class:"filter-icon",style:{position:"absolute",top:"16px",right:"16px"}},OE={style:{width:"30%"}},DE={class:"flex q-py-none",style:{"align-items":"center"}},kE={key:1,style:{height:"30vh"},class:"full-width flex column flex-center"},RE={key:0},ME={class:"text-subtitle2 text-grey"},NE={class:"flex flex-center"},PE=["onClick"],LE={class:"text-blue text-h4"},BE={class:"flex justify-between",style:{"align-items":"center"}},FE={class:"flex justify-between full-width"},VE={style:{width:"80%"},class:"text-grey-7"},$E={class:"text-grey text-bold"},UE={class:"text-blue"},qE={class:"text-grey-6"},jE={key:1,class:"flex flex-center column full-height",style:{"margin-top":"200px"}},HE={class:"flex justify-between q-py-none q-pr-md bg-white z-max",style:{position:"sticky",top:"0"}},zE={class:"column flex q-pt-lg",style:{"align-items":"end"}},WE={style:{width:"100%"},class:"flex justify-between"},GE={key:0,class:"float-bottom text-subtitle2 flex justify-between",style:{right:"5%",width:"100%"}},YE={key:0,class:"text-red-8"},XE={key:1,class:"text-red-8"},KE={key:1,class:"float-bottom text-subtitle2 flex justify-between",style:{right:"5%",width:"100%"}},ZE={class:"text-red-8"},QE={class:"float-bottom text-subtitle1 flex justify-between",style:{right:"5%",width:"100%"}},JE={class:"full-width justify-between flex q-px-md"},eA={key:0,class:"text-subtitle1"},tA={class:"flex justify-between",style:{"align-items":"center"}},nA={class:"flex justify-between full-width",style:{"align-items":"center"}},rA={class:"flex text-grey-7",style:{width:"70%"}},iA={key:0,class:"text-blue"},sA={key:0,class:"flex"},oA={key:0,class:"text-blue text-bold"},aA={key:1,class:"text-blue text-bold"},lA={class:"q-pt-md q-px-md bg-white",style:{position:"sticky",top:"0","z-index":"10"}},uA={class:"flex"},cA={style:{display:"grid","grid-template-columns":"1fr 1fr 1fr"},class:"q-mb-md"},dA={class:"flex"},fA={class:"text-bold"},hA={class:"flex justify-end full-width"},gA={class:"flex justify-between"},mA={class:"text-subtitle2"},vA={class:"text-primary"},pA={class:"full-width text-grey-6 flex justify-between"},wA={class:"flex justify-end"},yA={class:"flex justify-between q-py-md q-pr-md bg-white z-max",style:{position:"sticky",top:"0"}},xA={class:"flex justify-between"},bA={class:"text-subtitle2 text-grey-6 q-ml-xs"},_A={class:"text-blue text-h4 text-right"},CA={style:{height:"30vh"},class:"full-width flex column flex-center"},SA={class:"flex justify-between q-py-md q-pr-md bg-white z-max",style:{position:"sticky",top:"0"}},EA={class:"float-bottom text-h6",style:{right:"5%"}},AA={key:0,class:"text-subtitle1"},TA={class:"flex justify-between",style:{"align-items":"center"}},IA={class:"flex justify-between full-width",style:{"align-items":"center"}},OA={class:"flex text-grey-7",style:{width:"70%"}},DA={key:0,class:"text-blue"},kA={key:0,class:"flex"},RA={key:0,class:"text-blue text-bold"},MA={key:1,class:"text-blue text-bold"},NA={class:"flex q-pt-md"},PA={style:{display:"grid","grid-template-columns":"1fr 1fr 1fr"},class:"q-mb-md full-width"},LA={class:"flex"},BA={class:"text-bold"},FA={class:"flex justify-end full-width"},VA={__name:"DataViewPage",setup(e){const t=Fe(!1),n=s3(),s=Hf();Tf();const a=dc(),l=Vv();Xn.getLocalStorageData("username"),Xn.getLocalStorageData("password");const d=Fe(null),h=Fe(null),g=Fe([]),m=Fe(l.slideItems);Fe(l.slideItemsUpdate);const p=Fe(3),y=G(()=>l.listUserData.slice(0,p.value));G(()=>p.value<l.listUserData.length);const _=Fe(!1),b=Fe("asc"),T=G(()=>[...l.listUserData].sort((N,A)=>b.value==="asc"?N.ordernumber-A.ordernumber:A.ordernumber-N.ordernumber));function k(N){b.value=N}gr(async()=>{await l.getInit(),$t.auth.onAuthStateChange(async(N,A)=>{A&&a.validateSession()})}),xa(()=>{$t.removeAllChannels()});function q(N){s.bottomSheet({message:"H\xE0nh \u0111\u1ED9ng",grid:N,actions:[{label:"S\u1EEDa th\xF4ng tin",img:Gv,id:"update"},{},{label:"L\u1ECBch s\u1EED ch\u1EC9nh s\u1EEDa",img:Wv,id:"history"}]}).onOk(A=>{switch(A.id){case"update":l.showUpdateDialog=!0,l.updateData=l.dataItem.filter(B=>B.id===N)[0],l.updateData.isCustomerOrder=!1,l.updateData.menuSelected=l.updateData.menuSelected.map(B=>B.isMultiSelect?{...B,selectCount:B.quantity}:B).filter(B=>B),l.updateData.menuMultipleSelect=l.menuData.map(B=>{if(B.isMultiSelect){const Q=l.updateData.menu.filter(M=>M.menu_id===B.id)[0];return{id:B.id,label:B.label,price:parseFloat(B.value),selectCount:Q?Q.quantity:0,isMultiSelect:!0}}}).filter(B=>B),l.updateData.umsatz=l.updateData.totalPrice;break;case"delete":l.deleteData(N);break;case"history":l.showHistoryDialog=!0,l.fetchHistoryData(N);break}}).onCancel(()=>{}).onDismiss(()=>{})}const K=(N,A)=>{if(N===""){A(()=>{g.value=l.menuData.filter(B=>!B.isMultiSelect)});return}A(()=>{const B=N.toLowerCase();g.value=l.menuData.filter(Q=>Q.filterSearch.toLowerCase().indexOf(B)>-1&&!Q.isMultiSelect)})},Y=N=>{switch(N){case"serving":return"green-3";case"waiting":return"yellow-3";case"off":return"red-3";default:return"primary"}};return(N,A)=>(Ie(),yt(Rf,{class:"q-pa-sm"},{default:le(()=>[P(l).isLoadingMainScreen?Qt("",!0):(Ie(),tt("div",EE,[P(l).isShowMoreUsers?(Ie(),tt("div",TE,[ae("div",IE,[bi((Ie(),yt(st,{dense:"",round:"",flat:"",icon:"filter_list",onClick:A[5]||(A[5]=B=>_.value.value=!_.value.value)},{default:le(()=>[z(qf,{modelValue:_.value,"onUpdate:modelValue":A[4]||(A[4]=B=>_.value=B)},{default:le(()=>[z(si,null,{default:le(()=>[bi((Ie(),yt(Xr,{clickable:"",onClick:A[2]||(A[2]=B=>k("asc"))},{default:le(()=>[z(Gn,null,{default:le(()=>A[37]||(A[37]=[Mt("S\u1EAFp x\u1EBFp theo th\u1EE9 t\u1EF1 b\xE9 l\u1EDBn")])),_:1})]),_:1})),[[fl]]),bi((Ie(),yt(Xr,{clickable:"",onClick:A[3]||(A[3]=B=>k("desc"))},{default:le(()=>[z(Gn,null,{default:le(()=>A[38]||(A[38]=[Mt("S\u1EAFp x\u1EBFp theo th\u1EE9 t\u1EF1 l\u1EDBn b\xE9")])),_:1})]),_:1})),[[fl]])]),_:1})]),_:1},8,["modelValue"])]),_:1})),[[fl]])]),(Ie(!0),tt(Xt,null,Yn(T.value,B=>(Ie(),tt("div",{key:B.userName,class:"flex q-py-none",style:{"align-items":"center"}},[ae("div",OE,[z(st,{color:B.status_name==="serving"?"green-8":B.status_name==="waiting"?"yellow-8":"red-8",class:"q-pa-sm q-my-xs q-py-none",outline:"",size:"md",style:{"min-width":"100px"}},{default:le(()=>[Mt(Je(B.username),1)]),_:2},1032,["color"])]),ae("div",DE,[(Ie(!0),tt(Xt,null,Yn(+B.ordernumber+6,(Q,M)=>(Ie(),yt(Os,{key:M,color:"primary",outline:"",class:"q-pa-sm q-px-sm q-ml-sm",label:Q},null,8,["label"]))),128))])]))),128)),z(st,{flat:"",dense:"","text-color":"grey-4","icon-right":"unfold_less",class:"q-ml-sm",onClick:A[6]||(A[6]=B=>P(l).isShowMoreUsers=!P(l).isShowMoreUsers)})])):(Ie(),tt("div",AE,[(Ie(!0),tt(Xt,null,Yn(y.value,B=>(Ie(),yt(st,{key:B.userName,color:"grey-6",class:"q-mx-xs q-pa-sm q-my-xs",outline:"",size:"md",style:{"min-width":"100px"}},{default:le(()=>[z(Jt,{name:"circle",color:Y(B.status_name),size:"xs",class:"q-mx-xs"},null,8,["color"]),Mt(" "+Je(B.username)+" - "+Je(B.ordernumber),1)]),_:2},1024))),128)),P(l).isShowMoreUsers?(Ie(),yt(st,{key:1,flat:"",dense:"","text-color":"grey-4","icon-right":"unfold_less",class:"q-ml-sm",onClick:A[1]||(A[1]=B=>P(l).isShowMoreUsers=!P(l).isShowMoreUsers)})):(Ie(),yt(st,{key:0,flat:"","text-color":"grey-4","icon-right":"unfold_more",class:"q-ml-sm",onClick:A[0]||(A[0]=B=>P(l).isShowMoreUsers=!P(l).isShowMoreUsers)}))]))])),P(l).isLoadingMainScreen?(Ie(),tt("div",kE,[A[39]||(A[39]=Mt(" \u0110ang t\u1EA3i ")),z(P(bo),{size:"lg",color:"blue"})])):(Ie(),yt(si,{key:2,class:"q-mt-md"},{default:le(()=>{var B;return[(B=P(l).dataItem)!=null&&B.length?(Ie(),tt("div",RE,[(Ie(!0),tt(Xt,null,Yn(P(l).dataItem,(Q,M)=>(Ie(),yt(In,{key:M,flat:"",bordered:"",class:"my-card q-mb-md"},{default:le(()=>[z(Ft,{class:"flex flex justify-between q-py-md",style:{"align-items":"center"}},{default:le(()=>[ae("div",null,[ae("div",ME,Je(Q.datum),1)]),ae("div",NE,[Q.discountObject.id?(Ie(),yt(Os,{key:0,color:"primary",outline:"",label:`-${Q.discountObject.value}${Q.discountObject.type==="none"?"\u20AC":Q.discountObject.type}`},null,8,["label"])):Qt("",!0),Q.giftCardObject.id?(Ie(),yt(Os,{key:1,color:"red",outline:"",label:`-${Q.giftCardObject.value}\u20AC`,class:"q-ml-sm"},null,8,["label"])):Qt("",!0),z(Jt,{name:"more_vert",size:"sm",color:P(l).loadingSelect?"grey-3":"grey-5",onClick:ie=>P(l).loadingSelect?[]:q(Q.id)},null,8,["color","onClick"])])]),_:2},1024),z(Ft,null,{default:le(()=>[ae("div",{class:"flex justify-between full-width q-py-xs q-px-none q-mx-none",onClick:ie=>Q.showQList=!Q.showQList,style:{"align-items":"center"}},[A[40]||(A[40]=ae("span",{class:"text-bold text-grey-7 text-h6"},"Doanh thu",-1)),ae("span",LE,Je(P(hn).formatter.format(Q.totalPrice)),1)],8,PE),Q.showQList?(Ie(),yt(si,{key:0,class:"q-mb-md",bordered:"",separator:""},{default:le(()=>[(Ie(!0),tt(Xt,null,Yn(Q.menuSelected,(ie,L)=>(Ie(),yt(Xr,{key:L},{default:le(()=>[z(Gn,null,{default:le(()=>[ae("div",BE,[ae("div",FE,[ae("div",VE,Je(ie.label),1),ae("div",$E,[ae("span",UE,Je(ie.quantity)+" x",1),Mt(" "+Je(P(hn).formatter.format(ie.value)),1)])])])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)):Qt("",!0),ae("span",qE,Je(Q.notizen),1)]),_:2},1024)]),_:2},1024))),128))])):(Ie(),tt("div",jE,[z(fc,{src:P(gc),"spinner-color":"primary","spinner-size":"82px",width:"250px"},null,8,["src"]),A[41]||(A[41]=ae("span",{class:"text-h5 text-grey-7 text-bold"},"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u",-1))]))]}),_:1})),z(hc,{position:"bottom-right",offset:[18,48]},{default:le(()=>[z(st,{icon:"add",color:"green-7",class:"q-pa-md",round:"",disable:P(l).isLoadingMainScreen,onClick:A[7]||(A[7]=B=>P(l).showAddDialog=!0)},null,8,["disable"])]),_:1}),z(Tr,{maximized:P(l).showAddDialog,class:"full-width full-height",modelValue:P(l).showAddDialog,"onUpdate:modelValue":A[24]||(A[24]=B=>P(l).showAddDialog=B)},{default:le(()=>[z(In,{class:"full-width full-height"},{default:le(()=>[ae("div",HE,[z(st,{icon:"eva-arrow-ios-back-outline",class:"text-blue",flat:"",onClick:A[8]||(A[8]=B=>P(l).showAddDialog=!1)},{default:le(()=>A[42]||(A[42]=[ae("span",{class:"text-subtitle1"},"Quay l\u1EA1i",-1)])),_:1}),ae("div",zE,[ae("div",WE,[A[43]||(A[43]=ae("span",{class:"text-grey-8"},"Gi\xE1 g\u1ED1c: ",-1)),ae("span",null,Je(P(hn).formatter.format(P(l).newData.umsatz)),1)]),P(l).newData.isHaveDiscount?(Ie(),tt("div",GE,[A[44]||(A[44]=ae("span",null,"M\xE3 gi\u1EA3m gi\xE1: ",-1)),P(l).newData.discountObject.type==="none"?(Ie(),tt("span",YE,"-"+Je(P(hn).formatter.format(P(l).newData.discountObject.value)),1)):(Ie(),tt("span",XE,"-"+Je(P(l).newData.discountObject.value)+" "+Je(P(l).newData.discountObject.type),1))])):Qt("",!0),P(l).newData.isHaveGiftCard?(Ie(),tt("div",KE,[A[45]||(A[45]=ae("span",null,"M\xE3 qu\xE0 t\u1EB7ng: ",-1)),ae("span",ZE,"-"+Je(P(hn).formatter.format(P(l).newData.giftCardObject.value)),1)])):Qt("",!0),ae("div",QE,[A[46]||(A[46]=ae("span",{class:"text-bold q-pr-md"},"T\u1ED5ng c\u1ED9ng:",-1)),ae("span",null,Je(P(hn).formatter.format(Math.max((P(l).newData.isHaveDiscount?P(l).newData.discountObject.type==="none"?P(l).newData.umsatz-P(l).newData.discountObject.value:P(l).newData.umsatz-P(l).newData.umsatz/100*P(l).newData.discountObject.value:P(l).newData.umsatz)-(P(l).newData.isHaveGiftCard?P(l).newData.giftCardObject.value:0),0))),1)])])]),z(Ft,null,{default:le(()=>[z(os,{class:"q-gutter-md q-py-lg flex column",onSubmit:A[23]||(A[23]=B=>P(l).addData(P(l).newData))},{default:le(()=>{var B,Q;return[ae("div",JE,[(Ie(!0),tt(Xt,null,Yn(P(l).listDiscount,(M,ie)=>(Ie(),yt(Os,{outline:!M.isSelected,color:"primary",key:ie,label:`-${M.value}${M.type==="none"?"\u20AC":M.type}`,class:"q-pa-sm q-px-lg q-mb-sm",style:{width:"23%"},onClick:L=>P(l).handleClickDiscount(M.id)},null,8,["outline","label","onClick"]))),128))]),(B=P(l).newData.menuSelected)!=null&&B.length?(Ie(),tt("span",eA,"D\u1ECBch v\u1EE5 \u0111\xE3 ch\u1ECDn")):Qt("",!0),(Q=P(l).newData.menuSelected)!=null&&Q.length?(Ie(),yt(si,{key:1,bordered:"",separator:""},{default:le(()=>[(Ie(!0),tt(Xt,null,Yn(P(l).newData.menuSelected,(M,ie)=>(Ie(),yt(nf,{key:ie,ref_for:!0,ref_key:"slideItems",ref:m,onRight:L=>P(l).onRightSlide(M.id,ie),"right-color":"red-5"},{right:le(()=>[z(Jt,{name:"delete"}),A[47]||(A[47]=Mt(" Xo\xE1... "))]),default:le(()=>[z(Xr,null,{default:le(()=>[z(Gn,null,{default:le(()=>[ae("div",tA,[ae("div",nA,[ae("div",rA,[ae("div",{class:"column",style:Ls(M.isMultiSelect?"width: 30%":[])},[Mt(Je(M.label)+" ",1),M.isMultiSelect?(Ie(),tt("span",iA,"x "+Je(M.selectCount),1)):Qt("",!0)],4),M.isMultiSelect?(Ie(),tt("div",sA,[z(st,{color:"grey-6",icon:"eva-minus-outline",onClick:L=>P(l).clickMultiSelectInAddDataMinus(M),outline:""},null,8,["onClick"]),z(st,{color:"grey-6",icon:"eva-plus-outline",onClick:L=>P(l).clickMultiSelectInAddData(M),class:"q-ml-sm",outline:""},null,8,["onClick"])])):Qt("",!0)]),M.isMultiSelect?(Ie(),tt("div",oA,Je(P(hn).formatter.format(M.value*M.selectCount)),1)):(Ie(),tt("div",aA,Je(P(hn).formatter.format(M.value)),1))])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onRight"]))),128))]),_:1})):Qt("",!0),A[55]||(A[55]=ae("span",{class:"text-subtitle1"},"Ch\u1ECDn d\u1ECBch v\u1EE5",-1)),z(xi,{ref_key:"selectMenuRef",ref:d,rules:[M=>!!M||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 r\u1ED7ng"],modelValue:P(l).newData.menuSelected,"onUpdate:modelValue":[A[11]||(A[11]=M=>P(l).newData.menuSelected=M),A[12]||(A[12]=M=>P(l).newData.umsatz=P(l).newData.menuSelected.map(ie=>ie.value).reduce((ie,L)=>ie+L,0))],options:g.value,"option-label":"label","option-value":"id",outlined:"",multiple:"","use-input":"",onFilter:K,"input-debounce":"300",disable:P(l).loadingSelect,"hide-selected":"",behavior:"menu",style:{position:"relative"}},{"before-options":le(()=>[ae("div",lA,[ae("div",uA,[z(st,{"text-color":"grey-5",icon:"close",flat:"",label:"\u0110\xF3ng menu",class:"full-width q-mb-md",onClick:A[9]||(A[9]=M=>d.value.hidePopup())})]),ae("div",cA,[(Ie(!0),tt(Xt,null,Yn(P(l).newData.menuMultipleSelect.sort((M,ie)=>M.price-ie.price),(M,ie)=>(Ie(),yt(st,{key:ie,class:"q-mr-sm",outline:"",color:"white","text-color":"primary",label:M.label,onClick:L=>P(l).clickMultiSelectInAddData(M)},{default:le(()=>[z(Os,{color:"red",label:M.selectCount,floating:""},null,8,["label"])]),_:2},1032,["label","onClick"]))),128))])])]),"after-options":le(()=>[ae("div",dA,[z(st,{"text-color":"grey-5",icon:"close",flat:"",label:"\u0110\xF3ng menu",class:"full-width q-my-md",onClick:A[10]||(A[10]=M=>d.value.hidePopup())})])]),option:le(M=>[z(Xr,xu({clickable:"false"},M.itemProps,{class:[M.selected?"bg-blue-1":M.index%2===0?"bg-grey-1":"bg-grey-2"]}),{default:le(()=>[z(Gn,{avatar:""},{default:le(()=>[z(Jt,{name:"eva-pricetags-outline",class:qi({"text-grey-4":!M.selected,"text-blue":M.selected})},null,8,["class"])]),_:2},1024),z(Gn,null,{default:le(()=>[z(co,{class:"text-subtitle2"},{default:le(()=>[Mt(Je(M.opt.label),1)]),_:2},1024),z(co,{caption:""},{default:le(()=>[A[48]||(A[48]=Mt("Preis: ")),ae("span",fA,Je(P(hn).formatter.format(M.opt.value)),1)]),_:2},1024)]),_:2},1024),z(Gn,{side:""},{default:le(()=>[ae("div",hA,[z(ku,{modelValue:M.selected,"onUpdate:modelValue":ie=>M.selected=ie,color:"green",onClick:ie=>P(l).clickToggleAddMenuItem(M)},null,8,["modelValue","onUpdate:modelValue","onClick"])])]),_:2},1024)]),_:2},1040,["class"])]),_:1},8,["rules","modelValue","options","disable"]),ae("div",null,[A[52]||(A[52]=ae("span",{class:"text-subtitle1"},"Gift card",-1)),z(Dn,{modelValue:P(l).newData.giftCard,"onUpdate:modelValue":[A[14]||(A[14]=M=>P(l).newData.giftCard=M),A[15]||(A[15]=M=>P(l).validateGiftCard(P(l).newData.giftCard))],placeholder:"Vui l\xF2ng nh\u1EADp gift card t\u1EA1i \u0111\xE2y...",outlined:"",debounce:"500"},{append:le(()=>[z(Jt,{name:"qr_code_scanner",onClick:A[13]||(A[13]=M=>t.value=!0)})]),_:1},8,["modelValue"]),z(Tr,{modelValue:t.value,"onUpdate:modelValue":A[17]||(A[17]=M=>t.value=M)},{default:le(()=>[z(In,{style:{"min-width":"90vw"}},{default:le(()=>[z(Ft,null,{default:le(()=>A[49]||(A[49]=[ae("div",{class:"text-h6"},"Scan QR Code",-1)])),_:1}),z(Ft,{class:"q-pa-md flex flex-center"},{default:le(()=>[z(bE,{height:500,"detect-func":P(n).scanData},null,8,["detect-func"])]),_:1}),z(Si,{align:"right"},{default:le(()=>[z(st,{flat:"",dense:"",label:"\u0110\xF3ng",color:"grey",onClick:A[16]||(A[16]=M=>t.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),P(l).newData.isHaveGiftCard?(Ie(),yt(In,{key:0,class:"my-card"},{default:le(()=>[z(Ft,null,{default:le(()=>[ae("div",gA,[A[50]||(A[50]=ae("div",{class:"text-h6"},"Th\u1EBB qu\xE0 t\u1EB7ng",-1)),z(Jt,{name:"eva-trash-2-outline",size:"md",color:"red-8",onClick:A[18]||(A[18]=M=>{P(Qr).create({title:"X\xE1c nh\u1EADn",message:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n xo\xE1 th\u1EBB qu\xE0 t\u1EB7ng n\xE0y?",ok:!0,cancel:!0}).onOk(()=>{P(l).newData.isHaveGiftCard=!1,P(l).newData.giftCardObject={},P(l).newData.giftCard=""})})})]),ae("div",mA,[A[51]||(A[51]=Mt(" Gi\xE1 tr\u1ECB: ")),ae("span",vA,Je(P(l).newData.giftCardObject.value),1)])]),_:1}),z(Ft,null,{default:le(()=>[ae("div",pA,[ae("span",null," T\u1EEB ng\xE0y: "+Je(new Date(P(l).newData.giftCardObject.date_from).toLocaleDateString("vi-VN")),1),ae("span",null," \u0110\u1EBFn ng\xE0y: "+Je(new Date(P(l).newData.giftCardObject.date_expired).toLocaleDateString("vi-VN")),1)])]),_:1})]),_:1})):Qt("",!0)]),ae("div",wA,[z(lv,{"left-label":"",modelValue:P(l).newData.isCustomerOrder,"onUpdate:modelValue":A[19]||(A[19]=M=>P(l).newData.isCustomerOrder=M),label:"Kh\xE1ch \u0111\u1EB7t"},null,8,["modelValue"])]),P(l).showNotizen?Qt("",!0):(Ie(),tt("div",{key:2,onClick:A[20]||(A[20]=M=>P(l).showNotizen=!0),class:"flex flex-center text-blue"},[z(Jt,{name:"add",size:"sm",rounded:""}),A[53]||(A[53]=Mt("Hi\u1EC7n ghi ch\xFA "))])),P(l).showNotizen?(Ie(),yt(Dn,{key:3,modelValue:P(l).newData.notizen,"onUpdate:modelValue":A[21]||(A[21]=M=>P(l).newData.notizen=M),label:"Th\xEAm ghi ch\xFA",outlined:""},null,8,["modelValue"])):Qt("",!0),P(l).showNotizen?(Ie(),tt("div",{key:4,onClick:A[22]||(A[22]=M=>P(l).showNotizen=!1),class:"flex flex-center text-blue"},[z(Jt,{name:"remove",size:"sm",rounded:""}),A[54]||(A[54]=Mt("\u1EA8n ghi ch\xFA "))])):Qt("",!0),z(st,{label:"L\u01B0u d\u1EEF li\u1EC7u",type:"submit",color:"green-7",icon:"add",class:"q-py-sm",push:""})]}),_:1})]),_:1})]),_:1})]),_:1},8,["maximized","modelValue"]),z(Tr,{maximized:P(l).showHistoryDialog,modelValue:P(l).showHistoryDialog,"onUpdate:modelValue":A[26]||(A[26]=B=>P(l).showHistoryDialog=B)},{default:le(()=>[P(l).isLoadingHistory?(Ie(),yt(In,{key:1,class:"full-width flex flex-center full-height"},{default:le(()=>[ae("div",CA,[A[58]||(A[58]=Mt(" \u0110ang t\u1EA3i ")),z(P(bo),{size:"lg",color:"blue"})])]),_:1})):(Ie(),yt(In,{key:0,class:"full-width full-height"},{default:le(()=>[ae("div",yA,[z(st,{icon:"eva-arrow-ios-back-outline",class:"text-blue",flat:"",onClick:A[25]||(A[25]=B=>P(l).showHistoryDialog=!1)},{default:le(()=>A[56]||(A[56]=[ae("span",{class:"text-subtitle1"},"Quay l\u1EA1i",-1)])),_:1})]),z(Ft,null,{default:le(()=>[A[57]||(A[57]=ae("span",{class:"text-h6 text-bold"},"L\u1ECBch s\u1EED ch\u1EC9nh s\u1EEDa",-1)),z(si,{bordered:""},{default:le(()=>[(Ie(!0),tt(Xt,null,Yn(P(l).listOrderHistories,(B,Q)=>(Ie(),yt(In,{key:Q,class:"my-card"},{default:le(()=>[z(Ft,null,{default:le(()=>[ae("div",xA,[ae("div",null,[ae("div",{class:qi(["text-h5",B.operation.toLowerCase()==="insert"?"text-green":""])},Je(B.operation.toLowerCase()==="insert"?"T\u1EA1o m\u1EDBi":""),3),ae("div",bA,Je(new Date(B.created_at).toLocaleDateString("vi-VN")),1)]),ae("div",null,[ae("span",_A,Je(P(hn).formatter.format(B.details.menu_items.reduce((M,ie)=>M+ie.price,0))),1)])])]),_:2},1024),z(Ft,null,{default:le(()=>[(Ie(!0),tt(Xt,null,Yn(B.details.menu_items,(M,ie)=>bi((Ie(),yt(Xr,{key:ie,clickable:"",class:"flex justify-between"},{default:le(()=>[z(Gn,{style:{width:"70%"}},{default:le(()=>[Mt(Je(P(l).menuData.filter(L=>L.id===M.menu_id)[0].label),1)]),_:2},1024),z(Gn,{class:"flex flex-end text-right"},{default:le(()=>[Mt(Je(M.quantity)+" x "+Je(M.price/M.quantity),1)]),_:2},1024)]),_:2},1024)),[[nc]])),128))]),_:2},1024),z(Ft,null,{default:le(()=>[Mt(" M\xF4 t\u1EA3: "+Je(B.details.description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}))]),_:1},8,["maximized","modelValue"]),z(Tr,{maximized:P(l).showUpdateDialog,modelValue:P(l).showUpdateDialog,"onUpdate:modelValue":A[36]||(A[36]=B=>P(l).showUpdateDialog=B)},{default:le(()=>[z(In,{class:"full-width full-height"},{default:le(()=>[ae("div",SA,[z(st,{icon:"eva-arrow-ios-back-outline",class:"text-blue",flat:"",onClick:P(l).handleClickBackButtonShowAlert},{default:le(()=>A[59]||(A[59]=[ae("span",{class:"text-subtitle1"},"Quay l\u1EA1i",-1)])),_:1},8,["onClick"]),ae("div",EA,[A[60]||(A[60]=ae("span",{class:"text-bold"},"T\u1ED5ng c\u1ED9ng:",-1)),Mt(" "+Je(P(hn).formatter.format(P(l).updateData.umsatz)),1)])]),z(Ft,null,{default:le(()=>[z(os,{class:"q-gutter-md q-py-lg flex column",onSubmit:A[35]||(A[35]=B=>P(l).postUpdateItem(P(l).updateData))},{default:le(()=>{var B,Q;return[(B=P(l).updateData.menuSelected)!=null&&B.length?(Ie(),tt("span",AA,"D\u1ECBch v\u1EE5 \u0111\xE3 ch\u1ECDn")):Qt("",!0),(Q=P(l).updateData.menuSelected)!=null&&Q.length?(Ie(),yt(si,{key:1,bordered:"",separator:""},{default:le(()=>[(Ie(!0),tt(Xt,null,Yn(P(l).updateData.menuSelected,(M,ie)=>(Ie(),yt(nf,{key:ie,ref_for:!0,ref_key:"slideItems",ref:m,onRight:L=>P(l).onRightSlide(M.id,ie),"right-color":"red-5"},{right:le(()=>[z(Jt,{name:"delete"}),A[61]||(A[61]=Mt(" Xo\xE1... "))]),default:le(()=>[z(Xr,null,{default:le(()=>[z(Gn,null,{default:le(()=>[ae("div",TA,[ae("div",IA,[ae("div",OA,[ae("div",{class:"column",style:Ls(M.isMultiSelect?"width: 30%":[])},[Mt(Je(M.label)+" ",1),M.isMultiSelect?(Ie(),tt("span",DA,"x "+Je(M.selectCount),1)):Qt("",!0)],4),M.isMultiSelect?(Ie(),tt("div",kA,[z(st,{color:"grey-6",icon:"eva-minus-outline",onClick:L=>P(l).clickMultiSelectInUpdateDataMinus(M),outline:""},null,8,["onClick"]),z(st,{color:"grey-6",icon:"eva-plus-outline",onClick:L=>P(l).clickMultiSelectInUpdateData(M),class:"q-ml-sm",outline:""},null,8,["onClick"])])):Qt("",!0)]),M.isMultiSelect?(Ie(),tt("div",RA,Je(P(hn).formatter.format(M.value*M.selectCount)),1)):(Ie(),tt("div",MA,Je(P(hn).formatter.format(M.value)),1))])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onRight"]))),128))]),_:1})):Qt("",!0),A[66]||(A[66]=ae("span",{class:"text-subtitle1"},"Ch\u1ECDn d\u1ECBch v\u1EE5",-1)),z(xi,{ref_key:"selectMenuRefUpdate",ref:h,rules:[M=>!!M||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 r\u1ED7ng"],modelValue:P(l).updateData.menuSelected,"onUpdate:modelValue":[A[29]||(A[29]=M=>P(l).updateData.menuSelected=M),A[30]||(A[30]=M=>{P(l).updateData.umsatz=P(l).updateData.menuSelected.map(ie=>ie.value).reduce((ie,L)=>ie+L,0),P(l).isHaveNotSaveDataYet=!0})],options:g.value,"option-label":"label","option-value":"id",outlined:"",multiple:"","use-input":"",onFilter:K,"input-debounce":"300",behavior:"menu",disable:P(l).loadingSelect,"hide-selected":""},{selected:le(()=>A[62]||(A[62]=[])),"before-options":le(()=>[ae("div",NA,[z(st,{"text-color":"grey-5",icon:"close",flat:"",label:"\u0110\xF3ng menu",class:"full-width q-mb-md",onClick:A[27]||(A[27]=M=>h.value.hidePopup())}),ae("div",PA,[(Ie(!0),tt(Xt,null,Yn(P(l).updateData.menuMultipleSelect.sort((M,ie)=>M.price-ie.price),(M,ie)=>(Ie(),yt(st,{key:ie,class:"q-mr-sm",outline:"",color:"white","text-color":"primary",label:M.label,onClick:L=>P(l).clickMultiSelectInUpdateData(M)},{default:le(()=>[z(Os,{color:"red",label:M.selectCount,floating:""},null,8,["label"])]),_:2},1032,["label","onClick"]))),128))])])]),"after-options":le(()=>[ae("div",LA,[z(st,{"text-color":"grey-5",icon:"close",flat:"",label:"\u0110\xF3ng menu",class:"full-width q-my-md",onClick:A[28]||(A[28]=M=>h.value.hidePopup())})])]),option:le(M=>[z(Xr,xu(M.itemProps,{class:[M.selected?"bg-blue-1":M.index%2===0?"bg-grey-1":"bg-grey-2"]}),{default:le(()=>[z(Gn,{avatar:""},{default:le(()=>[z(Jt,{name:"eva-pricetags-outline",class:qi({"text-grey-4":!M.selected,"text-blue":M.selected})},null,8,["class"])]),_:2},1024),z(Gn,null,{default:le(()=>[z(co,{class:"text-subtitle2"},{default:le(()=>[Mt(Je(M.opt.label),1)]),_:2},1024),z(co,{caption:""},{default:le(()=>[A[63]||(A[63]=Mt("Preis: ")),ae("span",BA,Je(P(hn).formatter.format(M.opt.value)),1)]),_:2},1024)]),_:2},1024),z(Gn,{side:""},{default:le(()=>[ae("div",FA,[z(ku,{modelValue:M.selected,"onUpdate:modelValue":ie=>M.selected=ie,color:"green",onClick:ie=>P(l).clickToggleUpdateMenuItem(M)},null,8,["modelValue","onUpdate:modelValue","onClick"])])]),_:2},1024)]),_:2},1040,["class"])]),_:1},8,["rules","modelValue","options","disable"]),P(l).showNotizen?Qt("",!0):(Ie(),tt("div",{key:2,onClick:A[31]||(A[31]=M=>P(l).showNotizen=!0),class:"flex flex-center text-blue"},[z(Jt,{name:"add",size:"sm",rounded:""}),A[64]||(A[64]=Mt("Hi\u1EC7n ghi ch\xFA "))])),P(l).showNotizen?(Ie(),yt(Dn,{key:3,modelValue:P(l).updateData.notizen,"onUpdate:modelValue":[A[32]||(A[32]=M=>P(l).updateData.notizen=M),A[33]||(A[33]=M=>P(l).isHaveNotSaveDataYet=!0)],label:"Th\xEAm ghi ch\xFA",outlined:""},null,8,["modelValue"])):Qt("",!0),P(l).showNotizen?(Ie(),tt("div",{key:4,onClick:A[34]||(A[34]=M=>P(l).showNotizen=!1),class:"flex flex-center text-blue"},[z(Jt,{name:"remove",size:"sm",rounded:""}),A[65]||(A[65]=Mt("\u1EA8n ghi ch\xFA "))])):Qt("",!0),z(st,{label:"L\u01B0u d\u1EEF li\u1EC7u",type:"submit",color:"blue-7",icon:"save",class:"q-py-sm",push:""})]}),_:1})]),_:1})]),_:1})]),_:1},8,["maximized","modelValue"])]),_:1}))}};var $A=ba(VA,[["__scopeId","data-v-3f1a4552"]]);const UA=us("accountManagement",{state:()=>({isLoadingMainScreen:!1,isShowEditDialog:!1,isShowCreateDialog:!1,listAccount:[],listSite:[],listStatus:[],listRole:[{id:"user",label:"User"},{id:"admin",label:"Admin"}],selectedAccount:{},newAccount:{}}),actions:{async getInit(){this.listSite=await this.getListSite(),this.listStatus=await this.getListStatus()},async getListAccount(){try{this.isLoadingMainScreen=!0;let{data:e,error:t}=await $t.from("users").select("*, site(*), status(*)");if(this.isLoadingMainScreen=!1,t)console.error("Caught error when fetching data: ",t);else return e}catch(e){console.error("Internal Server Error: ",e)}},async getListSite(){try{let{data:e,error:t}=await $t.from("site").select("*");if(t)console.error("Caught error when fetching data: ",t);else return e}catch(e){console.error("Internal Server Error: ",e)}},async getListStatus(){try{let{data:e,error:t}=await $t.from("status").select("*");if(t)console.error("Caught error when fetching data: ",t);else return e}catch(e){console.error("Internal Server Error: ",e)}},async postUpdateAccount(e){try{let t={display_name:e.display_name,role:e.role.id,site:e.site.id,status:e.status.id};e.status.name==="off"?(t.dayoff_from=e.dayoff_from,t.dayoff_to=e.dayoff_to):(t.dayoff_from=null,t.dayoff_to=null);let{data:n,error:s}=await $t.from("users").update(t).eq("id",e.id);s?console.error("Caught error when fetching data: ",s):(rr.create({message:"C\u1EADp nh\u1EADt th\xE0nh c\xF4ng!",color:"positive",timeout:2e3,position:"top"}),this.isShowEditDialog=!1,this.listAccount=await this.getListAccount())}catch(t){console.error("Internal Server Error: ",t)}},editAccount(e){try{this.isShowEditDialog=!0,this.selectedAccount={...e},this.selectedAccount.role=this.listRole.find(t=>t.id===this.selectedAccount.role)}catch(t){console.error("Internal Server Error: ",t)}}}});const qA={key:0,style:{height:"30vh"},class:"full-width flex column flex-center"},jA={key:0},HA={class:"text-h6 text-bold"},zA={class:"text-caption text-grey"},WA={class:"q-mb-sm"},GA={class:"q-mb-sm"},YA={class:"q-mb-sm"},XA={class:"q-mb-sm"},KA={key:1,class:"flex flex-center column full-height",style:{"margin-top":"200px"}},ZA={key:0},QA={__name:"AccountPage",setup(e){const t=UA();gr(async()=>{await t.getInit(),t.listAccount=await t.getListAccount()});const n=a=>{const{dayoff_from:l,dayoff_to:d}=t.selectedAccount;return new Date().toISOString().split("T")[0],a?d<l?"Ng\xE0y ngh\u1EC9 \u0111\u1EBFn ph\u1EA3i sau ng\xE0y b\u1EAFt \u0111\u1EA7u":!0:"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"},s=a=>{const{dayoff_from:l,dayoff_to:d}=t.selectedAccount,h=new Date().toISOString().split("T")[0];return a?l<h?"Ng\xE0y b\u1EAFt \u0111\u1EA7u ngh\u1EC9 ph\u1EA3i sau ng\xE0y hi\u1EC7n t\u1EA1i":!0:"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"};return(a,l)=>(Ie(),tt(Xt,null,[ae("div",null,[P(t).isLoadingMainScreen?(Ie(),tt("div",qA,[l[17]||(l[17]=Mt(" \u0110ang t\u1EA3i ")),z(bo,{size:"lg",color:"blue"})])):(Ie(),yt(si,{key:1,class:"q-mt-md"},{default:le(()=>{var d;return[(d=P(t).listAccount)!=null&&d.length?(Ie(),tt("div",jA,[(Ie(!0),tt(Xt,null,Yn(P(t).listAccount,(h,g)=>(Ie(),yt(In,{key:g,flat:"",bordered:"",class:"my-card q-mb-md"},{default:le(()=>[z(Ft,null,{default:le(()=>[ae("div",HA,Je(h.display_name),1),ae("div",zA,"ID: "+Je(h.id),1)]),_:2},1024),z(va),z(Ft,null,{default:le(()=>{var m;return[ae("div",WA,[l[18]||(l[18]=ae("span",{class:"text-bold"},"Ph\u01B0\u01A1ng th\u1EE9c:",-1)),Mt(" "+Je(h.provider),1)]),ae("div",GA,[l[19]||(l[19]=ae("span",{class:"text-bold"},"Quy\u1EC1n:",-1)),Mt(" "+Je(h.role),1)]),ae("div",YA,[l[20]||(l[20]=ae("span",{class:"text-bold"},"Tr\u1EA1ng th\xE1i:",-1)),Mt(" "+Je(h.status.name),1)]),ae("div",XA,[l[21]||(l[21]=ae("span",{class:"text-bold"},"Site:",-1)),Mt(" "+Je((m=h.site)==null?void 0:m.name),1)]),ae("div",null,[l[22]||(l[22]=ae("span",{class:"text-bold"},"Ng\xE0y t\u1EA1o:",-1)),Mt(" "+Je(new Date(h.created_at).toDateString("vi-VN")),1)])]}),_:2},1024),z(va),z(Si,{align:"right"},{default:le(()=>[z(st,{label:"S\u1EEDa",color:"primary",onClick:m=>P(t).editAccount(h)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])):(Ie(),tt("div",KA,[z(fc,{src:P(gc),"spinner-color":"primary","spinner-size":"82px",width:"250px"},null,8,["src"]),l[23]||(l[23]=ae("span",{class:"text-h5 text-grey-7 text-bold"},"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u",-1))]))]}),_:1}))]),z(Tr,{modelValue:P(t).isShowCreateDialog,"onUpdate:modelValue":l[5]||(l[5]=d=>P(t).isShowCreateDialog=d)},{default:le(()=>[z(In,{style:{"min-width":"400px","max-width":"500px"}},{default:le(()=>[z(Ft,null,{default:le(()=>l[24]||(l[24]=[ae("div",{class:"text-h6"},"T\u1EA1o t\xE0i kho\u1EA3n m\u1EDBi",-1)])),_:1}),z(Ft,null,{default:le(()=>[z(Dn,{modelValue:P(t).newAccount.display_name,"onUpdate:modelValue":l[0]||(l[0]=d=>P(t).newAccount.display_name=d),label:"Display Name",outlined:"",autofocus:""},null,8,["modelValue"]),z(Dn,{modelValue:P(t).newAccount.role,"onUpdate:modelValue":l[1]||(l[1]=d=>P(t).newAccount.role=d),label:"Role",outlined:"",class:"q-mt-md"},null,8,["modelValue"]),z(xi,{modelValue:P(t).newAccount.status,"onUpdate:modelValue":l[2]||(l[2]=d=>P(t).newAccount.status=d),options:["serving","inactive"],label:"Status",outlined:"",class:"q-mt-md"},null,8,["modelValue"]),z(xi,{modelValue:P(t).newAccount.site,"onUpdate:modelValue":l[3]||(l[3]=d=>P(t).newAccount.site=d),options:a.siteOptions,label:"Site",outlined:"",class:"q-mt-md"},null,8,["modelValue","options"])]),_:1}),z(Si,{align:"right"},{default:le(()=>[z(st,{flat:"",label:"Cancel",color:"primary",onClick:l[4]||(l[4]=d=>P(t).isShowCreateDialog=!1)}),z(st,{flat:"",label:"Create",color:"primary",onClick:a.createAccount},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),z(Tr,{modelValue:P(t).isShowEditDialog,"onUpdate:modelValue":l[16]||(l[16]=d=>P(t).isShowEditDialog=d)},{default:le(()=>[z(In,{style:{"min-width":"90vw"}},{default:le(()=>[z(Ft,null,{default:le(()=>l[25]||(l[25]=[ae("div",{class:"text-h6 text-bold text-primary"},"C\u1EADp nh\u1EADt t\xE0i kho\u1EA3n",-1)])),_:1}),z(os,{onSubmit:l[15]||(l[15]=d=>P(t).postUpdateAccount(P(t).selectedAccount)),class:"q-gutter-md"},{default:le(()=>[ae("div",null,[z(Ft,null,{default:le(()=>[z(Dn,{modelValue:P(t).selectedAccount.display_name,"onUpdate:modelValue":l[6]||(l[6]=d=>P(t).selectedAccount.display_name=d),label:"T\xEAn",outlined:"",dense:"",class:"q-mb-md",placeholder:"Enter account's display name"},null,8,["modelValue"]),z(xi,{modelValue:P(t).selectedAccount.role,"onUpdate:modelValue":l[7]||(l[7]=d=>P(t).selectedAccount.role=d),options:P(t).listRole,"option-label":"label","option-value":"id",label:"Ph\xE2n quy\u1EC1n",outlined:"",dense:"",class:"q-mb-md",placeholder:"Vui l\xF2ng ch\u1ECDn ph\xE2n quy\u1EC1n"},null,8,["modelValue","options"]),z(xi,{modelValue:P(t).selectedAccount.status,"onUpdate:modelValue":[l[8]||(l[8]=d=>P(t).selectedAccount.status=d),l[9]||(l[9]=d=>P(t).selectedAccount.isChangeStatus=!0)],options:P(t).listStatus,"option-label":"name","option-value":"id",label:"Tr\u1EA1ng th\xE1i",outlined:"",dense:"",class:"q-mb-md",placeholder:"Vui l\xF2ng ch\u1ECDn tr\u1EA1ng th\xE1i"},null,8,["modelValue","options"]),P(t).selectedAccount.status.name==="off"&&P(t).selectedAccount.isChangeStatus?(Ie(),tt("div",ZA,[z(Dn,{modelValue:P(t).selectedAccount.dayoff_from,"onUpdate:modelValue":l[10]||(l[10]=d=>P(t).selectedAccount.dayoff_from=d),label:"Ng\xE0y b\u1EAFt \u0111\u1EA7u ngh\u1EC9",dense:"",outlined:"",type:"date",rules:[s]},null,8,["modelValue","rules"]),z(Dn,{modelValue:P(t).selectedAccount.dayoff_to,"onUpdate:modelValue":l[11]||(l[11]=d=>P(t).selectedAccount.dayoff_to=d),label:"Ngh\u1EC9 \u0111\u1EBFn ng\xE0y",dense:"",outlined:"",type:"date",rules:[n]},null,8,["modelValue","rules"])])):Qt("",!0),z(xi,{modelValue:P(t).selectedAccount.site,"onUpdate:modelValue":l[12]||(l[12]=d=>P(t).selectedAccount.site=d),options:P(t).listSite,"option-label":"name","option-value":"id",label:"Site",outlined:"",class:"q-mb-md",dense:""},null,8,["modelValue","options"]),z(Dn,{modelValue:P(t).selectedAccount.provider,"onUpdate:modelValue":l[13]||(l[13]=d=>P(t).selectedAccount.provider=d),label:"Ph\u01B0\u01A1ng th\u1EE9c",outlined:"",dense:"",class:"q-mb-md",readonly:""},null,8,["modelValue"]),z(Dn,{placeholder:`${new Date(P(t).selectedAccount.created_at).toLocaleDateString("vi-VN")}`,outlined:"",dense:"",readonly:"",class:"q-mb-md"},null,8,["placeholder"])]),_:1}),z(Si,{align:"right"},{default:le(()=>[z(st,{flat:"",label:"H\u1EE7y",color:"negative",onClick:l[14]||(l[14]=d=>P(t).isShowEditDialog=!1)}),z(st,{label:"L\u01B0u",color:"positive",type:"submit"})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var JA=ba(QA,[["__scopeId","data-v-4a8442d3"]]);const da=us("utils",{state:()=>({}),actions:{async fetchMenuData(){try{const e=JSON.parse(localStorage.getItem("menuData"));let t=[];if(e)return e;{const{data:n,error:s}=await $t.from("menu").select();if(n){if(t=n||[],t.length)return t=t.map(a=>a.isMultiSelect?{id:a.id,label:a.service,value:parseFloat(a.price),selectCount:0,isMultiSelect:!0}:{id:a.id,label:a.service,value:parseFloat(a.price),isMultiSelect:!1}),t=t.map(a=>({...a,filterSearch:`${a.label}${hn.formatter.format(a)}`})),Xn.setLocalStorageData("menuData",t),t}else console.error("Error when fetching menu data: ",s)}}catch(e){console.error("Internal Server Error: ",e)}},async getDiscount(){try{let{data:e,error:t}=await $t.rpc("fetch_discounts_with_usage");if(t)console.error("Caught error when fetching data: ",t);else return e}catch(e){console.error("Internal Server Error: ",e)}}}}),e8=us("discount",{state:()=>({listDiscount:[],isLoadingMainScreen:!1,showAddDialog:!1,showEditDialog:!1,showDeleteDialog:!1,newDiscount:{},editDiscount:{},deleteObject:{}}),actions:{async postCreateDiscount(e){try{const t=da(),n={...e,type:e.type==="%"?"%":"none"},{data:s,error:a}=await $t.from("discounts").insert(n).select();a?console.error("Caught error when fetching data: ",a):(this.showAddDialog=!1,rr.create({message:"T\u1EA1o m\u1EDBi th\xE0nh c\xF4ng!",color:"positive",timeout:2e3,position:"top"}),this.isLoadingMainScreen=!0,this.listDiscount=await t.getDiscount(),this.isLoadingMainScreen=!1)}catch(t){console.error("Internal Server Error: ",t)}},async postUpdateDiscount(e){try{const t=da(),n={...e,type:e.type==="%"?"%":"none"},{data:s,error:a}=await $t.from("discounts").update(n).eq("id",e.id).select();a?console.error("Caught error when fetching data: ",a):(this.showEditDialog=!1,rr.create({message:"C\u1EADp nh\u1EADt th\xE0nh c\xF4ng!",color:"positive",timeout:2e3,position:"top"}),this.isLoadingMainScreen=!0,this.listDiscount=await t.getDiscount(),this.isLoadingMainScreen=!1)}catch(t){console.error("Internal Server Error: ",t)}},async deleteDiscount(e){try{const t=da(),{data:n,error:s}=await $t.from("discounts").delete().eq("id",e.id);s?console.error("Caught error when fetching data: ",s):(this.showDeleteDialog=!1,rr.create({message:"X\xF3a th\xE0nh c\xF4ng!",color:"positive",timeout:2e3,position:"top"}),this.isLoadingMainScreen=!0,this.listDiscount=await t.getDiscount(),this.isLoadingMainScreen=!1)}catch(t){console.error("Internal Server Error: ",t)}}}}),t8={key:0,style:{height:"30vh"},class:"full-width flex column flex-center"},n8={key:0},r8={class:"text-subtitle2 text-grey"},i8={class:"flex flex-center"},s8=["onClick"],o8={key:0,class:"text-blue text-h4"},a8={key:1,class:"text-blue text-h4"},l8={class:"flex justify-between"},u8={class:"text-grey-6"},c8={key:1,class:"flex flex-center column full-height",style:{"margin-top":"200px"}},d8={__name:"DiscountPage",setup(e){const t=e8(),n=da(),s=Hf();gr(async()=>{t.isLoadingMainScreen=!0,t.listDiscount=await n.getDiscount(),t.isLoadingMainScreen=!1});function a(l){s.bottomSheet({message:"H\xE0nh \u0111\u1ED9ng",item:l,actions:[{label:"S\u1EEDa th\xF4ng tin",img:Gv,id:"update"},{},{label:"X\xF3a",avatar:Yv,id:"delete"}]}).onOk(d=>{switch(d.id){case"update":t.showEditDialog=!0,t.editDiscount={...l};break;case"delete":t.showDeleteDialog=!0,t.deleteObject={...l};break}}).onCancel(()=>{}).onDismiss(()=>{})}return(l,d)=>(Ie(),tt(Xt,null,[ae("div",null,[P(t).isLoadingMainScreen?(Ie(),tt("div",t8,[d[16]||(d[16]=Mt(" \u0110ang t\u1EA3i ")),z(bo,{size:"lg",color:"blue"})])):(Ie(),yt(si,{key:1,class:"q-mt-md"},{default:le(()=>{var h;return[(h=P(t).listDiscount)!=null&&h.length?(Ie(),tt("div",n8,[(Ie(!0),tt(Xt,null,Yn(P(t).listDiscount,(g,m)=>(Ie(),yt(In,{key:m,flat:"",bordered:"",class:"my-card q-mb-md"},{default:le(()=>[z(Ft,{class:"flex flex justify-between q-py-md",style:{"align-items":"center"}},{default:le(()=>[ae("div",null,[ae("div",r8,Je(new Date(g.created_at).toLocaleDateString("vi-VN")),1)]),ae("div",i8,[g.isused?Qt("",!0):(Ie(),yt(Jt,{key:0,name:"more_vert",size:"sm",color:P(t).loadingSelect?"grey-3":"grey-5",onClick:p=>P(t).loadingSelect?[]:a(g)},null,8,["color","onClick"]))])]),_:2},1024),z(Ft,null,{default:le(()=>[ae("div",{class:"flex justify-between full-width q-py-xs q-px-none q-mx-none",onClick:p=>g.showQList=!g.showQList,style:{"align-items":"center"}},[d[17]||(d[17]=ae("span",{class:"text-bold text-grey-7 text-h6"},"Gi\xE1 tr\u1ECB",-1)),g.type==="none"?(Ie(),tt("span",o8,Je(P(hn).formatter.format(g.value)),1)):(Ie(),tt("span",a8,Je(g.value)+" "+Je(g.type),1))],8,s8),ae("div",l8,[ae("span",u8,Je(g.description),1),ae("div",{class:qi(["text-body2",g.isused?"text-red":"text-green"])},Je(g.isused?"\u0110\xE3 s\u1EED d\u1EE5ng":"Ch\u01B0a s\u1EED d\u1EE5ng"),3)])]),_:2},1024)]),_:2},1024))),128))])):(Ie(),tt("div",c8,[z(fc,{src:P(gc),"spinner-color":"primary","spinner-size":"82px",width:"250px"},null,8,["src"]),d[18]||(d[18]=ae("span",{class:"text-h5 text-grey-7 text-bold"},"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u",-1))]))]}),_:1})),z(hc,{position:"bottom-right",offset:[18,48]},{default:le(()=>[z(st,{icon:"add",color:"green-7",class:"q-pa-md",round:"",disable:P(t).isLoadingMainScreen,onClick:d[0]||(d[0]=h=>P(t).showAddDialog=!0)},null,8,["disable"])]),_:1})]),z(Tr,{modelValue:P(t).showAddDialog,"onUpdate:modelValue":d[6]||(d[6]=h=>P(t).showAddDialog=h)},{default:le(()=>[z(In,{style:{"min-width":"400px","max-width":"500px"}},{default:le(()=>[z(Ft,null,{default:le(()=>d[19]||(d[19]=[ae("div",{class:"text-h6"},"Th\xEAm m\xE3 gi\u1EA3m gi\xE1",-1)])),_:1}),z(os,{onSubmit:d[5]||(d[5]=h=>P(t).postCreateDiscount(P(t).newDiscount)),class:"q-gutter-md"},{default:le(()=>[ae("div",null,[z(Ft,null,{default:le(()=>[z(Dn,{modelValue:P(t).newDiscount.value,"onUpdate:modelValue":d[1]||(d[1]=h=>P(t).newDiscount.value=h),type:"number",label:"Gi\xE1 tr\u1ECB",outlined:"",rules:[h=>!!h||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"]},null,8,["modelValue","rules"]),z(xi,{modelValue:P(t).newDiscount.type,"onUpdate:modelValue":d[2]||(d[2]=h=>P(t).newDiscount.type=h),options:["\u20AC","%"],label:"Lo\u1EA1i gi\u1EA3m gi\xE1",outlined:"",rules:[h=>!!h||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"]},null,8,["modelValue","rules"]),z(Dn,{modelValue:P(t).newDiscount.description,"onUpdate:modelValue":d[3]||(d[3]=h=>P(t).newDiscount.description=h),label:"M\xF4 t\u1EA3",outlined:"",class:"q-mb-md"},null,8,["modelValue"])]),_:1}),z(Si,{align:"right"},{default:le(()=>[z(st,{flat:"",label:"H\u1EE7y",color:"primary",onClick:d[4]||(d[4]=h=>P(t).showAddDialog=!1)}),z(st,{label:"Th\xEAm",type:"submit",color:"primary"})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]),z(Tr,{modelValue:P(t).showEditDialog,"onUpdate:modelValue":d[12]||(d[12]=h=>P(t).showEditDialog=h)},{default:le(()=>[z(In,{style:{"min-width":"400px","max-width":"500px"}},{default:le(()=>[z(Ft,null,{default:le(()=>d[20]||(d[20]=[ae("div",{class:"text-h6"},"Edit Discount",-1)])),_:1}),z(os,{onSubmit:d[11]||(d[11]=h=>P(t).postUpdateDiscount(P(t).editDiscount)),class:"q-gutter-md"},{default:le(()=>[ae("div",null,[z(Ft,null,{default:le(()=>[z(Dn,{modelValue:P(t).editDiscount.value,"onUpdate:modelValue":d[7]||(d[7]=h=>P(t).editDiscount.value=h),type:"number",label:"Gi\xE1 tr\u1ECB",outlined:"",rules:[h=>!!h||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"]},null,8,["modelValue","rules"]),z(xi,{modelValue:P(t).editDiscount.type,"onUpdate:modelValue":d[8]||(d[8]=h=>P(t).editDiscount.type=h),options:["none","%"],label:"Lo\u1EA1i gi\u1EA3m gi\xE1",outlined:"",rules:[h=>!!h||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"]},null,8,["modelValue","rules"]),z(Dn,{modelValue:P(t).editDiscount.description,"onUpdate:modelValue":d[9]||(d[9]=h=>P(t).editDiscount.description=h),label:"M\xF4 t\u1EA3",outlined:"",class:"q-mb-md"},null,8,["modelValue"])]),_:1}),z(Si,{align:"right"},{default:le(()=>[z(st,{flat:"",label:"H\u1EE7y",color:"primary",onClick:d[10]||(d[10]=h=>P(t).showEditDialog=!1)}),z(st,{type:"submit",label:"L\u01B0u",color:"primary"})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]),z(Tr,{modelValue:P(t).showDeleteDialog,"onUpdate:modelValue":d[15]||(d[15]=h=>P(t).showDeleteDialog=h)},{default:le(()=>[z(In,{style:{"min-width":"400px","max-width":"500px"}},{default:le(()=>[z(Ft,null,{default:le(()=>d[21]||(d[21]=[ae("div",{class:"text-h6"},"X\xE1c nh\u1EADn",-1),ae("div",null,"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a m\xE3 gi\u1EA3m gi\xE1 n\xE0y kh\xF4ng?",-1)])),_:1}),z(Si,{align:"right"},{default:le(()=>[z(st,{flat:"",label:"X\xF3a",color:"red",onClick:d[13]||(d[13]=h=>P(t).deleteDiscount(P(t).deleteObject))}),z(st,{label:"H\u1EE7y",color:"primary",onClick:d[14]||(d[14]=h=>P(t).showDeleteDialog=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Ms=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function f8(e,t,n){return Object.prototype.toString.call(e)==="[object Date]"&&(n=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),v8(Yf(e,t,n))}function E1(e,t,n){return Ep(m8(e,t,n))}function h8(e){return g8(e)===0}function hu(e,t){return t<=6?31:t<=11||h8(e)?30:29}function g8(e){const t=Ms.length;let n=Ms[0],s,a,l,d,h;if(e<n||e>=Ms[t-1])throw new Error("Invalid Jalaali year "+e);for(h=1;h<t&&(s=Ms[h],a=s-n,!(e<s));h+=1)n=s;return d=e-n,a-d<6&&(d=d-a+On(a+4,33)*33),l=oi(oi(d+1,33)-1,4),l===-1&&(l=4),l}function Sp(e,t){const n=Ms.length,s=e+621;let a=-14,l=Ms[0],d,h,g,m,p;if(e<l||e>=Ms[n-1])throw new Error("Invalid Jalaali year "+e);for(p=1;p<n&&(d=Ms[p],h=d-l,!(e<d));p+=1)a=a+On(h,33)*8+On(oi(h,33),4),l=d;m=e-l,a=a+On(m,33)*8+On(oi(m,33)+3,4),oi(h,33)===4&&h-m===4&&(a+=1);const y=On(s,4)-On((On(s,100)+1)*3,4)-150,_=20+a-y;return t||(h-m<6&&(m=m-h+On(h+4,33)*33),g=oi(oi(m+1,33)-1,4),g===-1&&(g=4)),{leap:g,gy:s,march:_}}function m8(e,t,n){const s=Sp(e,!0);return Yf(s.gy,3,s.march)+(t-1)*31-On(t,7)*(t-7)+n-1}function v8(e){const t=Ep(e).gy;let n=t-621,s,a,l;const d=Sp(n,!1),h=Yf(t,3,d.march);if(l=e-h,l>=0){if(l<=185)return a=1+On(l,31),s=oi(l,31)+1,{jy:n,jm:a,jd:s};l-=186}else n-=1,l+=179,d.leap===1&&(l+=1);return a=7+On(l,30),s=oi(l,30)+1,{jy:n,jm:a,jd:s}}function Yf(e,t,n){let s=On((e+On(t-8,6)+100100)*1461,4)+On(153*oi(t+9,12)+2,5)+n-34840408;return s=s-On(On(e+100100+On(t-8,6),100)*3,4)+752,s}function Ep(e){let t=4*e+139361631;t=t+On(On(4*e+183187720,146097)*3,4)*4-3908;const n=On(oi(t,1461),4)*5+308,s=On(oi(n,153),5)+1,a=oi(On(n,153),12)+1;return{gy:On(t,1461)-100100+On(8-a,6),gm:a,gd:s}}function On(e,t){return~~(e/t)}function oi(e,t){return e-~~(e/t)*t}const p8=["gregorian","persian"],A1={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>p8.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},w8=["update:modelValue"];function ws(e){return e.year+"/"+bn(e.month)+"/"+bn(e.day)}function y8(e,t){const n=G(()=>e.disable!==!0&&e.readonly!==!0),s=G(()=>n.value===!0?0:-1),a=G(()=>{const h=[];return e.color!==void 0&&h.push(`bg-${e.color}`),e.textColor!==void 0&&h.push(`text-${e.textColor}`),h.join(" ")});function l(){return e.locale!==void 0?{...t.lang.date,...e.locale}:t.lang.date}function d(h){const g=new Date,m=h===!0?null:0;if(e.calendar==="persian"){const p=f8(g);return{year:p.jy,month:p.jm,day:p.jd}}return{year:g.getFullYear(),month:g.getMonth()+1,day:g.getDate(),hour:m,minute:m,second:m,millisecond:m}}return{editable:n,tabindex:s,headerClass:a,getLocale:l,getCurrentDate:d}}const Ap=864e5,x8=36e5,rf=6e4,Tp="YYYY-MM-DDTHH:mm:ss.SSSZ",b8=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,_8=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,pd={};function C8(e,t){const n="("+t.days.join("|")+")",s=e+n;if(pd[s]!==void 0)return pd[s];const a="("+t.daysShort.join("|")+")",l="("+t.months.join("|")+")",d="("+t.monthsShort.join("|")+")",h={};let g=0;const m=e.replace(_8,y=>{switch(g++,y){case"YY":return h.YY=g,"(-?\\d{1,2})";case"YYYY":return h.YYYY=g,"(-?\\d{1,4})";case"M":return h.M=g,"(\\d{1,2})";case"Mo":return h.M=g++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return h.M=g,"(\\d{2})";case"MMM":return h.MMM=g,d;case"MMMM":return h.MMMM=g,l;case"D":return h.D=g,"(\\d{1,2})";case"Do":return h.D=g++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return h.D=g,"(\\d{2})";case"H":return h.H=g,"(\\d{1,2})";case"HH":return h.H=g,"(\\d{2})";case"h":return h.h=g,"(\\d{1,2})";case"hh":return h.h=g,"(\\d{2})";case"m":return h.m=g,"(\\d{1,2})";case"mm":return h.m=g,"(\\d{2})";case"s":return h.s=g,"(\\d{1,2})";case"ss":return h.s=g,"(\\d{2})";case"S":return h.S=g,"(\\d{1})";case"SS":return h.S=g,"(\\d{2})";case"SSS":return h.S=g,"(\\d{3})";case"A":return h.A=g,"(AM|PM)";case"a":return h.a=g,"(am|pm)";case"aa":return h.aa=g,"(a\\.m\\.|p\\.m\\.)";case"ddd":return a;case"dddd":return n;case"Q":case"d":case"E":return"(\\d{1})";case"do":return g++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return g++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return g++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return h.Z=g,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return h.ZZ=g,"(Z|[+-]\\d{2}\\d{2})";case"X":return h.X=g,"(-?\\d+)";case"x":return h.x=g,"(-?\\d{4,})";default:return g--,y[0]==="["&&(y=y.substring(1,y.length-1)),y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),p={map:h,regex:new RegExp("^"+m)};return pd[s]=p,p}function Ip(e,t){return e!==void 0?e:t!==void 0?t.date:Ld.date}function T1(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Math.floor(s/60),l=s%60;return n+bn(a)+t+bn(l)}function S8(e,t,n,s,a){const l={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(a!==void 0&&Object.assign(l,a),e==null||e===""||typeof e!="string")return l;t===void 0&&(t=Tp);const d=Ip(n,Vi.props),h=d.months,g=d.monthsShort,{regex:m,map:p}=C8(t,d),y=e.match(m);if(y===null)return l;let _="";if(p.X!==void 0||p.x!==void 0){const b=parseInt(y[p.X!==void 0?p.X:p.x],10);if(isNaN(b)===!0||b<0)return l;const T=new Date(b*(p.X!==void 0?1e3:1));l.year=T.getFullYear(),l.month=T.getMonth()+1,l.day=T.getDate(),l.hour=T.getHours(),l.minute=T.getMinutes(),l.second=T.getSeconds(),l.millisecond=T.getMilliseconds()}else{if(p.YYYY!==void 0)l.year=parseInt(y[p.YYYY],10);else if(p.YY!==void 0){const b=parseInt(y[p.YY],10);l.year=b<0?b:2e3+b}if(p.M!==void 0){if(l.month=parseInt(y[p.M],10),l.month<1||l.month>12)return l}else p.MMM!==void 0?l.month=g.indexOf(y[p.MMM])+1:p.MMMM!==void 0&&(l.month=h.indexOf(y[p.MMMM])+1);if(p.D!==void 0){if(l.day=parseInt(y[p.D],10),l.year===null||l.month===null||l.day<1)return l;const b=s!=="persian"?new Date(l.year,l.month,0).getDate():hu(l.year,l.month);if(l.day>b)return l}p.H!==void 0?l.hour=parseInt(y[p.H],10)%24:p.h!==void 0&&(l.hour=parseInt(y[p.h],10)%12,(p.A&&y[p.A]==="PM"||p.a&&y[p.a]==="pm"||p.aa&&y[p.aa]==="p.m.")&&(l.hour+=12),l.hour=l.hour%24),p.m!==void 0&&(l.minute=parseInt(y[p.m],10)%60),p.s!==void 0&&(l.second=parseInt(y[p.s],10)%60),p.S!==void 0&&(l.millisecond=parseInt(y[p.S],10)*10**(3-y[p.S].length)),(p.Z!==void 0||p.ZZ!==void 0)&&(_=p.Z!==void 0?y[p.Z].replace(":",""):y[p.ZZ],l.timezoneOffset=(_[0]==="+"?-1:1)*(60*_.slice(1,3)+1*_.slice(3,5)))}return l.dateHash=bn(l.year,6)+"/"+bn(l.month)+"/"+bn(l.day),l.timeHash=bn(l.hour)+":"+bn(l.minute)+":"+bn(l.second)+_,l}function wd(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const s=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-s);const a=(t-n)/(Ap*7);return 1+Math.floor(a)}function Zi(e,t,n){const s=new Date(e),a=`set${n===!0?"UTC":""}`;switch(t){case"year":case"years":s[`${a}Month`](0);case"month":case"months":s[`${a}Date`](1);case"day":case"days":case"date":s[`${a}Hours`](0);case"hour":case"hours":s[`${a}Minutes`](0);case"minute":case"minutes":s[`${a}Seconds`](0);case"second":case"seconds":s[`${a}Milliseconds`](0)}return s}function iu(e,t,n){return(e.getTime()-e.getTimezoneOffset()*rf-(t.getTime()-t.getTimezoneOffset()*rf))/n}function Op(e,t,n="days"){const s=new Date(e),a=new Date(t);switch(n){case"years":case"year":return s.getFullYear()-a.getFullYear();case"months":case"month":return(s.getFullYear()-a.getFullYear())*12+s.getMonth()-a.getMonth();case"days":case"day":case"date":return iu(Zi(s,"day"),Zi(a,"day"),Ap);case"hours":case"hour":return iu(Zi(s,"hour"),Zi(a,"hour"),x8);case"minutes":case"minute":return iu(Zi(s,"minute"),Zi(a,"minute"),rf);case"seconds":case"second":return iu(Zi(s,"second"),Zi(a,"second"),1e3)}}function yd(e){return Op(e,Zi(e,"year"),"days")+1}function Xo(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const I1={YY(e,t,n){const s=this.YYYY(e,t,n)%100;return s>=0?bn(s):"-"+bn(Math.abs(s))},YYYY(e,t,n){return n!=null?n:e.getFullYear()},M(e){return e.getMonth()+1},Mo(e){return Xo(e.getMonth()+1)},MM(e){return bn(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Xo(this.Q(e))},D(e){return e.getDate()},Do(e){return Xo(e.getDate())},DD(e){return bn(e.getDate())},DDD(e){return yd(e)},DDDo(e){return Xo(yd(e))},DDDD(e){return bn(yd(e),3)},d(e){return e.getDay()},do(e){return Xo(e.getDay())},dd(e,t){return t.days[e.getDay()].slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return wd(e)},wo(e){return Xo(wd(e))},ww(e){return bn(wd(e))},H(e){return e.getHours()},HH(e){return bn(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return bn(this.h(e))},m(e){return e.getMinutes()},mm(e){return bn(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return bn(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return bn(Math.floor(e.getMilliseconds()/10))},SSS(e){return bn(e.getMilliseconds(),3)},A(e){return e.getHours()<12?"AM":"PM"},a(e){return e.getHours()<12?"am":"pm"},aa(e){return e.getHours()<12?"a.m.":"p.m."},Z(e,t,n,s){const a=s==null?e.getTimezoneOffset():s;return T1(a,":")},ZZ(e,t,n,s){const a=s==null?e.getTimezoneOffset():s;return T1(a)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function E8(e,t,n,s,a){if(e!==0&&!e||e===1/0||e===-1/0)return;const l=new Date(e);if(isNaN(l))return;t===void 0&&(t=Tp);const d=Ip(n,Vi.props);return t.replace(b8,(h,g)=>h in I1?I1[h](l,d,s,a):g===void 0?h:g.split("\\]").join("]"))}const no=20,A8=["Calendar","Years","Months"],O1=e=>A8.includes(e),xd=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Ko=" \u2014 ";function ys(e){return e.year+"/"+bn(e.month)}var T8=rn({name:"QDate",props:{...A1,...kl,...Jr,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...A1.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:xd},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:xd},navigationMaxYearMonth:{type:String,validator:xd},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:O1}},emits:[...w8,"rangeStart","rangeEnd","navigation"],setup(e,{slots:t,emit:n}){const{proxy:s}=en(),{$q:a}=s,l=ei(e,a),{getCache:d}=Hv(),{tabindex:h,headerClass:g,getLocale:m,getCurrentDate:p}=y8(e,a);let y;const _=fb(e),b=kf(_),T=Fe(null),k=Fe(Pt()),q=Fe(m()),K=G(()=>Pt()),Y=G(()=>m()),N=G(()=>p()),A=Fe(tn(k.value,q.value)),B=Fe(e.defaultView),Q=G(()=>a.lang.rtl===!0?"right":"left"),M=Fe(Q.value),ie=Fe(Q.value),L=A.value.year,de=Fe(L-L%no-(L<0?no:0)),pe=Fe(null),$=G(()=>{const W=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${W} q-date--${W}-${e.minimal===!0?"minimal":"standard"}`+(l.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),be=G(()=>e.color||"primary"),ue=G(()=>e.textColor||"white"),ee=G(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),Be=G(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),Se=G(()=>Be.value.filter(W=>typeof W=="string").map(W=>ht(W,k.value,q.value)).filter(W=>W.dateHash!==null&&W.day!==null&&W.month!==null&&W.year!==null)),Re=G(()=>{const W=se=>ht(se,k.value,q.value);return Be.value.filter(se=>Zr(se)===!0&&se.from!==void 0&&se.to!==void 0).map(se=>({from:W(se.from),to:W(se.to)})).filter(se=>se.from.dateHash!==null&&se.to.dateHash!==null&&se.from.dateHash<se.to.dateHash)}),et=G(()=>e.calendar!=="persian"?W=>new Date(W.year,W.month-1,W.day):W=>{const se=E1(W.year,W.month,W.day);return new Date(se.gy,se.gm-1,se.gd)}),ut=G(()=>e.calendar==="persian"?ws:(W,se,Oe)=>E8(new Date(W.year,W.month-1,W.day,W.hour,W.minute,W.second,W.millisecond),se===void 0?k.value:se,Oe===void 0?q.value:Oe,W.year,W.timezoneOffset)),me=G(()=>Se.value.length+Re.value.reduce((W,se)=>W+1+Op(et.value(se.to),et.value(se.from)),0)),re=G(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(pe.value!==null){const Oe=pe.value.init,ze=et.value(Oe);return q.value.daysShort[ze.getDay()]+", "+q.value.monthsShort[Oe.month-1]+" "+Oe.day+Ko+"?"}if(me.value===0)return Ko;if(me.value>1)return`${me.value} ${q.value.pluralDay}`;const W=Se.value[0],se=et.value(W);return isNaN(se.valueOf())===!0?Ko:q.value.headerTitle!==void 0?q.value.headerTitle(se,W):q.value.daysShort[se.getDay()]+", "+q.value.monthsShort[W.month-1]+" "+W.day}),Ze=G(()=>Se.value.concat(Re.value.map(se=>se.from)).sort((se,Oe)=>se.year-Oe.year||se.month-Oe.month)[0]),it=G(()=>Se.value.concat(Re.value.map(se=>se.to)).sort((se,Oe)=>Oe.year-se.year||Oe.month-se.month)[0]),vt=G(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(me.value===0)return Ko;if(me.value>1){const W=Ze.value,se=it.value,Oe=q.value.monthsShort;return Oe[W.month-1]+(W.year!==se.year?" "+W.year+Ko+Oe[se.month-1]+" ":W.month!==se.month?Ko+Oe[se.month-1]:"")+" "+se.year}return Se.value[0].year}),we=G(()=>{const W=[a.iconSet.datetime.arrowLeft,a.iconSet.datetime.arrowRight];return a.lang.rtl===!0?W.reverse():W}),oe=G(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):q.value.firstDayOfWeek),Me=G(()=>{const W=q.value.daysShort,se=oe.value;return se>0?W.slice(se,7).concat(W.slice(0,se)):W}),he=G(()=>{const W=A.value;return e.calendar!=="persian"?new Date(W.year,W.month,0).getDate():hu(W.year,W.month)}),Ye=G(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),nt=G(()=>{if(e.navigationMinYearMonth===void 0)return null;const W=e.navigationMinYearMonth.split("/");return{year:parseInt(W[0],10),month:parseInt(W[1],10)}}),pt=G(()=>{if(e.navigationMaxYearMonth===void 0)return null;const W=e.navigationMaxYearMonth.split("/");return{year:parseInt(W[0],10),month:parseInt(W[1],10)}}),F=G(()=>{const W={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return nt.value!==null&&nt.value.year>=A.value.year&&(W.year.prev=!1,nt.value.year===A.value.year&&nt.value.month>=A.value.month&&(W.month.prev=!1)),pt.value!==null&&pt.value.year<=A.value.year&&(W.year.next=!1,pt.value.year===A.value.year&&pt.value.month<=A.value.month&&(W.month.next=!1)),W}),X=G(()=>{const W={};return Se.value.forEach(se=>{const Oe=ys(se);W[Oe]===void 0&&(W[Oe]=[]),W[Oe].push(se.day)}),W}),ce=G(()=>{const W={};return Re.value.forEach(se=>{const Oe=ys(se.from),ze=ys(se.to);if(W[Oe]===void 0&&(W[Oe]=[]),W[Oe].push({from:se.from.day,to:Oe===ze?se.to.day:void 0,range:se}),Oe<ze){let Qe;const{year:_t,month:De}=se.from,ft=De<12?{year:_t,month:De+1}:{year:_t+1,month:1};for(;(Qe=ys(ft))<=ze;)W[Qe]===void 0&&(W[Qe]=[]),W[Qe].push({from:void 0,to:Qe===ze?se.to.day:void 0,range:se}),ft.month++,ft.month>12&&(ft.year++,ft.month=1)}}),W}),Ne=G(()=>{if(pe.value===null)return;const{init:W,initHash:se,final:Oe,finalHash:ze}=pe.value,[Qe,_t]=se<=ze?[W,Oe]:[Oe,W],De=ys(Qe),ft=ys(_t);if(De!==xe.value&&ft!==xe.value)return;const Wt={};return De===xe.value?(Wt.from=Qe.day,Wt.includeFrom=!0):Wt.from=1,ft===xe.value?(Wt.to=_t.day,Wt.includeTo=!0):Wt.to=he.value,Wt}),xe=G(()=>ys(A.value)),ke=G(()=>{const W={};if(e.options===void 0){for(let Oe=1;Oe<=he.value;Oe++)W[Oe]=!0;return W}const se=typeof e.options=="function"?e.options:Oe=>e.options.includes(Oe);for(let Oe=1;Oe<=he.value;Oe++){const ze=xe.value+"/"+bn(Oe);W[Oe]=se(ze)}return W}),Pe=G(()=>{const W={};if(e.events===void 0)for(let se=1;se<=he.value;se++)W[se]=!1;else{const se=typeof e.events=="function"?e.events:Oe=>e.events.includes(Oe);for(let Oe=1;Oe<=he.value;Oe++){const ze=xe.value+"/"+bn(Oe);W[Oe]=se(ze)===!0&&Ye.value(ze)}}return W}),He=G(()=>{let W,se;const{year:Oe,month:ze}=A.value;if(e.calendar!=="persian")W=new Date(Oe,ze-1,1),se=new Date(Oe,ze-1,0).getDate();else{const Qe=E1(Oe,ze,1);W=new Date(Qe.gy,Qe.gm-1,Qe.gd);let _t=ze-1,De=Oe;_t===0&&(_t=12,De--),se=hu(De,_t)}return{days:W.getDay()-oe.value-1,endDay:se}}),ye=G(()=>{const W=[],{days:se,endDay:Oe}=He.value,ze=se<0?se+7:se;if(ze<6)for(let De=Oe-ze;De<=Oe;De++)W.push({i:De,fill:!0});const Qe=W.length;for(let De=1;De<=he.value;De++){const ft={i:De,event:Pe.value[De],classes:[]};ke.value[De]===!0&&(ft.in=!0,ft.flat=!0),W.push(ft)}if(X.value[xe.value]!==void 0&&X.value[xe.value].forEach(De=>{const ft=Qe+De-1;Object.assign(W[ft],{selected:!0,unelevated:!0,flat:!1,color:be.value,textColor:ue.value})}),ce.value[xe.value]!==void 0&&ce.value[xe.value].forEach(De=>{if(De.from!==void 0){const ft=Qe+De.from-1,Wt=Qe+(De.to||he.value)-1;for(let cn=ft;cn<=Wt;cn++)Object.assign(W[cn],{range:De.range,unelevated:!0,color:be.value,textColor:ue.value});Object.assign(W[ft],{rangeFrom:!0,flat:!1}),De.to!==void 0&&Object.assign(W[Wt],{rangeTo:!0,flat:!1})}else if(De.to!==void 0){const ft=Qe+De.to-1;for(let Wt=Qe;Wt<=ft;Wt++)Object.assign(W[Wt],{range:De.range,unelevated:!0,color:be.value,textColor:ue.value});Object.assign(W[ft],{flat:!1,rangeTo:!0})}else{const ft=Qe+he.value-1;for(let Wt=Qe;Wt<=ft;Wt++)Object.assign(W[Wt],{range:De.range,unelevated:!0,color:be.value,textColor:ue.value})}}),Ne.value!==void 0){const De=Qe+Ne.value.from-1,ft=Qe+Ne.value.to-1;for(let Wt=De;Wt<=ft;Wt++)W[Wt].color=be.value,W[Wt].editRange=!0;Ne.value.includeFrom===!0&&(W[De].editRangeFrom=!0),Ne.value.includeTo===!0&&(W[ft].editRangeTo=!0)}A.value.year===N.value.year&&A.value.month===N.value.month&&(W[Qe+N.value.day-1].today=!0);const _t=W.length%7;if(_t>0){const De=7-_t;for(let ft=1;ft<=De;ft++)W.push({i:ft,fill:!0})}return W.forEach(De=>{let ft="q-date__calendar-item ";De.fill===!0?ft+="q-date__calendar-item--fill":(ft+=`q-date__calendar-item--${De.in===!0?"in":"out"}`,De.range!==void 0&&(ft+=` q-date__range${De.rangeTo===!0?"-to":De.rangeFrom===!0?"-from":""}`),De.editRange===!0&&(ft+=` q-date__edit-range${De.editRangeFrom===!0?"-from":""}${De.editRangeTo===!0?"-to":""}`),(De.range!==void 0||De.editRange===!0)&&(ft+=` text-${De.color}`)),De.classes=ft}),W}),Le=G(()=>e.disable===!0?{"aria-disabled":"true"}:{});St(()=>e.modelValue,W=>{if(y===W)y=0;else{const se=tn(k.value,q.value);jn(se.year,se.month,se)}}),St(B,()=>{T.value!==null&&s.$el.contains(document.activeElement)===!0&&T.value.focus()}),St(()=>A.value.year+"|"+A.value.month,()=>{n("navigation",{year:A.value.year,month:A.value.month})}),St(K,W=>{sr(W,q.value,"mask"),k.value=W}),St(Y,W=>{sr(k.value,W,"locale"),q.value=W});function dt(){const{year:W,month:se,day:Oe}=N.value,ze={...A.value,year:W,month:se,day:Oe},Qe=X.value[ys(ze)];(Qe===void 0||Qe.includes(ze.day)===!1)&&Jn(ze),ot(ze.year,ze.month)}function Xe(W){O1(W)===!0&&(B.value=W)}function ct(W,se){["month","year"].includes(W)&&(W==="month"?Mn:Nt)(se===!0?-1:1)}function ot(W,se){B.value="Calendar",jn(W,se)}function Tt(W,se){if(e.range===!1||!W){pe.value=null;return}const Oe=Object.assign({...A.value},W),ze=se!==void 0?Object.assign({...A.value},se):Oe;pe.value={init:Oe,initHash:ws(Oe),final:ze,finalHash:ws(ze)},ot(Oe.year,Oe.month)}function Pt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function ht(W,se,Oe){return S8(W,se,Oe,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function tn(W,se){const Oe=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(Oe.length===0)return Kt();const ze=Oe[Oe.length-1],Qe=ht(ze.from!==void 0?ze.from:ze,W,se);return Qe.dateHash===null?Kt():Qe}function Kt(){let W,se;if(e.defaultYearMonth!==void 0){const Oe=e.defaultYearMonth.split("/");W=parseInt(Oe[0],10),se=parseInt(Oe[1],10)}else{const Oe=N.value!==void 0?N.value:p();W=Oe.year,se=Oe.month}return{year:W,month:se,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:W+"/"+bn(se)+"/01"}}function Mn(W){let se=A.value.year,Oe=Number(A.value.month)+W;Oe===13?(Oe=1,se++):Oe===0&&(Oe=12,se--),jn(se,Oe),ee.value===!0&&_r("month")}function Nt(W){const se=Number(A.value.year)+W;jn(se,A.value.month),ee.value===!0&&_r("year")}function Ue(W){jn(W,A.value.month),B.value=e.defaultView==="Years"?"Months":"Calendar",ee.value===!0&&_r("year")}function mn(W){jn(A.value.year,W),B.value="Calendar",ee.value===!0&&_r("month")}function Et(W,se){const Oe=X.value[se];(Oe!==void 0&&Oe.includes(W.day)===!0?ir:Jn)(W)}function Dt(W){return{year:W.year,month:W.month,day:W.day}}function jn(W,se,Oe){if(nt.value!==null&&W<=nt.value.year&&((se<nt.value.month||W<nt.value.year)&&(se=nt.value.month),W=nt.value.year),pt.value!==null&&W>=pt.value.year&&((se>pt.value.month||W>pt.value.year)&&(se=pt.value.month),W=pt.value.year),Oe!==void 0){const{hour:Qe,minute:_t,second:De,millisecond:ft,timezoneOffset:Wt,timeHash:cn}=Oe;Object.assign(A.value,{hour:Qe,minute:_t,second:De,millisecond:ft,timezoneOffset:Wt,timeHash:cn})}const ze=W+"/"+bn(se)+"/01";ze!==A.value.dateHash&&(M.value=A.value.dateHash<ze==(a.lang.rtl!==!0)?"left":"right",W!==A.value.year&&(ie.value=M.value),En(()=>{de.value=W-W%no-(W<0?no:0),Object.assign(A.value,{year:W,month:se,day:1,dateHash:ze})}))}function pn(W,se,Oe){const ze=W!==null&&W.length===1&&e.multiple===!1?W[0]:W;y=ze;const{reason:Qe,details:_t}=at(se,Oe);n("update:modelValue",ze,Qe,_t)}function _r(W){const se=Se.value[0]!==void 0&&Se.value[0].dateHash!==null?{...Se.value[0]}:{...A.value};En(()=>{se.year=A.value.year,se.month=A.value.month;const Oe=e.calendar!=="persian"?new Date(se.year,se.month,0).getDate():hu(se.year,se.month);se.day=Math.min(Math.max(1,se.day),Oe);const ze=mr(se);y=ze;const{details:Qe}=at("",se);n("update:modelValue",ze,W,Qe)})}function at(W,se){return se.from!==void 0?{reason:`${W}-range`,details:{...Dt(se.target),from:Dt(se.from),to:Dt(se.to)}}:{reason:`${W}-day`,details:Dt(se)}}function mr(W,se,Oe){return W.from!==void 0?{from:ut.value(W.from,se,Oe),to:ut.value(W.to,se,Oe)}:ut.value(W,se,Oe)}function Jn(W){let se;if(e.multiple===!0)if(W.from!==void 0){const Oe=ws(W.from),ze=ws(W.to),Qe=Se.value.filter(De=>De.dateHash<Oe||De.dateHash>ze),_t=Re.value.filter(({from:De,to:ft})=>ft.dateHash<Oe||De.dateHash>ze);se=Qe.concat(_t).concat(W).map(De=>mr(De))}else{const Oe=Be.value.slice();Oe.push(mr(W)),se=Oe}else se=mr(W);pn(se,"add",W)}function ir(W){if(e.noUnset===!0)return;let se=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const Oe=mr(W);W.from!==void 0?se=e.modelValue.filter(ze=>ze.from!==void 0?ze.from!==Oe.from&&ze.to!==Oe.to:!0):se=e.modelValue.filter(ze=>ze!==Oe),se.length===0&&(se=null)}pn(se,"remove",W)}function sr(W,se,Oe){const ze=Se.value.concat(Re.value).map(Qe=>mr(Qe,W,se)).filter(Qe=>Qe.from!==void 0?Qe.from.dateHash!==null&&Qe.to.dateHash!==null:Qe.dateHash!==null);n("update:modelValue",(e.multiple===!0?ze:ze[0])||null,Oe)}function li(){if(e.minimal!==!0)return H("div",{class:"q-date__header "+g.value},[H("div",{class:"relative-position"},[H(di,{name:"q-transition--fade"},()=>H("div",{key:"h-yr-"+vt.value,class:"q-date__header-subtitle q-date__header-link "+(B.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:h.value,...d("vY",{onClick(){B.value="Years"},onKeyup(W){W.keyCode===13&&(B.value="Years")}})},[vt.value]))]),H("div",{class:"q-date__header-title relative-position flex no-wrap"},[H("div",{class:"relative-position col"},[H(di,{name:"q-transition--fade"},()=>H("div",{key:"h-sub"+re.value,class:"q-date__header-title-label q-date__header-link "+(B.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:h.value,...d("vC",{onClick(){B.value="Calendar"},onKeyup(W){W.keyCode===13&&(B.value="Calendar")}})},[re.value]))]),e.todayBtn===!0?H(st,{class:"q-date__header-today self-start",icon:a.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:h.value,onClick:dt}):null])])}function un({label:W,type:se,key:Oe,dir:ze,goTo:Qe,boundaries:_t,cls:De}){return[H("div",{class:"row items-center q-date__arrow"},[H(st,{round:!0,dense:!0,size:"sm",flat:!0,icon:we.value[0],tabindex:h.value,disable:_t.prev===!1,...d("go-#"+se,{onClick(){Qe(-1)}})})]),H("div",{class:"relative-position overflow-hidden flex flex-center"+De},[H(di,{name:"q-transition--jump-"+ze},()=>H("div",{key:Oe},[H(st,{flat:!0,dense:!0,noCaps:!0,label:W,tabindex:h.value,...d("view#"+se,{onClick:()=>{B.value=se}})})]))]),H("div",{class:"row items-center q-date__arrow"},[H(st,{round:!0,dense:!0,size:"sm",flat:!0,icon:we.value[1],tabindex:h.value,disable:_t.next===!1,...d("go+#"+se,{onClick(){Qe(1)}})})])]}const or={Calendar:()=>[H("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[H("div",{class:"q-date__navigation row items-center no-wrap"},un({label:q.value.months[A.value.month-1],type:"Months",key:A.value.month,dir:M.value,goTo:Mn,boundaries:F.value.month,cls:" col"}).concat(un({label:A.value.year,type:"Years",key:A.value.year,dir:ie.value,goTo:Nt,boundaries:F.value.year,cls:""}))),H("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Me.value.map(W=>H("div",{class:"q-date__calendar-item"},[H("div",W)]))),H("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[H(di,{name:"q-transition--slide-"+M.value},()=>H("div",{key:xe.value,class:"q-date__calendar-days fit"},ye.value.map(W=>H("div",{class:W.classes},[W.in===!0?H(st,{class:W.today===!0?"q-date__today":"",dense:!0,flat:W.flat,unelevated:W.unelevated,color:W.color,textColor:W.textColor,label:W.i,tabindex:h.value,...d("day#"+W.i,{onClick:()=>{gi(W.i)},onMouseover:()=>{Or(W.i)}})},W.event!==!1?()=>H("div",{class:"q-date__event bg-"+W.event}):null):H("div",""+W.i)]))))])])],Months(){const W=A.value.year===N.value.year,se=ze=>nt.value!==null&&A.value.year===nt.value.year&&nt.value.month>ze||pt.value!==null&&A.value.year===pt.value.year&&pt.value.month<ze,Oe=q.value.monthsShort.map((ze,Qe)=>{const _t=A.value.month===Qe+1;return H("div",{class:"q-date__months-item flex flex-center"},[H(st,{class:W===!0&&N.value.month===Qe+1?"q-date__today":null,flat:_t!==!0,label:ze,unelevated:_t,color:_t===!0?be.value:null,textColor:_t===!0?ue.value:null,tabindex:h.value,disable:se(Qe+1),...d("month#"+Qe,{onClick:()=>{mn(Qe+1)}})})])});return e.yearsInMonthView===!0&&Oe.unshift(H("div",{class:"row no-wrap full-width"},[un({label:A.value.year,type:"Years",key:A.value.year,dir:ie.value,goTo:Nt,boundaries:F.value.year,cls:" col"})])),H("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},Oe)},Years(){const W=de.value,se=W+no,Oe=[],ze=Qe=>nt.value!==null&&nt.value.year>Qe||pt.value!==null&&pt.value.year<Qe;for(let Qe=W;Qe<=se;Qe++){const _t=A.value.year===Qe;Oe.push(H("div",{class:"q-date__years-item flex flex-center"},[H(st,{key:"yr"+Qe,class:N.value.year===Qe?"q-date__today":null,flat:!_t,label:Qe,dense:!0,unelevated:_t,color:_t===!0?be.value:null,textColor:_t===!0?ue.value:null,tabindex:h.value,disable:ze(Qe),...d("yr#"+Qe,{onClick:()=>{Ue(Qe)}})})]))}return H("div",{class:"q-date__view q-date__years flex flex-center"},[H("div",{class:"col-auto"},[H(st,{round:!0,dense:!0,flat:!0,icon:we.value[0],tabindex:h.value,disable:ze(W),...d("y-",{onClick:()=>{de.value-=no}})})]),H("div",{class:"q-date__years-content col self-stretch row items-center"},Oe),H("div",{class:"col-auto"},[H(st,{round:!0,dense:!0,flat:!0,icon:we.value[1],tabindex:h.value,disable:ze(se),...d("y+",{onClick:()=>{de.value+=no}})})])])}};function gi(W){const se={...A.value,day:W};if(e.range===!1){Et(se,xe.value);return}if(pe.value===null){const Oe=ye.value.find(Qe=>Qe.fill!==!0&&Qe.i===W);if(e.noUnset!==!0&&Oe.range!==void 0){ir({target:se,from:Oe.range.from,to:Oe.range.to});return}if(Oe.selected===!0){ir(se);return}const ze=ws(se);pe.value={init:se,initHash:ze,final:se,finalHash:ze},n("rangeStart",Dt(se))}else{const Oe=pe.value.initHash,ze=ws(se),Qe=Oe<=ze?{from:pe.value.init,to:se}:{from:se,to:pe.value.init};pe.value=null,Jn(Oe===ze?se:{target:se,...Qe}),n("rangeEnd",{from:Dt(Qe.from),to:Dt(Qe.to)})}}function Or(W){if(pe.value!==null){const se={...A.value,day:W};Object.assign(pe.value,{final:se,finalHash:ws(se)})}}return Object.assign(s,{setToday:dt,setView:Xe,offsetCalendar:ct,setCalendarTo:ot,setEditingRange:Tt}),()=>{const W=[H("div",{class:"q-date__content col relative-position"},[H(di,{name:"q-transition--fade"},or[B.value])])],se=Kn(t.default);return se!==void 0&&W.push(H("div",{class:"q-date__actions"},se)),e.name!==void 0&&e.disable!==!0&&b(W,"push"),H("div",{class:$.value,...Le.value},[li(),H("div",{ref:T,class:"q-date__main col column",tabindex:-1},W)])}}}),I8=rn({name:"QPopupProxy",props:{...Uv,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:t,emit:n,attrs:s}){const{proxy:a}=en(),{$q:l}=a,d=Fe(!1),h=Fe(null),g=G(()=>parseInt(e.breakpoint,10)),{canShow:m}=qv({showing:d});function p(){return l.screen.width<g.value||l.screen.height<g.value?"dialog":"menu"}const y=Fe(p()),_=G(()=>y.value==="menu"?{maxHeight:"99vh"}:{});St(()=>p(),k=>{d.value!==!0&&(y.value=k)});function b(k){d.value=!0,n("show",k)}function T(k){d.value=!1,y.value=p(),n("hide",k)}return Object.assign(a,{show(k){m(k)===!0&&h.value.show(k)},hide(k){h.value.hide(k)},toggle(k){h.value.toggle(k)}}),Ao(a,"currentComponent",()=>({type:y.value,ref:h.value})),()=>{const k={ref:h,..._.value,...s,onShow:b,onHide:T};let q;return y.value==="dialog"?q=Tr:(q=qf,Object.assign(k,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),H(q,k,t.default)}}});const O8=us("admin",{state:()=>({listDiscount:[],listOrder:[],listOrderOriginal:[],listGiftCard:[],listOrderHistories:[],menuData:[],isLoadingMainScreen:!1,isLoadingHistory:!1,showEditDialog:!1,selectedAccount:{},datePicker:""}),actions:{async getInit(){const e=da();this.listDiscount=await e.getDiscount(),this.listGiftCard=await this.getListGiftCard(),this.listOrder=await this.getOrderList(),this.listOrderOriginal=this.listOrder},async getOrderList(){try{const e=da(),{data:t,error:n}=await $t.from("orders").select("*, users(*)");if(n)console.error("Caught error when fetching data: ",n);else return this.menuData=await e.fetchMenuData(),await this.handleDataToDisplay(t)}catch(e){console.error("Internal Server Error: ",e)}},async getListGiftCard(){try{let{data:e,error:t}=await $t.from("giftcards").select();return t?(console.error("Caught error when fetching giftcards data: ",t),[]):e}catch(e){console.error("Internal Server Error: ",e)}},async fetchHistoryData(e){try{this.isLoadingHistory=!0;const{data:t,error:n}=await $t.from("order_history").select("*").eq("order_id",e);n?console.error("Error when fetching data in fetchHistoryData(rowId): ",n):this.listOrderHistories=await Promise.all(t.map(async s=>{var h;let a=0;s.details.menu_items.forEach(g=>{a+=g.price*g.quantity});let l=this.listDiscount.filter(g=>g.id==s.details.discount)[0],d=0;return((h=s.giftcard)==null?void 0:h.length)>0&&(d=this.listGiftCard.filter(g=>g.id==s.details.giftcard)[0]),{...s,totalPrice:a,discountObject:l||{},giftCardObject:d||{},isHaveDiscount:!!l,isHaveGiftCard:!!d}})),this.isLoadingHistory=!1}catch(t){this.isLoadingHistory=!1,console.error("Error fetching data fetchHistoryData(rowId):",t)}},async fetchOrderItem(e){try{const{data:t,error:n}=await $t.from("order_menu").select("*").eq("order_id",e);return t}catch(t){console.error("Error fetching data:",t)}},async deleteData(e){try{Qr.create({title:"X\xE1c nh\u1EADn",message:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a \u0111\u01A1n h\xE0ng n\xE0y kh\xF4ng?",ok:!0,cancel:!0}).onOk(async()=>{zt.show({message:"\u0110ang x\xF3a d\u1EEF li\u1EC7u..."});const t=await $t.from("orders").delete().eq("id",e);console.log(t),t.status===204?(rr.create({type:"positive",message:"X\xF3a th\xE0nh c\xF4ng!",position:"top"}),zt.hide(),this.listOrder=this.listOrder.filter(n=>n.id!==e)):alert("Failed to delete data")})}catch(t){console.error("Error deleting data:",t),zt.hide()}},async handleDataToDisplay(e){try{let t=[];return t=await Promise.all(e.map(async n=>{const s=new Date(n.created_at),a=String(s.getHours()).padStart(2,"0"),l=String(s.getMinutes()).padStart(2,"0"),d=`${a}:${l}`,h=await this.fetchOrderItem(n.id);let g=0;h.forEach(y=>{g+=y.price});let m=this.listDiscount.filter(y=>y.id==n.discount)[0];m&&(m.type==="none"?g-=m.value:g-=g/100*m.value);let p=0;return this.listGiftCard.forEach(y=>{y.id==y.giftcard&&(p=y.value)}),p&&(g-=p.value),{id:n.id,notizen:n.description,menu:h,datum:`${d} ${s.toLocaleDateString("de-DE")}`,isHandled:!0,totalPrice:g,discountObject:m||{},giftCardObject:p||{},created_at:n.created_at,users:n.users}}).filter(n=>n)),await Promise.all(t),t.forEach((n,s)=>{t[s].menu.length>1&&(t[s].menuSelected=t[s].menu.map(a=>({...this.menuData.filter(l=>a.menu_id==l.id)[0],quantity:a.quantity})))}),t.length||(t=[]),t}catch(t){console.error("Internal Server Error: ",t)}},clickSelectDateRangeOrder(e){try{const t=new Date(e.from),n=new Date(e.to);this.listOrder=this.listOrderOriginal.filter(s=>{const a=new Date(s.created_at);if(a>=t&&a<=n)return s})}catch(t){console.error("Internal Server Error: ",t)}}}}),D8={key:0,style:{height:"30vh"},class:"full-width flex column flex-center"},k8={key:0},R8={class:"text-subtitle2 text-grey"},M8={class:"text-subtitle2 text-grey flex",style:{"align-items":"center"}},N8={class:"text-subtitle2 text-grey flex",style:{"align-items":"center"}},P8={class:"flex flex-center"},L8=["onClick"],B8={class:"text-blue text-h4"},F8={class:"flex justify-between",style:{"align-items":"center"}},V8={class:"flex justify-between full-width"},$8={style:{width:"80%"},class:"text-grey-7"},U8={class:"text-grey text-bold"},q8={class:"text-blue"},j8={class:"text-grey-6"},H8={key:1,class:"flex flex-center column full-height",style:{"margin-top":"200px"}},z8={class:"row items-center justify-end q-gutter-sm"},W8={class:"flex justify-between q-py-md q-pr-md bg-white z-max",style:{position:"sticky",top:"0"}},G8={class:"flex justify-between"},Y8={class:"text-subtitle2 text-grey-6 q-ml-xs"},X8={class:"column flex",style:{"align-items":"end"}},K8={style:{width:"100%"},class:"flex justify-between"},Z8={key:0,class:"float-bottom text-subtitle2 flex justify-between",style:{right:"5%",width:"100%"}},Q8={key:0,class:"text-red-8"},J8={key:1,class:"text-red-8"},e4={key:1,class:"float-bottom text-subtitle2 flex justify-between",style:{right:"5%",width:"100%"}},t4={class:"text-red-8"},n4={class:"float-bottom text-subtitle1 flex justify-between",style:{right:"5%",width:"100%"}},r4={style:{width:"80%"}},i4={class:"flex justify-between"},s4={class:"text-primary"},o4={style:{height:"30vh"},class:"full-width flex column flex-center"},a4={class:"flex justify-between q-py-md q-pr-md bg-white z-max",style:{position:"sticky",top:"0"}},l4={class:"float-bottom text-h6",style:{right:"5%"}},u4={key:0,class:"text-subtitle1"},c4={class:"flex justify-between",style:{"align-items":"center"}},d4={class:"flex justify-between full-width",style:{"align-items":"center"}},f4={class:"flex text-grey-7",style:{width:"70%"}},h4={key:0,class:"text-blue"},g4={key:0,class:"flex"},m4={key:0,class:"text-blue text-bold"},v4={key:1,class:"text-blue text-bold"},p4={class:"flex q-pt-md"},w4={style:{display:"grid","grid-template-columns":"1fr 1fr 1fr"},class:"q-mb-md full-width"},y4={class:"flex"},x4={class:"text-bold"},b4={class:"flex justify-end full-width"},_4={__name:"OrderPage",setup(e){const t=Hf();Tf();const n=O8(),s=dc();Fe(null);const a=Fe(null),l=Fe([]),d=Fe(n.slideItems);Fe(n.slideItemsUpdate),gr(async()=>{n.isLoadingMainScreen=!0,await n.getInit(),$t.auth.onAuthStateChange(async(m,p)=>{p&&s.validateSession()}),n.isLoadingMainScreen=!1}),xa(()=>{$t.removeAllChannels()});function h(m){t.bottomSheet({message:"H\xE0nh \u0111\u1ED9ng",grid:m,actions:[{label:"L\u1ECBch s\u1EED ch\u1EC9nh s\u1EEDa",img:Wv,id:"history"},{label:"X\xF3a",avatar:Yv,id:"delete"}]}).onOk(p=>{switch(p.id){case"update":n.showUpdateDialog=!0,n.updateData=n.listOrder.filter(y=>y.id===m)[0],n.updateData.isCustomerOrder=!1,n.updateData.menuSelected=n.updateData.menuSelected.map(y=>y.isMultiSelect?{...y,selectCount:y.quantity}:y).filter(y=>y),n.updateData.menuMultipleSelect=n.menuData.map(y=>{if(y.isMultiSelect){const _=n.updateData.menu.filter(b=>b.menu_id===y.id)[0];return{id:y.id,label:y.label,price:parseFloat(y.value),selectCount:_?_.quantity:0,isMultiSelect:!0}}}).filter(y=>y),n.updateData.umsatz=n.updateData.totalPrice;break;case"delete":n.deleteData(m);break;case"history":n.showHistoryDialog=!0,n.fetchHistoryData(m);break}}).onCancel(()=>{}).onDismiss(()=>{})}const g=(m,p)=>{if(m===""){p(()=>{l.value=n.menuData.filter(y=>!y.isMultiSelect)});return}p(()=>{const y=m.toLowerCase();l.value=n.menuData.filter(_=>_.filterSearch.toLowerCase().indexOf(y)>-1&&!_.isMultiSelect)})};return(m,p)=>(Ie(),yt(Rf,{class:"q-pa-sm"},{default:le(()=>[P(n).isLoadingMainScreen?(Ie(),tt("div",D8,[p[15]||(p[15]=Mt(" \u0110ang t\u1EA3i ")),z(P(bo),{size:"lg",color:"blue"})])):(Ie(),yt(si,{key:1,class:"q-mt-md"},{default:le(()=>{var y;return[p[19]||(p[19]=ae("div",{class:"flex full-width justify-end"},null,-1)),(y=P(n).listOrder)!=null&&y.length?(Ie(),tt("div",k8,[(Ie(!0),tt(Xt,null,Yn(P(n).listOrder,(_,b)=>(Ie(),yt(In,{key:b,flat:"",bordered:"",class:"my-card q-mb-md"},{default:le(()=>[z(Ft,{class:"flex flex justify-between q-py-md",style:{"align-items":"center"}},{default:le(()=>{var T;return[ae("div",null,[ae("div",R8,Je(_.datum),1),ae("div",M8,[z(Jt,{name:"eva-person-outline",size:"xs"}),Mt(": "+Je(_.users.display_name),1)]),ae("div",N8,[z(Jt,{name:"eva-home-outline",size:"xs"}),p[16]||(p[16]=Mt(": Site "))])]),ae("div",P8,[(T=_.discountObject)!=null&&T.id?(Ie(),yt(Os,{key:0,color:"primary",outline:"",label:`-${_.discountObject.value}${_.discountObject.type==="none"?"\u20AC":_.discountObject.type}`},null,8,["label"])):Qt("",!0),z(Jt,{name:"more_vert",size:"sm",color:P(n).loadingSelect?"grey-3":"grey-5",onClick:k=>P(n).loadingSelect?[]:h(_.id)},null,8,["color","onClick"])])]}),_:2},1024),z(Ft,null,{default:le(()=>[ae("div",{class:"flex justify-between full-width q-py-xs q-px-none q-mx-none",onClick:T=>_.showQList=!_.showQList,style:{"align-items":"center"}},[p[17]||(p[17]=ae("span",{class:"text-bold text-grey-7 text-h6"},"Doanh thu",-1)),ae("span",B8,Je(P(hn).formatter.format(_.totalPrice)),1)],8,L8),_.showQList?(Ie(),yt(si,{key:0,class:"q-mb-md",bordered:"",separator:""},{default:le(()=>[(Ie(!0),tt(Xt,null,Yn(_.menuSelected,(T,k)=>(Ie(),yt(Xr,{key:k},{default:le(()=>[z(Gn,null,{default:le(()=>[ae("div",F8,[ae("div",V8,[ae("div",$8,Je(T.label),1),ae("div",U8,[ae("span",q8,Je(T.quantity)+" x",1),Mt(" "+Je(P(hn).formatter.format(T.value)),1)])])])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)):Qt("",!0),ae("span",j8,Je(_.notizen),1)]),_:2},1024)]),_:2},1024))),128))])):(Ie(),tt("div",H8,[z(fc,{src:P(gc),"spinner-color":"primary","spinner-size":"82px",width:"250px"},null,8,["src"]),p[18]||(p[18]=ae("span",{class:"text-h5 text-grey-7 text-bold"},"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u",-1))]))]}),_:1})),z(hc,{position:"bottom-right",offset:[18,48]},{default:le(()=>[z(st,{icon:"event",round:"",color:"primary",class:"q-pa-md"},{default:le(()=>[z(I8,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:le(()=>[z(T8,{modelValue:P(n).datePicker,"onUpdate:modelValue":p[2]||(p[2]=y=>P(n).datePicker=y),range:""},{default:le(()=>[ae("div",z8,[bi(z(st,{onClick:p[0]||(p[0]=y=>{P(n).listOrder=P(n).listOrderOriginal,P(n).datePicker=[]}),label:"H\u1EE7y ch\u1ECDn",color:"primary",flat:""},null,512),[[fl]]),bi(z(st,{label:"OK",color:"primary",onClick:p[1]||(p[1]=y=>P(n).clickSelectDateRangeOrder(P(n).datePicker))},null,512),[[fl]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),z(Tr,{maximized:P(n).showHistoryDialog,modelValue:P(n).showHistoryDialog,"onUpdate:modelValue":p[4]||(p[4]=y=>P(n).showHistoryDialog=y)},{default:le(()=>[P(n).isLoadingHistory?(Ie(),yt(In,{key:1,class:"full-width flex flex-center full-height"},{default:le(()=>[ae("div",o4,[p[26]||(p[26]=Mt(" \u0110ang t\u1EA3i ")),z(P(bo),{size:"lg",color:"blue"})])]),_:1})):(Ie(),yt(In,{key:0,class:"full-width full-height"},{default:le(()=>[ae("div",W8,[z(st,{icon:"eva-arrow-ios-back-outline",class:"text-blue",flat:"",onClick:p[3]||(p[3]=y=>P(n).showHistoryDialog=!1)},{default:le(()=>p[20]||(p[20]=[ae("span",{class:"text-subtitle1"},"Quay l\u1EA1i",-1)])),_:1})]),z(Ft,null,{default:le(()=>[p[25]||(p[25]=ae("span",{class:"text-h6 text-bold"},"L\u1ECBch s\u1EED ch\u1EC9nh s\u1EEDa",-1)),z(si,{bordered:""},{default:le(()=>[(Ie(!0),tt(Xt,null,Yn(P(n).listOrderHistories,(y,_)=>(Ie(),yt(In,{key:_,class:"my-card"},{default:le(()=>[z(Ft,null,{default:le(()=>[ae("div",G8,[ae("div",null,[ae("div",{class:qi(["text-h5",y.operation.toLowerCase()==="insert"?"text-green":"text-orange"])},Je(y.operation.toLowerCase()==="insert"?"T\u1EA1o m\u1EDBi":"C\u1EADp nh\u1EADt"),3),ae("div",Y8,Je(new Date(y.created_at).toLocaleDateString("vi-VN")),1)]),ae("div",X8,[ae("div",K8,[p[21]||(p[21]=ae("span",{class:"text-grey-8"},"Gi\xE1 g\u1ED1c: ",-1)),ae("span",null,Je(P(hn).formatter.format(y.totalPrice)),1)]),y.isHaveDiscount?(Ie(),tt("div",Z8,[p[22]||(p[22]=ae("span",null,"M\xE3 gi\u1EA3m gi\xE1: ",-1)),y.discountObject.type==="none"?(Ie(),tt("span",Q8,"-"+Je(P(hn).formatter.format(y.discountObject.value)),1)):(Ie(),tt("span",J8,"-"+Je(y.discountObject.value)+" "+Je(y.discountObject.type),1))])):Qt("",!0),y.isHaveGiftCard?(Ie(),tt("div",e4,[p[23]||(p[23]=ae("span",null,"M\xE3 qu\xE0 t\u1EB7ng: ",-1)),ae("span",t4,"-"+Je(P(hn).formatter.format(y.giftCardObject.value)),1)])):Qt("",!0),ae("div",n4,[p[24]||(p[24]=ae("span",{class:"text-bold q-pr-md"},"T\u1ED5ng c\u1ED9ng:",-1)),ae("span",null,Je(P(hn).formatter.format(Math.max((y.isHaveDiscount?y.discountObject.type==="none"?y.totalPrice-y.discountObject.value:y.totalPrice-y.totalPrice/100*y.discountObject.value:y.totalPrice)-(y.isHaveGiftCard?y.giftCardObject.value:0),0))),1)])])])]),_:2},1024),z(Ft,null,{default:le(()=>[(Ie(!0),tt(Xt,null,Yn(y.details.menu_items,(b,T)=>bi((Ie(),yt(Xr,{key:T,clickable:"",class:"flex justify-between q-px-none"},{default:le(()=>[ae("div",r4,Je(P(n).menuData.filter(k=>k.id===b.menu_id)[0].label),1),ae("div",i4,[ae("span",s4,Je(b.quantity)+" x",1),ae("span",null,Je(b.price/b.quantity),1)])]),_:2},1024)),[[nc]])),128))]),_:2},1024),z(Ft,null,{default:le(()=>[Mt(" M\xF4 t\u1EA3: "+Je(y.details.description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}))]),_:1},8,["maximized","modelValue"]),z(Tr,{maximized:P(n).showUpdateDialog,modelValue:P(n).showUpdateDialog,"onUpdate:modelValue":p[14]||(p[14]=y=>P(n).showUpdateDialog=y)},{default:le(()=>[z(In,{class:"full-width full-height"},{default:le(()=>[ae("div",a4,[z(st,{icon:"eva-arrow-ios-back-outline",class:"text-blue",flat:"",onClick:P(n).handleClickBackButtonShowAlert},{default:le(()=>p[27]||(p[27]=[ae("span",{class:"text-subtitle1"},"Quay l\u1EA1i",-1)])),_:1},8,["onClick"]),ae("div",l4,[p[28]||(p[28]=ae("span",{class:"text-bold"},"T\u1ED5ng c\u1ED9ng:",-1)),Mt(" "+Je(P(hn).formatter.format(P(n).updateData.umsatz)),1)])]),z(Ft,null,{default:le(()=>[z(os,{class:"q-gutter-md q-py-lg flex column",onSubmit:p[13]||(p[13]=y=>P(n).postUpdateItem(P(n).updateData))},{default:le(()=>{var y,_;return[(y=P(n).updateData.menuSelected)!=null&&y.length?(Ie(),tt("span",u4,"D\u1ECBch v\u1EE5 \u0111\xE3 ch\u1ECDn")):Qt("",!0),(_=P(n).updateData.menuSelected)!=null&&_.length?(Ie(),yt(si,{key:1,bordered:"",separator:""},{default:le(()=>[(Ie(!0),tt(Xt,null,Yn(P(n).updateData.menuSelected,(b,T)=>(Ie(),yt(nf,{key:T,ref_for:!0,ref_key:"slideItems",ref:d,onRight:k=>P(n).onRightSlide(b.id,T),"right-color":"red-5"},{right:le(()=>[z(Jt,{name:"delete"}),p[29]||(p[29]=Mt(" Xo\xE1... "))]),default:le(()=>[z(Xr,null,{default:le(()=>[z(Gn,null,{default:le(()=>[ae("div",c4,[ae("div",d4,[ae("div",f4,[ae("div",{class:"column",style:Ls(b.isMultiSelect?"width: 30%":[])},[Mt(Je(b.label)+" ",1),b.isMultiSelect?(Ie(),tt("span",h4,"x "+Je(b.selectCount),1)):Qt("",!0)],4),b.isMultiSelect?(Ie(),tt("div",g4,[z(st,{color:"grey-6",icon:"eva-minus-outline",onClick:k=>P(n).clickMultiSelectInUpdateDataMinus(b),outline:""},null,8,["onClick"]),z(st,{color:"grey-6",icon:"eva-plus-outline",onClick:k=>P(n).clickMultiSelectInUpdateData(b),class:"q-ml-sm",outline:""},null,8,["onClick"])])):Qt("",!0)]),b.isMultiSelect?(Ie(),tt("div",m4,Je(P(hn).formatter.format(b.value*b.selectCount)),1)):(Ie(),tt("div",v4,Je(P(hn).formatter.format(b.value)),1))])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onRight"]))),128))]),_:1})):Qt("",!0),p[34]||(p[34]=ae("span",{class:"text-subtitle1"},"Ch\u1ECDn d\u1ECBch v\u1EE5",-1)),z(xi,{ref_key:"selectMenuRefUpdate",ref:a,rules:[b=>!!b||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 r\u1ED7ng"],modelValue:P(n).updateData.menuSelected,"onUpdate:modelValue":[p[7]||(p[7]=b=>P(n).updateData.menuSelected=b),p[8]||(p[8]=b=>{P(n).updateData.umsatz=P(n).updateData.menuSelected.map(T=>T.value).reduce((T,k)=>T+k,0),P(n).isHaveNotSaveDataYet=!0})],options:l.value,"option-label":"label","option-value":"id",outlined:"",multiple:"","use-input":"",onFilter:g,"input-debounce":"300",behavior:"menu",disable:P(n).loadingSelect,"hide-selected":""},{selected:le(()=>p[30]||(p[30]=[])),"before-options":le(()=>[ae("div",p4,[z(st,{"text-color":"grey-5",icon:"close",flat:"",label:"\u0110\xF3ng menu",class:"full-width q-mb-md",onClick:p[5]||(p[5]=b=>a.value.hidePopup())}),ae("div",w4,[(Ie(!0),tt(Xt,null,Yn(P(n).updateData.menuMultipleSelect.sort((b,T)=>b.price-T.price),(b,T)=>(Ie(),yt(st,{key:T,class:"q-mr-sm",outline:"",color:"white","text-color":"primary",label:b.label,onClick:k=>P(n).clickMultiSelectInUpdateData(b)},{default:le(()=>[z(Os,{color:"red",label:b.selectCount,floating:""},null,8,["label"])]),_:2},1032,["label","onClick"]))),128))])])]),"after-options":le(()=>[ae("div",y4,[z(st,{"text-color":"grey-5",icon:"close",flat:"",label:"\u0110\xF3ng menu",class:"full-width q-my-md",onClick:p[6]||(p[6]=b=>a.value.hidePopup())})])]),option:le(b=>[z(Xr,xu(b.itemProps,{class:[b.selected?"bg-blue-1":b.index%2===0?"bg-grey-1":"bg-grey-2"]}),{default:le(()=>[z(Gn,{avatar:""},{default:le(()=>[z(Jt,{name:"eva-pricetags-outline",class:qi({"text-grey-4":!b.selected,"text-blue":b.selected})},null,8,["class"])]),_:2},1024),z(Gn,null,{default:le(()=>[z(co,{class:"text-subtitle2"},{default:le(()=>[Mt(Je(b.opt.label),1)]),_:2},1024),z(co,{caption:""},{default:le(()=>[p[31]||(p[31]=Mt("Preis: ")),ae("span",x4,Je(P(hn).formatter.format(b.opt.value)),1)]),_:2},1024)]),_:2},1024),z(Gn,{side:""},{default:le(()=>[ae("div",b4,[z(ku,{modelValue:b.selected,"onUpdate:modelValue":T=>b.selected=T,color:"green",onClick:T=>P(n).clickToggleUpdateMenuItem(b)},null,8,["modelValue","onUpdate:modelValue","onClick"])])]),_:2},1024)]),_:2},1040,["class"])]),_:1},8,["rules","modelValue","options","disable"]),P(n).showNotizen?Qt("",!0):(Ie(),tt("div",{key:2,onClick:p[9]||(p[9]=b=>P(n).showNotizen=!0),class:"flex flex-center text-blue"},[z(Jt,{name:"add",size:"sm",rounded:""}),p[32]||(p[32]=Mt("Hi\u1EC7n ghi ch\xFA "))])),P(n).showNotizen?(Ie(),yt(Dn,{key:3,modelValue:P(n).updateData.notizen,"onUpdate:modelValue":[p[10]||(p[10]=b=>P(n).updateData.notizen=b),p[11]||(p[11]=b=>P(n).isHaveNotSaveDataYet=!0)],label:"Th\xEAm ghi ch\xFA",outlined:""},null,8,["modelValue"])):Qt("",!0),P(n).showNotizen?(Ie(),tt("div",{key:4,onClick:p[12]||(p[12]=b=>P(n).showNotizen=!1),class:"flex flex-center text-blue"},[z(Jt,{name:"remove",size:"sm",rounded:""}),p[33]||(p[33]=Mt("\u1EA8n ghi ch\xFA "))])):Qt("",!0),z(st,{label:"L\u01B0u d\u1EEF li\u1EC7u",type:"submit",color:"blue-7",icon:"save",class:"q-py-sm",push:""})]}),_:1})]),_:1})]),_:1})]),_:1},8,["maximized","modelValue"])]),_:1}))}},C4=us("giftCard",{state:()=>({listGiftCards:[],listGiftCardsOriginal:[],showDialog:!1,isEditing:!1,isLoadingMainScreen:!1,currentGiftCard:{}}),actions:{async getInit(){this.listGiftCards=await this.loadGiftCards(),this.listGiftCardsOriginal=this.listGiftCards},async loadGiftCards(){try{const{data:e,error:t}=await $t.rpc("fetch_giftcards_with_usage");if(t)console.error("Caught error when fetching data: ",t);else return e}catch(e){console.error("Internal Server Error: ",e)}},async postCreateGiftCard(e){try{this.isLoadingMainScreen=!0;const{data:t,error:n}=await $t.from("giftcards").insert(e).select();n?console.error("Caught error when fetching data: ",n):(this.showDialog=!1,this.listGiftCards=await this.loadGiftCards()),this.isLoadingMainScreen=!1}catch(t){this.isLoadingMainScreen=!1,console.error("Internal Server Error: ",t)}},async postUpdateGiftCard(e){try{this.isLoadingMainScreen=!0;const{data:t,error:n}=await $t.from("giftcards").update(e).eq("id",e.id).select();n?console.error("Caught error when fetching data: ",n):(this.showDialog=!1,this.listGiftCards=await this.loadGiftCards()),this.isLoadingMainScreen=!1}catch(t){this.isLoadingMainScreen=!1,console.error("Internal Server Error: ",t)}}}});function S4(e){const t=document.createElement("textarea");t.value=e,t.contentEditable="true",t.style.position="fixed";const n=()=>{};Nf(n),document.body.appendChild(t),t.focus(),t.select();const s=document.execCommand("copy");return t.remove(),Du(n),s}function E4(e){return navigator.clipboard!==void 0?navigator.clipboard.writeText(e):new Promise((t,n)=>{const s=S4(e);s?t(!0):n(s)})}/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 *  2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var $i=function(){return $i=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},$i.apply(this,arguments)};var _o;(function(e){var t=function(){function d(h,g,m,p){if(this.version=h,this.errorCorrectionLevel=g,this.modules=[],this.isFunction=[],h<d.MIN_VERSION||h>d.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=h*4+17;for(var y=[],_=0;_<this.size;_++)y.push(!1);for(var _=0;_<this.size;_++)this.modules.push(y.slice()),this.isFunction.push(y.slice());this.drawFunctionPatterns();var b=this.addEccAndInterleave(m);if(this.drawCodewords(b),p==-1)for(var T=1e9,_=0;_<8;_++){this.applyMask(_),this.drawFormatBits(_);var k=this.getPenaltyScore();k<T&&(p=_,T=k),this.applyMask(_)}a(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}return d.encodeText=function(h,g){var m=e.QrSegment.makeSegments(h);return d.encodeSegments(m,g)},d.encodeBinary=function(h,g){var m=e.QrSegment.makeBytes(h);return d.encodeSegments([m],g)},d.encodeSegments=function(h,g,m,p,y,_){if(m===void 0&&(m=1),p===void 0&&(p=40),y===void 0&&(y=-1),_===void 0&&(_=!0),!(d.MIN_VERSION<=m&&m<=p&&p<=d.MAX_VERSION)||y<-1||y>7)throw new RangeError("Invalid value");var b,T;for(b=m;;b++){var k=d.getNumDataCodewords(b,g)*8,q=l.getTotalBits(h,b);if(q<=k){T=q;break}if(b>=p)throw new RangeError("Data too long")}for(var K=0,Y=[d.Ecc.MEDIUM,d.Ecc.QUARTILE,d.Ecc.HIGH];K<Y.length;K++){var N=Y[K];_&&T<=d.getNumDataCodewords(b,N)*8&&(g=N)}for(var A=[],B=0,Q=h;B<Q.length;B++){var M=Q[B];n(M.mode.modeBits,4,A),n(M.numChars,M.mode.numCharCountBits(b),A);for(var ie=0,L=M.getData();ie<L.length;ie++){var de=L[ie];A.push(de)}}a(A.length==T);var pe=d.getNumDataCodewords(b,g)*8;a(A.length<=pe),n(0,Math.min(4,pe-A.length),A),n(0,(8-A.length%8)%8,A),a(A.length%8==0);for(var $=236;A.length<pe;$^=253)n($,8,A);for(var be=[];be.length*8<A.length;)be.push(0);return A.forEach(function(ue,ee){return be[ee>>>3]|=ue<<7-(ee&7)}),new d(b,g,be,y)},d.prototype.getModule=function(h,g){return 0<=h&&h<this.size&&0<=g&&g<this.size&&this.modules[g][h]},d.prototype.getModules=function(){return this.modules},d.prototype.drawFunctionPatterns=function(){for(var h=0;h<this.size;h++)this.setFunctionModule(6,h,h%2==0),this.setFunctionModule(h,6,h%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var g=this.getAlignmentPatternPositions(),m=g.length,h=0;h<m;h++)for(var p=0;p<m;p++)h==0&&p==0||h==0&&p==m-1||h==m-1&&p==0||this.drawAlignmentPattern(g[h],g[p]);this.drawFormatBits(0),this.drawVersion()},d.prototype.drawFormatBits=function(h){for(var g=this.errorCorrectionLevel.formatBits<<3|h,m=g,p=0;p<10;p++)m=m<<1^(m>>>9)*1335;var y=(g<<10|m)^21522;a(y>>>15==0);for(var p=0;p<=5;p++)this.setFunctionModule(8,p,s(y,p));this.setFunctionModule(8,7,s(y,6)),this.setFunctionModule(8,8,s(y,7)),this.setFunctionModule(7,8,s(y,8));for(var p=9;p<15;p++)this.setFunctionModule(14-p,8,s(y,p));for(var p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,s(y,p));for(var p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,s(y,p));this.setFunctionModule(8,this.size-8,!0)},d.prototype.drawVersion=function(){if(!(this.version<7)){for(var h=this.version,g=0;g<12;g++)h=h<<1^(h>>>11)*7973;var m=this.version<<12|h;a(m>>>18==0);for(var g=0;g<18;g++){var p=s(m,g),y=this.size-11+g%3,_=Math.floor(g/3);this.setFunctionModule(y,_,p),this.setFunctionModule(_,y,p)}}},d.prototype.drawFinderPattern=function(h,g){for(var m=-4;m<=4;m++)for(var p=-4;p<=4;p++){var y=Math.max(Math.abs(p),Math.abs(m)),_=h+p,b=g+m;0<=_&&_<this.size&&0<=b&&b<this.size&&this.setFunctionModule(_,b,y!=2&&y!=4)}},d.prototype.drawAlignmentPattern=function(h,g){for(var m=-2;m<=2;m++)for(var p=-2;p<=2;p++)this.setFunctionModule(h+p,g+m,Math.max(Math.abs(p),Math.abs(m))!=1)},d.prototype.setFunctionModule=function(h,g,m){this.modules[g][h]=m,this.isFunction[g][h]=!0},d.prototype.addEccAndInterleave=function(h){var g=this.version,m=this.errorCorrectionLevel;if(h.length!=d.getNumDataCodewords(g,m))throw new RangeError("Invalid argument");for(var p=d.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][g],y=d.ECC_CODEWORDS_PER_BLOCK[m.ordinal][g],_=Math.floor(d.getNumRawDataModules(g)/8),b=p-_%p,T=Math.floor(_/p),k=[],q=d.reedSolomonComputeDivisor(y),K=0,Y=0;K<p;K++){var N=h.slice(Y,Y+T-y+(K<b?0:1));Y+=N.length;var A=d.reedSolomonComputeRemainder(N,q);K<b&&N.push(0),k.push(N.concat(A))}for(var B=[],Q=function(M){k.forEach(function(ie,L){(M!=T-y||L>=b)&&B.push(ie[M])})},K=0;K<k[0].length;K++)Q(K);return a(B.length==_),B},d.prototype.drawCodewords=function(h){if(h.length!=Math.floor(d.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var g=0,m=this.size-1;m>=1;m-=2){m==6&&(m=5);for(var p=0;p<this.size;p++)for(var y=0;y<2;y++){var _=m-y,b=(m+1&2)==0,T=b?this.size-1-p:p;!this.isFunction[T][_]&&g<h.length*8&&(this.modules[T][_]=s(h[g>>>3],7-(g&7)),g++)}}a(g==h.length*8)},d.prototype.applyMask=function(h){if(h<0||h>7)throw new RangeError("Mask value out of range");for(var g=0;g<this.size;g++)for(var m=0;m<this.size;m++){var p=void 0;switch(h){case 0:p=(m+g)%2==0;break;case 1:p=g%2==0;break;case 2:p=m%3==0;break;case 3:p=(m+g)%3==0;break;case 4:p=(Math.floor(m/3)+Math.floor(g/2))%2==0;break;case 5:p=m*g%2+m*g%3==0;break;case 6:p=(m*g%2+m*g%3)%2==0;break;case 7:p=((m+g)%2+m*g%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[g][m]&&p&&(this.modules[g][m]=!this.modules[g][m])}},d.prototype.getPenaltyScore=function(){for(var h=0,g=0;g<this.size;g++){for(var m=!1,p=0,y=[0,0,0,0,0,0,0],_=0;_<this.size;_++)this.modules[g][_]==m?(p++,p==5?h+=d.PENALTY_N1:p>5&&h++):(this.finderPenaltyAddHistory(p,y),m||(h+=this.finderPenaltyCountPatterns(y)*d.PENALTY_N3),m=this.modules[g][_],p=1);h+=this.finderPenaltyTerminateAndCount(m,p,y)*d.PENALTY_N3}for(var _=0;_<this.size;_++){for(var m=!1,b=0,y=[0,0,0,0,0,0,0],g=0;g<this.size;g++)this.modules[g][_]==m?(b++,b==5?h+=d.PENALTY_N1:b>5&&h++):(this.finderPenaltyAddHistory(b,y),m||(h+=this.finderPenaltyCountPatterns(y)*d.PENALTY_N3),m=this.modules[g][_],b=1);h+=this.finderPenaltyTerminateAndCount(m,b,y)*d.PENALTY_N3}for(var g=0;g<this.size-1;g++)for(var _=0;_<this.size-1;_++){var T=this.modules[g][_];T==this.modules[g][_+1]&&T==this.modules[g+1][_]&&T==this.modules[g+1][_+1]&&(h+=d.PENALTY_N2)}for(var k=0,q=0,K=this.modules;q<K.length;q++){var Y=K[q];k=Y.reduce(function(B,Q){return B+(Q?1:0)},k)}var N=this.size*this.size,A=Math.ceil(Math.abs(k*20-N*10)/N)-1;return a(0<=A&&A<=9),h+=A*d.PENALTY_N4,a(0<=h&&h<=2568888),h},d.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var h=Math.floor(this.version/7)+2,g=Math.floor((this.version*8+h*3+5)/(h*4-4))*2,m=[6],p=this.size-7;m.length<h;p-=g)m.splice(1,0,p);return m},d.getNumRawDataModules=function(h){if(h<d.MIN_VERSION||h>d.MAX_VERSION)throw new RangeError("Version number out of range");var g=(16*h+128)*h+64;if(h>=2){var m=Math.floor(h/7)+2;g-=(25*m-10)*m-55,h>=7&&(g-=36)}return a(208<=g&&g<=29648),g},d.getNumDataCodewords=function(h,g){return Math.floor(d.getNumRawDataModules(h)/8)-d.ECC_CODEWORDS_PER_BLOCK[g.ordinal][h]*d.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][h]},d.reedSolomonComputeDivisor=function(h){if(h<1||h>255)throw new RangeError("Degree out of range");for(var g=[],m=0;m<h-1;m++)g.push(0);g.push(1);for(var p=1,m=0;m<h;m++){for(var y=0;y<g.length;y++)g[y]=d.reedSolomonMultiply(g[y],p),y+1<g.length&&(g[y]^=g[y+1]);p=d.reedSolomonMultiply(p,2)}return g},d.reedSolomonComputeRemainder=function(h,g){for(var m=g.map(function(T){return 0}),p=function(T){var k=T^m.shift();m.push(0),g.forEach(function(q,K){return m[K]^=d.reedSolomonMultiply(q,k)})},y=0,_=h;y<_.length;y++){var b=_[y];p(b)}return m},d.reedSolomonMultiply=function(h,g){if(h>>>8!=0||g>>>8!=0)throw new RangeError("Byte out of range");for(var m=0,p=7;p>=0;p--)m=m<<1^(m>>>7)*285,m^=(g>>>p&1)*h;return a(m>>>8==0),m},d.prototype.finderPenaltyCountPatterns=function(h){var g=h[1];a(g<=this.size*3);var m=g>0&&h[2]==g&&h[3]==g*3&&h[4]==g&&h[5]==g;return(m&&h[0]>=g*4&&h[6]>=g?1:0)+(m&&h[6]>=g*4&&h[0]>=g?1:0)},d.prototype.finderPenaltyTerminateAndCount=function(h,g,m){return h&&(this.finderPenaltyAddHistory(g,m),g=0),g+=this.size,this.finderPenaltyAddHistory(g,m),this.finderPenaltyCountPatterns(m)},d.prototype.finderPenaltyAddHistory=function(h,g){g[0]==0&&(h+=this.size),g.pop(),g.unshift(h)},d.MIN_VERSION=1,d.MAX_VERSION=40,d.PENALTY_N1=3,d.PENALTY_N2=3,d.PENALTY_N3=40,d.PENALTY_N4=10,d.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],d.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],d}();e.QrCode=t;function n(d,h,g){if(h<0||h>31||d>>>h!=0)throw new RangeError("Value out of range");for(var m=h-1;m>=0;m--)g.push(d>>>m&1)}function s(d,h){return(d>>>h&1)!=0}function a(d){if(!d)throw new Error("Assertion error")}var l=function(){function d(h,g,m){if(this.mode=h,this.numChars=g,this.bitData=m,g<0)throw new RangeError("Invalid argument");this.bitData=m.slice()}return d.makeBytes=function(h){for(var g=[],m=0,p=h;m<p.length;m++){var y=p[m];n(y,8,g)}return new d(d.Mode.BYTE,h.length,g)},d.makeNumeric=function(h){if(!d.isNumeric(h))throw new RangeError("String contains non-numeric characters");for(var g=[],m=0;m<h.length;){var p=Math.min(h.length-m,3);n(parseInt(h.substring(m,m+p),10),p*3+1,g),m+=p}return new d(d.Mode.NUMERIC,h.length,g)},d.makeAlphanumeric=function(h){if(!d.isAlphanumeric(h))throw new RangeError("String contains unencodable characters in alphanumeric mode");var g=[],m;for(m=0;m+2<=h.length;m+=2){var p=d.ALPHANUMERIC_CHARSET.indexOf(h.charAt(m))*45;p+=d.ALPHANUMERIC_CHARSET.indexOf(h.charAt(m+1)),n(p,11,g)}return m<h.length&&n(d.ALPHANUMERIC_CHARSET.indexOf(h.charAt(m)),6,g),new d(d.Mode.ALPHANUMERIC,h.length,g)},d.makeSegments=function(h){return h==""?[]:d.isNumeric(h)?[d.makeNumeric(h)]:d.isAlphanumeric(h)?[d.makeAlphanumeric(h)]:[d.makeBytes(d.toUtf8ByteArray(h))]},d.makeEci=function(h){var g=[];if(h<0)throw new RangeError("ECI assignment value out of range");if(h<1<<7)n(h,8,g);else if(h<1<<14)n(2,2,g),n(h,14,g);else if(h<1e6)n(6,3,g),n(h,21,g);else throw new RangeError("ECI assignment value out of range");return new d(d.Mode.ECI,0,g)},d.isNumeric=function(h){return d.NUMERIC_REGEX.test(h)},d.isAlphanumeric=function(h){return d.ALPHANUMERIC_REGEX.test(h)},d.prototype.getData=function(){return this.bitData.slice()},d.getTotalBits=function(h,g){for(var m=0,p=0,y=h;p<y.length;p++){var _=y[p],b=_.mode.numCharCountBits(g);if(_.numChars>=1<<b)return 1/0;m+=4+b+_.bitData.length}return m},d.toUtf8ByteArray=function(h){h=encodeURI(h);for(var g=[],m=0;m<h.length;m++)h.charAt(m)!="%"?g.push(h.charCodeAt(m)):(g.push(parseInt(h.substring(m+1,m+3),16)),m+=2);return g},d.NUMERIC_REGEX=/^[0-9]*$/,d.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,d.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",d}();e.QrSegment=l})(_o||(_o={}));(function(e){(function(t){var n=function(){function s(a,l){this.ordinal=a,this.formatBits=l}return s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),s}();t.Ecc=n})(e.QrCode||(e.QrCode={}))})(_o||(_o={}));(function(e){(function(t){var n=function(){function s(a,l){this.modeBits=a,this.numBitsCharCount=l}return s.prototype.numCharCountBits=function(a){return this.numBitsCharCount[Math.floor((a+7)/17)]},s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),s}();t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(_o||(_o={}));var ea=_o,Xf="L",Kf={L:ea.QrCode.Ecc.LOW,M:ea.QrCode.Ecc.MEDIUM,Q:ea.QrCode.Ecc.QUARTILE,H:ea.QrCode.Ecc.HIGH},A4=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Zf(e){return e in Kf}function Dp(e,t){t===void 0&&(t=0);var n=[];return e.forEach(function(s,a){var l=null;s.forEach(function(d,h){if(!d&&l!==null){n.push("M".concat(l+t," ").concat(a+t,"h").concat(h-l,"v1H").concat(l+t,"z")),l=null;return}if(h===s.length-1){if(!d)return;l===null?n.push("M".concat(h+t,",").concat(a+t," h1v1H").concat(h+t,"z")):n.push("M".concat(l+t,",").concat(a+t," h").concat(h+1-l,"v1H").concat(l+t,"z"));return}d&&l===null&&(l=h)})}),n.join("")}function kp(e,t,n,s){var a=s.width,l=s.height,d=s.x,h=s.y,g=e.length+n*2,m=Math.floor(t*.1),p=g/t,y=(a||m)*p,_=(l||m)*p,b=d==null?e.length/2-y/2:d*p,T=h==null?e.length/2-_/2:h*p,k=null;if(s.excavate){var q=Math.floor(b),K=Math.floor(T),Y=Math.ceil(y+b-q),N=Math.ceil(_+T-K);k={x:q,y:K,w:Y,h:N}}return{x:b,y:T,h:_,w:y,excavation:k}}function Rp(e,t){return e.slice().map(function(n,s){return s<t.y||s>=t.y+t.h?n:n.map(function(a,l){return l<t.x||l>=t.x+t.w?a:!1})})}var Qf={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:Xf,validator:function(e){return Zf(e)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(e){return["linear","radial"].indexOf(e)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},T4=$i($i({},Qf),{renderAs:{type:String,required:!1,default:"canvas",validator:function(e){return["canvas","svg"].indexOf(e)>-1}}}),I4=qs({name:"QRCodeSvg",props:Qf,setup:function(e){var t=Fe(0),n=Fe(""),s,a=function(){var d=e.value,h=e.level,g=e.margin,m=g>>>0,p=Zf(h)?h:Xf,y=ea.QrCode.encodeText(d,Kf[p]).getModules();if(t.value=y.length+m*2,e.imageSettings.src){var _=kp(y,e.size,m,e.imageSettings);s={x:_.x+m,y:_.y+m,width:_.w,height:_.h},_.excavation&&(y=Rp(y,_.excavation))}n.value=Dp(y,m)},l=function(){if(!e.gradient)return null;var d=e.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return H(e.gradientType==="linear"?"linearGradient":"radialGradient",$i({id:"qr-gradient"},d),[H("stop",{offset:"0%",style:{stopColor:e.gradientStartColor}}),H("stop",{offset:"100%",style:{stopColor:e.gradientEndColor}})])};return a(),Tl(a),function(){return H("svg",{width:e.size,height:e.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(t.value," ").concat(t.value)},[H("defs",{},[l()]),H("rect",{width:"100%",height:"100%",fill:e.background}),H("path",{fill:e.gradient?"url(#qr-gradient)":e.foreground,d:n.value}),e.imageSettings.src&&H("image",$i({href:e.imageSettings.src},s))])}}}),O4=qs({name:"QRCodeCanvas",props:Qf,setup:function(e,t){var n=Fe(null),s=Fe(null),a=function(){var d=e.value,h=e.level,g=e.size,m=e.margin,p=e.background,y=e.foreground,_=e.gradient,b=e.gradientType,T=e.gradientStartColor,k=e.gradientEndColor,q=m>>>0,K=Zf(h)?h:Xf,Y=n.value;if(!!Y){var N=Y.getContext("2d");if(!!N){var A=ea.QrCode.encodeText(d,Kf[K]).getModules(),B=A.length+q*2,Q=s.value,M={x:0,y:0,width:0,height:0},ie=e.imageSettings.src&&Q!=null&&Q.naturalWidth!==0&&Q.naturalHeight!==0;if(ie){var L=kp(A,e.size,q,e.imageSettings);M={x:L.x+q,y:L.y+q,width:L.w,height:L.h},L.excavation&&(A=Rp(A,L.excavation))}var de=window.devicePixelRatio||1,pe=g/B*de;if(Y.height=Y.width=g*de,N.scale(pe,pe),N.fillStyle=p,N.fillRect(0,0,B,B),_){var $=void 0;b==="linear"?$=N.createLinearGradient(0,0,B,B):$=N.createRadialGradient(B/2,B/2,0,B/2,B/2,B/2),$.addColorStop(0,T),$.addColorStop(1,k),N.fillStyle=$}else N.fillStyle=y;A4?N.fill(new Path2D(Dp(A,q))):A.forEach(function(be,ue){be.forEach(function(ee,Be){ee&&N.fillRect(Be+q,ue+q,1,1)})}),ie&&N.drawImage(Q,M.x,M.y,M.width,M.height)}}};gr(a),Tl(a);var l=t.attrs.style;return function(){return H(Xt,[H("canvas",$i($i({},t.attrs),{ref:n,style:$i($i({},l),{width:"".concat(e.size,"px"),height:"".concat(e.size,"px")})})),e.imageSettings.src&&H("img",{ref:s,src:e.imageSettings.src,style:{display:"none"},onLoad:a})])}}}),D4=qs({name:"Qrcode",render:function(){var e=this.$props,t=e.renderAs,n=e.value,s=e.size,a=e.margin,l=e.level,d=e.background,h=e.foreground,g=e.imageSettings,m=e.gradient,p=e.gradientType,y=e.gradientStartColor,_=e.gradientEndColor;return H(t==="svg"?I4:O4,{value:n,size:s,margin:a,level:l,background:d,foreground:h,imageSettings:g,gradient:m,gradientType:p,gradientStartColor:y,gradientEndColor:_})},props:T4});const k4={class:"qrcode"},R4={__name:"QRCodeVue",props:{value:{type:String,required:!0},size:{type:Number,default:200}},setup(e){return(t,n)=>(Ie(),tt("div",k4,[z(D4,{value:e.value,size:e.size},null,8,["value","size"])]))}};var D1=ba(R4,[["__scopeId","data-v-2a35bf7d"]]);const M4=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";return Array.from({length:10}).map(()=>e.charAt(Math.floor(Math.random()*e.length))).join("")},N4={generateGiftCode:M4};const P4={class:"q-pa-md"},L4={key:0,class:"flex flex-center column",style:{height:"50vh"}},B4={key:1},F4={class:"flex full-width justify-end"},V4={class:"row justify-between items-center"},$4={class:"col"},U4={class:"text-h6"},q4={class:"text-subtitle2 text-grey-7"},j4={class:"text-body2 text-bold text-blue"},H4={class:"flex full-width q-mt-md"},z4={class:"text-h6"},W4={__name:"GiftCardPage",setup(e){const t=C4(),n=Fe("all"),s=Fe(!1),a=Fe(""),l=[{label:"T\u1EA5t c\u1EA3",value:"all"},{label:"T\u1EEB b\xE9 \u0111\u1EBFn l\u1EDBn",value:"valueAsc"},{label:"T\u1EEB l\u1EDBn \u0111\u1EBFn b\xE9",value:"valueDesc"},{label:"\u0110\xE3 s\u1EED d\u1EE5ng",value:"used"},{label:"Ch\u01B0a s\u1EED d\u1EE5ng",value:"unused"}],d=()=>{switch(n.value){case"all":t.listGiftCards=t.listGiftCardsOriginal;break;case"valueAsc":t.listGiftCards.sort((b,T)=>b.value-T.value);break;case"valueDesc":t.listGiftCards.sort((b,T)=>T.value-b.value);break;case"used":t.listGiftCards=t.listGiftCardsOriginal.filter(b=>b.isused===!0);break;case"unused":t.listGiftCards=t.listGiftCardsOriginal.filter(b=>b.isused===!1);break}},h=b=>{const k=document.querySelectorAll("canvas")[b].toDataURL("image/png"),q=document.createElement("a");q.href=k,q.download="qr-code.png",q.click()};gr(async()=>{t.isLoadingMainScreen=!0,await t.getInit(),t.isLoadingMainScreen=!1});const g=()=>{t.isEditing=!1,t.showDialog=!0,t.currentGiftCard={}},m=b=>{t.isEditing=!0,t.showDialog=!0,t.currentGiftCard={...b}},p=b=>{const{date_from:T,date_expired:k}=t.currentGiftCard;return b?k<T?"Ng\xE0y h\u1EBFt h\u1EA1n ph\u1EA3i sau ng\xE0y b\u1EAFt \u0111\u1EA7u":!0:"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"},y=b=>{Qr.create({title:"X\xE1c nh\u1EADn x\xF3a",message:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a th\u1EBB qu\xE0 t\u1EB7ng n\xE0y kh\xF4ng?",ok:{color:"red",label:"X\xF3a"},cancel:{flat:!0,label:"H\u1EE7y"}}).onOk(()=>t.deleteGiftCard(b))},_=b=>{E4(b).then(()=>{rr.create({message:"\u0110\xE3 sao ch\xE9p m\xE3 v\xE0o clipboard!",color:"green",timeout:2e3,position:"top"})})};return(b,T)=>(Ie(),tt("div",P4,[P(t).isLoadingMainScreen?(Ie(),tt("div",L4,[T[11]||(T[11]=Mt(" \u0110ang t\u1EA3i... ")),z(bo,{size:"lg",color:"blue"})])):(Ie(),tt("div",B4,[ae("div",F4,[z(xi,{outlined:"",dense:"",modelValue:n.value,"onUpdate:modelValue":[T[0]||(T[0]=k=>n.value=k),d],label:"S\u1EAFp x\u1EBFp",options:l,"emit-value":"","map-options":"",style:{"min-width":"40vw"}},null,8,["modelValue"])]),z(si,{class:"q-my-md",style:{"padding-bottom":"5em"}},{default:le(()=>[(Ie(!0),tt(Xt,null,Yn(P(t).listGiftCards,(k,q)=>(Ie(),yt(In,{key:q,flat:"",bordered:"",class:"my-card q-mb-md"},{default:le(()=>[z(Ft,{class:"q-pa-md"},{default:le(()=>[ae("div",V4,[ae("div",$4,[ae("div",U4,Je(k.code),1),ae("div",q4," T\u1EEB "+Je(k.date_from)+" \u0111\u1EBFn "+Je(k.date_expired),1),ae("div",j4," Gi\xE1 tr\u1ECB: "+Je(k.value),1),ae("div",{class:qi(["text-body2",k.isused?"text-red":"text-green"])},Je(k.isused?"\u0110\xE3 s\u1EED d\u1EE5ng":"Ch\u01B0a s\u1EED d\u1EE5ng"),3),ae("div",H4,[z(D1,{value:k.code,size:"50"},null,8,["value"]),z(st,{icon:"download",color:"primary",dense:"",flat:"",onClick:K=>h(q),class:"q-ml-md"},null,8,["onClick"])])]),z(st,{flat:"",dense:"",icon:"content_copy",color:"blue",onClick:K=>_(k.code)},null,8,["onClick"])])]),_:2},1024),z(Si,{align:"right"},{default:le(()=>[k.isused?Qt("",!0):(Ie(),yt(st,{key:0,flat:"",dense:"",label:"Ch\u1EC9nh s\u1EEDa",color:"green",onClick:K=>m(k)},null,8,["onClick"])),k.isused?Qt("",!0):(Ie(),yt(st,{key:1,flat:"",dense:"",label:"X\xF3a",color:"red",onClick:K=>y(k.id)},null,8,["onClick"]))]),_:2},1024)]),_:2},1024))),128))]),_:1})])),z(hc,{position:"bottom-right",offset:[18,38]},{default:le(()=>[z(st,{icon:"add",color:"green",round:"",size:"lg",onClick:g})]),_:1}),z(Tr,{modelValue:P(t).showDialog,"onUpdate:modelValue":T[8]||(T[8]=k=>P(t).showDialog=k)},{default:le(()=>[z(In,{style:{"min-width":"90vw"}},{default:le(()=>[z(Ft,null,{default:le(()=>[ae("div",z4,Je(P(t).isEditing?"Ch\u1EC9nh s\u1EEDa th\u1EBB qu\xE0 t\u1EB7ng":"T\u1EA1o th\u1EBB qu\xE0 t\u1EB7ng"),1)]),_:1}),z(os,{onSubmit:T[7]||(T[7]=k=>P(t).isEditing?P(t).postUpdateGiftCard(P(t).currentGiftCard):P(t).postCreateGiftCard(P(t).currentGiftCard)),class:"q-gutter-md"},{default:le(()=>[ae("div",null,[z(Ft,null,{default:le(()=>[z(Dn,{modelValue:P(t).currentGiftCard.code,"onUpdate:modelValue":T[2]||(T[2]=k=>P(t).currentGiftCard.code=k),label:"M\xE3",dense:"",outlined:"",disable:P(t).isEditing,rules:[k=>!!k||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"]},{append:le(()=>[ae("div",null,[z(st,{flat:"",dense:"",label:"T\u1EA1o m\xE3",color:"blue",onClick:T[1]||(T[1]=k=>P(t).currentGiftCard.code=P(N4).generateGiftCode()),rules:[k=>!!k||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"]},null,8,["rules"])])]),_:1},8,["modelValue","disable","rules"]),z(Dn,{modelValue:P(t).currentGiftCard.date_from,"onUpdate:modelValue":T[3]||(T[3]=k=>P(t).currentGiftCard.date_from=k),label:"Ng\xE0y b\u1EAFt \u0111\u1EA7u",dense:"",outlined:"",type:"date",rules:[k=>!!k||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"]},null,8,["modelValue","rules"]),z(Dn,{modelValue:P(t).currentGiftCard.date_expired,"onUpdate:modelValue":T[4]||(T[4]=k=>P(t).currentGiftCard.date_expired=k),label:"Ng\xE0y h\u1EBFt h\u1EA1n",dense:"",outlined:"",type:"date",rules:[p]},null,8,["modelValue","rules"]),z(Dn,{modelValue:P(t).currentGiftCard.value,"onUpdate:modelValue":T[5]||(T[5]=k=>P(t).currentGiftCard.value=k),label:"Gi\xE1 tr\u1ECB",dense:"",outlined:"",type:"number",rules:[k=>!!k||"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"]},null,8,["modelValue","rules"])]),_:1}),z(Si,{align:"right"},{default:le(()=>[z(st,{flat:"",dense:"",label:"H\u1EE7y",color:"grey",onClick:T[6]||(T[6]=k=>P(t).showDialog=!1)}),z(st,{type:"submit",dense:"",label:"L\u01B0u",color:"green"})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]),z(Tr,{modelValue:s.value,"onUpdate:modelValue":T[10]||(T[10]=k=>s.value=k)},{default:le(()=>[z(In,{style:{"min-width":"90vw"}},{default:le(()=>[z(Ft,null,{default:le(()=>T[12]||(T[12]=[ae("div",{class:"text-h6"},"QR Code",-1)])),_:1}),z(Ft,{class:"q-pa-md flex flex-center"},{default:le(()=>[z(D1,{value:a.value,size:"300"},null,8,["value"])]),_:1}),z(Si,{align:"right"},{default:le(()=>[z(st,{flat:"",dense:"",label:"\u0110\xF3ng",color:"grey",onClick:T[9]||(T[9]=k=>s.value=!1)}),z(st,{dense:"",label:"T\u1EA3i xu\u1ED1ng",color:"green",onClick:h})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};var G4=ba(W4,[["__scopeId","data-v-754a8d58"]]);const Y4=[{path:"/",component:()=>Ui(()=>import("./MainLayout.c023a28a.js"),["assets/MainLayout.c023a28a.js","assets/MainLayout.5b3b3342.css"]),children:[{path:"",component:DS,name:"LoginPage"},{path:"data",component:$A,name:"DataViewPage"}]},{path:"/admin",component:()=>Ui(()=>import("./MainLayout.c023a28a.js"),["assets/MainLayout.c023a28a.js","assets/MainLayout.5b3b3342.css"]),children:[{path:"",component:JA,name:"AccountPage"},{path:"discount",component:d8,name:"DiscountPage"},{path:"order",component:_4,name:"OrderPage"},{path:"giftcard",component:G4,name:"GiftCardPage"}]},{path:"/:catchAll(.*)*",component:()=>Ui(()=>import("./ErrorNotFound.63e1c0e6.js"),[])}];var bd=function(){return Ux({scrollBehavior:()=>({left:0,top:0}),routes:Y4,history:vx("/ffn/")})};async function X4(e,t){const n=e(ky);n.use(Iy,t);const s=typeof Xc=="function"?await Xc({}):Xc;n.use(s);const a=Eo(typeof bd=="function"?await bd({store:s}):bd);return s.use(({store:l})=>{l.router=a}),{app:n,store:s,router:a}}var K4=rn({name:"BottomSheetComponent",props:{...Jr,title:String,message:String,actions:Array,grid:Boolean,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(e,{emit:t}){const{proxy:n}=en(),s=ei(e,n.$q),a=Fe(null);function l(){a.value.show()}function d(){a.value.hide()}function h(b){t("ok",b),d()}function g(){t("hide")}function m(){return e.actions.map(b=>{const T=b.avatar||b.img;return b.label===void 0?H(va,{class:"col-all",dark:s.value}):H("div",{class:["q-bottom-sheet__item q-hoverable q-focusable cursor-pointer relative-position",b.class],style:b.style,tabindex:0,role:"listitem",onClick(){h(b)},onKeyup(k){k.keyCode===13&&h(b)}},[H("div",{class:"q-focus-helper"}),b.icon?H(Jt,{name:b.icon,color:b.color}):T?H("img",{class:b.avatar?"q-bottom-sheet__avatar":"",src:T}):H("div",{class:"q-bottom-sheet__empty-icon"}),H("div",b.label)])})}function p(){return e.actions.map(b=>{const T=b.avatar||b.img;return b.label===void 0?H(va,{spaced:!0,dark:s.value}):H(Xr,{class:["q-bottom-sheet__item",b.classes],style:b.style,tabindex:0,clickable:!0,dark:s.value,onClick(){h(b)}},()=>[H(Gn,{avatar:!0},()=>b.icon?H(Jt,{name:b.icon,color:b.color}):T?H("img",{class:b.avatar?"q-bottom-sheet__avatar":"",src:T}):null),H(Gn,()=>b.label)])})}function y(){const b=[];return e.title&&b.push(H(Ft,{class:"q-dialog__title"},()=>e.title)),e.message&&b.push(H(Ft,{class:"q-dialog__message"},()=>e.message)),b.push(e.grid===!0?H("div",{class:"row items-stretch justify-start",role:"list"},m()):H("div",{role:"list"},p())),b}function _(){return[H(In,{class:[`q-bottom-sheet q-bottom-sheet--${e.grid===!0?"grid":"list"}`+(s.value===!0?" q-bottom-sheet--dark q-dark":""),e.cardClass],style:e.cardStyle},y)]}return Object.assign(n,{show:l,hide:d}),()=>H(Tr,{ref:a,position:"bottom",onHide:g},_)}}),Z4={install({$q:e,parentApp:t}){e.bottomSheet=this.create=dv(K4,!1,t)}},Q4={config:{},plugins:{Loading:zt,Notify:rr,Dialog:Qr,BottomSheet:Z4}};const J4="/ffn/";async function eT({app:e,router:t,store:n},s){let a=!1;const l=g=>{try{return t.resolve(g).href}catch{}return Object(g)===g?null:g},d=g=>{if(a=!0,typeof g=="string"&&/^https?:\/\//.test(g)){window.location.href=g;return}const m=l(g);m!==null&&(window.location.href=m,window.location.reload())},h=window.location.href.replace(window.location.origin,"");for(let g=0;a===!1&&g<s.length;g++)try{await s[g]({app:e,router:t,store:n,ssrContext:null,redirect:d,urlPath:h,publicPath:J4})}catch(m){if(m&&m.url){d(m.url);return}console.error("[Quasar] boot error:",m);return}a!==!0&&(e.use(t),e.mount("#q-app"))}X4(Jg,Q4).then(e=>{const[t,n]=Promise.allSettled!==void 0?["allSettled",s=>s.map(a=>{if(a.status==="rejected"){console.error("[Quasar] boot error:",a.reason);return}return a.value.default})]:["all",s=>s.map(a=>a.default)];return Promise[t]([Ui(()=>import("./axios.0a5187bb.js"),[])]).then(s=>{const a=n(s).filter(l=>typeof l=="function");eT(e,a)})});export{Vv as $,ei as A,uT as B,Cf as C,rT as D,ya as E,Wu as F,nT as G,rs as H,_a as I,Ca as J,jm as K,Hm as L,Iu as M,zm as N,Mb as O,Hx as P,Gb as Q,il as R,Sy as S,YS as T,jb as U,So as V,xa as W,Tf as X,p_ as Y,dc as Z,ba as _,Dm as a,Xn as a0,Lw as a1,Ie as a2,yt as a3,le as a4,z as a5,ae as a6,P as a7,st as a8,Je as a9,Qt as aa,tt as ab,qf as ac,si as ad,Xr as ae,Gn as af,va as ag,Jt as ah,Yn as ai,Xt as aj,Mt as ak,nc as al,qs as am,tT as b,rn as c,G as d,Kn as e,Ir as f,En as g,H as h,is as i,en as j,Pr as k,Er as l,es as m,yo as n,gr as o,sm as p,jx as q,Fe as r,bi as s,$b as t,Om as u,qb as v,St as w,Km as x,Zm as y,Jr as z};
